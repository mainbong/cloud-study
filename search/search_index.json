{"config":{"lang":["ko"],"separator":"[\\s\\-,:!=\\[\\]()\"/]+|(?!\\b)(?=[A-Z][a-z])|\\.(?!\\d)|&[lg]t;","pipeline":[" "],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"\ucd94\uac00 \ubb38\uc11c","text":"<p>\uc2a4\ud130\ub514 \uc911 \uc791\uc131\ud55c \ucd94\uac00 \ubb38\uc11c\ub4e4\uc744 \uc800\uc7a5\ud569\ub2c8\ub2e4.</p>"},{"location":"#_2","title":"\ubb38\uc11c \ubaa9\ub85d","text":""},{"location":"#_3","title":"\uc9c1\uad70\ubcc4 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>\ubaa8\uc9d1\uacf5\uace0\uc5d0 \uba85\uc2dc\ub41c \uac01 \ud3ec\uc9c0\uc158\ubcc4 \uc694\uad6c \uc5ed\ub7c9\uc744 \uae30\ubc18\uc73c\ub85c \ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p> <ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc - \ubaa8\ub4e0 \ud3ec\uc9c0\uc158\uc5d0\uc11c \uacf5\ud1b5\uc801\uc73c\ub85c \uc694\uad6c\ub418\ub294 \uc5ed\ub7c9</li> <li>Infrastructure Platform \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> <li>\ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> <li>\ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> <li>IAM/Storage \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> </ul>"},{"location":"#_4","title":"\uc0ac\uc6a9 \ubc29\ubc95","text":"<ol> <li>\uba3c\uc800 \uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\ub97c \ud1b5\ud574 \uacf5\ud1b5 \uc5ed\ub7c9\uc744 \ud559\uc2b5\ud558\uc138\uc694.</li> <li>\uad00\uc2ec \uc788\ub294 \ud3ec\uc9c0\uc158\uc758 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\ub97c \uc120\ud0dd\ud558\uc5ec \ud559\uc2b5\uc744 \uc9c4\ud589\ud558\uc138\uc694.</li> <li>\uac01 \uac00\uc774\ub4dc\uc758 \uccb4\ud06c\ub9ac\uc2a4\ud2b8\ub97c \ud65c\uc6a9\ud558\uc5ec \ud559\uc2b5 \uc9c4\ub3c4\ub97c \uad00\ub9ac\ud558\uc138\uc694.</li> </ol>"},{"location":"IMPLEMENTATION_PLAN/","title":"\ud074\ub77c\uc6b0\ub4dc \uad50\uc721 \uc790\ub8cc \uc7ac\uad6c\uc131 \ubc0f \uc791\uc131 \uacc4\ud68d","text":""},{"location":"IMPLEMENTATION_PLAN/#_2","title":"\ud83d\udccb \ud504\ub85c\uc81d\ud2b8 \uac1c\uc694","text":"<p>\uae30\uc874 \uc2a4\ud130\ub514 \ud50c\ub79c \ubb38\uc11c\ub4e4\uc744 \ud3ec\uc9c0\uc158\ubcc4 \ud3f4\ub354\ub85c \uc7ac\uad6c\uc131\ud558\uace0, \uac01 \uc8fc\uc81c\uc5d0 \ub300\ud55c \uc0c1\uc138\ud55c \ud559\uc2b5 \uc790\ub8cc\ub97c \uc791\uc131\ud558\ub294 \ud504\ub85c\uc81d\ud2b8\uc785\ub2c8\ub2e4.</p> <p>\ubaa9\ud45c: 41\uac1c\uc758 \uc0c1\uc138 \ud559\uc2b5 \uc790\ub8cc \uc791\uc131 \ubc29\ubc95: \uc6f9 \uac80\uc0c9\uc744 \ud1b5\ud55c \uc790\ub8cc \uc870\uc0ac, \uc815\ub9ac, \uc791\uc131</p>"},{"location":"IMPLEMENTATION_PLAN/#_3","title":"\ud83d\udcca \uc804\uccb4 \uc9c4\ud589 \uc0c1\ud669","text":"<ul> <li> 1\ub2e8\uacc4: \uc2e4\ud589 \uacc4\ud68d \ubb38\uc11c \uc791\uc131</li> <li> 2\ub2e8\uacc4: \ud3f4\ub354 \uad6c\uc870 \uc0dd\uc131 (4\uac1c)</li> <li> 3\ub2e8\uacc4: \uae30\uc874 \uc2a4\ud130\ub514 \ud50c\ub79c \uc774\ub3d9</li> <li> 4\ub2e8\uacc4: \uc0c1\uc138 \ud559\uc2b5 \uc790\ub8cc \uc791\uc131 (41\uac1c)</li> <li> Common Skills (5\uac1c)</li> <li> Computing Service (7\uac1c)</li> <li> Infrastructure Platform (6\uac1c)</li> <li> Networking Service (7\uac1c)</li> <li> IAM/Storage Service (12\uac1c)</li> <li> 5\ub2e8\uacc4: \ucd5c\uc0c1\uc704 README.md \uc5c5\ub370\uc774\ud2b8</li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#_4","title":"\ud83d\udcc1 \ud3f4\ub354 \uad6c\uc870","text":"<pre><code>docs/\n\u251c\u2500\u2500 README.md (\uc5c5\ub370\uc774\ud2b8 \ud544\uc694)\n\u251c\u2500\u2500 IMPLEMENTATION_PLAN.md (\uc774 \ud30c\uc77c)\n\u251c\u2500\u2500 common-skills/\n\u2502   \u251c\u2500\u2500 README.md (common-skills.md \uc774\ub3d9)\n\u2502   \u2514\u2500\u2500 [5\uac1c Chapter \ud30c\uc77c]\n\u251c\u2500\u2500 computing-service/\n\u2502   \u251c\u2500\u2500 README.md (computing-service-study.md \uc774\ub3d9)\n\u2502   \u2514\u2500\u2500 [7\uac1c Chapter \ud30c\uc77c]\n\u251c\u2500\u2500 infrastructure-platform/\n\u2502   \u251c\u2500\u2500 README.md (infrastructure-platform-study.md \uc774\ub3d9)\n\u2502   \u2514\u2500\u2500 [6\uac1c Chapter \ud30c\uc77c]\n\u251c\u2500\u2500 networking-service/\n\u2502   \u251c\u2500\u2500 README.md (networking-service-study.md \uc774\ub3d9)\n\u2502   \u2514\u2500\u2500 [7\uac1c Chapter \ud30c\uc77c]\n\u2514\u2500\u2500 iam-storage-service/\n    \u251c\u2500\u2500 README.md (\uc0c8\ub85c \uc791\uc131)\n    \u2514\u2500\u2500 [12\uac1c Chapter \ud30c\uc77c]\n</code></pre>"},{"location":"IMPLEMENTATION_PLAN/#_5","title":"\u2705 \uc138\ubd80 \uc791\uc5c5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"IMPLEMENTATION_PLAN/#1","title":"1\ub2e8\uacc4: \uae30\ubc18 \uc791\uc5c5","text":"<ul> <li> IMPLEMENTATION_PLAN.md \uc791\uc131</li> <li> \ud3f4\ub354 \uc0dd\uc131: <code>common-skills/</code></li> <li> \ud3f4\ub354 \uc0dd\uc131: <code>computing-service/</code></li> <li> \ud3f4\ub354 \uc0dd\uc131: <code>infrastructure-platform/</code></li> <li> \ud3f4\ub354 \uc0dd\uc131: <code>networking-service/</code></li> <li> \ud3f4\ub354 \uc0dd\uc131: <code>iam-storage-service/</code></li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#2","title":"2\ub2e8\uacc4: \uc2a4\ud130\ub514 \ud50c\ub79c \uc774\ub3d9","text":"<ul> <li> <code>common-skills.md</code> \u2192 <code>common-skills/README.md</code></li> <li> <code>computing-service-study.md</code> \u2192 <code>computing-service/README.md</code></li> <li> <code>infrastructure-platform-study.md</code> \u2192 <code>infrastructure-platform/README.md</code></li> <li> <code>networking-service-study.md</code> \u2192 <code>networking-service/README.md</code></li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#_6","title":"\ud83d\udcda \ud559\uc2b5 \uc790\ub8cc \uc791\uc131 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"IMPLEMENTATION_PLAN/#common-skills-5","title":"Common Skills (\uacf5\ud1b5 \uc5ed\ub7c9) - 5\uac1c \ud30c\uc77c","text":"<ul> <li> Ch1.Linux_\uc6b4\uc601.md</li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac, Shell \uc2a4\ud06c\ub9bd\ud305, \uc131\ub2a5 \ubd84\uc11d</p> </li> <li> <p> Ch2.Python_GO.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Python (FastAPI/Flask, asyncio), GO (Goroutines, gRPC)</p> </li> <li> <p> Ch3.Cloud_Native.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Docker \uae30\ucd08, Kubernetes \uae30\ucd08, 12-Factor App</p> </li> <li> <p> Ch4.DevOps.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Git, CI/CD, GitOps, \ubaa8\ub2c8\ud130\ub9c1</p> </li> <li> <p> Ch5.\uc2dc\uc2a4\ud15c_\uc124\uacc4.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li>\uc8fc\uc81c: Scalability, \ubd84\uc0b0 \uc2dc\uc2a4\ud15c, \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4</li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#computing-service-7","title":"Computing Service (\ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4) - 7\uac1c \ud30c\uc77c","text":"<ul> <li> Ch1.OpenStack.md</li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Nova, Cinder, Glance, Ironic</p> </li> <li> <p> Ch2.\uac00\uc0c1\ud654_\uae30\uc220.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: KVM/QEMU, Linux Kernel \uac00\uc0c1\ud654, \uc131\ub2a5 \ucd5c\uc801\ud654</p> </li> <li> <p> Ch3.\uc2a4\ucf00\uc904\ub9c1.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998, \ub9ac\uc18c\uc2a4 \ud560\ub2f9, Overcommit</p> </li> <li> <p> Ch4.Cloud_Native_\ucef4\ud4e8\ud305.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Kubernetes Operator \ud328\ud134, CRD, Controller</p> </li> <li> <p> Ch5.\ud074\ub77c\uc6b0\ub4dc_\uc778\ud504\ub77c_\uc124\uacc4.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Multi-level \uc544\ud0a4\ud14d\ucc98, HA, Scalability</p> </li> <li> <p> Ch6.Kubernetes_Operator.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Controller \ud328\ud134, Operator SDK, CRD \uac1c\ubc1c</p> </li> <li> <p> Ch7.Cloud_Network_CNI.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li>\uc8fc\uc81c: Kubernetes \ub124\ud2b8\uc6cc\ud0b9, CNI \ud50c\ub7ec\uadf8\uc778, Service Mesh</li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#infrastructure-platform-6","title":"Infrastructure Platform (\uc778\ud504\ub77c \ud50c\ub7ab\ud3fc) - 6\uac1c \ud30c\uc77c","text":"<ul> <li> Ch1.Kubernetes_\uc2ec\ud654.md</li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Kubernetes \uc544\ud0a4\ud14d\ucc98, Controller \uac1c\ubc1c, CRD, Operator</p> </li> <li> <p> Ch2.ClusterAPI_Ironic.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: ClusterAPI \uc544\ud0a4\ud14d\ucc98, Kubernetes \ud504\ub85c\ube44\uc800\ub2dd, Ironic</p> </li> <li> <p> Ch3.IaC.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Terraform, Ansible, Packer</p> </li> <li> <p> Ch4.Cloud_Native_\ud50c\ub7ab\ud3fc_\ub3c4\uad6c.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Helm, ArgoCD, Prow, Keycloak, Harbor, GitLab</p> </li> <li> <p> Ch5.\ubaa8\ub2c8\ud130\ub9c1.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Prometheus, Grafana, ELK/Loki, OpenTelemetry</p> </li> <li> <p> Ch6.Linux_OS_\uc774\ubbf8\uc9c0.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li>\uc8fc\uc81c: OS \uc774\ubbf8\uc9c0 \uad6c\uc870, Packer \ube4c\ub4dc, \ub514\ubc84\uae45</li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#networking-service-7","title":"Networking Service (\ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4) - 7\uac1c \ud30c\uc77c","text":"<ul> <li> Ch1.\ub124\ud2b8\uc6cc\ud06c_\ud504\ub85c\ud1a0\ucf5c.md</li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: TCP/IP, Routing (BGP, OSPF), VLAN/VXLAN, SDN</p> </li> <li> <p> Ch2.API_\uc124\uacc4.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: RESTful API, gRPC, API \uc131\ub2a5 \ucd5c\uc801\ud654</p> </li> <li> <p> Ch3.OpenStack_\ub124\ud2b8\uc6cc\ud0b9.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Neutron, ML2 \ud50c\ub7ec\uadf8\uc778, \ucee4\uc2a4\ud140 \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</p> </li> <li> <p> Ch4.\ub124\ud2b8\uc6cc\ud06c_\uac00\uc0c1\ud654.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: NFV, SDN Controllers, Network Overlays</p> </li> <li> <p> Ch5.\ub124\ud2b8\uc6cc\ud06c_\uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Firewall, Load Balancer, Switch \uc5f0\ub3d9</p> </li> <li> <p> Ch6.Event_Driven.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Event Sourcing, CQRS, Message Brokers</p> </li> <li> <p> Ch7.Cloud_Native_\ub124\ud2b8\uc6cc\ud0b9.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li>\uc8fc\uc81c: Kubernetes \ub124\ud2b8\uc6cc\ud0b9, CNI, Network Policy, Service Mesh</li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#iamstorage-service-iam-12","title":"IAM/Storage Service (IAM/\uc2a4\ud1a0\ub9ac\uc9c0 \uc11c\ube44\uc2a4) - 12\uac1c \ud30c\uc77c","text":"<ul> <li> Ch1.OpenStack_Keystone.md</li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Keystone \uc544\ud0a4\ud14d\ucc98, Identity \ubc31\uc5d4\ub4dc, Token \uad00\ub9ac, Federation</p> </li> <li> <p> Ch2.OAuth_OIDC_JWT.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: OAuth 2.0, OIDC, JWT, Go \uad6c\ud604</p> </li> <li> <p> Ch3.RBAC_ABAC.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: RBAC, ABAC, Casbin, \uc815\ucc45 \uc5d4\uc9c4</p> </li> <li> <p> Ch4.Policy_Engine_OPA.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Open Policy Agent, Rego, Policy-as-Code</p> </li> <li> <p> Ch5.Secrets_Management_Vault.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: HashiCorp Vault, \ub3d9\uc801 \uc2dc\ud06c\ub9bf, \uc554\ud638\ud654 \uc11c\ube44\uc2a4</p> </li> <li> <p> Ch6.Service_Mesh_Security.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: mTLS, SPIFFE/SPIRE, Zero Trust, Envoy</p> </li> <li> <p> Ch7.OpenStack_Swift.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Swift \uc544\ud0a4\ud14d\ucc98, Ring, Replication, \uc131\ub2a5 \ud29c\ub2dd</p> </li> <li> <p> Ch8.Object_Storage_S3.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: S3 API, MinIO, Bucket \uc815\ucc45, Go SDK</p> </li> <li> <p> Ch9.Ceph_\uc544\ud0a4\ud14d\ucc98.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Ceph \ucef4\ud3ec\ub10c\ud2b8, RADOS, CRUSH, RBD/CephFS/RGW</p> </li> <li> <p> Ch10.Ceph_\uc6b4\uc601_\uc131\ub2a5.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec, \ubaa8\ub2c8\ud130\ub9c1, \uc131\ub2a5 \ucd5c\uc801\ud654, \ud2b8\ub7ec\ube14\uc288\ud305</p> </li> <li> <p> Ch11.Block_Storage_Cinder.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li> <p>\uc8fc\uc81c: Cinder \uc544\ud0a4\ud14d\ucc98, Volume Driver, QoS, Multi-backend</p> </li> <li> <p> Ch12.Storage_Lifecycle.md</p> </li> <li>\ud559\uc2b5 \ubaa9\ud45c, \ud575\uc2ec \uac1c\ub150, \uc2e4\uc2b5 \uac00\uc774\ub4dc, \uc608\uc81c \ucf54\ub4dc, \ucc38\uace0 \uc790\ub8cc</li> <li>\uc8fc\uc81c: Storage Tiering, Lifecycle \uc815\ucc45, \uc555\ucd95, \ube44\uc6a9 \ucd5c\uc801\ud654</li> </ul>"},{"location":"IMPLEMENTATION_PLAN/#_7","title":"\ud83d\udcdd \uac01 \ud559\uc2b5 \uc790\ub8cc\uc758 \uc791\uc131 \uad6c\uc870","text":"<p>\uac01 Chapter \ud30c\uc77c\uc740 \ub2e4\uc74c \uad6c\uc870\ub85c \uc791\uc131\ub429\ub2c8\ub2e4:</p> <ol> <li>\uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c</li> <li>\ud574\ub2f9 \uc8fc\uc81c\uc758 \uc911\uc694\uc131</li> <li> <p>\ud559\uc2b5 \ud6c4 \uc5bb\uc744 \uc218 \uc788\ub294 \uc5ed\ub7c9</p> </li> <li> <p>\ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860</p> </li> <li>\uc6f9 \uac80\uc0c9\uc744 \ud1b5\ud574 \uc218\uc9d1\ud55c \ucd5c\uc2e0 \uc815\ubcf4</li> <li>\ud575\uc2ec \uac1c\ub150 \uc124\uba85</li> <li> <p>\uc544\ud0a4\ud14d\ucc98 \ubc0f \ub3d9\uc791 \uc6d0\ub9ac</p> </li> <li> <p>\uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)</p> </li> <li>\ub2e8\uacc4\ubcc4 \uc2e4\uc2b5 \uac00\uc774\ub4dc</li> <li>\ud658\uacbd \uc124\uc815 \ubc29\ubc95</li> <li> <p>\uc2e4\uc81c \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624</p> </li> <li> <p>\uc608\uc81c \ucf54\ub4dc</p> </li> <li>\uc2e4\ubb34\uc5d0\uc11c \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ucf54\ub4dc \uc608\uc81c</li> <li> <p>\uc8fc\uc11d\uc774 \ud3ec\ud568\ub41c \uc124\uba85</p> </li> <li> <p>\ucc38\uace0 \uc790\ub8cc</p> </li> <li>\uacf5\uc2dd \ubb38\uc11c \ub9c1\ud06c</li> <li>\ucd94\ucc9c \ud29c\ud1a0\ub9ac\uc5bc</li> <li>\uad00\ub828 \ube14\ub85c\uadf8/\uc544\ud2f0\ud074</li> </ol>"},{"location":"IMPLEMENTATION_PLAN/#_8","title":"\ud83c\udfaf \uc791\uc5c5 \uc9c4\ud589 \ubc29\ubc95","text":"<ol> <li>\uac01 Chapter \ud30c\uc77c\uc744 \uc791\uc131\ud560 \ub54c\ub9c8\ub2e4 \ud574\ub2f9 \uccb4\ud06c\ubc15\uc2a4\ub97c [x]\ub85c \uccb4\ud06c</li> <li>\uc6f9 \uac80\uc0c9\uc744 \ud1b5\ud574 \ucd5c\uc2e0 \uc815\ubcf4 \uc218\uc9d1</li> <li>\uc2e4\ubb34 \uc911\uc2ec\uc758 \ub0b4\uc6a9\uc73c\ub85c \uc791\uc131</li> <li>\uc608\uc81c \ucf54\ub4dc\ub294 \uc2e4\uc81c \ub3d9\uc791 \uac00\ub2a5\ud55c \ucf54\ub4dc\ub85c \uc791\uc131</li> <li>\uc9c4\ud589 \uc0c1\ud669\uc744 \uc774 \ud30c\uc77c\uc5d0\uc11c \uc2e4\uc2dc\uac04\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8</li> </ol>"},{"location":"IMPLEMENTATION_PLAN/#_9","title":"\ud83d\udcc5 \uc791\uc5c5 \uc774\ub825","text":"<ul> <li>2025-11-24: \ud504\ub85c\uc81d\ud2b8 \uc2dc\uc791, IMPLEMENTATION_PLAN.md \uc791\uc131</li> </ul>"},{"location":"common-skills/","title":"\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>\ubaa8\ub4e0 \ud3ec\uc9c0\uc158\uc5d0\uc11c \uacf5\ud1b5\uc801\uc73c\ub85c \uc694\uad6c\ub418\ub294 \uc5ed\ub7c9\ub4e4\uc744 \ud559\uc2b5\ud558\ub294 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"common-skills/#_2","title":"\uae30\ubcf8 \uc694\uad6c\uc0ac\ud56d","text":"<ul> <li>\ucef4\ud4e8\ud130 \uad00\ub828 \uc804\uacf5 + 1\ub144 \uc774\uc0c1\uc758 \uacbd\ub825 \ub610\ub294 \uad00\ub828 \ubd84\uc57c 3\ub144 \uc774\uc0c1\uc758 \uacbd\ub825</li> </ul>"},{"location":"common-skills/#_3","title":"\uacf5\ud1b5 \uc5ed\ub7c9 \ubaa9\ub85d","text":""},{"location":"common-skills/#1-linux","title":"1. Linux \uae30\ubc18 \ud658\uacbd \uc6b4\uc601","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub300\uaddc\ubaa8 Linux \ud658\uacbd\uc5d0\uc11c\uc758 \uc11c\ube44\uc2a4 \uc6b4\uc601 \ub2a5\ub825</li> <li>Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \uae30\ucd08</li> <li>\ud30c\uc77c\uc2dc\uc2a4\ud15c \uad00\ub9ac</li> <li>\ud504\ub85c\uc138\uc2a4 \uad00\ub9ac</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc124\uc815</li> <li>\uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1</li> <li> Shell Scripting</li> <li>Bash \uc2a4\ud06c\ub9bd\ud2b8 \uc791\uc131</li> <li>\uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8 \uac1c\ubc1c</li> <li> \uc2dc\uc2a4\ud15c \uc131\ub2a5 \ubd84\uc11d</li> <li>CPU, Memory, I/O \ubaa8\ub2c8\ud130\ub9c1</li> <li>\ub85c\uadf8 \ubd84\uc11d \ubc0f \ub514\ubc84\uae45</li> </ul> <p>\uc2e4\uc2b5 \uc790\ub8cc:</p> <ul> <li><code>phase-1/linux-vm/</code> \ub514\ub809\ud1a0\ub9ac \ucc38\uace0</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Linux System Administration Guide</li> <li>Advanced Bash Scripting Guide</li> </ul>"},{"location":"common-skills/#2-pythongo","title":"2. \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 (Python/GO)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Python \ub610\ub294 GO \uc5b8\uc5b4\ub97c \ud65c\uc6a9\ud55c API \ubc31\uc5d4\ub4dc \uc124\uacc4 \ubc0f \uac1c\ubc1c \uc5ed\ub7c9</li> </ul>"},{"location":"common-skills/#python","title":"Python","text":"<p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Python \uae30\ucd08 \ubb38\ubc95</li> <li> \uac1d\uccb4\uc9c0\ud5a5 \ud504\ub85c\uadf8\ub798\ubc0d</li> <li> \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d (asyncio)</li> <li> API \ud504\ub808\uc784\uc6cc\ud06c</li> <li>FastAPI \ub610\ub294 Flask</li> <li>RESTful API \uc124\uacc4</li> <li> \ud14c\uc2a4\ud2b8 \uc791\uc131</li> <li>pytest</li> <li>\ub2e8\uc704 \ud14c\uc2a4\ud2b8, \ud1b5\ud569 \ud14c\uc2a4\ud2b8</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c REST API \uc11c\ubc84 \uad6c\ud604</li> <li>Kubernetes API \ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Python \uacf5\uc2dd \ubb38\uc11c</li> <li>FastAPI \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"common-skills/#go","title":"GO","text":"<p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Go \uae30\ucd08 \ubb38\ubc95</li> <li> Goroutine \ubc0f Channel</li> <li> gRPC \uc11c\ubc84/\ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> <li> RESTful API \uac1c\ubc1c</li> <li>Gin, Echo \ub4f1 \ud504\ub808\uc784\uc6cc\ud06c</li> <li> \ud14c\uc2a4\ud2b8 \uc791\uc131</li> <li>Go testing \ud328\ud0a4\uc9c0</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>gRPC \uc11c\ube44\uc2a4 \uad6c\ud604</li> <li>Kubernetes Controller \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Go \uacf5\uc2dd \ubb38\uc11c</li> <li>Effective Go</li> </ul>"},{"location":"common-skills/#3-cloud-native","title":"3. Cloud-native \ud658\uacbd","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Cloud-native \ud658\uacbd\uc5d0\uc11c\uc758 \uac1c\ubc1c \ubc0f \uc6b4\uc601 \ub2a5\ub825</li> <li>\ucee8\ud14c\uc774\ub108 \uae30\ubc18 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ucee8\ud14c\uc774\ub108 \uae30\ucd08</li> <li>Docker \uae30\ucd08</li> <li>\ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ubc0f \uad00\ub9ac</li> <li>\uba40\ud2f0 \uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc</li> <li> Kubernetes \uae30\ucd08</li> <li>Kubernetes \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>Pod, Service, Deployment \ub4f1 \uae30\ubcf8 \ub9ac\uc18c\uc2a4</li> <li>ConfigMap, Secret \uad00\ub9ac</li> <li> Cloud-native \uac1c\ubc1c \ud328\ud134</li> <li>12-Factor App</li> <li>Stateless \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc124\uacc4</li> <li>Health Check \ubc0f Liveness/Readiness Probe</li> </ul> <p>\uc2e4\uc2b5 \uc790\ub8cc:</p> <ul> <li><code>phase-2/containers/</code> \ub514\ub809\ud1a0\ub9ac \ucc38\uace0</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes \uacf5\uc2dd \ubb38\uc11c</li> <li>CNCF Cloud Native Landscape</li> </ul>"},{"location":"common-skills/#4-devops","title":"4. DevOps \ub3c4\uad6c \ubc0f \uc2e4\ubb34","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>DevOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \ubc0f \uc6b4\uc601 \ub2a5\ub825</li> <li>CI/CD \ub3c4\uad6c \ud65c\uc6a9</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ubc84\uc804 \uad00\ub9ac</li> <li>Git \uae30\ucd08 \ubc0f \uace0\uae09 \uc0ac\uc6a9\ubc95</li> <li>Git Workflow (Git Flow, GitHub Flow)</li> <li> CI/CD \ud30c\uc774\ud504\ub77c\uc778</li> <li>Jenkins \ub610\ub294 GitLab CI</li> <li>GitHub Actions</li> <li> GitOps</li> <li>ArgoCD \ub610\ub294 Flux</li> <li>\uc120\uc5b8\uc801 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec</li> <li> \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub85c\uae45</li> <li>Prometheus, Grafana</li> <li>ELK Stack \ub610\ub294 Loki</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li>GitOps\ub97c \ud1b5\ud55c \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>GitOps \uacf5\uc2dd \ubb38\uc11c</li> <li>ArgoCD \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"common-skills/#5","title":"5. \uc2dc\uc2a4\ud15c \uc124\uacc4 \ubc0f \uc544\ud0a4\ud14d\ucc98","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc548\uc815\uc801\uc778 \uc2dc\uc2a4\ud15c \uc124\uacc4 \ub2a5\ub825</li> <li>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc2dc\uc2a4\ud15c \uc124\uacc4 \uae30\ucd08</li> <li>\ud655\uc7a5\uc131 (Scalability)</li> <li>\uac00\uc6a9\uc131 (Availability)</li> <li>\uc77c\uad00\uc131 (Consistency)</li> <li> \ubd84\uc0b0 \uc2dc\uc2a4\ud15c</li> <li>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc758 \ub3c4\uc804 \uacfc\uc81c</li> <li>CAP \uc815\ub9ac</li> <li>\ubd84\uc0b0 \ud2b8\ub79c\uc7ad\uc158</li> <li> \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc11c\ube44\uc2a4 \ubd84\ud574 \uc804\ub7b5</li> <li>\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0</li> <li>\uc11c\ube44\uc2a4 \uba54\uc2dc (Service Mesh)</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Designing Data-Intensive Applications</li> <li>Microservices Patterns</li> </ul>"},{"location":"common-skills/#_4","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"common-skills/#1-3","title":"\ucd08\uae09 (1-3\uac1c\uc6d4)","text":"<ol> <li>Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \uae30\ucd08</li> <li>Python \ub610\ub294 GO \uc5b8\uc5b4 \uae30\ucd08</li> <li>Docker \ubc0f Kubernetes \uae30\ucd08</li> <li>Git \ubc0f \uae30\ubcf8 DevOps \ub3c4\uad6c</li> </ol>"},{"location":"common-skills/#4-6","title":"\uc911\uae09 (4-6\uac1c\uc6d4)","text":"<ol> <li>\uace0\uae09 Linux \uc6b4\uc601</li> <li>API \uc124\uacc4 \ubc0f \uac1c\ubc1c</li> <li>Kubernetes \uc2ec\ud654</li> <li>CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> </ol>"},{"location":"common-skills/#7","title":"\uace0\uae09 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\uc2dc\uc2a4\ud15c \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> <li>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uc6b4\uc601</li> <li>\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> </ol>"},{"location":"common-skills/#_5","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\uac01 \uc5ed\ub7c9\ubcc4\ub85c \ud559\uc2b5 \uc644\ub8cc \uc5ec\ubd80\ub97c \uccb4\ud06c\ud558\uc138\uc694:</p> <ul> <li> Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \ub2a5\uc219</li> <li> Python \ub610\ub294 GO\ub85c API \uac1c\ubc1c \uac00\ub2a5</li> <li> Docker \ubc0f Kubernetes \uae30\ubcf8 \uc0ac\uc6a9 \uac00\ub2a5</li> <li> CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \uacbd\ud5d8</li> <li> \uc2dc\uc2a4\ud15c \uc124\uacc4 \uae30\ucd08 \uc774\ud574</li> <li> \ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uae30\ubcf8 \uac1c\ub150 \uc774\ud574</li> </ul>"},{"location":"common-skills/#_6","title":"\ub2e4\uc74c \ub2e8\uacc4","text":"<p>\uacf5\ud1b5 \uc5ed\ub7c9\uc744 \ud559\uc2b5\ud55c \ud6c4, \uad00\uc2ec \uc788\ub294 \ud3ec\uc9c0\uc158\ubcc4 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\ub97c \ucc38\uace0\ud558\uc138\uc694:</p> <ul> <li>Infrastructure Platform \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> <li>\ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> <li>\ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> </ul>"},{"location":"computing-service-study/","title":"\ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>KakaoCloud \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \ud3ec\uc9c0\uc158\uc744 \uc704\ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"computing-service-study/#_2","title":"\ud3ec\uc9c0\uc158 \uac1c\uc694","text":"<p>KakaoCloud\uc758 \ud575\uc2ec\uc778 IaaS \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4(Beyond Computing Service)\ub97c \uac1c\ubc1c\ud569\ub2c8\ub2e4.</p> <ul> <li>OpenStack + Cloud-Native \uae30\uc220\ub85c \ub300\uaddc\ubaa8 IaaS \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Virtual Machine, Bare Metal, Volume, Image \ub4f1 \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \ud575\uc2ec \uae30\ub2a5 \uac1c\ubc1c</li> <li>\uac00\uc0c1\ud654 \ubc0f \uc2a4\ucf00\uc904\ub9c1 \ucd5c\uc801\ud654</li> <li>Region/Availability Zone/Cell/Rack \ub2e8\uc704\uc758 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4</li> </ul>"},{"location":"computing-service-study/#_3","title":"\ud544\uc218 \uc5ed\ub7c9","text":""},{"location":"computing-service-study/#1-openstack","title":"1. OpenStack \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OpenStack\uc744 \uc774\uc6a9\ud55c \ud074\ub77c\uc6b0\ub4dc \uc11c\ube44\uc2a4 \uac1c\ubc1c/\uc6b4\uc601</li> <li>\ud37c\ube14\ub9ad/\ud504\ub77c\uc774\ube57 \ud074\ub77c\uc6b0\ub4dc \uc11c\ube44\uc2a4 \uac1c\ubc1c/\uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OpenStack \uae30\ucd08</li> <li>OpenStack \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>\uc8fc\uc694 \uc11c\ube44\uc2a4 \ucef4\ud3ec\ub10c\ud2b8</li> <li>OpenStack API \uc0ac\uc6a9\ubc95</li> <li> Nova (Compute Service)</li> <li>Nova \uc544\ud0a4\ud14d\ucc98</li> <li>\uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li>\ud558\uc774\ud37c\ubc14\uc774\uc800 \ud1b5\ud569 (KVM, QEMU \ub4f1)</li> <li>\uc2a4\ucf00\uc904\ub7ec (Filter Scheduler, Chance Scheduler \ub4f1)</li> <li>Nova API \ud655\uc7a5</li> <li> Cinder (Block Storage Service)</li> <li>\ubcfc\ub968 \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li>\uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc (LVM, Ceph \ub4f1)</li> <li>\ubcfc\ub968 \uc2a4\ub0c5\uc0f7 \ubc0f \ubc31\uc5c5</li> <li> Glance (Image Service)</li> <li>\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \ubc0f \uad00\ub9ac</li> <li>\uc774\ubbf8\uc9c0 \ud3ec\ub9f7 (QCOW2, RAW \ub4f1)</li> <li>\uc774\ubbf8\uc9c0 \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac</li> <li> Ironic (Bare Metal Provisioning)</li> <li>Bare Metal \uc11c\ubc84 \ud504\ub85c\ube44\uc800\ub2dd</li> <li>PXE Boot \uad6c\uc131</li> <li>\ud558\ub4dc\uc6e8\uc5b4 \uc778\ubca4\ud1a0\ub9ac \uad00\ub9ac</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>OpenStack \ud658\uacbd \uad6c\ucd95</li> <li>Nova API\ub97c \ud65c\uc6a9\ud55c \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac \ub3c4\uad6c \uac1c\ubc1c</li> <li>\ucee4\uc2a4\ud140 \uc2a4\ucf00\uc904\ub7ec \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack \uacf5\uc2dd \ubb38\uc11c</li> <li>Nova \uac1c\ubc1c\uc790 \uac00\uc774\ub4dc</li> <li>OpenStack Ironic \ubb38\uc11c</li> </ul>"},{"location":"computing-service-study/#2-linux-kernel-hypervisor","title":"2. \uac00\uc0c1\ud654 \uae30\uc220 (Linux Kernel / Hypervisor)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Linux Kernel \ubc0f Hypervisor \uae30\uc220\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574</li> <li>\uac00\uc0c1\ud654 \uad00\ub828 \uc774\uc288 \ubc1c\uad74 \ubc0f \ud574\uacb0</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uac00\uc0c1\ud654 \uae30\ucd08</li> <li>\uac00\uc0c1\ud654 \uc720\ud615 (Full Virtualization, Para-virtualization)</li> <li>\ud558\uc774\ud37c\ubc14\uc774\uc800 \uc720\ud615 (Type 1, Type 2)</li> <li> KVM/QEMU</li> <li>KVM \uc544\ud0a4\ud14d\ucc98</li> <li>QEMU \uc5d0\ubbac\ub808\uc774\ud130</li> <li>libvirt\ub97c \ud1b5\ud55c \uac00\uc0c1\uba38\uc2e0 \uad00\ub9ac</li> <li>CPU, Memory, I/O \uac00\uc0c1\ud654</li> <li> Linux Kernel \uac00\uc0c1\ud654</li> <li>Kernel \ubaa8\ub4c8 \uc774\ud574</li> <li>Namespace \ubc0f Cgroups</li> <li>\uac00\uc0c1\ud654 \uad00\ub828 Kernel \uae30\ub2a5</li> <li> \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>CPU \ud540\ub2dd</li> <li>NUMA \ucd5c\uc801\ud654</li> <li>I/O \uc131\ub2a5 \ud29c\ub2dd</li> <li>\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>KVM \uae30\ubc18 \uac00\uc0c1\uba38\uc2e0 \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li>\uac00\uc0c1\uba38\uc2e0 \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ucd5c\uc801\ud654</li> <li>\ucee4\uc2a4\ud140 \uac00\uc0c1\ud654 \ub3c4\uad6c \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>KVM \uacf5\uc2dd \ubb38\uc11c</li> <li>QEMU \uacf5\uc2dd \ubb38\uc11c</li> <li>Linux Kernel \ubb38\uc11c</li> </ul>"},{"location":"computing-service-study/#3","title":"3. \uc2a4\ucf00\uc904\ub9c1 \ubc0f \ub9ac\uc18c\uc2a4 \uad00\ub9ac","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ud6a8\uc728\uc801\uc778 \ub9ac\uc18c\uc2a4 \uc81c\uacf5\uc744 \uc704\ud55c \uc2a4\ucf00\uc904\ub9c1 \ucd5c\uc801\ud654</li> <li>\uac00\uc0c1\ud654 \uad00\ub828 \uc774\uc288 \ubc1c\uad74 \ubc0f \uc5f0\uad6c/\uac1c\ubc1c</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998</li> <li>CPU \uc2a4\ucf00\uc904\ub9c1 (CFS, Real-time)</li> <li>I/O \uc2a4\ucf00\uc904\ub9c1</li> <li>\uac00\uc0c1\uba38\uc2e0 \uc2a4\ucf00\uc904\ub9c1 \uc804\ub7b5</li> <li> \ub9ac\uc18c\uc2a4 \ud560\ub2f9</li> <li>CPU \ud560\ub2f9 \ubc0f \uc81c\ud55c</li> <li>\uba54\ubaa8\ub9ac \ud560\ub2f9 \ubc0f \uc81c\ud55c</li> <li>\uc2a4\ud1a0\ub9ac\uc9c0 \ud560\ub2f9</li> <li>\ub124\ud2b8\uc6cc\ud06c \ub300\uc5ed\ud3ed \uad00\ub9ac</li> <li> \uc624\ubc84\ucee4\ubc0b \uad00\ub9ac</li> <li>CPU \uc624\ubc84\ucee4\ubc0b</li> <li>\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b</li> <li>\ub9ac\uc18c\uc2a4 \ud68c\uc218 (Reclamation)</li> <li> \uc2a4\ucf00\uc904\ub7ec \uac1c\ubc1c</li> <li>OpenStack Nova \uc2a4\ucf00\uc904\ub7ec \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5</li> <li>\ucee4\uc2a4\ud140 \ud544\ud130 \ubc0f \uc6e8\uc774\ud130 \uac1c\ubc1c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucee4\uc2a4\ud140 \uc2a4\ucf00\uc904\ub7ec \uad6c\ud604</li> <li>\ub9ac\uc18c\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ucd5c\uc801\ud654 \ub3c4\uad6c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack Nova Scheduler \ubb38\uc11c</li> <li>Linux Scheduler \ubb38\uc11c</li> </ul>"},{"location":"computing-service-study/#4-cloud-native","title":"4. Cloud-native \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Kubernetes-Native\ud55c \uc120\uc5b8\uc801 IaaS \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\ubaa8\ub4e0 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4\ub97c \ucee8\ud14c\uc774\ub108\ud654\ud558\uc5ec \uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Kubernetes Operator \ud328\ud134</li> <li>Custom Resource Definition (CRD)</li> <li>Controller \uac1c\ubc1c</li> <li> \ucee8\ud14c\uc774\ub108\ud654\ub41c \uc11c\ube44\uc2a4 \uc6b4\uc601</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0</li> <li>\uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac</li> <li> \uc120\uc5b8\uc801 \uad00\ub9ac</li> <li>GitOps\ub97c \ud1b5\ud55c \ubc30\ud3ec</li> <li>Helm Chart \uc791\uc131</li> <li>ArgoCD\ub97c \ud1b5\ud55c \ubc30\ud3ec \uc790\ub3d9\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Kubernetes Operator\ub97c \ud65c\uc6a9\ud55c \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\ucee8\ud14c\uc774\ub108\ud654\ub41c OpenStack \uc11c\ube44\uc2a4 \ubc30\ud3ec</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes Operator \ud328\ud134</li> <li>Operator SDK</li> </ul>"},{"location":"computing-service-study/#5","title":"5. \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\uc11c\ube44\uc2a4 \ud655\uc7a5\uc131\uc744 \uace0\ub824\ud55c Region/Availability Zone/Cell/Rack \ub2e8\uc704 \uc778\ud504\ub77c \uc124\uacc4</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uba40\ud2f0 \ub808\ubca8 \uc544\ud0a4\ud14d\ucc98</li> <li>Region \uc124\uacc4</li> <li>Availability Zone (AZ) \uc124\uacc4</li> <li>Cell \uc544\ud0a4\ud14d\ucc98</li> <li>Rack \ub2e8\uc704 \uad00\ub9ac</li> <li> \uace0\uac00\uc6a9\uc131 \uc124\uacc4</li> <li>\uc7a5\uc560 \uaca9\ub9ac (Failure Isolation)</li> <li>\uc790\ub3d9 \uc7a5\uc560 \ubcf5\uad6c</li> <li>\ub370\uc774\ud130 \ubcf5\uc81c \uc804\ub7b5</li> <li> \ud655\uc7a5\uc131 \uc124\uacc4</li> <li>\uc218\ud3c9 \ud655\uc7a5 (Horizontal Scaling)</li> <li>\uc218\uc9c1 \ud655\uc7a5 (Vertical Scaling)</li> <li>\uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1</li> <li> \ub9ac\uc18c\uc2a4 \uad00\ub9ac</li> <li>\ucffc\ud130 \uad00\ub9ac</li> <li>\ub9ac\uc18c\uc2a4 \ud480 \uad00\ub9ac</li> <li>\uc6b0\uc120\uc21c\uc704 \uae30\ubc18 \ud560\ub2f9</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uba40\ud2f0 \ub808\ubca8 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4</li> <li>\uace0\uac00\uc6a9\uc131 \uad6c\uc131 \uad6c\ud604</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack Cells \ubb38\uc11c</li> <li>AWS Well-Architected Framework</li> </ul>"},{"location":"computing-service-study/#6-kubernetes-operator","title":"6. Kubernetes Operator \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Kubernetes Operator(Controller) \uad00\ub828 \uac1c\ubc1c/\uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes Controller \ud328\ud134</li> <li>Controller \uc544\ud0a4\ud14d\ucc98</li> <li>Informer \ubc0f Workqueue</li> <li>Reconcile Loop</li> <li> Operator SDK</li> <li>Operator SDK\ub97c \uc0ac\uc6a9\ud55c Operator \uac1c\ubc1c</li> <li>Helm Operator</li> <li>Ansible Operator</li> <li>Go Operator</li> <li> Custom Resource Definition (CRD)</li> <li>CRD \uc815\uc758</li> <li>Validation \ubc0f Defaulting</li> <li>Finalizer \ud328\ud134</li> <li> Operator \ubc30\ud3ec \ubc0f \uc6b4\uc601</li> <li>Operator Lifecycle Manager (OLM)</li> <li>Operator \ubaa8\ub2c8\ud130\ub9c1</li> <li>Operator \uc5c5\uadf8\ub808\uc774\ub4dc</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucef4\ud4e8\ud305 \ub9ac\uc18c\uc2a4 \uad00\ub9ac Operator \uac1c\ubc1c</li> <li>OpenStack \uc11c\ube44\uc2a4 Operator \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes Controller \uac1c\ubc1c \uac00\uc774\ub4dc</li> <li>Operator SDK \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"computing-service-study/#7-cloud-network-cni","title":"7. Cloud Network \ubc0f CNI","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Cloud network \ud639\uc740 Kubernetes CNI \uae30\uc220\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \ub124\ud2b8\uc6cc\ud0b9</li> <li>Pod \ub124\ud2b8\uc6cc\ud0b9</li> <li>Service \ub124\ud2b8\uc6cc\ud0b9</li> <li>Network Policy</li> <li> CNI (Container Network Interface)</li> <li>CNI \ud50c\ub7ec\uadf8\uc778 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc8fc\uc694 CNI \ud50c\ub7ec\uadf8\uc778 (Calico, Flannel, Cilium \ub4f1)</li> <li>\ucee4\uc2a4\ud140 CNI \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li> \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654</li> <li>VXLAN, GRE \ub4f1 \uc624\ubc84\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c</li> <li>\uc5b8\ub354\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \ud1b5\ud569</li> <li> \uc11c\ube44\uc2a4 \uba54\uc2dc</li> <li>Istio, Linkerd \ub4f1</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ub124\ud2b8\uc6cc\ud0b9</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucee4\uc2a4\ud140 CNI \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li>Service Mesh \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>CNI \uacf5\uc2dd \ubb38\uc11c</li> <li>Cilium \uacf5\uc2dd \ubb38\uc11c</li> <li>Istio \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"computing-service-study/#_4","title":"\uc6b0\ub300 \uc5ed\ub7c9","text":""},{"location":"computing-service-study/#csp","title":"\uae00\ub85c\ubc8c CSP \ud65c\uc6a9 \uacbd\ud5d8","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>AWS, GCP, MS Azure \ub4f1 \uae00\ub85c\ubc8c CSP \ud65c\uc6a9 \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> AWS</li> <li>EC2, EBS, AMI</li> <li>Auto Scaling</li> <li>Lambda</li> <li> GCP</li> <li>Compute Engine</li> <li>Cloud Storage</li> <li>Cloud Functions</li> <li> Azure</li> <li>Virtual Machines</li> <li>Managed Disks</li> <li>Functions</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uac01 CSP\uc5d0\uc11c \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uc0ac\uc6a9 \uacbd\ud5d8</li> </ul>"},{"location":"computing-service-study/#cncf","title":"CNCF \uc624\ud508\uc18c\uc2a4 \uae30\uc5ec","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>CNCF \uc624\ud508\uc18c\uc2a4 \ucf54\ub4dc \uae30\uc5ec \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc624\ud508\uc18c\uc2a4 \uae30\uc5ec \ud504\ub85c\uc138\uc2a4</li> <li> \uc8fc\uc694 CNCF \ud504\ub85c\uc81d\ud2b8 \ud0d0\uc0c9</li> <li>Kubernetes</li> <li>OpenStack (\uc77c\ubd80 CNCF \ud504\ub85c\uc81d\ud2b8\uc640 \uc5f0\uad00)</li> <li>CRI-O, containerd</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uc791\uc740 \ubc84\uadf8 \uc218\uc815\ubd80\ud130 \uc2dc\uc791</li> <li>\uae30\ub2a5 \ucd94\uac00 \uae30\uc5ec</li> </ul>"},{"location":"computing-service-study/#_5","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"computing-service-study/#1-1-2","title":"1\ub2e8\uacc4: \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>OpenStack \uae30\ucd08 \ubc0f Nova \ud559\uc2b5</li> <li>KVM/QEMU \uac00\uc0c1\ud654 \uae30\ucd08</li> <li>Linux Kernel \uae30\ucd08</li> </ol>"},{"location":"computing-service-study/#2-3-4","title":"2\ub2e8\uacc4: \uc911\uae09 (3-4\uac1c\uc6d4)","text":"<ol> <li>OpenStack \uc2ec\ud654 (Cinder, Glance, Ironic)</li> <li>\uac00\uc0c1\ud654 \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>\uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998 \ud559\uc2b5</li> </ol>"},{"location":"computing-service-study/#3-5-6","title":"3\ub2e8\uacc4: \uace0\uae09 (5-6\uac1c\uc6d4)","text":"<ol> <li>Kubernetes Operator \uac1c\ubc1c</li> <li>\ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4</li> <li>CNI \uae30\uc220 \uc2ec\ud654</li> </ol>"},{"location":"computing-service-study/#4-7","title":"4\ub2e8\uacc4: \uc2e4\ubb34 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\ub300\uaddc\ubaa8 IaaS \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\uc885\ud569 \ud504\ub85c\uc81d\ud2b8</li> <li>\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd \uacbd\ud5d8</li> </ol>"},{"location":"computing-service-study/#_6","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> OpenStack \uae30\ubc18 \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c \uac00\ub2a5</li> <li> KVM/QEMU \uac00\uc0c1\ud654 \uae30\uc220 \uc774\ud574 \ubc0f \ud65c\uc6a9 \uac00\ub2a5</li> <li> Linux Kernel \uac00\uc0c1\ud654 \uae30\ub2a5 \uc774\ud574</li> <li> \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998 \uc774\ud574 \ubc0f \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \uac00\ub2a5</li> <li> Kubernetes Operator \uac1c\ubc1c \uac00\ub2a5</li> <li> \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4 \ub2a5\ub825 \ubcf4\uc720</li> <li> CNI \uae30\uc220 \uc774\ud574 \ubc0f \ud65c\uc6a9 \uac00\ub2a5</li> </ul>"},{"location":"computing-service-study/#_7","title":"\uad00\ub828 \uc790\ub8cc","text":"<ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc - \uba3c\uc800 \ud559\uc2b5 \uad8c\uc7a5</li> <li>\uc804\uccb4 \ud559\uc2b5 \ucee4\ub9ac\ud058\ub7fc</li> </ul>"},{"location":"infrastructure-platform-study/","title":"Infrastructure Platform \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>KakaoCloud Infrastructure Platform \uac1c\ubc1c\uc790 \ud3ec\uc9c0\uc158\uc744 \uc704\ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform-study/#_1","title":"\ud3ec\uc9c0\uc158 \uac1c\uc694","text":"<p>\ub370\uc774\ud130\uc13c\ud130 \uc778\ud504\ub77c\uc758 \ubaa8\ub4e0 \uc694\uc18c\ub97c Cloud-native\ud558\uac8c \uad00\ub9ac\ud558\uace0 \uc790\ub3d9\ud654\ud558\ub294 \uac83\uc744 \ubaa9\ud45c\ub85c \ud569\ub2c8\ub2e4.</p> <ul> <li>ClusterAPI &amp; Ironic \uae30\ubc18 \ub300\uaddc\ubaa8 Kubernetes Cluster \uad6c\ucd95 \uc790\ub3d9\ud654</li> <li>Kubernetes Operator \ud328\ud134\uc744 \ud1b5\ud55c \ubc18\ubcf5 \uc791\uc5c5 \uc790\ub3d9\ud654</li> <li>IaC\ub97c \ud1b5\ud55c \uc778\ud504\ub77c \ucf54\ub4dc\ud654 \ubc0f \uc120\uc5b8\uc801 \uad00\ub9ac</li> <li>Cloud-native \ud50c\ub7ab\ud3fc \uad6c\uc131 \ub3c4\uad6c\ub97c \ud65c\uc6a9\ud55c DevOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> </ul>"},{"location":"infrastructure-platform-study/#_2","title":"\ud544\uc218 \uc5ed\ub7c9","text":""},{"location":"infrastructure-platform-study/#1-kubernetes","title":"1. Kubernetes \uc2ec\ud654","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub300\uaddc\ubaa8 Kubernetes Cluster \ud658\uacbd\uc5d0\uc11c\uc758 \uc11c\ube44\uc2a4 \uc6b4\uc601 \ub2a5\ub825</li> <li>Kubernetes Controller\uc640 Operator\uc5d0 \ub300\ud55c \uc2e4\ubb34\uc801 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \uc544\ud0a4\ud14d\ucc98 \uc2ec\ud654</li> <li>Control Plane \ucef4\ud3ec\ub10c\ud2b8 \uc774\ud574</li> <li>etcd \uc6b4\uc601 \ubc0f \ubc31\uc5c5</li> <li>API Server \uc778\uc99d/\uc778\uac00</li> <li> Kubernetes Controller \uac1c\ubc1c</li> <li>Controller \ud328\ud134 \uc774\ud574</li> <li>Informer \ubc0f Workqueue</li> <li>Custom Resource Definition (CRD)</li> <li> Kubernetes Operator \uac1c\ubc1c</li> <li>Operator SDK \uc0ac\uc6a9\ubc95</li> <li>Operator \ud328\ud134 \uad6c\ud604</li> <li>Helm Operator, Ansible Operator</li> <li> Kubernetes \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601</li> <li>\ud074\ub7ec\uc2a4\ud130 \uc5c5\uadf8\ub808\uc774\ub4dc</li> <li>\ub178\ub4dc \uad00\ub9ac \ubc0f \uc2a4\ucf00\uc904\ub9c1</li> <li>\ub9ac\uc18c\uc2a4 \ud560\ub2f9 \ubc0f \uc81c\ud55c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c Kubernetes Controller \uac1c\ubc1c</li> <li>Custom Operator \uad6c\ud604</li> <li>\ud074\ub7ec\uc2a4\ud130 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uad00\ub9ac \ub3c4\uad6c \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes Controller \uac1c\ubc1c \uac00\uc774\ub4dc</li> <li>Operator SDK \uacf5\uc2dd \ubb38\uc11c</li> <li>Kubernetes the Hard Way</li> </ul>"},{"location":"infrastructure-platform-study/#2-clusterapi-ironic","title":"2. ClusterAPI &amp; Ironic","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>ClusterAPI\ub97c \ud65c\uc6a9\ud55c Kubernetes provisioning \uc790\ub3d9\ud654</li> <li>OpenStack Ironic(Baremetal) \ud658\uacbd\uc5d0\uc11c\uc758 \uc6b4\uc601 \ubc0f \uac1c\ubc1c</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> ClusterAPI \uae30\ucd08</li> <li>ClusterAPI \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>Cluster, Machine, MachineDeployment \ub9ac\uc18c\uc2a4</li> <li>Infrastructure Provider \uc774\ud574</li> <li> ClusterAPI \uc2e4\uc2b5</li> <li>\ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131 \uc790\ub3d9\ud654</li> <li>\ub178\ub4dc \ucd94\uac00/\uc81c\uac70 \uc790\ub3d9\ud654</li> <li>\ud074\ub7ec\uc2a4\ud130 \uc5c5\uadf8\ub808\uc774\ub4dc \uc790\ub3d9\ud654</li> <li> OpenStack Ironic</li> <li>Baremetal Provisioning \uc774\ud574</li> <li>Ironic API \uc0ac\uc6a9\ubc95</li> <li>PXE Boot \ubc0f \uc774\ubbf8\uc9c0 \uad00\ub9ac</li> <li> \ud1b5\ud569 \uac1c\ubc1c</li> <li>ClusterAPI\uc640 Ironic \uc5f0\ub3d9</li> <li>\uc790\ub3d9\ud654 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>ClusterAPI\ub97c \uc0ac\uc6a9\ud55c \ud074\ub7ec\uc2a4\ud130 \uc790\ub3d9 \uc0dd\uc131 \ub3c4\uad6c</li> <li>Ironic\uc744 \ud65c\uc6a9\ud55c Baremetal \uc11c\ubc84 \ud504\ub85c\ube44\uc800\ub2dd</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>ClusterAPI \uacf5\uc2dd \ubb38\uc11c</li> <li>OpenStack Ironic \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform-study/#3-infrastructure-as-code-iac","title":"3. Infrastructure as Code (IaC)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Terraform, Ansible, Packer\ub97c \ud65c\uc6a9\ud55c \uc778\ud504\ub77c \uc790\ub3d9\ud654</li> <li>\uc120\uc5b8\uc801 \uc778\ud504\ub77c \uad00\ub9ac</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Terraform</li> <li>Terraform \uae30\ucd08 \ubb38\ubc95</li> <li>Provider \uc774\ud574 \ubc0f \uc0ac\uc6a9</li> <li>State \uad00\ub9ac</li> <li>Module \uc791\uc131</li> <li>Workspace \ud65c\uc6a9</li> <li> Ansible</li> <li>Ansible \uae30\ucd08</li> <li>Playbook \uc791\uc131</li> <li>Role \uc791\uc131 \ubc0f \uc7ac\uc0ac\uc6a9</li> <li>Ansible Vault\ub97c \ud1b5\ud55c \uc2dc\ud06c\ub9bf \uad00\ub9ac</li> <li> Packer</li> <li>\uc774\ubbf8\uc9c0 \ube4c\ub4dc \uc790\ub3d9\ud654</li> <li>\ub2e4\uc591\ud55c \ud504\ub85c\ube44\uc800\ub108 \uc0ac\uc6a9</li> <li>\uc774\ubbf8\uc9c0 \ucd5c\uc801\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Terraform\uc73c\ub85c \uc778\ud504\ub77c \uad6c\uc131 \uc815\uc758</li> <li>Ansible\uc73c\ub85c \uc11c\ubc84 \uc124\uc815 \uc790\ub3d9\ud654</li> <li>Packer\ub85c \ucee4\uc2a4\ud140 \uc774\ubbf8\uc9c0 \uc0dd\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Terraform \uacf5\uc2dd \ubb38\uc11c</li> <li>Ansible \uacf5\uc2dd \ubb38\uc11c</li> <li>Packer \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform-study/#4-cloud-native","title":"4. Cloud-native \ud50c\ub7ab\ud3fc \uad6c\uc131 \ub3c4\uad6c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Helm, ArgoCD, Prow, Keycloak, Harbor, Gitlab \ub4f1 \ub3c4\uad6c \ud65c\uc6a9</li> <li>\ucee8\ud14c\uc774\ub108 \uae30\ubc18 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Helm</li> <li>Helm Chart \uc791\uc131</li> <li>Chart \ud15c\ud50c\ub9bf \ubb38\ubc95</li> <li>Chart \ubc30\ud3ec \ubc0f \uad00\ub9ac</li> <li>Helm Operator</li> <li> ArgoCD</li> <li>GitOps\ub97c \ud1b5\ud55c \ubc30\ud3ec</li> <li>Application \uc815\uc758</li> <li>Multi-cluster \uad00\ub9ac</li> <li>Sync Policy \ubc0f Health Check</li> <li> Prow</li> <li>CI/CD \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uad6c\uc131</li> <li>PR \uac80\uc99d \uc790\ub3d9\ud654</li> <li>\ud14c\uc2a4\ud2b8 \uc790\ub3d9\ud654</li> <li> Keycloak</li> <li>\uc778\uc99d/\uc778\uac00 \uc11c\ube44\uc2a4 \uad6c\uc131</li> <li>OAuth2, OIDC \uc5f0\ub3d9</li> <li> Harbor</li> <li>\ucee8\ud14c\uc774\ub108 \ub808\uc9c0\uc2a4\ud2b8\ub9ac \uc6b4\uc601</li> <li>\uc774\ubbf8\uc9c0 \uc2a4\uce94 \ubc0f \ubcf4\uc548 \uc815\ucc45</li> <li> GitLab</li> <li>GitLab CI/CD \uad6c\uc131</li> <li>Container Registry \ud65c\uc6a9</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Helm Chart\ub85c \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud328\ud0a4\uc9d5</li> <li>ArgoCD\ub85c GitOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li>\uc804\uccb4 CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Helm \uacf5\uc2dd \ubb38\uc11c</li> <li>ArgoCD \uacf5\uc2dd \ubb38\uc11c</li> <li>Prow \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform-study/#5","title":"5. \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uac00\uc2dc\uc131","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\uc11c\ube44\uc2a4 \uc7a5\uc560 \uac10\uc9c0 \ubc0f \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \uc704\ud55c \ubaa8\ub2c8\ud130\ub9c1 \ud658\uacbd \uad6c\ucd95</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uba54\ud2b8\ub9ad \uc218\uc9d1</li> <li>Prometheus \uc124\uc815 \ubc0f \uc6b4\uc601</li> <li>Exporter \uac1c\ubc1c</li> <li>\uba54\ud2b8\ub9ad \ucffc\ub9ac (PromQL)</li> <li> \uc2dc\uac01\ud654</li> <li>Grafana \ub300\uc2dc\ubcf4\ub4dc \uad6c\uc131</li> <li>\uc54c\ub9bc \uaddc\uce59 \uc124\uc815</li> <li> \ub85c\uae45</li> <li>\uc911\uc559\ud654\ub41c \ub85c\uadf8 \uc218\uc9d1</li> <li>ELK Stack \ub610\ub294 Loki</li> <li>\ub85c\uadf8 \ubd84\uc11d \ubc0f \uac80\uc0c9</li> <li> \ubd84\uc0b0 \ucd94\uc801</li> <li>OpenTelemetry</li> <li>Jaeger \ub610\ub294 Zipkin</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \uad6c\ucd95</li> <li>\ucee4\uc2a4\ud140 \uba54\ud2b8\ub9ad \uc218\uc9d1 \ubc0f \ub300\uc2dc\ubcf4\ub4dc \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Prometheus \uacf5\uc2dd \ubb38\uc11c</li> <li>Grafana \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform-study/#6-linux-os","title":"6. Linux OS \uc774\ubbf8\uc9c0 \uad00\ub9ac","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Linux OS \uc774\ubbf8\uc9c0 \ub514\ubc84\uae45 \ubc0f \ud328\ud0a4\uc9d5 \ub2a5\ub825</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OS \uc774\ubbf8\uc9c0 \uad6c\uc870 \uc774\ud574</li> <li>\ubd80\ud305 \ud504\ub85c\uc138\uc2a4</li> <li>Init \uc2dc\uc2a4\ud15c (systemd)</li> <li>\ud30c\uc77c\uc2dc\uc2a4\ud15c \uad6c\uc870</li> <li> \uc774\ubbf8\uc9c0 \ube4c\ub4dc</li> <li>Packer\ub97c \ud65c\uc6a9\ud55c \uc774\ubbf8\uc9c0 \uc0dd\uc131</li> <li>\ucee4\uc2a4\ud140 \ud328\ud0a4\uc9c0 \ud3ec\ud568</li> <li>\ubcf4\uc548 \ud328\uce58 \uc801\uc6a9</li> <li> \uc774\ubbf8\uc9c0 \ub514\ubc84\uae45</li> <li>\ubd80\ud305 \ubb38\uc81c \ud574\uacb0</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \ub514\ubc84\uae45</li> <li>\uc11c\ube44\uc2a4 \uc2dc\uc791 \ubb38\uc81c \ud574\uacb0</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucee4\uc2a4\ud140 Linux \uc774\ubbf8\uc9c0 \uc0dd\uc131</li> <li>\uc774\ubbf8\uc9c0 \uac80\uc99d \ubc0f \ud14c\uc2a4\ud2b8 \uc790\ub3d9\ud654</li> </ul>"},{"location":"infrastructure-platform-study/#_3","title":"\uc6b0\ub300 \uc5ed\ub7c9","text":""},{"location":"infrastructure-platform-study/#cncf","title":"CNCF \uc624\ud508\uc18c\uc2a4 \ud504\ub85c\uc81d\ud2b8 \uae30\uc5ec","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>CNCF \uc624\ud508\uc18c\uc2a4 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ucf54\ub4dc \uae30\uc5ec \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc624\ud508\uc18c\uc2a4 \uae30\uc5ec \ud504\ub85c\uc138\uc2a4 \uc774\ud574</li> <li>Issue \uc0dd\uc131 \ubc0f \ud574\uacb0</li> <li>Pull Request \uc791\uc131</li> <li>\ucf54\ub4dc \ub9ac\ubdf0 \ud504\ub85c\uc138\uc2a4</li> <li> \uc8fc\uc694 CNCF \ud504\ub85c\uc81d\ud2b8 \ud0d0\uc0c9</li> <li>Kubernetes</li> <li>Prometheus</li> <li>Helm</li> <li>ArgoCD</li> <li>ClusterAPI</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uc791\uc740 \ubc84\uadf8 \uc218\uc815\ubd80\ud130 \uc2dc\uc791</li> <li>\ubb38\uc11c \uac1c\uc120 \uae30\uc5ec</li> <li>\uae30\ub2a5 \ucd94\uac00 \uae30\uc5ec</li> </ul>"},{"location":"infrastructure-platform-study/#_4","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"infrastructure-platform-study/#1-1-2","title":"1\ub2e8\uacc4: \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>Kubernetes \uc2ec\ud654 \ud559\uc2b5</li> <li>Terraform \uae30\ucd08</li> <li>Helm \uae30\ucd08</li> </ol>"},{"location":"infrastructure-platform-study/#2-3-4","title":"2\ub2e8\uacc4: \uc911\uae09 (3-4\uac1c\uc6d4)","text":"<ol> <li>Kubernetes Operator \uac1c\ubc1c</li> <li>ClusterAPI \ud559\uc2b5 \ubc0f \uc2e4\uc2b5</li> <li>Ansible, Packer \ud559\uc2b5</li> <li>ArgoCD\ub97c \ud1b5\ud55c GitOps \uad6c\ucd95</li> </ol>"},{"location":"infrastructure-platform-study/#3-5-6","title":"3\ub2e8\uacc4: \uace0\uae09 (5-6\uac1c\uc6d4)","text":"<ol> <li>\ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601</li> <li>Ironic \uc5f0\ub3d9 \uac1c\ubc1c</li> <li>\ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \uad6c\ucd95</li> <li>OS \uc774\ubbf8\uc9c0 \uad00\ub9ac</li> </ol>"},{"location":"infrastructure-platform-study/#4-7","title":"4\ub2e8\uacc4: \uc2e4\ubb34 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\uc624\ud508\uc18c\uc2a4 \uae30\uc5ec</li> <li>\uc885\ud569 \ud504\ub85c\uc81d\ud2b8</li> <li>\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd \uacbd\ud5d8</li> </ol>"},{"location":"infrastructure-platform-study/#_5","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Kubernetes Controller/Operator \uac1c\ubc1c \uac00\ub2a5</li> <li> ClusterAPI\ub97c \ud65c\uc6a9\ud55c \ud074\ub7ec\uc2a4\ud130 \uc790\ub3d9\ud654 \uad6c\ud604 \uac00\ub2a5</li> <li> Terraform, Ansible, Packer \ud65c\uc6a9 \uac00\ub2a5</li> <li> Helm Chart \uc791\uc131 \ubc0f \ubc30\ud3ec \uac00\ub2a5</li> <li> ArgoCD\ub97c \ud1b5\ud55c GitOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \uac00\ub2a5</li> <li> \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \uad6c\ucd95 \ubc0f \uc6b4\uc601 \uac00\ub2a5</li> <li> Linux OS \uc774\ubbf8\uc9c0 \uad00\ub9ac \uac00\ub2a5</li> </ul>"},{"location":"infrastructure-platform-study/#_6","title":"\uad00\ub828 \uc790\ub8cc","text":"<ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc - \uba3c\uc800 \ud559\uc2b5 \uad8c\uc7a5</li> <li>\uc804\uccb4 \ud559\uc2b5 \ucee4\ub9ac\ud058\ub7fc</li> </ul>"},{"location":"networking-service-study/","title":"\ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>KakaoCloud \ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \ud3ec\uc9c0\uc158\uc744 \uc704\ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"networking-service-study/#_2","title":"\ud3ec\uc9c0\uc158 \uac1c\uc694","text":"<p>KakaoCloud\uc758 \ud575\uc2ec\uc778 IaaS \ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4(Beyond Networking Service)\ub97c \uac1c\ubc1c\ud569\ub2c8\ub2e4.</p> <ul> <li>Public Cloud \ud658\uacbd\uc5d0\uc11c \ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc548\uc815\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c \uc2dc\uc2a4\ud15c \uc124\uacc4</li> <li>API \uae30\ubc18 \uac00\uc0c1\ud654\ub41c \uc5b8\ub354\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</li> <li>Network Function \uac1c\ubc1c \ubc0f \uc870\ud569\uc744 \ud1b5\ud55c \uc0c8\ub85c\uc6b4 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uad6c\ud604</li> </ul>"},{"location":"networking-service-study/#_3","title":"\ud544\uc218 \uc5ed\ub7c9","text":""},{"location":"networking-service-study/#1","title":"1. \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \ubc0f \uc2dc\uc2a4\ud15c \uc124\uacc4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\uc2dc\uc2a4\ud15c \uad6c\uc870\uc640 \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574</li> <li>\uc548\uc815\uc801\uc774\uace0 \ud655\uc7a5 \uac00\ub2a5\ud55c \uc2dc\uc2a4\ud15c \uc124\uacc4 \ub2a5\ub825</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \uc2ec\ud654</li> <li>TCP/IP \uc2a4\ud0dd \uc2ec\ud654 \uc774\ud574</li> <li>BGP, OSPF \ub4f1 \ub77c\uc6b0\ud305 \ud504\ub85c\ud1a0\ucf5c</li> <li>VLAN, VXLAN \ub4f1 \uac00\uc0c1\ud654 \uae30\uc220</li> <li>SDN (Software Defined Networking) \uac1c\ub150</li> <li> \ub124\ud2b8\uc6cc\ud06c \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> <li>\uc2a4\ucf00\uc77c \uc544\uc6c3 vs \uc2a4\ucf00\uc77c \uc5c5</li> <li>\ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc804\ub7b5</li> <li>\uace0\uac00\uc6a9\uc131 \uc124\uacc4</li> <li>\ub124\ud2b8\uc6cc\ud06c \ubd84\ud560 \ubc0f \uaca9\ub9ac</li> <li> \ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uc124\uacc4</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 \ud328\ud134</li> <li>\uc774\ubca4\ud2b8 \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ub124\ud2b8\uc6cc\ud06c \ud1a0\ud3f4\ub85c\uc9c0 \uc124\uacc4</li> <li>\ubd84\uc0b0 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Computer Networks: A Systems Approach</li> <li>High Performance Browser Networking</li> </ul>"},{"location":"networking-service-study/#2-api","title":"2. API \uc124\uacc4 \ubc0f \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Stateless\ud55c API \uc11c\ubc84 \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li>RESTful \ub610\ub294 gRPC \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> RESTful API \uc124\uacc4</li> <li>REST \uc6d0\uce59 \uc774\ud574</li> <li>\ub9ac\uc18c\uc2a4 \ubaa8\ub378\ub9c1</li> <li>HTTP \uba54\uc11c\ub4dc \ubc0f \uc0c1\ud0dc \ucf54\ub4dc</li> <li>API \ubc84\uc804 \uad00\ub9ac</li> <li>OpenAPI/Swagger \uc2a4\ud399 \uc791\uc131</li> <li> gRPC \uac1c\ubc1c</li> <li>Protocol Buffers</li> <li>gRPC \uc11c\ubc84/\ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> <li>\uc2a4\ud2b8\ub9ac\ubc0d (Unary, Server Streaming, Client Streaming, Bidirectional)</li> <li>\uc778\ud130\uc149\ud130 \ubc0f \ubbf8\ub4e4\uc6e8\uc5b4</li> <li> API \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>\uce90\uc2f1 \uc804\ub7b5</li> <li>Rate Limiting</li> <li>Connection Pooling</li> <li>\ube44\ub3d9\uae30 \ucc98\ub9ac</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>RESTful API \uc11c\ubc84 \uad6c\ud604</li> <li>gRPC \uc11c\ube44\uc2a4 \uad6c\ud604</li> <li>API \uac8c\uc774\ud2b8\uc6e8\uc774 \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>RESTful API Design Guide</li> <li>gRPC \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service-study/#3-openstack","title":"3. OpenStack \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OpenStack \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c \uc8fc\ub3c4\uc801 \uc218\ud589</li> <li>\ud37c\ube14\ub9ad \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c\uc758 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4 \ubc0f \uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OpenStack \uae30\ucd08</li> <li>OpenStack \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>\uc8fc\uc694 \ucef4\ud3ec\ub10c\ud2b8 (Nova, Neutron, Cinder \ub4f1)</li> <li>OpenStack API \uc0ac\uc6a9\ubc95</li> <li> Neutron (Networking Service)</li> <li>Neutron \uc544\ud0a4\ud14d\ucc98</li> <li>\ub124\ud2b8\uc6cc\ud06c, \uc11c\ube0c\ub137, \ub77c\uc6b0\ud130 \ub9ac\uc18c\uc2a4</li> <li>\ud50c\ub7ec\uadf8\uc778 \ubc0f \ub4dc\ub77c\uc774\ubc84</li> <li>ML2 (Modular Layer 2) \ud50c\ub7ec\uadf8\uc778</li> <li> OpenStack \uac1c\ubc1c</li> <li>OpenStack SDK \uc0ac\uc6a9</li> <li>\ucee4\uc2a4\ud140 \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li>API \ud655\uc7a5 \uac1c\ubc1c</li> <li> \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</li> <li>\uac00\uc0c1 \ub124\ud2b8\uc6cc\ud06c \uad6c\ucd95</li> <li>\ub124\ud2b8\uc6cc\ud06c \uaca9\ub9ac \ubc0f \ubcf4\uc548</li> <li>\uba40\ud2f0 \ud14c\ub10c\ud2b8 \ub124\ud2b8\uc6cc\ud06c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>OpenStack Neutron\uc744 \ud65c\uc6a9\ud55c \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\ucee4\uc2a4\ud140 \ub124\ud2b8\uc6cc\ud06c \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack \uacf5\uc2dd \ubb38\uc11c</li> <li>Neutron \uac1c\ubc1c\uc790 \uac00\uc774\ub4dc</li> </ul>"},{"location":"networking-service-study/#4-nfv-sdn","title":"4. \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654 (NFV, SDN)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub370\uc774\ud130\uc13c\ud130 \ub124\ud2b8\uc6cc\ud06c \ubc0f \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654\uc5d0 \ub300\ud55c \uae4a\uc774 \uc788\ub294 \uc774\ud574</li> <li>\ubcf5\uc7a1\ud55c \ub124\ud2b8\uc6cc\ud06c \ud658\uacbd\uc5d0\uc11c\uc758 \ubb38\uc81c \ud574\uacb0 \ub2a5\ub825</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> NFV (Network Functions Virtualization)</li> <li>NFV \uc544\ud0a4\ud14d\ucc98</li> <li>VNF (Virtual Network Function) \uac1c\ubc1c</li> <li>NFV \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158</li> <li> SDN (Software Defined Networking)</li> <li>SDN \ucee8\ud2b8\ub864\ub7ec (OpenDaylight, ONOS \ub4f1)</li> <li>OpenFlow \ud504\ub85c\ud1a0\ucf5c</li> <li>\ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\uadf8\ub798\ubc0d</li> <li> \ub124\ud2b8\uc6cc\ud06c \uc624\ubc84\ub808\uc774</li> <li>VXLAN, GRE, Geneve</li> <li>\uc624\ubc84\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</li> <li>\uc5b8\ub354\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \ucd5c\uc801\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c VNF \uac1c\ubc1c</li> <li>SDN \ucee8\ud2b8\ub864\ub7ec \uc5f0\ub3d9</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>ETSI NFV \ubb38\uc11c</li> <li>OpenDaylight \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service-study/#5","title":"5. \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc5f0\ub3d9","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub2e4\uc591\ud55c \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4(FW, LB, Switch)\ub97c \ub0b4\ubd80 \uc2dc\uc2a4\ud15c\uacfc \uc5f0\ub3d9</li> <li>\uace0\uac00\uc6a9\uc131\uacfc \ud655\uc7a5\uc131\uc744 \uace0\ub824\ud55c \uc548\uc815\uc801\uc778 \ud1b5\ud569 \uc11c\ube44\uc2a4 \uad6c\ucd95</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ubc29\ud654\ubcbd (Firewall) \uc5f0\ub3d9</li> <li>\ubc29\ud654\ubcbd API \uc774\ud574</li> <li>\uc815\ucc45 \uad00\ub9ac \uc790\ub3d9\ud654</li> <li>\ubc29\ud654\ubcbd \ud074\ub7ec\uc2a4\ud130\ub9c1</li> <li> \ub85c\ub4dc \ubc38\ub7f0\uc11c (Load Balancer) \uc5f0\ub3d9</li> <li>\ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc54c\uace0\ub9ac\uc998</li> <li>Health Check \uad6c\uc131</li> <li>SSL/TLS \uc885\ub8cc</li> <li>\uace0\uac00\uc6a9\uc131 \uad6c\uc131</li> <li> \uc2a4\uc704\uce58 (Switch) \uc5f0\ub3d9</li> <li>\uad00\ub9ac\ud615 \uc2a4\uc704\uce58 API</li> <li>VLAN \uad6c\uc131 \uc790\ub3d9\ud654</li> <li>\uc2a4\uc704\uce58 \ubaa8\ub2c8\ud130\ub9c1</li> <li> \ud1b5\ud569 \uc11c\ube44\uc2a4 \uc124\uacc4</li> <li>\uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158</li> <li>\uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1</li> <li>\uc7a5\uc560 \ubcf5\uad6c \uc790\ub3d9\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ubc29\ud654\ubcbd \uc815\ucc45 \uc790\ub3d9\ud654 \ub3c4\uad6c \uac1c\ubc1c</li> <li>\ub85c\ub4dc \ubc38\ub7f0\uc11c \uc790\ub3d9 \uad6c\uc131 \uc2dc\uc2a4\ud15c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>F5 Networks API \ubb38\uc11c</li> <li>HAProxy \ubb38\uc11c</li> </ul>"},{"location":"networking-service-study/#6-event-driven","title":"6. Event-driven \uc544\ud0a4\ud14d\ucc98","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Event-driven \uc544\ud0a4\ud14d\ucc98 \uae30\ubc18 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc124\uacc4 \ubc0f \uac1c\ubc1c</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc774\ubca4\ud2b8 \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98 \ud328\ud134</li> <li>Event Sourcing</li> <li>CQRS (Command Query Responsibility Segregation)</li> <li>Pub/Sub \ud328\ud134</li> <li> \uba54\uc2dc\uc9c0 \ube0c\ub85c\ucee4</li> <li>RabbitMQ, Kafka \ub4f1</li> <li>\uba54\uc2dc\uc9c0 \ud050 \ud328\ud134</li> <li>\uc774\ubca4\ud2b8 \uc2a4\ud2b8\ub9ac\ubc0d</li> <li> \uc774\ubca4\ud2b8 \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\uc774\ubca4\ud2b8 \ubc1c\ud589 \ubc0f \uad6c\ub3c5</li> <li>\uc774\ubca4\ud2b8 \uc21c\uc11c \ubcf4\uc7a5</li> <li>\uc774\ubca4\ud2b8 \uc7ac\uc0dd \ubc0f \ubcf5\uad6c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uc774\ubca4\ud2b8 \uae30\ubc18 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uad6c\ud604</li> <li>\uba54\uc2dc\uc9c0 \ube0c\ub85c\ucee4\ub97c \ud65c\uc6a9\ud55c \uc11c\ube44\uc2a4 \ud1b5\uc2e0</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Event-Driven Architecture Patterns</li> <li>Apache Kafka \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service-study/#7-cloud-native","title":"7. Cloud-native \ud658\uacbd \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Cloud-native \ud658\uacbd\uc5d0\uc11c\uc758 \uac1c\ubc1c \ubc0f \uc6b4\uc601</li> <li>Kubernetes, GitOps \ub4f1 \uc0dd\uc0b0\uc131 \ub3c4\uad6c \ud65c\uc6a9</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \ub124\ud2b8\uc6cc\ud0b9</li> <li>CNI (Container Network Interface) \uc774\ud574</li> <li>Service, Ingress \ub9ac\uc18c\uc2a4</li> <li>Network Policy</li> <li>Service Mesh (Istio, Linkerd)</li> <li> Kubernetes \ub124\ud2b8\uc6cc\ud06c \ud50c\ub7ec\uadf8\uc778</li> <li>Calico, Flannel, Cilium \ub4f1</li> <li>\ucee4\uc2a4\ud140 CNI \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li> GitOps\ub97c \ud1b5\ud55c \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131 \uad00\ub9ac</li> <li>ArgoCD\ub97c \ud65c\uc6a9\ud55c \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45 \ubc30\ud3ec</li> <li>\uc120\uc5b8\uc801 \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Kubernetes \uae30\ubc18 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Service Mesh \uad6c\uc131 \ubc0f \ud65c\uc6a9</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes \ub124\ud2b8\uc6cc\ud0b9 \uacf5\uc2dd \ubb38\uc11c</li> <li>Cilium \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service-study/#_4","title":"\uc6b0\ub300 \uc5ed\ub7c9","text":""},{"location":"networking-service-study/#_5","title":"\ud37c\ube14\ub9ad \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud06c \uacbd\ud5d8","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ud37c\ube14\ub9ad \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c\uc758 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4 \ubc0f \uc6b4\uc601 \uc2e4\ubb34 \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> AWS \ub124\ud2b8\uc6cc\ud0b9</li> <li>VPC, Subnet, Route Table</li> <li>Security Group, NACL</li> <li>ELB, ALB, NLB</li> <li>Direct Connect, VPN</li> <li> GCP \ub124\ud2b8\uc6cc\ud0b9</li> <li>VPC, Subnet</li> <li>Cloud Load Balancing</li> <li>Cloud Interconnect</li> <li> Azure \ub124\ud2b8\uc6cc\ud0b9</li> <li>Virtual Network</li> <li>Load Balancer</li> <li>ExpressRoute</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uac01 \ud074\ub77c\uc6b0\ub4dc \ud50c\ub7ab\ud3fc\uc5d0\uc11c \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131 \uc2e4\uc2b5</li> </ul>"},{"location":"networking-service-study/#_6","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"networking-service-study/#1-1-2","title":"1\ub2e8\uacc4: \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>\ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \uc2ec\ud654 \ud559\uc2b5</li> <li>RESTful API \ubc0f gRPC \uac1c\ubc1c</li> <li>OpenStack \uae30\ucd08</li> </ol>"},{"location":"networking-service-study/#2-3-4","title":"2\ub2e8\uacc4: \uc911\uae09 (3-4\uac1c\uc6d4)","text":"<ol> <li>OpenStack Neutron \uc2ec\ud654</li> <li>NFV, SDN \ud559\uc2b5</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc5f0\ub3d9</li> </ol>"},{"location":"networking-service-study/#3-5-6","title":"3\ub2e8\uacc4: \uace0\uae09 (5-6\uac1c\uc6d4)","text":"<ol> <li>Event-driven \uc544\ud0a4\ud14d\ucc98 \uad6c\ud604</li> <li>Kubernetes \ub124\ud2b8\uc6cc\ud0b9</li> <li>Service Mesh \uad6c\uc131</li> </ol>"},{"location":"networking-service-study/#4-7","title":"4\ub2e8\uacc4: \uc2e4\ubb34 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\ub300\uaddc\ubaa8 \ub124\ud2b8\uc6cc\ud06c \uc2dc\uc2a4\ud15c \uc124\uacc4</li> <li>\uc885\ud569 \ud504\ub85c\uc81d\ud2b8</li> <li>\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd \uacbd\ud5d8</li> </ol>"},{"location":"networking-service-study/#_7","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \ubc0f \uc2dc\uc2a4\ud15c \uc124\uacc4 \ub2a5\ub825 \ubcf4\uc720</li> <li> RESTful API \ubc0f gRPC \uc11c\ube44\uc2a4 \uac1c\ubc1c \uac00\ub2a5</li> <li> OpenStack \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c \uac00\ub2a5</li> <li> NFV, SDN\uc5d0 \ub300\ud55c \uc774\ud574</li> <li> \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc5f0\ub3d9 \uacbd\ud5d8</li> <li> Event-driven \uc544\ud0a4\ud14d\ucc98 \uad6c\ud604 \uac00\ub2a5</li> <li> Kubernetes \ub124\ud2b8\uc6cc\ud0b9 \uc774\ud574 \ubc0f \ud65c\uc6a9 \uac00\ub2a5</li> </ul>"},{"location":"networking-service-study/#_8","title":"\uad00\ub828 \uc790\ub8cc","text":"<ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc - \uba3c\uc800 \ud559\uc2b5 \uad8c\uc7a5</li> <li>\uc804\uccb4 \ud559\uc2b5 \ucee4\ub9ac\ud058\ub7fc</li> </ul>"},{"location":"common-skills/","title":"\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>\ubaa8\ub4e0 \ud3ec\uc9c0\uc158\uc5d0\uc11c \uacf5\ud1b5\uc801\uc73c\ub85c \uc694\uad6c\ub418\ub294 \uc5ed\ub7c9\ub4e4\uc744 \ud559\uc2b5\ud558\ub294 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"common-skills/#_2","title":"\uae30\ubcf8 \uc694\uad6c\uc0ac\ud56d","text":"<ul> <li>\ucef4\ud4e8\ud130 \uad00\ub828 \uc804\uacf5 + 1\ub144 \uc774\uc0c1\uc758 \uacbd\ub825 \ub610\ub294 \uad00\ub828 \ubd84\uc57c 3\ub144 \uc774\uc0c1\uc758 \uacbd\ub825</li> </ul>"},{"location":"common-skills/#_3","title":"\uacf5\ud1b5 \uc5ed\ub7c9 \ubaa9\ub85d","text":""},{"location":"common-skills/#1-linux","title":"1. Linux \uae30\ubc18 \ud658\uacbd \uc6b4\uc601","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub300\uaddc\ubaa8 Linux \ud658\uacbd\uc5d0\uc11c\uc758 \uc11c\ube44\uc2a4 \uc6b4\uc601 \ub2a5\ub825</li> <li>Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \uae30\ucd08</li> <li>\ud30c\uc77c\uc2dc\uc2a4\ud15c \uad00\ub9ac</li> <li>\ud504\ub85c\uc138\uc2a4 \uad00\ub9ac</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc124\uc815</li> <li>\uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1</li> <li> Shell Scripting</li> <li>Bash \uc2a4\ud06c\ub9bd\ud2b8 \uc791\uc131</li> <li>\uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8 \uac1c\ubc1c</li> <li> \uc2dc\uc2a4\ud15c \uc131\ub2a5 \ubd84\uc11d</li> <li>CPU, Memory, I/O \ubaa8\ub2c8\ud130\ub9c1</li> <li>\ub85c\uadf8 \ubd84\uc11d \ubc0f \ub514\ubc84\uae45</li> </ul> <p>\uc2e4\uc2b5 \uc790\ub8cc:</p> <ul> <li><code>phase-1/linux-vm/</code> \ub514\ub809\ud1a0\ub9ac \ucc38\uace0</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Linux System Administration Guide</li> <li>Advanced Bash Scripting Guide</li> </ul>"},{"location":"common-skills/#2-pythongo","title":"2. \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 (Python/GO)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Python \ub610\ub294 GO \uc5b8\uc5b4\ub97c \ud65c\uc6a9\ud55c API \ubc31\uc5d4\ub4dc \uc124\uacc4 \ubc0f \uac1c\ubc1c \uc5ed\ub7c9</li> </ul>"},{"location":"common-skills/#python","title":"Python","text":"<p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Python \uae30\ucd08 \ubb38\ubc95</li> <li> \uac1d\uccb4\uc9c0\ud5a5 \ud504\ub85c\uadf8\ub798\ubc0d</li> <li> \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d (asyncio)</li> <li> API \ud504\ub808\uc784\uc6cc\ud06c</li> <li>FastAPI \ub610\ub294 Flask</li> <li>RESTful API \uc124\uacc4</li> <li> \ud14c\uc2a4\ud2b8 \uc791\uc131</li> <li>pytest</li> <li>\ub2e8\uc704 \ud14c\uc2a4\ud2b8, \ud1b5\ud569 \ud14c\uc2a4\ud2b8</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c REST API \uc11c\ubc84 \uad6c\ud604</li> <li>Kubernetes API \ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Python \uacf5\uc2dd \ubb38\uc11c</li> <li>FastAPI \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"common-skills/#go","title":"GO","text":"<p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Go \uae30\ucd08 \ubb38\ubc95</li> <li> Goroutine \ubc0f Channel</li> <li> gRPC \uc11c\ubc84/\ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> <li> RESTful API \uac1c\ubc1c</li> <li>Gin, Echo \ub4f1 \ud504\ub808\uc784\uc6cc\ud06c</li> <li> \ud14c\uc2a4\ud2b8 \uc791\uc131</li> <li>Go testing \ud328\ud0a4\uc9c0</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>gRPC \uc11c\ube44\uc2a4 \uad6c\ud604</li> <li>Kubernetes Controller \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Go \uacf5\uc2dd \ubb38\uc11c</li> <li>Effective Go</li> </ul>"},{"location":"common-skills/#3-cloud-native","title":"3. Cloud-native \ud658\uacbd","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Cloud-native \ud658\uacbd\uc5d0\uc11c\uc758 \uac1c\ubc1c \ubc0f \uc6b4\uc601 \ub2a5\ub825</li> <li>\ucee8\ud14c\uc774\ub108 \uae30\ubc18 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ucee8\ud14c\uc774\ub108 \uae30\ucd08</li> <li>Docker \uae30\ucd08</li> <li>\ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ubc0f \uad00\ub9ac</li> <li>\uba40\ud2f0 \uc2a4\ud14c\uc774\uc9c0 \ube4c\ub4dc</li> <li> Kubernetes \uae30\ucd08</li> <li>Kubernetes \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>Pod, Service, Deployment \ub4f1 \uae30\ubcf8 \ub9ac\uc18c\uc2a4</li> <li>ConfigMap, Secret \uad00\ub9ac</li> <li> Cloud-native \uac1c\ubc1c \ud328\ud134</li> <li>12-Factor App</li> <li>Stateless \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc124\uacc4</li> <li>Health Check \ubc0f Liveness/Readiness Probe</li> </ul> <p>\uc2e4\uc2b5 \uc790\ub8cc:</p> <ul> <li><code>phase-2/containers/</code> \ub514\ub809\ud1a0\ub9ac \ucc38\uace0</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes \uacf5\uc2dd \ubb38\uc11c</li> <li>CNCF Cloud Native Landscape</li> </ul>"},{"location":"common-skills/#4-devops","title":"4. DevOps \ub3c4\uad6c \ubc0f \uc2e4\ubb34","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>DevOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \ubc0f \uc6b4\uc601 \ub2a5\ub825</li> <li>CI/CD \ub3c4\uad6c \ud65c\uc6a9</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ubc84\uc804 \uad00\ub9ac</li> <li>Git \uae30\ucd08 \ubc0f \uace0\uae09 \uc0ac\uc6a9\ubc95</li> <li>Git Workflow (Git Flow, GitHub Flow)</li> <li> CI/CD \ud30c\uc774\ud504\ub77c\uc778</li> <li>Jenkins \ub610\ub294 GitLab CI</li> <li>GitHub Actions</li> <li> GitOps</li> <li>ArgoCD \ub610\ub294 Flux</li> <li>\uc120\uc5b8\uc801 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec</li> <li> \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub85c\uae45</li> <li>Prometheus, Grafana</li> <li>ELK Stack \ub610\ub294 Loki</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li>GitOps\ub97c \ud1b5\ud55c \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>GitOps \uacf5\uc2dd \ubb38\uc11c</li> <li>ArgoCD \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"common-skills/#5","title":"5. \uc2dc\uc2a4\ud15c \uc124\uacc4 \ubc0f \uc544\ud0a4\ud14d\ucc98","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc548\uc815\uc801\uc778 \uc2dc\uc2a4\ud15c \uc124\uacc4 \ub2a5\ub825</li> <li>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc2dc\uc2a4\ud15c \uc124\uacc4 \uae30\ucd08</li> <li>\ud655\uc7a5\uc131 (Scalability)</li> <li>\uac00\uc6a9\uc131 (Availability)</li> <li>\uc77c\uad00\uc131 (Consistency)</li> <li> \ubd84\uc0b0 \uc2dc\uc2a4\ud15c</li> <li>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc758 \ub3c4\uc804 \uacfc\uc81c</li> <li>CAP \uc815\ub9ac</li> <li>\ubd84\uc0b0 \ud2b8\ub79c\uc7ad\uc158</li> <li> \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc11c\ube44\uc2a4 \ubd84\ud574 \uc804\ub7b5</li> <li>\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0</li> <li>\uc11c\ube44\uc2a4 \uba54\uc2dc (Service Mesh)</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Designing Data-Intensive Applications</li> <li>Microservices Patterns</li> </ul>"},{"location":"common-skills/#_4","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"common-skills/#1-3","title":"\ucd08\uae09 (1-3\uac1c\uc6d4)","text":"<ol> <li>Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \uae30\ucd08</li> <li>Python \ub610\ub294 GO \uc5b8\uc5b4 \uae30\ucd08</li> <li>Docker \ubc0f Kubernetes \uae30\ucd08</li> <li>Git \ubc0f \uae30\ubcf8 DevOps \ub3c4\uad6c</li> </ol>"},{"location":"common-skills/#4-6","title":"\uc911\uae09 (4-6\uac1c\uc6d4)","text":"<ol> <li>\uace0\uae09 Linux \uc6b4\uc601</li> <li>API \uc124\uacc4 \ubc0f \uac1c\ubc1c</li> <li>Kubernetes \uc2ec\ud654</li> <li>CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> </ol>"},{"location":"common-skills/#7","title":"\uace0\uae09 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\uc2dc\uc2a4\ud15c \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> <li>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uc6b4\uc601</li> <li>\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> </ol>"},{"location":"common-skills/#_5","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\uac01 \uc5ed\ub7c9\ubcc4\ub85c \ud559\uc2b5 \uc644\ub8cc \uc5ec\ubd80\ub97c \uccb4\ud06c\ud558\uc138\uc694:</p> <ul> <li> Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \ub2a5\uc219</li> <li> Python \ub610\ub294 GO\ub85c API \uac1c\ubc1c \uac00\ub2a5</li> <li> Docker \ubc0f Kubernetes \uae30\ubcf8 \uc0ac\uc6a9 \uac00\ub2a5</li> <li> CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \uacbd\ud5d8</li> <li> \uc2dc\uc2a4\ud15c \uc124\uacc4 \uae30\ucd08 \uc774\ud574</li> <li> \ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uae30\ubcf8 \uac1c\ub150 \uc774\ud574</li> </ul>"},{"location":"common-skills/#_6","title":"\ub2e4\uc74c \ub2e8\uacc4","text":"<p>\uacf5\ud1b5 \uc5ed\ub7c9\uc744 \ud559\uc2b5\ud55c \ud6c4, \uad00\uc2ec \uc788\ub294 \ud3ec\uc9c0\uc158\ubcc4 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\ub97c \ucc38\uace0\ud558\uc138\uc694:</p> <ul> <li>Infrastructure Platform \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> <li>\ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> <li>\ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/","title":"Ch1. Linux \uae30\ubc18 \ud658\uacbd \uc6b4\uc601","text":""},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>Linux\ub294 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c\uc758 \uae30\ubc18\uc774 \ub418\ub294 \uc6b4\uc601\uccb4\uc81c\uc785\ub2c8\ub2e4. \ub300\uaddc\ubaa8 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c Linux \uc2dc\uc2a4\ud15c\uc744 \ud6a8\uacfc\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uace0 \uc6b4\uc601\ud558\ub294 \ub2a5\ub825\uc740 \ubaa8\ub4e0 \ud074\ub77c\uc6b0\ub4dc \uc5d4\uc9c0\ub2c8\uc5b4\uc5d0\uac8c \ud544\uc218\uc801\uc778 \uc5ed\ub7c9\uc785\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>\ub300\uaddc\ubaa8 Linux \ud658\uacbd\uc5d0\uc11c \uc11c\ube44\uc2a4\ub97c \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601</li> <li>Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305 \uc218\ud589</li> <li>Shell \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ud65c\uc6a9\ud55c \ubc18\ubcf5 \uc791\uc5c5 \uc790\ub3d9\ud654</li> <li>\uc2dc\uc2a4\ud15c \uc131\ub2a5 \ubd84\uc11d \ubc0f \ucd5c\uc801\ud654</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_3","title":"\ud83c\udfaf \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#1-linux","title":"1. Linux \uc2dc\uc2a4\ud15c \uad00\ub9ac \uae30\ucd08","text":""},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_4","title":"\ud30c\uc77c\uc2dc\uc2a4\ud15c \uad00\ub9ac","text":"<p>Linux \ud30c\uc77c\uc2dc\uc2a4\ud15c\uc740 \uacc4\uce35\uc801 \uad6c\uc870\ub85c \ub418\uc5b4 \uc788\uc73c\uba70, \ubaa8\ub4e0 \uac83\uc774 \ud30c\uc77c\ub85c \ud45c\ud604\ub429\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 \ub514\ub809\ud1a0\ub9ac \uad6c\uc870:</p> <ul> <li><code>/</code> - \ub8e8\ud2b8 \ub514\ub809\ud1a0\ub9ac (\ubaa8\ub4e0 \ud30c\uc77c\uc2dc\uc2a4\ud15c\uc758 \uc2dc\uc791\uc810)</li> <li><code>/bin</code>, <code>/sbin</code> - \ud544\uc218 \uc2dc\uc2a4\ud15c \ubc14\uc774\ub108\ub9ac</li> <li><code>/etc</code> - \uc2dc\uc2a4\ud15c \uc124\uc815 \ud30c\uc77c</li> <li><code>/var</code> - \uac00\ubcc0 \ub370\uc774\ud130 (\ub85c\uadf8, \uce90\uc2dc \ub4f1)</li> <li><code>/home</code> - \uc0ac\uc6a9\uc790 \ud648 \ub514\ub809\ud1a0\ub9ac</li> <li><code>/tmp</code> - \uc784\uc2dc \ud30c\uc77c</li> <li><code>/usr</code> - \uc0ac\uc6a9\uc790 \ud504\ub85c\uadf8\ub7a8 \ubc0f \ub370\uc774\ud130</li> </ul> <p>\ud30c\uc77c\uc2dc\uc2a4\ud15c \uc791\uc5c5: <pre><code># \ub514\uc2a4\ud06c \uc0ac\uc6a9\ub7c9 \ud655\uc778\ndf -h\n\n# \ub514\ub809\ud1a0\ub9ac \ud06c\uae30 \ud655\uc778\ndu -sh /var/log\n\n# \ub9c8\uc6b4\ud2b8\ub41c \ud30c\uc77c\uc2dc\uc2a4\ud15c \ud655\uc778\nmount | column -t\n\n# \ud30c\uc77c\uc2dc\uc2a4\ud15c \ub9c8\uc6b4\ud2b8\nmount /dev/sdb1 /mnt/data\n\n# /etc/fstab\uc5d0 \uc601\uad6c \ub9c8\uc6b4\ud2b8 \uc124\uc815\necho \"/dev/sdb1  /mnt/data  ext4  defaults  0  2\" &gt;&gt; /etc/fstab\n</code></pre></p> <p>\uc2a4\ud1a0\ub9ac\uc9c0 \uad00\ub9ac Best Practices (2025):</p> <ul> <li>RAID (Redundant Array of Independent Disks): \ub370\uc774\ud130 \uc911\ubcf5\uc131 \ud655\ubcf4</li> <li>LVM (Logical Volume Manager): \uc720\uc5f0\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \uad00\ub9ac</li> </ul> <pre><code># LVM \ubcfc\ub968 \uc0dd\uc131 \uc608\uc81c\npvcreate /dev/sdb1                    # Physical Volume \uc0dd\uc131\nvgcreate vg_data /dev/sdb1            # Volume Group \uc0dd\uc131\nlvcreate -L 100G -n lv_app vg_data   # Logical Volume \uc0dd\uc131\nmkfs.ext4 /dev/vg_data/lv_app         # \ud30c\uc77c\uc2dc\uc2a4\ud15c \uc0dd\uc131\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_5","title":"\ud504\ub85c\uc138\uc2a4 \uad00\ub9ac","text":"<p>\ud504\ub85c\uc138\uc2a4\ub294 \uc2e4\ud589 \uc911\uc778 \ud504\ub85c\uadf8\ub7a8\uc758 \uc778\uc2a4\ud134\uc2a4\uc785\ub2c8\ub2e4.</p> <p>\ud504\ub85c\uc138\uc2a4 \ud655\uc778 \ubc0f \uad00\ub9ac: <pre><code># \uc2e4\ud589 \uc911\uc778 \ud504\ub85c\uc138\uc2a4 \ud655\uc778\nps aux\nps -ef\n\n# \ud2b9\uc815 \ud504\ub85c\uc138\uc2a4 \ucc3e\uae30\nps aux | grep nginx\n\n# \ud504\ub85c\uc138\uc2a4 \ud2b8\ub9ac \ud655\uc778\npstree\n\n# \ud504\ub85c\uc138\uc2a4 \uc885\ub8cc\nkill &lt;PID&gt;           # SIGTERM (graceful shutdown)\nkill -9 &lt;PID&gt;        # SIGKILL (\uac15\uc81c \uc885\ub8cc)\nkillall nginx        # \ud504\ub85c\uc138\uc2a4 \uc774\ub984\uc73c\ub85c \uc885\ub8cc\n\n# \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc791\uc5c5 \uad00\ub9ac\ncommand &amp;            # \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2e4\ud589\njobs                 # \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc791\uc5c5 \ubaa9\ub85d\nfg %1                # \uc791\uc5c5\uc744 \ud3ec\uadf8\ub77c\uc6b4\ub4dc\ub85c \uac00\uc838\uc624\uae30\nbg %1                # \uc77c\uc2dc\uc815\uc9c0\ub41c \uc791\uc5c5\uc744 \ubc31\uadf8\ub77c\uc6b4\ub4dc\ub85c \uc7ac\uac1c\n</code></pre></p> <p>Systemd \uc11c\ube44\uc2a4 \uad00\ub9ac: <pre><code># \uc11c\ube44\uc2a4 \uc0c1\ud0dc \ud655\uc778\nsystemctl status nginx\n\n# \uc11c\ube44\uc2a4 \uc2dc\uc791/\uc911\uc9c0/\uc7ac\uc2dc\uc791\nsystemctl start nginx\nsystemctl stop nginx\nsystemctl restart nginx\nsystemctl reload nginx    # \uc124\uc815 \uc7ac\ub85c\ub4dc (\ubb34\uc911\ub2e8)\n\n# \ubd80\ud305 \uc2dc \uc790\ub3d9 \uc2dc\uc791\nsystemctl enable nginx\nsystemctl disable nginx\n\n# \uc11c\ube44\uc2a4 \ub85c\uadf8 \ud655\uc778\njournalctl -u nginx -f    # \uc2e4\uc2dc\uac04 \ub85c\uadf8\njournalctl -u nginx --since \"1 hour ago\"\n</code></pre></p> <p>\ud504\ub85c\uc138\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 Best Practice (2025):</p> <p>Monit - \ubb34\ub8cc \uc624\ud508\uc18c\uc2a4 \ud504\ub85c\uc138\uc2a4 \uac10\uc2dc \uc720\ud2f8\ub9ac\ud2f0: <pre><code># Monit \uc124\uce58\napt install monit\n\n# /etc/monit/monitrc \uc124\uc815 \uc608\uc81c\ncheck process nginx with pidfile /var/run/nginx.pid\n    start program = \"/usr/bin/systemctl start nginx\"\n    stop program = \"/usr/bin/systemctl stop nginx\"\n    if failed host localhost port 80 protocol http then restart\n    if 5 restarts within 5 cycles then timeout\n</code></pre></p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_6","title":"\ub124\ud2b8\uc6cc\ud06c \uc124\uc815","text":"<pre><code># \ub124\ud2b8\uc6cc\ud06c \uc778\ud130\ud398\uc774\uc2a4 \ud655\uc778\nip addr show\nip link show\n\n# IP \uc8fc\uc18c \uc124\uc815\nip addr add 192.168.1.100/24 dev eth0\n\n# \ub77c\uc6b0\ud305 \ud14c\uc774\ube14 \ud655\uc778\nip route show\n\n# \uae30\ubcf8 \uac8c\uc774\ud2b8\uc6e8\uc774 \uc124\uc815\nip route add default via 192.168.1.1\n\n# \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ud14c\uc2a4\ud2b8\nping 8.8.8.8\ntraceroute google.com\nnetstat -tuln          # \ub9ac\uc2a4\ub2dd \ud3ec\ud2b8 \ud655\uc778\nss -tuln               # \ucd5c\uc2e0 \ub3c4\uad6c (netstat \ub300\uccb4)\n</code></pre> <p>\ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \uc601\uad6c\ud654 (Ubuntu/Debian): <pre><code># /etc/netplan/01-netcfg.yaml\nnetwork:\n  version: 2\n  ethernets:\n    eth0:\n      addresses:\n        - 192.168.1.100/24\n      gateway4: 192.168.1.1\n      nameservers:\n        addresses:\n          - 8.8.8.8\n          - 8.8.4.4\n</code></pre></p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_7","title":"\uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1","text":"<p>4\uac00\uc9c0 \uc8fc\uc694 \uc131\ub2a5 \uc601\uc5ed (2025 Best Practice): 1. CPU - \ucc98\ub9ac \ub2a5\ub825 2. Memory - \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 3. Disk I/O - \ub514\uc2a4\ud06c \uc785\ucd9c\ub825 4. Network - \ub124\ud2b8\uc6cc\ud06c \ub300\uc5ed\ud3ed</p> <p>\uae30\ubcf8 \ubaa8\ub2c8\ud130\ub9c1 \uba85\ub839\uc5b4: <pre><code># CPU \uc0ac\uc6a9\ub960\ntop              # \uc2e4\uc2dc\uac04 \ud504\ub85c\uc138\uc2a4 \ubaa8\ub2c8\ud130\nhtop             # \ud5a5\uc0c1\ub41c top (\uc124\uce58 \ud544\uc694)\nmpstat 1         # CPU \ud1b5\uacc4 (1\ucd08 \uac04\uaca9)\n\n# \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\nfree -h          # \uba54\ubaa8\ub9ac \ubc0f \uc2a4\uc651 \uc0ac\uc6a9\ub7c9\nvmstat 1         # \uac00\uc0c1 \uba54\ubaa8\ub9ac \ud1b5\uacc4\n\n# \ub514\uc2a4\ud06c I/O\niostat -x 1      # \ub514\uc2a4\ud06c I/O \ud1b5\uacc4\niotop            # \ud504\ub85c\uc138\uc2a4\ubcc4 I/O \uc0ac\uc6a9\ub7c9\n\n# \uc885\ud569 \ubaa8\ub2c8\ud130\ub9c1\ndstat            # \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \ud1b5\ud569 \ubdf0\nnmon             # \ub300\ud654\ud615 \uc131\ub2a5 \ubaa8\ub2c8\ud130\nglances          # \uc6f9 \uae30\ubc18 \ubaa8\ub2c8\ud130\ub9c1 \ub3c4\uad6c\n</code></pre></p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#2-shell","title":"2. Shell \uc2a4\ud06c\ub9bd\ud305","text":"<p>Shell \uc2a4\ud06c\ub9bd\ud2b8\ub294 \ubc18\ubcf5\uc801\uc778 \uc791\uc5c5\uc744 \uc790\ub3d9\ud654\ud558\ub294 \uac15\ub825\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#bash","title":"Bash \uc2a4\ud06c\ub9bd\ud2b8 \uae30\ucd08","text":"<p>\uae30\ubcf8 \uad6c\uc870: <pre><code>#!/bin/bash\n# \uc2a4\ud06c\ub9bd\ud2b8 \uc124\uba85\n\n# \ubcc0\uc218 \uc120\uc5b8\nNAME=\"CloudAdmin\"\nCOUNT=10\n\n# \ucd9c\ub825\necho \"Hello, $NAME\"\n\n# \uc870\uac74\ubb38\nif [ $COUNT -gt 5 ]; then\n    echo \"Count is greater than 5\"\nelse\n    echo \"Count is 5 or less\"\nfi\n\n# \ubc18\ubcf5\ubb38\nfor i in {1..5}; do\n    echo \"Iteration $i\"\ndone\n\n# \ud568\uc218\nfunction greet() {\n    local name=$1\n    echo \"Hello, $name!\"\n}\n\ngreet \"World\"\n</code></pre></p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_8","title":"\uc2e4\uc804 \uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8","text":"<p>1. \uc2dc\uc2a4\ud15c \ubc31\uc5c5 \uc2a4\ud06c\ub9bd\ud2b8: <pre><code>#!/bin/bash\n# backup.sh - \uc2dc\uc2a4\ud15c \ubc31\uc5c5 \uc790\ub3d9\ud654\n\nBACKUP_DIR=\"/backup\"\nDATE=$(date +%Y%m%d_%H%M%S)\nSOURCE_DIRS=\"/etc /home /var/www\"\n\n# \ubc31\uc5c5 \ub514\ub809\ud1a0\ub9ac \uc0dd\uc131\nmkdir -p $BACKUP_DIR\n\n# \ubc31\uc5c5 \uc218\ud589\ntar -czf \"$BACKUP_DIR/backup_$DATE.tar.gz\" $SOURCE_DIRS\n\n# 7\uc77c \uc774\uc0c1 \ub41c \ubc31\uc5c5 \uc0ad\uc81c\nfind $BACKUP_DIR -name \"backup_*.tar.gz\" -mtime +7 -delete\n\necho \"Backup completed: backup_$DATE.tar.gz\"\n</code></pre></p> <p>2. \ub2e4\uc911 \uc11c\ubc84 \uc0ac\uc6a9\uc790 \uc0dd\uc131 \uc2a4\ud06c\ub9bd\ud2b8: <pre><code>#!/bin/bash\n# create_users.sh - \uc5ec\ub7ec \uc11c\ubc84\uc5d0 \uc0ac\uc6a9\uc790 \uc0dd\uc131\n\nSERVERS=(\n    \"server1.example.com\"\n    \"server2.example.com\"\n    \"server3.example.com\"\n)\n\nUSERNAME=\"newuser\"\nPUBLIC_KEY=$(cat ~/.ssh/id_rsa.pub)\n\nfor server in \"${SERVERS[@]}\"; do\n    echo \"Creating user on $server...\"\n\n    ssh root@$server &lt;&lt; EOF\n        # \uc0ac\uc6a9\uc790 \uc0dd\uc131\n        useradd -m -s /bin/bash $USERNAME\n\n        # SSH \ud0a4 \uc124\uc815\n        mkdir -p /home/$USERNAME/.ssh\n        echo \"$PUBLIC_KEY\" &gt; /home/$USERNAME/.ssh/authorized_keys\n        chown -R $USERNAME:$USERNAME /home/$USERNAME/.ssh\n        chmod 700 /home/$USERNAME/.ssh\n        chmod 600 /home/$USERNAME/.ssh/authorized_keys\n\n        # sudo \uad8c\ud55c \ubd80\uc5ec\n        echo \"$USERNAME ALL=(ALL) NOPASSWD:ALL\" &gt; /etc/sudoers.d/$USERNAME\n\n        echo \"User $USERNAME created successfully\"\nEOF\ndone\n</code></pre></p> <p>3. \ub85c\uadf8 \ubd84\uc11d \uc2a4\ud06c\ub9bd\ud2b8: <pre><code>#!/bin/bash\n# analyze_logs.sh - \ub85c\uadf8 \ud30c\uc77c \ubd84\uc11d \ubc0f \uc694\uc57d\n\nLOG_FILE=\"/var/log/nginx/access.log\"\nREPORT_FILE=\"/tmp/log_report_$(date +%Y%m%d).txt\"\n\necho \"Log Analysis Report - $(date)\" &gt; $REPORT_FILE\necho \"================================\" &gt;&gt; $REPORT_FILE\necho \"\" &gt;&gt; $REPORT_FILE\n\n# \ucd1d \uc694\uccad \uc218\necho \"Total Requests: $(wc -l &lt; $LOG_FILE)\" &gt;&gt; $REPORT_FILE\n\n# \uace0\uc720 IP \uc218\necho \"Unique IPs: $(awk '{print $1}' $LOG_FILE | sort -u | wc -l)\" &gt;&gt; $REPORT_FILE\n\n# \uc0c1\uc704 10\uac1c IP\necho \"\" &gt;&gt; $REPORT_FILE\necho \"Top 10 IPs:\" &gt;&gt; $REPORT_FILE\nawk '{print $1}' $LOG_FILE | sort | uniq -c | sort -rn | head -10 &gt;&gt; $REPORT_FILE\n\n# \uc0c1\uc704 10\uac1c \uc694\uccad URL\necho \"\" &gt;&gt; $REPORT_FILE\necho \"Top 10 URLs:\" &gt;&gt; $REPORT_FILE\nawk '{print $7}' $LOG_FILE | sort | uniq -c | sort -rn | head -10 &gt;&gt; $REPORT_FILE\n\n# HTTP \uc0c1\ud0dc \ucf54\ub4dc \ubd84\ud3ec\necho \"\" &gt;&gt; $REPORT_FILE\necho \"HTTP Status Codes:\" &gt;&gt; $REPORT_FILE\nawk '{print $9}' $LOG_FILE | sort | uniq -c | sort -rn &gt;&gt; $REPORT_FILE\n\ncat $REPORT_FILE\n</code></pre></p> <p>4. \uc2dc\uc2a4\ud15c \ud5ec\uc2a4 \uccb4\ud06c \uc2a4\ud06c\ub9bd\ud2b8: <pre><code>#!/bin/bash\n# health_check.sh - \uc2dc\uc2a4\ud15c \uc0c1\ud0dc \ubaa8\ub2c8\ud130\ub9c1\n\n# CPU \uc0ac\uc6a9\ub960 \uccb4\ud06c (80% \uc774\uc0c1 \uacbd\uace0)\nCPU_USAGE=$(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}' | cut -d'%' -f1)\nif (( $(echo \"$CPU_USAGE &gt; 80\" | bc -l) )); then\n    echo \"WARNING: High CPU usage: $CPU_USAGE%\"\nfi\n\n# \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960 \uccb4\ud06c (90% \uc774\uc0c1 \uacbd\uace0)\nMEMORY_USAGE=$(free | grep Mem | awk '{print ($3/$2) * 100.0}')\nif (( $(echo \"$MEMORY_USAGE &gt; 90\" | bc -l) )); then\n    echo \"WARNING: High memory usage: $MEMORY_USAGE%\"\nfi\n\n# \ub514\uc2a4\ud06c \uc0ac\uc6a9\ub960 \uccb4\ud06c (90% \uc774\uc0c1 \uacbd\uace0)\ndf -H | grep -vE '^Filesystem|tmpfs|cdrom' | awk '{print $5 \" \" $1}' | while read output;\ndo\n    usage=$(echo $output | awk '{print $1}' | cut -d'%' -f1)\n    partition=$(echo $output | awk '{print $2}')\n    if [ $usage -ge 90 ]; then\n        echo \"WARNING: Disk usage on $partition: $usage%\"\n    fi\ndone\n\n# \uc911\uc694 \uc11c\ube44\uc2a4 \uc0c1\ud0dc \uccb4\ud06c\nSERVICES=(\"nginx\" \"mysql\" \"redis\")\nfor service in \"${SERVICES[@]}\"; do\n    if ! systemctl is-active --quiet $service; then\n        echo \"ERROR: Service $service is not running\"\n    fi\ndone\n</code></pre></p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#cron","title":"Cron\uc744 \uc774\uc6a9\ud55c \uc791\uc5c5 \uc2a4\ucf00\uc904\ub9c1","text":"<pre><code># Crontab \ud3b8\uc9d1\ncrontab -e\n\n# Cron \uc791\uc5c5 \uc608\uc81c\n# \ubd84 \uc2dc \uc77c \uc6d4 \uc694\uc77c \uba85\ub839\uc5b4\n# \ub9e4\uc77c \uc624\uc804 2\uc2dc\uc5d0 \ubc31\uc5c5\n0 2 * * * /usr/local/bin/backup.sh\n\n# \ub9e4\uc2dc\uac04 \ub85c\uadf8 \ub85c\ud14c\uc774\uc158\n0 * * * * /usr/sbin/logrotate /etc/logrotate.conf\n\n# 5\ubd84\ub9c8\ub2e4 \ud5ec\uc2a4 \uccb4\ud06c\n*/5 * * * * /usr/local/bin/health_check.sh\n\n# \ub9e4\uc8fc \uc6d4\uc694\uc77c \uc624\uc804 3\uc2dc\uc5d0 \uc2dc\uc2a4\ud15c \uc5c5\ub370\uc774\ud2b8\n0 3 * * 1 /usr/bin/apt update &amp;&amp; /usr/bin/apt upgrade -y\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#3","title":"3. \uc2dc\uc2a4\ud15c \uc131\ub2a5 \ubd84\uc11d","text":""},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_9","title":"\ud544\uc218 \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ub3c4\uad6c","text":"<p>1. Top / Htop / Atop</p> <pre><code># top - \uae30\ubcf8 \ud504\ub85c\uc138\uc2a4 \ubaa8\ub2c8\ud130\ntop\n\n# \uc8fc\uc694 \ub2e8\ucd95\ud0a4:\n# P - CPU \uc0ac\uc6a9\ub960\ub85c \uc815\ub82c\n# M - \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960\ub85c \uc815\ub82c\n# k - \ud504\ub85c\uc138\uc2a4 \uc885\ub8cc\n# 1 - \uac1c\ubcc4 CPU \ucf54\uc5b4 \ud45c\uc2dc\n\n# htop - \ud5a5\uc0c1\ub41c \ub300\ud654\ud615 \ud504\ub85c\uc138\uc2a4 \ubdf0\uc5b4\nhtop\n\n# atop - \ub514\uc2a4\ud06c I/O \ud3ec\ud568\natop\n</code></pre> <p>2. Vmstat - \uc2dc\uc2a4\ud15c \ub9ac\uc18c\uc2a4 \ud1b5\uacc4</p> <pre><code># 1\ucd08 \uac04\uaca9\uc73c\ub85c \ud1b5\uacc4 \ucd9c\ub825\nvmstat 1\n\n# \ucd9c\ub825 \ud544\ub4dc \uc124\uba85:\n# r: \uc2e4\ud589 \ub300\uae30 \uc911\uc778 \ud504\ub85c\uc138\uc2a4\n# b: \ube14\ub85d I/O \ub300\uae30 \uc911\uc778 \ud504\ub85c\uc138\uc2a4\n# swpd: \uc0ac\uc6a9 \uc911\uc778 \uc2a4\uc651 \uba54\ubaa8\ub9ac\n# free: \uc5ec\uc720 \uba54\ubaa8\ub9ac\n# buff/cache: \ubc84\ud37c\uc640 \uce90\uc2dc \uba54\ubaa8\ub9ac\n# si/so: \uc2a4\uc651 \uc778/\uc544\uc6c3\n# bi/bo: \ube14\ub85d \uc785/\ucd9c\ub825\n# in: \uc778\ud130\ub7fd\ud2b8 \uc218\n# cs: \ucee8\ud14d\uc2a4\ud2b8 \uc2a4\uc704\uce6d \uc218\n# us/sy/id/wa: CPU \uc2dc\uac04 \ubd84\ud3ec\n</code></pre> <p>3. Iostat - \ub514\uc2a4\ud06c I/O \ud1b5\uacc4</p> <pre><code># \ud655\uc7a5 \ud1b5\uacc4 \ud45c\uc2dc (1\ucd08 \uac04\uaca9)\niostat -x 1\n\n# \uc8fc\uc694 \uba54\ud2b8\ub9ad:\n# r/s, w/s: \ucd08\ub2f9 \uc77d\uae30/\uc4f0\uae30 \uc694\uccad\n# rkB/s, wkB/s: \ucd08\ub2f9 \uc77d\uae30/\uc4f0\uae30 KB\n# await: \ud3c9\uade0 \ub300\uae30 \uc2dc\uac04 (ms)\n# %util: \ub514\uc2a4\ud06c \uc0ac\uc6a9\ub960\n</code></pre> <p>4. Iotop - \ud504\ub85c\uc138\uc2a4\ubcc4 I/O \ubaa8\ub2c8\ud130\ub9c1</p> <pre><code># \uc2e4\uc2dc\uac04 \ud504\ub85c\uc138\uc2a4\ubcc4 I/O \ubaa8\ub2c8\ud130\ub9c1\niotop\n\n# \uc4f0\uae30 \uc791\uc5c5\ub9cc \ud45c\uc2dc\niotop -o\n</code></pre> <p>5. Dstat - \ud1b5\ud569 \uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1</p> <pre><code># \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 (\uceec\ub7ec \ucd9c\ub825)\ndstat\n\n# CPU, \ub514\uc2a4\ud06c, \ub124\ud2b8\uc6cc\ud06c, \uba54\ubaa8\ub9ac \ud1b5\uacc4\ndstat -cdnm\n\n# \ud2b9\uc815 \ub514\uc2a4\ud06c \ubaa8\ub2c8\ud130\ub9c1\ndstat -D sda,sdb\n</code></pre> <p>6. Sar - \uc2dc\uc2a4\ud15c \ud65c\ub3d9 \ub9ac\ud3ec\ud2b8</p> <pre><code># CPU \uc0ac\uc6a9\ub960 (1\ucd08 \uac04\uaca9, 10\ud68c)\nsar -u 1 10\n\n# \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960\nsar -r 1 10\n\n# \ub514\uc2a4\ud06c I/O\nsar -d 1 10\n\n# \ub124\ud2b8\uc6cc\ud06c \ud1b5\uacc4\nsar -n DEV 1 10\n\n# \uacfc\uac70 \ub370\uc774\ud130 \ud655\uc778\nsar -f /var/log/sysstat/sa$(date +%d)\n</code></pre> <p>7. Nmon - \uc885\ud569 \uc131\ub2a5 \ubaa8\ub2c8\ud130</p> <pre><code># Nmon \uc2e4\ud589\nnmon\n\n# \uc778\ud130\ub799\ud2f0\ube0c \ud0a4:\n# c - CPU\n# m - Memory\n# d - Disk\n# n - Network\n# t - Top processes\n</code></pre> <p>8. Glances - \uc6f9 \uae30\ubc18 \ubaa8\ub2c8\ud130\ub9c1</p> <pre><code># Glances \uc2e4\ud589\nglances\n\n# \uc6f9 \uc11c\ubc84 \ubaa8\ub4dc\nglances -w\n\n# \ud2b9\uc815 \ud3ec\ud2b8\ub85c \uc6f9 \uc11c\ubc84 \uc2e4\ud589\nglances -w --port 8080\n</code></pre> <p>9. Netdata - \uc2e4\uc2dc\uac04 \uc131\ub2a5 \ub300\uc2dc\ubcf4\ub4dc</p> <pre><code># Netdata \uc124\uce58 \ubc0f \uc2e4\ud589\nbash &lt;(curl -Ss https://my-netdata.io/kickstart.sh)\n\n# \uc6f9 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc811\uc18d\n# http://localhost:19999\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_10","title":"\uc131\ub2a5 \ubcd1\ubaa9 \ud604\uc0c1 \uc2dd\ubcc4","text":"<p>CPU \ubcd1\ubaa9: <pre><code># CPU \ubd80\ud558 \ud655\uc778\nuptime\n# load average\uac00 CPU \ucf54\uc5b4 \uc218\ubcf4\ub2e4 \ub192\uc73c\uba74 \ubcd1\ubaa9\n\n# CPU\ub97c \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uc138\uc2a4\nps aux --sort=-%cpu | head -10\n\n# \ud504\ub85c\uc138\uc2a4\ubcc4 CPU \uc0ac\uc6a9 \ub0b4\uc5ed\npidstat -u 1\n</code></pre></p> <p>\uba54\ubaa8\ub9ac \ubcd1\ubaa9: <pre><code># \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 \uc0c1\uc138\nfree -m\ncat /proc/meminfo\n\n# \uba54\ubaa8\ub9ac\ub97c \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uc138\uc2a4\nps aux --sort=-%mem | head -10\n\n# \uc2a4\uc651 \uc0ac\uc6a9 \ud655\uc778\nswapon -s\nvmstat 1 | awk '{print $7, $8}'  # si/so \uac12\uc774 \ub192\uc73c\uba74 \uc2a4\uc651 \ubcd1\ubaa9\n</code></pre></p> <p>\ub514\uc2a4\ud06c I/O \ubcd1\ubaa9: <pre><code># I/O \ub300\uae30 \uc2dc\uac04 \ud655\uc778\niostat -x 1\n# await &gt; 10ms \uc774\uba74 \ub290\ub9bc\n# %util &gt; 80% \uc774\uba74 \ud3ec\ud654 \uc0c1\ud0dc\n\n# I/O\ub97c \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 \ud504\ub85c\uc138\uc2a4\niotop -o\n\n# \ub514\uc2a4\ud06c\ubcc4 I/O \ud1b5\uacc4\ndstat -d -D sda,sdb\n</code></pre></p> <p>\ub124\ud2b8\uc6cc\ud06c \ubcd1\ubaa9: <pre><code># \ub124\ud2b8\uc6cc\ud06c \ub300\uc5ed\ud3ed \uc0ac\uc6a9\ub7c9\niftop\n\n# \uc5f0\uacb0 \uc0c1\ud0dc \ud1b5\uacc4\nss -s\n\n# \ub124\ud2b8\uc6cc\ud06c \uc624\ub958 \ud655\uc778\nnetstat -i\nip -s link\n</code></pre></p>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_11","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#1-linux_1","title":"\uc2e4\uc2b5 1: Linux \uc2dc\uc2a4\ud15c \ucd08\uae30 \uc124\uc815","text":"<p>\ubaa9\ud45c: \uc0c8\ub85c\uc6b4 Linux \uc11c\ubc84\ub97c \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0 \ub9de\uac8c \uc124\uc815</p> <pre><code># 1. \uc2dc\uc2a4\ud15c \uc5c5\ub370\uc774\ud2b8\napt update &amp;&amp; apt upgrade -y\n\n# 2. \ud544\uc218 \ud328\ud0a4\uc9c0 \uc124\uce58\napt install -y \\\n    vim \\\n    git \\\n    curl \\\n    wget \\\n    htop \\\n    iotop \\\n    net-tools \\\n    dstat \\\n    sysstat\n\n# 3. \ud0c0\uc784\uc874 \uc124\uc815\ntimedatectl set-timezone Asia/Seoul\n\n# 4. hostname \uc124\uc815\nhostnamectl set-hostname web-server-01\n\n# 5. swap \uc124\uc815 (\uba54\ubaa8\ub9ac\uc758 2\ubc30)\nfallocate -l 4G /swapfile\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho '/swapfile none swap sw 0 0' &gt;&gt; /etc/fstab\n\n# 6. \ubc29\ud654\ubcbd \uc124\uc815 (UFW)\nufw allow 22/tcp    # SSH\nufw allow 80/tcp    # HTTP\nufw allow 443/tcp   # HTTPS\nufw enable\n\n# 7. \uc790\ub3d9 \ubcf4\uc548 \uc5c5\ub370\uc774\ud2b8 \ud65c\uc131\ud654\napt install unattended-upgrades\ndpkg-reconfigure -plow unattended-upgrades\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#2","title":"\uc2e4\uc2b5 2: \ub85c\uadf8 \uad00\ub9ac \ubc0f \ub85c\ud14c\uc774\uc158","text":"<p>\ubaa9\ud45c: \ub85c\uadf8 \ub85c\ud14c\uc774\uc158\uc744 \uc124\uc815\ud558\uc5ec \ub514\uc2a4\ud06c \uacf5\uac04 \uad00\ub9ac</p> <pre><code># /etc/logrotate.d/custom-app \ud30c\uc77c \uc0dd\uc131\ncat &gt; /etc/logrotate.d/custom-app &lt;&lt; 'EOF'\n/var/log/myapp/*.log {\n    daily                    # \ub9e4\uc77c \ub85c\ud14c\uc774\uc158\n    rotate 7                 # 7\uac1c \ubcf4\uad00\n    compress                 # \uc555\ucd95\n    delaycompress           # \ub2e4\uc74c \ub85c\ud14c\uc774\uc158 \uc2dc \uc555\ucd95\n    missingok               # \ud30c\uc77c \uc5c6\uc5b4\ub3c4 \uc5d0\ub7ec \uc5c6\uc74c\n    notifempty              # \ube48 \ud30c\uc77c\uc740 \ub85c\ud14c\uc774\ud2b8 \uc548\ud568\n    create 0640 www-data www-data\n    sharedscripts\n    postrotate\n        systemctl reload nginx &gt; /dev/null 2&gt;&amp;1 || true\n    endscript\n}\nEOF\n\n# \ub85c\uadf8 \ub85c\ud14c\uc774\uc158 \ud14c\uc2a4\ud2b8\nlogrotate -d /etc/logrotate.d/custom-app\n\n# \uac15\uc81c \ub85c\ud14c\uc774\uc158\nlogrotate -f /etc/logrotate.d/custom-app\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#3_1","title":"\uc2e4\uc2b5 3: \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ub300\uc2dc\ubcf4\ub4dc \uad6c\ucd95","text":"<p>\ubaa9\ud45c: Netdata\ub97c \uc0ac\uc6a9\ud55c \uc2e4\uc2dc\uac04 \ubaa8\ub2c8\ud130\ub9c1 \ud658\uacbd \uad6c\ucd95</p> <pre><code># Netdata \uc124\uce58\nbash &lt;(curl -Ss https://my-netdata.io/kickstart.sh)\n\n# Nginx \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc \uc124\uc815 (\uc120\ud0dd\uc0ac\ud56d)\ncat &gt; /etc/nginx/sites-available/netdata &lt;&lt; 'EOF'\nupstream netdata {\n    server 127.0.0.1:19999;\n    keepalive 64;\n}\n\nserver {\n    listen 80;\n    server_name monitoring.example.com;\n\n    location / {\n        proxy_pass http://netdata;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $host;\n    }\n}\nEOF\n\nln -s /etc/nginx/sites-available/netdata /etc/nginx/sites-enabled/\nsystemctl reload nginx\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#4","title":"\uc2e4\uc2b5 4: \uc790\ub3d9\ud654\ub41c \ubc31\uc5c5 \uc2dc\uc2a4\ud15c","text":"<p>\ubaa9\ud45c: \uc790\ub3d9 \ubc31\uc5c5 \ubc0f \uc6d0\uaca9 \uc800\uc7a5\uc18c\ub85c \uc804\uc1a1</p> <pre><code>#!/bin/bash\n# /usr/local/bin/automated_backup.sh\n\nBACKUP_DIR=\"/backup\"\nDATE=$(date +%Y%m%d_%H%M%S)\nREMOTE_SERVER=\"backup-server.example.com\"\nREMOTE_DIR=\"/backup/web-server\"\n\n# \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubc31\uc5c5\nmysqldump -u root -p$DB_PASSWORD --all-databases | gzip &gt; \"$BACKUP_DIR/db_$DATE.sql.gz\"\n\n# \ud30c\uc77c \ubc31\uc5c5\ntar -czf \"$BACKUP_DIR/files_$DATE.tar.gz\" /var/www /etc\n\n# \uc6d0\uaca9 \uc11c\ubc84\ub85c \uc804\uc1a1\nrsync -avz --delete \\\n    $BACKUP_DIR/ \\\n    backup-user@$REMOTE_SERVER:$REMOTE_DIR/\n\n# \ub85c\uceec \uc624\ub798\ub41c \ubc31\uc5c5 \uc0ad\uc81c (30\uc77c)\nfind $BACKUP_DIR -name \"*.gz\" -mtime +30 -delete\n\n# \ubc31\uc5c5 \uc131\uacf5 \uc54c\ub9bc\necho \"Backup completed at $(date)\" | mail -s \"Backup Success\" admin@example.com\n</code></pre> <pre><code># Cron \uc791\uc5c5 \ub4f1\ub85d (\ub9e4\uc77c \uc0c8\ubcbd 2\uc2dc)\necho \"0 2 * * * /usr/local/bin/automated_backup.sh\" | crontab -\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_12","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_13","title":"\uc885\ud569 \uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud06c\ub9bd\ud2b8","text":"<pre><code>#!/bin/bash\n# system_monitor.sh - \uc885\ud569 \uc2dc\uc2a4\ud15c \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc54c\ub9bc\n\n# \uc124\uc815\nADMIN_EMAIL=\"admin@example.com\"\nCPU_THRESHOLD=80\nMEMORY_THRESHOLD=90\nDISK_THRESHOLD=85\n\n# \ub85c\uadf8 \ud30c\uc77c\nLOG_FILE=\"/var/log/system_monitor.log\"\n\n# \ud568\uc218: \ub85c\uadf8 \uae30\ub85d\nlog_message() {\n    echo \"[$(date '+%Y-%m-%d %H:%M:%S')] $1\" &gt;&gt; $LOG_FILE\n}\n\n# \ud568\uc218: \uc54c\ub9bc \uc804\uc1a1\nsend_alert() {\n    local subject=\"$1\"\n    local message=\"$2\"\n    echo \"$message\" | mail -s \"$subject\" $ADMIN_EMAIL\n    log_message \"ALERT: $subject\"\n}\n\n# CPU \ubaa8\ub2c8\ud130\ub9c1\ncheck_cpu() {\n    local cpu_usage=$(top -bn1 | grep \"Cpu(s)\" | awk '{print $2}' | cut -d'%' -f1 | cut -d'.' -f1)\n\n    if [ $cpu_usage -gt $CPU_THRESHOLD ]; then\n        local top_processes=$(ps aux --sort=-%cpu | head -6 | tail -5)\n        send_alert \"High CPU Usage: ${cpu_usage}%\" \\\n            \"CPU usage is at ${cpu_usage}%\\n\\nTop Processes:\\n$top_processes\"\n    fi\n}\n\n# \uba54\ubaa8\ub9ac \ubaa8\ub2c8\ud130\ub9c1\ncheck_memory() {\n    local memory_usage=$(free | grep Mem | awk '{printf(\"%.0f\", ($3/$2) * 100)}')\n\n    if [ $memory_usage -gt $MEMORY_THRESHOLD ]; then\n        local top_processes=$(ps aux --sort=-%mem | head -6 | tail -5)\n        send_alert \"High Memory Usage: ${memory_usage}%\" \\\n            \"Memory usage is at ${memory_usage}%\\n\\nTop Processes:\\n$top_processes\"\n    fi\n}\n\n# \ub514\uc2a4\ud06c \ubaa8\ub2c8\ud130\ub9c1\ncheck_disk() {\n    df -H | grep -vE '^Filesystem|tmpfs|cdrom' | while read output; do\n        usage=$(echo $output | awk '{print $5}' | cut -d'%' -f1)\n        partition=$(echo $output | awk '{print $1}')\n\n        if [ $usage -gt $DISK_THRESHOLD ]; then\n            send_alert \"High Disk Usage on $partition: ${usage}%\" \\\n                \"Disk usage on $partition is at ${usage}%\\n\\n$(df -h $partition)\"\n        fi\n    done\n}\n\n# \uc11c\ube44\uc2a4 \ubaa8\ub2c8\ud130\ub9c1\ncheck_services() {\n    local services=(\"nginx\" \"mysql\" \"redis-server\")\n\n    for service in \"${services[@]}\"; do\n        if ! systemctl is-active --quiet $service 2&gt;/dev/null; then\n            send_alert \"Service Down: $service\" \\\n                \"Service $service is not running\\n\\n$(systemctl status $service)\"\n        fi\n    done\n}\n\n# \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ubaa8\ub2c8\ud130\ub9c1\ncheck_network() {\n    local test_hosts=(\"8.8.8.8\" \"1.1.1.1\")\n    local failed=0\n\n    for host in \"${test_hosts[@]}\"; do\n        if ! ping -c 2 $host &amp;&gt; /dev/null; then\n            ((failed++))\n        fi\n    done\n\n    if [ $failed -eq ${#test_hosts[@]} ]; then\n        send_alert \"Network Connectivity Issue\" \\\n            \"Unable to reach external hosts\\n\\n$(ip route show)\\n\\n$(ip addr show)\"\n    fi\n}\n\n# \uba54\uc778 \uc2e4\ud589\nmain() {\n    log_message \"Starting system monitoring\"\n\n    check_cpu\n    check_memory\n    check_disk\n    check_services\n    check_network\n\n    log_message \"System monitoring completed\"\n}\n\nmain\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_14","title":"\uc0ac\uc6a9\uc790 \uad00\ub9ac \uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8","text":"<pre><code>#!/bin/bash\n# user_management.sh - \uc0ac\uc6a9\uc790 \uc0dd\uc131/\uc0ad\uc81c \uc790\ub3d9\ud654\n\n# \uc0ac\uc6a9\uc790 \uc0dd\uc131\ncreate_user() {\n    local username=$1\n    local public_key=$2\n\n    # \uc0ac\uc6a9\uc790 \uc0dd\uc131\n    useradd -m -s /bin/bash $username\n\n    # SSH \ub514\ub809\ud1a0\ub9ac \ubc0f \ud0a4 \uc124\uc815\n    mkdir -p /home/$username/.ssh\n    echo \"$public_key\" &gt; /home/$username/.ssh/authorized_keys\n    chown -R $username:$username /home/$username/.ssh\n    chmod 700 /home/$username/.ssh\n    chmod 600 /home/$username/.ssh/authorized_keys\n\n    # sudo \uad8c\ud55c \ubd80\uc5ec (\uc120\ud0dd\uc0ac\ud56d)\n    echo \"$username ALL=(ALL) NOPASSWD:ALL\" &gt; /etc/sudoers.d/$username\n    chmod 440 /etc/sudoers.d/$username\n\n    echo \"User $username created successfully\"\n}\n\n# \uc0ac\uc6a9\uc790 \uc0ad\uc81c\ndelete_user() {\n    local username=$1\n\n    # \uc0ac\uc6a9\uc790 \uc0ad\uc81c (\ud648 \ub514\ub809\ud1a0\ub9ac \ud3ec\ud568)\n    userdel -r $username\n\n    # sudoers \ud30c\uc77c \uc0ad\uc81c\n    rm -f /etc/sudoers.d/$username\n\n    echo \"User $username deleted successfully\"\n}\n\n# \uc0ac\uc6a9\uc790 \ubaa9\ub85d \ud45c\uc2dc\nlist_users() {\n    echo \"System Users:\"\n    awk -F: '$3 &gt;= 1000 &amp;&amp; $1 != \"nobody\" {print $1}' /etc/passwd\n}\n\n# \uba54\ub274 \ud45c\uc2dc\nshow_menu() {\n    echo \"================================\"\n    echo \" User Management Script\"\n    echo \"================================\"\n    echo \"1. Create User\"\n    echo \"2. Delete User\"\n    echo \"3. List Users\"\n    echo \"4. Exit\"\n    echo \"================================\"\n}\n\n# \uba54\uc778 \ub8e8\ud504\nwhile true; do\n    show_menu\n    read -p \"Select option: \" option\n\n    case $option in\n        1)\n            read -p \"Enter username: \" username\n            read -p \"Enter SSH public key: \" public_key\n            create_user \"$username\" \"$public_key\"\n            ;;\n        2)\n            read -p \"Enter username to delete: \" username\n            read -p \"Are you sure? (yes/no): \" confirm\n            if [ \"$confirm\" = \"yes\" ]; then\n                delete_user \"$username\"\n            fi\n            ;;\n        3)\n            list_users\n            ;;\n        4)\n            echo \"Exiting...\"\n            exit 0\n            ;;\n        *)\n            echo \"Invalid option\"\n            ;;\n    esac\n\n    echo\ndone\n</code></pre>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_15","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_16","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>Linux Documentation Project</li> <li>Red Hat Enterprise Linux Documentation</li> <li>Ubuntu Server Guide</li> <li>Arch Linux Wiki (\ub9e4\uc6b0 \uc0c1\uc138\ud55c \ub808\ud37c\ub7f0\uc2a4)</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_17","title":"\ud559\uc2b5 \uc790\ub8cc","text":"<ul> <li>Linux System Administration Guide</li> <li>Advanced Bash-Scripting Guide</li> <li>Linux Performance - Brendan Gregg\uc758 \uc131\ub2a5 \ud29c\ub2dd \uac00\uc774\ub4dc</li> <li>Linux Journal</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_18","title":"\ub3c4\uad6c \ubb38\uc11c","text":"<ul> <li>Systemd Documentation</li> <li>Netdata Documentation</li> <li>Prometheus Node Exporter</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_19","title":"\uc628\ub77c\uc778 \uac15\uc88c","text":"<ul> <li>Linux Foundation - Linux System Administration Essentials (LFS207)</li> <li>Udemy - Linux Administration Bootcamp</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_20","title":"\ucee4\ubba4\ub2c8\ud2f0","text":"<ul> <li>r/linuxadmin</li> <li>Server Fault</li> <li>Linux Questions</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#2025","title":"\ubaa8\ubc94 \uc0ac\ub840 (2025)","text":"<ul> <li>CyberPanel - 10 Linux System Administration Practices for 2025</li> <li>Linux System Administration Best Practices (UPenn)</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_21","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Linux \ud30c\uc77c\uc2dc\uc2a4\ud15c \uad6c\uc870 \uc774\ud574 \ubc0f \uad00\ub9ac \uac00\ub2a5</li> <li> LVM\uc744 \uc0ac\uc6a9\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \uad00\ub9ac</li> <li> Systemd\ub97c \uc0ac\uc6a9\ud55c \uc11c\ube44\uc2a4 \uad00\ub9ac</li> <li> \ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> <li> Bash \uc2a4\ud06c\ub9bd\ud2b8 \uc791\uc131 \ub2a5\ub825</li> <li> \ubc18\ubcf5 \uc791\uc5c5 \uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8 \uac1c\ubc1c</li> <li> Cron\uc744 \uc0ac\uc6a9\ud55c \uc2a4\ucf00\uc904\ub9c1</li> <li> top, htop, vmstat \ub4f1 \uae30\ubcf8 \ubaa8\ub2c8\ud130\ub9c1 \ub3c4\uad6c \uc0ac\uc6a9</li> <li> iostat, iotop\uc73c\ub85c \ub514\uc2a4\ud06c I/O \ubd84\uc11d</li> <li> \uc131\ub2a5 \ubcd1\ubaa9 \ud604\uc0c1 \uc2dd\ubcc4 \ubc0f \ud574\uacb0</li> <li> \ub85c\uadf8 \uad00\ub9ac \ubc0f \ubd84\uc11d</li> <li> \uc2dc\uc2a4\ud15c \ubc31\uc5c5 \ubc0f \ubcf5\uad6c \uc804\ub7b5 \uc218\ub9bd</li> </ul>"},{"location":"common-skills/Ch1.Linux_%EC%9A%B4%EC%98%81/#_22","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Linux \uc6b4\uc601 \uae30\ucd08\ub97c \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch2. Python/GO \ud504\ub85c\uadf8\ub798\ubc0d\uc73c\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/","title":"Ch2. \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 (Python / GO)","text":""},{"location":"common-skills/Ch2.Python_GO/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ud074\ub77c\uc6b0\ub4dc \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc5d0\uc11c Python\uacfc GO\ub294 \uac00\uc7a5 \ub110\ub9ac \uc0ac\uc6a9\ub418\ub294 \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4\uc785\ub2c8\ub2e4. Python\uc740 \ube60\ub978 \ud504\ub85c\ud1a0\ud0c0\uc774\ud551\uacfc \ud48d\ubd80\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac \uc0dd\ud0dc\uacc4\ub85c, GO\ub294 \ub6f0\uc5b4\ub09c \ub3d9\uc2dc\uc131 \ucc98\ub9ac\uc640 \uc131\ub2a5\uc73c\ub85c \uac01\uad11\ubc1b\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch2.Python_GO/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Python \ub610\ub294 GO\ub97c \ud65c\uc6a9\ud55c RESTful API \ubc31\uc5d4\ub4dc \uc124\uacc4 \ubc0f \uac1c\ubc1c</li> <li>\ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d\uc744 \ud1b5\ud55c \uace0\uc131\ub2a5 API \uc11c\ubc84 \uad6c\ud604</li> <li>gRPC\ub97c \uc0ac\uc6a9\ud55c \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 \uad6c\ud604</li> <li>\ud14c\uc2a4\ud2b8 \uc8fc\ub3c4 \uac1c\ubc1c(TDD) \uc801\uc6a9</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/#part-1-python","title":"\ud83d\udc0d Part 1: Python","text":""},{"location":"common-skills/Ch2.Python_GO/#1-python-asyncio","title":"1. Python \ube44\ub3d9\uae30 \ud504\ub85c\uadf8\ub798\ubc0d (Asyncio)","text":""},{"location":"common-skills/Ch2.Python_GO/#asyncio","title":"Asyncio \uac1c\ub150","text":"<p>**Asyncio**\ub294 Python 3.4\ubd80\ud130 \ucd94\uac00\ub41c \ube44\ub3d9\uae30 I/O \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c, \ub2e8\uc77c \uc2a4\ub808\ub4dc\uc5d0\uc11c \ub3d9\uc2dc\uc131 \ucf54\ub4dc\ub97c \uc791\uc131\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4.</p> <p>\ud575\uc2ec \uac1c\ub150:</p> <ul> <li>Coroutine (\ucf54\ub8e8\ud2f4): <code>async def</code>\ub85c \uc815\uc758\ub41c \ube44\ub3d9\uae30 \ud568\uc218</li> <li>Event Loop: \ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \uad00\ub9ac\ud558\uace0 \uc2e4\ud589\ud558\ub294 \ub8e8\ud504</li> <li>Task: \uc774\ubca4\ud2b8 \ub8e8\ud504\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \ucf54\ub8e8\ud2f4</li> <li>Future: \uc544\uc9c1 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc740 \uc791\uc5c5\uc758 \uacb0\uacfc</li> </ul> <p>\uc5b8\uc81c Asyncio\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub098? (2025 Best Practice) - \u2705 I/O \ubc14\uc6b4\ub4dc \uc791\uc5c5 (\ub124\ud2b8\uc6cc\ud06c \uc694\uccad, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ucffc\ub9ac, \ud30c\uc77c I/O) - \u2705 \ub9ce\uc740 \uc218\uc758 \ub3d9\uc2dc \uc5f0\uacb0 \ucc98\ub9ac - \u274c CPU \ubc14\uc6b4\ub4dc \uc791\uc5c5 (\uacc4\uc0b0 \uc9d1\uc57d\uc801\uc778 \uc791\uc5c5\uc740 multiprocessing \uc0ac\uc6a9)</p>"},{"location":"common-skills/Ch2.Python_GO/#asyncio_1","title":"\uae30\ubcf8 Asyncio \uc608\uc81c","text":"<pre><code>import asyncio\nimport time\n\n# \ub3d9\uae30 \ubc29\uc2dd (\uc21c\ucc28 \uc2e4\ud589)\ndef sync_task(name, duration):\n    print(f\"{name} starting...\")\n    time.sleep(duration)\n    print(f\"{name} completed!\")\n    return f\"Result from {name}\"\n\n# \ube44\ub3d9\uae30 \ubc29\uc2dd (\ub3d9\uc2dc \uc2e4\ud589)\nasync def async_task(name, duration):\n    print(f\"{name} starting...\")\n    await asyncio.sleep(duration)  # time.sleep() \ub300\uc2e0 asyncio.sleep() \uc0ac\uc6a9!\n    print(f\"{name} completed!\")\n    return f\"Result from {name}\"\n\n# \uc5ec\ub7ec \uc791\uc5c5 \ub3d9\uc2dc \uc2e4\ud589\nasync def main():\n    # 3\uac1c\uc758 \uc791\uc5c5\uc744 \ub3d9\uc2dc\uc5d0 \uc2e4\ud589\n    tasks = [\n        async_task(\"Task 1\", 2),\n        async_task(\"Task 2\", 1),\n        async_task(\"Task 3\", 3)\n    ]\n\n    results = await asyncio.gather(*tasks)\n    print(f\"All results: {results}\")\n\n# \uc774\ubca4\ud2b8 \ub8e8\ud504 \uc2e4\ud589 (Python 3.7+)\nif __name__ == \"__main__\":\n    start = time.time()\n    asyncio.run(main())\n    print(f\"Total time: {time.time() - start:.2f} seconds\")\n    # \ucd9c\ub825: Total time: 3.00 seconds (\ub3d9\uae30 \ubc29\uc2dd\uc774\uc5c8\ub2e4\uba74 6\ucd08 \uc18c\uc694)\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#asyncio_2","title":"\uc2e4\uc804 Asyncio \ud328\ud134","text":"<p>1. \ube44\ub3d9\uae30 HTTP \uc694\uccad (aiohttp): <pre><code>import aiohttp\nimport asyncio\n\nasync def fetch_url(session, url):\n    async with session.get(url) as response:\n        return await response.text()\n\nasync def fetch_multiple_urls(urls):\n    async with aiohttp.ClientSession() as session:\n        tasks = [fetch_url(session, url) for url in urls]\n        results = await asyncio.gather(*tasks)\n        return results\n\n# \uc0ac\uc6a9 \uc608\uc81c\nurls = [\n    \"https://api.github.com/users/python\",\n    \"https://api.github.com/users/golang\",\n    \"https://api.github.com/users/rust-lang\"\n]\n\nresults = asyncio.run(fetch_multiple_urls(urls))\n</code></pre></p> <p>2. \ube44\ub3d9\uae30 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ucffc\ub9ac (asyncpg): <pre><code>import asyncpg\nimport asyncio\n\nasync def get_users():\n    # PostgreSQL \uc5f0\uacb0\n    conn = await asyncpg.connect(\n        user='user',\n        password='password',\n        database='mydb',\n        host='localhost'\n    )\n\n    # \ucffc\ub9ac \uc2e4\ud589\n    users = await conn.fetch('SELECT * FROM users WHERE active = $1', True)\n\n    await conn.close()\n    return users\n\n# \uc0ac\uc6a9 \uc608\uc81c\nusers = asyncio.run(get_users())\n</code></pre></p> <p>3. Producer-Consumer \ud328\ud134: <pre><code>import asyncio\nfrom asyncio import Queue\n\nasync def producer(queue: Queue, n: int):\n    for i in range(n):\n        await asyncio.sleep(0.1)  # \ub370\uc774\ud130 \uc0dd\uc131 \uc2dc\ubbac\ub808\uc774\uc158\n        await queue.put(f\"Item {i}\")\n        print(f\"Produced: Item {i}\")\n    await queue.put(None)  # \uc885\ub8cc \uc2dc\uadf8\ub110\n\nasync def consumer(queue: Queue, name: str):\n    while True:\n        item = await queue.get()\n        if item is None:\n            queue.task_done()\n            break\n        await asyncio.sleep(0.2)  # \ucc98\ub9ac \uc2dc\ubbac\ub808\uc774\uc158\n        print(f\"{name} consumed: {item}\")\n        queue.task_done()\n\nasync def main():\n    queue = Queue(maxsize=10)\n\n    # 1\uac1c\uc758 Producer, 3\uac1c\uc758 Consumer\n    await asyncio.gather(\n        producer(queue, 20),\n        consumer(queue, \"Consumer-1\"),\n        consumer(queue, \"Consumer-2\"),\n        consumer(queue, \"Consumer-3\")\n    )\n\nasyncio.run(main())\n</code></pre></p>"},{"location":"common-skills/Ch2.Python_GO/#2-fastapi-api","title":"2. FastAPI - \uace0\uc131\ub2a5 API \ud504\ub808\uc784\uc6cc\ud06c","text":""},{"location":"common-skills/Ch2.Python_GO/#fastapi","title":"FastAPI \uc18c\uac1c","text":"<p>FastAPI\ub294 2025\ub144 \ud604\uc7ac Python \ubc31\uc5d4\ub4dc \uac1c\ubc1c\uc758 Top 3 \ud504\ub808\uc784\uc6cc\ud06c \uc911 \ud558\ub098\ub85c, \ub2e4\uc74c\uacfc \uac19\uc740 \ud2b9\uc9d5\uc744 \uac00\uc9d1\ub2c8\ub2e4:</p> <ul> <li>\ube60\ub978 \uc131\ub2a5: Node.js \ubc0f Go\uc640 \ube44\uc2b7\ud55c \uc218\uc900</li> <li>\uc790\ub3d9 \ubb38\uc11c\ud654: OpenAPI (Swagger) \ubc0f ReDoc \uc790\ub3d9 \uc0dd\uc131</li> <li>\ud0c0\uc785 \uc548\uc815\uc131: Python type hints \uae30\ubc18 \uac80\uc99d</li> <li>\ube44\ub3d9\uae30 \uc9c0\uc6d0: \ub124\uc774\ud2f0\ube0c async/await \uc9c0\uc6d0</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/#fastapi_1","title":"\uae30\ubcf8 FastAPI \uc560\ud50c\ub9ac\ucf00\uc774\uc158","text":"<pre><code>from fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\nfrom typing import List, Optional\n\napp = FastAPI(\n    title=\"My API\",\n    description=\"Cloud Service API\",\n    version=\"1.0.0\"\n)\n\n# \ub370\uc774\ud130 \ubaa8\ub378 \uc815\uc758 (Pydantic)\nclass User(BaseModel):\n    id: int\n    name: str\n    email: str\n    active: bool = True\n\n# \uc778\uba54\ubaa8\ub9ac \ub370\uc774\ud130\ubca0\uc774\uc2a4 (\uc608\uc81c\uc6a9)\nusers_db = {}\n\n# GET - \ubaa8\ub4e0 \uc0ac\uc6a9\uc790 \uc870\ud68c\n@app.get(\"/users\", response_model=List[User])\nasync def get_users():\n    return list(users_db.values())\n\n# GET - \ud2b9\uc815 \uc0ac\uc6a9\uc790 \uc870\ud68c\n@app.get(\"/users/{user_id}\", response_model=User)\nasync def get_user(user_id: int):\n    if user_id not in users_db:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    return users_db[user_id]\n\n# POST - \uc0ac\uc6a9\uc790 \uc0dd\uc131\n@app.post(\"/users\", response_model=User, status_code=201)\nasync def create_user(user: User):\n    if user.id in users_db:\n        raise HTTPException(status_code=400, detail=\"User already exists\")\n    users_db[user.id] = user\n    return user\n\n# PUT - \uc0ac\uc6a9\uc790 \uc5c5\ub370\uc774\ud2b8\n@app.put(\"/users/{user_id}\", response_model=User)\nasync def update_user(user_id: int, user: User):\n    if user_id not in users_db:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    users_db[user_id] = user\n    return user\n\n# DELETE - \uc0ac\uc6a9\uc790 \uc0ad\uc81c\n@app.delete(\"/users/{user_id}\", status_code=204)\nasync def delete_user(user_id: int):\n    if user_id not in users_db:\n        raise HTTPException(status_code=404, detail=\"User not found\")\n    del users_db[user_id]\n    return None\n\n# \uc2e4\ud589: uvicorn main:app --reload\n# \ubb38\uc11c: http://localhost:8000/docs\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#fastapi-async-best-practices-2025","title":"FastAPI Async Best Practices (2025)","text":"<p>1. \uc5b8\uc81c async def\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub098?</p> <pre><code># \u2705 I/O \ubc14\uc6b4\ub4dc \uc791\uc5c5 - async def \uc0ac\uc6a9\n@app.get(\"/users/{user_id}\")\nasync def get_user(user_id: int):\n    # \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ucffc\ub9ac (\ube44\ub3d9\uae30)\n    user = await db.fetch_one(\"SELECT * FROM users WHERE id = $1\", user_id)\n    return user\n\n# \u2705 CPU \ubc14\uc6b4\ub4dc \uc791\uc5c5 - \uc77c\ubc18 def \uc0ac\uc6a9 (\uc2a4\ub808\ub4dc\ud480\uc5d0\uc11c \uc2e4\ud589\ub428)\n@app.get(\"/compute\")\ndef compute_heavy():\n    result = heavy_computation()  # \uacc4\uc0b0 \uc9d1\uc57d\uc801\uc778 \uc791\uc5c5\n    return {\"result\": result}\n\n# \u274c \uc798\ubabb\ub41c \uc0ac\uc6a9 - async def \uc548\uc5d0\uc11c \ube14\ub85c\ud0b9 \uc791\uc5c5\n@app.get(\"/wrong\")\nasync def wrong_async():\n    time.sleep(5)  # \ube14\ub85c\ud0b9! \ub2e4\ub978 \uc694\uccad\ub3c4 \ubaa8\ub450 \ub300\uae30\ud558\uac8c \ub428\n    return {\"message\": \"wrong\"}\n\n# \u2705 \uc62c\ubc14\ub978 \ubc29\ubc95 - \ube44\ub3d9\uae30 sleep \uc0ac\uc6a9\n@app.get(\"/correct\")\nasync def correct_async():\n    await asyncio.sleep(5)  # \ub2e4\ub978 \uc694\uccad\uc740 \uacc4\uc18d \ucc98\ub9ac\ub428\n    return {\"message\": \"correct\"}\n</code></pre> <p>2. \ube44\ub3d9\uae30 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc0ac\uc6a9:</p> <pre><code>from databases import Database\n\ndatabase = Database(\"postgresql://user:password@localhost/dbname\")\n\n@app.on_event(\"startup\")\nasync def startup():\n    await database.connect()\n\n@app.on_event(\"shutdown\")\nasync def shutdown():\n    await database.disconnect()\n\n@app.get(\"/users\")\nasync def get_users():\n    query = \"SELECT * FROM users\"\n    users = await database.fetch_all(query)\n    return users\n</code></pre> <p>3. BackgroundTasks \ud65c\uc6a9:</p> <pre><code>from fastapi import BackgroundTasks\n\ndef send_email(email: str, message: str):\n    # \uc774\uba54\uc77c \uc804\uc1a1 \ub85c\uc9c1 (\uc2dc\uac04 \uc18c\uc694)\n    print(f\"Sending email to {email}: {message}\")\n\n@app.post(\"/users\")\nasync def create_user(user: User, background_tasks: BackgroundTasks):\n    users_db[user.id] = user\n\n    # \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc774\uba54\uc77c \uc804\uc1a1 (\uc751\ub2f5\uc740 \uc989\uc2dc \ubc18\ud658)\n    background_tasks.add_task(send_email, user.email, \"Welcome!\")\n\n    return user\n</code></pre> <p>4. \uc758\uc874\uc131 \uc8fc\uc785 (Dependency Injection):</p> <pre><code>from fastapi import Depends, Header, HTTPException\n\n# \uc778\uc99d \uac80\uc99d \uc758\uc874\uc131\nasync def verify_token(authorization: str = Header(...)):\n    if not authorization.startswith(\"Bearer \"):\n        raise HTTPException(status_code=401, detail=\"Invalid token\")\n    token = authorization.replace(\"Bearer \", \"\")\n    # \ud1a0\ud070 \uac80\uc99d \ub85c\uc9c1\n    return token\n\n# \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uc758\uc874\uc131\nasync def get_db():\n    db = Database(\"postgresql://...\")\n    await db.connect()\n    try:\n        yield db\n    finally:\n        await db.disconnect()\n\n# \uc758\uc874\uc131 \uc0ac\uc6a9\n@app.get(\"/protected\")\nasync def protected_route(\n    token: str = Depends(verify_token),\n    db: Database = Depends(get_db)\n):\n    # token\uacfc db\ub97c \uc0ac\uc6a9\ud55c \ub85c\uc9c1\n    return {\"message\": \"Authenticated\", \"token\": token}\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#3-python","title":"3. Python \ud14c\uc2a4\ud305","text":""},{"location":"common-skills/Ch2.Python_GO/#pytest","title":"Pytest\ub97c \uc0ac\uc6a9\ud55c \ud14c\uc2a4\ud2b8","text":"<pre><code># test_api.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom main import app, users_db\n\nclient = TestClient(app)\n\n@pytest.fixture(autouse=True)\ndef reset_db():\n    \"\"\"\uac01 \ud14c\uc2a4\ud2b8 \uc804\uc5d0 DB \ucd08\uae30\ud654\"\"\"\n    users_db.clear()\n    yield\n    users_db.clear()\n\ndef test_create_user():\n    response = client.post(\n        \"/users\",\n        json={\"id\": 1, \"name\": \"John\", \"email\": \"john@example.com\"}\n    )\n    assert response.status_code == 201\n    assert response.json()[\"name\"] == \"John\"\n\ndef test_get_user():\n    # \uc0ac\uc6a9\uc790 \uc0dd\uc131\n    client.post(\n        \"/users\",\n        json={\"id\": 1, \"name\": \"John\", \"email\": \"john@example.com\"}\n    )\n\n    # \uc0ac\uc6a9\uc790 \uc870\ud68c\n    response = client.get(\"/users/1\")\n    assert response.status_code == 200\n    assert response.json()[\"email\"] == \"john@example.com\"\n\ndef test_user_not_found():\n    response = client.get(\"/users/999\")\n    assert response.status_code == 404\n\n@pytest.mark.asyncio\nasync def test_async_function():\n    result = await some_async_function()\n    assert result == expected_value\n\n# \uc2e4\ud589: pytest test_api.py -v\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#part-2-go","title":"\ud83d\udd37 Part 2: GO","text":""},{"location":"common-skills/Ch2.Python_GO/#1-go","title":"1. GO \uae30\ucd08 \ubc0f \ub3d9\uc2dc\uc131","text":""},{"location":"common-skills/Ch2.Python_GO/#goroutines-go","title":"Goroutines - GO\uc758 \uacbd\ub7c9 \uc2a4\ub808\ub4dc","text":"<p>Goroutine\uc740 GO\uc758 \uac00\uc7a5 \uac15\ub825\ud55c \uae30\ub2a5 \uc911 \ud558\ub098\ub85c, \uc218\ucc9c \uac1c\uc758 \ub3d9\uc2dc \uc791\uc5c5\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \ucc98\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\n// \uc77c\ubc18 \ud568\uc218\nfunc task(name string, duration int) {\n    fmt.Printf(\"%s starting...\\n\", name)\n    time.Sleep(time.Duration(duration) * time.Second)\n    fmt.Printf(\"%s completed!\\n\", name)\n}\n\nfunc main() {\n    // \ub3d9\uae30 \ubc29\uc2dd (\uc21c\ucc28 \uc2e4\ud589)\n    task(\"Task 1\", 2)\n    task(\"Task 2\", 1)\n    task(\"Task 3\", 3)\n    // \ucd1d 6\ucd08 \uc18c\uc694\n\n    // \ube44\ub3d9\uae30 \ubc29\uc2dd (Goroutine \uc0ac\uc6a9)\n    go task(\"Goroutine 1\", 2)\n    go task(\"Goroutine 2\", 1)\n    go task(\"Goroutine 3\", 3)\n\n    // \uba54\uc778 \ud568\uc218\uac00 \uc885\ub8cc\ub418\uba74 \ubaa8\ub4e0 goroutine\uc774 \uc885\ub8cc\ub418\ubbc0\ub85c \ub300\uae30\n    time.Sleep(4 * time.Second)\n    // \ucd1d 3\ucd08 \uc18c\uc694 (\uac00\uc7a5 \uae34 \uc791\uc5c5\uc758 \uc2dc\uac04)\n}\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#channels-goroutine","title":"Channels - Goroutine \uac04 \ud1b5\uc2e0","text":"<pre><code>package main\n\nimport \"fmt\"\n\nfunc main() {\n    // \ucc44\ub110 \uc0dd\uc131\n    messages := make(chan string)\n\n    // Goroutine\uc5d0\uc11c \ucc44\ub110\ub85c \ub370\uc774\ud130 \uc804\uc1a1\n    go func() {\n        messages &lt;- \"Hello from goroutine\"\n    }()\n\n    // \ucc44\ub110\uc5d0\uc11c \ub370\uc774\ud130 \uc218\uc2e0\n    msg := &lt;-messages\n    fmt.Println(msg)\n}\n</code></pre> <p>\ubc84\ud37c\ub9c1\ub41c \ucc44\ub110: <pre><code>// \ubc84\ud37c \ud06c\uae30\uac00 3\uc778 \ucc44\ub110\nch := make(chan int, 3)\n\nch &lt;- 1\nch &lt;- 2\nch &lt;- 3\n// \ubc84\ud37c\uac00 \uac00\ub4dd \ucc3c\uc73c\ubbc0\ub85c \ub2e4\uc74c\uc740 \ube14\ub85c\ud0b9\ub428\n\nfmt.Println(&lt;-ch)  // 1\nfmt.Println(&lt;-ch)  // 2\nfmt.Println(&lt;-ch)  // 3\n</code></pre></p> <p>Select \ubb38 - \uc5ec\ub7ec \ucc44\ub110 \ucc98\ub9ac: <pre><code>func main() {\n    ch1 := make(chan string)\n    ch2 := make(chan string)\n\n    go func() {\n        time.Sleep(1 * time.Second)\n        ch1 &lt;- \"from channel 1\"\n    }()\n\n    go func() {\n        time.Sleep(2 * time.Second)\n        ch2 &lt;- \"from channel 2\"\n    }()\n\n    // \uc5ec\ub7ec \ucc44\ub110 \uc911 \uba3c\uc800 \uc900\ube44\ub41c \uac83\ubd80\ud130 \ucc98\ub9ac\n    for i := 0; i &lt; 2; i++ {\n        select {\n        case msg1 := &lt;-ch1:\n            fmt.Println(\"Received:\", msg1)\n        case msg2 := &lt;-ch2:\n            fmt.Println(\"Received:\", msg2)\n        }\n    }\n}\n</code></pre></p>"},{"location":"common-skills/Ch2.Python_GO/#_3","title":"\uc2e4\uc804 \ub3d9\uc2dc\uc131 \ud328\ud134","text":"<p>1. Worker Pool \ud328\ud134: <pre><code>package main\n\nimport (\n    \"fmt\"\n    \"time\"\n)\n\nfunc worker(id int, jobs &lt;-chan int, results chan&lt;- int) {\n    for job := range jobs {\n        fmt.Printf(\"Worker %d processing job %d\\n\", id, job)\n        time.Sleep(time.Second)  // \uc791\uc5c5 \uc2dc\ubbac\ub808\uc774\uc158\n        results &lt;- job * 2\n    }\n}\n\nfunc main() {\n    const numJobs = 10\n    const numWorkers = 3\n\n    jobs := make(chan int, numJobs)\n    results := make(chan int, numJobs)\n\n    // Worker \ud480 \uc2dc\uc791\n    for w := 1; w &lt;= numWorkers; w++ {\n        go worker(w, jobs, results)\n    }\n\n    // Job \uc804\uc1a1\n    for j := 1; j &lt;= numJobs; j++ {\n        jobs &lt;- j\n    }\n    close(jobs)\n\n    // \uacb0\uacfc \uc218\uc9d1\n    for a := 1; a &lt;= numJobs; a++ {\n        result := &lt;-results\n        fmt.Println(\"Result:\", result)\n    }\n}\n</code></pre></p> <p>2. Pipeline \ud328\ud134: <pre><code>// \uc22b\uc790 \uc0dd\uc131 \uc2a4\ud14c\uc774\uc9c0\nfunc generate(nums ...int) &lt;-chan int {\n    out := make(chan int)\n    go func() {\n        for _, n := range nums {\n            out &lt;- n\n        }\n        close(out)\n    }()\n    return out\n}\n\n// \uc81c\uacf1 \uacc4\uc0b0 \uc2a4\ud14c\uc774\uc9c0\nfunc square(in &lt;-chan int) &lt;-chan int {\n    out := make(chan int)\n    go func() {\n        for n := range in {\n            out &lt;- n * n\n        }\n        close(out)\n    }()\n    return out\n}\n\nfunc main() {\n    // \ud30c\uc774\ud504\ub77c\uc778 \uad6c\uc131\n    nums := generate(1, 2, 3, 4, 5)\n    squares := square(nums)\n\n    // \uacb0\uacfc \ucd9c\ub825\n    for result := range squares {\n        fmt.Println(result)\n    }\n}\n</code></pre></p>"},{"location":"common-skills/Ch2.Python_GO/#2-go-restful-api","title":"2. GO\ub85c RESTful API \uac1c\ubc1c","text":""},{"location":"common-skills/Ch2.Python_GO/#gin","title":"Gin \ud504\ub808\uc784\uc6cc\ud06c","text":"<pre><code>package main\n\nimport (\n    \"net/http\"\n    \"github.com/gin-gonic/gin\"\n)\n\ntype User struct {\n    ID     int    `json:\"id\"`\n    Name   string `json:\"name\"`\n    Email  string `json:\"email\"`\n    Active bool   `json:\"active\"`\n}\n\nvar users = make(map[int]User)\n\nfunc main() {\n    router := gin.Default()\n\n    // GET - \ubaa8\ub4e0 \uc0ac\uc6a9\uc790 \uc870\ud68c\n    router.GET(\"/users\", func(c *gin.Context) {\n        userList := []User{}\n        for _, user := range users {\n            userList = append(userList, user)\n        }\n        c.JSON(http.StatusOK, userList)\n    })\n\n    // GET - \ud2b9\uc815 \uc0ac\uc6a9\uc790 \uc870\ud68c\n    router.GET(\"/users/:id\", func(c *gin.Context) {\n        id := c.Param(\"id\")\n        // ID\ub97c int\ub85c \ubcc0\ud658\ud558\uace0 \uc870\ud68c\ud558\ub294 \ub85c\uc9c1\n        c.JSON(http.StatusOK, gin.H{\"message\": \"Get user \" + id})\n    })\n\n    // POST - \uc0ac\uc6a9\uc790 \uc0dd\uc131\n    router.POST(\"/users\", func(c *gin.Context) {\n        var user User\n        if err := c.ShouldBindJSON(&amp;user); err != nil {\n            c.JSON(http.StatusBadRequest, gin.H{\"error\": err.Error()})\n            return\n        }\n        users[user.ID] = user\n        c.JSON(http.StatusCreated, user)\n    })\n\n    // PUT - \uc0ac\uc6a9\uc790 \uc5c5\ub370\uc774\ud2b8\n    router.PUT(\"/users/:id\", func(c *gin.Context) {\n        // \uc5c5\ub370\uc774\ud2b8 \ub85c\uc9c1\n        c.JSON(http.StatusOK, gin.H{\"message\": \"User updated\"})\n    })\n\n    // DELETE - \uc0ac\uc6a9\uc790 \uc0ad\uc81c\n    router.DELETE(\"/users/:id\", func(c *gin.Context) {\n        // \uc0ad\uc81c \ub85c\uc9c1\n        c.Status(http.StatusNoContent)\n    })\n\n    router.Run(\":8080\")\n}\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#3-grpc","title":"3. gRPC \uc11c\ube44\uc2a4 \uac1c\ubc1c","text":""},{"location":"common-skills/Ch2.Python_GO/#protocol-buffers","title":"Protocol Buffers \uc815\uc758","text":"<pre><code>// user.proto\nsyntax = \"proto3\";\n\npackage user;\n\noption go_package = \"./proto\";\n\nmessage User {\n    int32 id = 1;\n    string name = 2;\n    string email = 3;\n    bool active = 4;\n}\n\nmessage GetUserRequest {\n    int32 id = 1;\n}\n\nmessage ListUsersRequest {}\n\nmessage ListUsersResponse {\n    repeated User users = 1;\n}\n\nservice UserService {\n    rpc GetUser(GetUserRequest) returns (User);\n    rpc ListUsers(ListUsersRequest) returns (ListUsersResponse);\n    rpc CreateUser(User) returns (User);\n}\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#grpc","title":"gRPC \uc11c\ubc84 \uad6c\ud604","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"log\"\n    \"net\"\n\n    \"google.golang.org/grpc\"\n    pb \"your-module/proto\"\n)\n\ntype userServer struct {\n    pb.UnimplementedUserServiceServer\n    users map[int32]*pb.User\n}\n\nfunc (s *userServer) GetUser(ctx context.Context, req *pb.GetUserRequest) (*pb.User, error) {\n    user, exists := s.users[req.Id]\n    if !exists {\n        return nil, grpc.Errorf(grpc.Code(404), \"User not found\")\n    }\n    return user, nil\n}\n\nfunc (s *userServer) ListUsers(ctx context.Context, req *pb.ListUsersRequest) (*pb.ListUsersResponse, error) {\n    users := []*pb.User{}\n    for _, user := range s.users {\n        users = append(users, user)\n    }\n    return &amp;pb.ListUsersResponse{Users: users}, nil\n}\n\nfunc (s *userServer) CreateUser(ctx context.Context, user *pb.User) (*pb.User, error) {\n    s.users[user.Id] = user\n    return user, nil\n}\n\nfunc main() {\n    lis, err := net.Listen(\"tcp\", \":50051\")\n    if err != nil {\n        log.Fatalf(\"Failed to listen: %v\", err)\n    }\n\n    grpcServer := grpc.NewServer()\n    pb.RegisterUserServiceServer(grpcServer, &amp;userServer{\n        users: make(map[int32]*pb.User),\n    })\n\n    log.Println(\"gRPC server listening on :50051\")\n    if err := grpcServer.Serve(lis); err != nil {\n        log.Fatalf(\"Failed to serve: %v\", err)\n    }\n}\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#grpc_1","title":"gRPC \ud074\ub77c\uc774\uc5b8\ud2b8","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"log\"\n\n    \"google.golang.org/grpc\"\n    pb \"your-module/proto\"\n)\n\nfunc main() {\n    conn, err := grpc.Dial(\"localhost:50051\", grpc.WithInsecure())\n    if err != nil {\n        log.Fatalf(\"Failed to connect: %v\", err)\n    }\n    defer conn.Close()\n\n    client := pb.NewUserServiceClient(conn)\n\n    // \uc0ac\uc6a9\uc790 \uc0dd\uc131\n    user, err := client.CreateUser(context.Background(), &amp;pb.User{\n        Id:     1,\n        Name:   \"John Doe\",\n        Email:  \"john@example.com\",\n        Active: true,\n    })\n    if err != nil {\n        log.Fatalf(\"CreateUser failed: %v\", err)\n    }\n    log.Printf(\"Created user: %v\", user)\n\n    // \uc0ac\uc6a9\uc790 \uc870\ud68c\n    user, err = client.GetUser(context.Background(), &amp;pb.GetUserRequest{Id: 1})\n    if err != nil {\n        log.Fatalf(\"GetUser failed: %v\", err)\n    }\n    log.Printf(\"Retrieved user: %v\", user)\n}\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#grpc-2025-best-practice","title":"gRPC \ub3d9\uc2dc\uc131 (2025 Best Practice)","text":"<p>gRPC-Go\ub294 \uc2a4\ub808\ub4dc \uc548\uc804\ud558\uac8c \uc124\uacc4\ub418\uc5c8\uc2b5\ub2c8\ub2e4:</p> <ul> <li>**ClientConn**\uc740 \ub3d9\uc2dc\uc5d0 \uc548\uc804\ud558\uac8c \uc811\uadfc \uac00\ub2a5</li> <li>\uac01 RPC \ud578\ub4e4\ub7ec\ub294 \uc790\uccb4 goroutine\uc5d0\uc11c \uc2e4\ud589\ub428</li> <li>\uc11c\ubc84\ub294 \ub9ce\uc740 \uc218\uc758 \ub3d9\uc2dc \uc694\uccad\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \ucc98\ub9ac</li> </ul> <pre><code>// \ub3d9\uc2dc\uc5d0 \uc5ec\ub7ec \uc694\uccad \ucc98\ub9ac\nfunc makeConcurrentRequests(client pb.UserServiceClient) {\n    const numRequests = 100\n\n    results := make(chan *pb.User, numRequests)\n    errors := make(chan error, numRequests)\n\n    for i := 0; i &lt; numRequests; i++ {\n        go func(id int32) {\n            user, err := client.GetUser(context.Background(), &amp;pb.GetUserRequest{Id: id})\n            if err != nil {\n                errors &lt;- err\n                return\n            }\n            results &lt;- user\n        }(int32(i))\n    }\n\n    // \uacb0\uacfc \uc218\uc9d1\n    for i := 0; i &lt; numRequests; i++ {\n        select {\n        case user := &lt;-results:\n            log.Printf(\"Got user: %v\", user)\n        case err := &lt;-errors:\n            log.Printf(\"Error: %v\", err)\n        }\n    }\n}\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#4-go","title":"4. GO \ud14c\uc2a4\ud305","text":"<pre><code>// user_test.go\npackage main\n\nimport (\n    \"testing\"\n)\n\nfunc TestCreateUser(t *testing.T) {\n    user := User{\n        ID:     1,\n        Name:   \"Test User\",\n        Email:  \"test@example.com\",\n        Active: true,\n    }\n\n    users[user.ID] = user\n\n    if users[1].Name != \"Test User\" {\n        t.Errorf(\"Expected 'Test User', got '%s'\", users[1].Name)\n    }\n}\n\nfunc BenchmarkCreateUser(b *testing.B) {\n    for i := 0; i &lt; b.N; i++ {\n        user := User{ID: i, Name: \"User\", Email: \"user@example.com\"}\n        users[user.ID] = user\n    }\n}\n\n// \uc2e4\ud589: go test -v\n// \ubca4\uce58\ub9c8\ud06c: go test -bench=.\n</code></pre>"},{"location":"common-skills/Ch2.Python_GO/#_4","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"common-skills/Ch2.Python_GO/#python","title":"Python \uc790\ub8cc","text":"<ul> <li>Python \uacf5\uc2dd \ubb38\uc11c</li> <li>FastAPI \uacf5\uc2dd \ubb38\uc11c</li> <li>Asyncio \uacf5\uc2dd \uac00\uc774\ub4dc</li> <li>FastAPI Best Practices (GitHub)</li> <li>Real Python - Async IO</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/#go","title":"GO \uc790\ub8cc","text":"<ul> <li>Go \uacf5\uc2dd \ubb38\uc11c</li> <li>Effective Go</li> <li>Go by Example</li> <li>gRPC-Go \uacf5\uc2dd \ubb38\uc11c</li> <li>Gin \ud504\ub808\uc784\uc6cc\ud06c</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/#2025","title":"2025\ub144 \ucd5c\uc2e0 \uc790\ub8cc","text":"<ul> <li>Python Backend 2025: Asyncio &amp; FastAPI</li> <li>Coursera - Go Essentials: Concurrency, gRPC &amp; More</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/#_5","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"common-skills/Ch2.Python_GO/#python_1","title":"Python","text":"<ul> <li> Python \uae30\ucd08 \ubb38\ubc95 \ubc0f \uac1d\uccb4\uc9c0\ud5a5 \ud504\ub85c\uadf8\ub798\ubc0d</li> <li> Asyncio \uac1c\ub150 \ubc0f \uae30\ubcf8 \uc0ac\uc6a9\ubc95</li> <li> FastAPI\ub85c RESTful API \uad6c\ud604</li> <li> Pydantic\uc744 \uc0ac\uc6a9\ud55c \ub370\uc774\ud130 \uac80\uc99d</li> <li> \ube44\ub3d9\uae30 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\ub3d9</li> <li> Pytest\ub97c \uc0ac\uc6a9\ud55c \ud14c\uc2a4\ud2b8 \uc791\uc131</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/#go_1","title":"GO","text":"<ul> <li> Go \uae30\ucd08 \ubb38\ubc95</li> <li> Goroutine \ubc0f Channel \uc0ac\uc6a9</li> <li> \ub3d9\uc2dc\uc131 \ud328\ud134 (Worker Pool, Pipeline)</li> <li> Gin\uc744 \uc0ac\uc6a9\ud55c RESTful API \uad6c\ud604</li> <li> Protocol Buffers \uc815\uc758</li> <li> gRPC \uc11c\ubc84/\ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> <li> Go \ud14c\uc2a4\ud305 \ubc0f \ubca4\uce58\ub9c8\ud06c</li> </ul>"},{"location":"common-skills/Ch2.Python_GO/#_6","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>\ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 \uae30\ucd08\ub97c \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch3. Cloud-Native \ud658\uacbd\uc73c\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/","title":"Ch3. Cloud-Native \ud658\uacbd","text":""},{"location":"common-skills/Ch3.Cloud_Native/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>Cloud-native\ub294 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uad6c\ucd95\ud558\uace0 \uc2e4\ud589\ud558\ub294 \ud604\ub300\uc801\uc778 \uc811\uadfc \ubc29\uc2dd\uc785\ub2c8\ub2e4. \ucee8\ud14c\uc774\ub108, \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4, \uc120\uc5b8\uc801 API, \uadf8\ub9ac\uace0 \uc790\ub3d9\ud654\ub97c \ud1b5\ud574 \ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \ud0c4\ub825\uc801\uc778 \uc2dc\uc2a4\ud15c\uc744 \ub9cc\ub4ed\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch3.Cloud_Native/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Docker\ub97c \uc0ac\uc6a9\ud55c \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ubc0f \uad00\ub9ac</li> <li>Kubernetes\ub97c \uc0ac\uc6a9\ud55c \ucee8\ud14c\uc774\ub108 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158</li> <li>12-Factor App \ubc29\ubc95\ub860\uc744 \uc801\uc6a9\ud55c \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc124\uacc4</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc774\ud574 \ubc0f \uad6c\ud604</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#part-1-docker","title":"\ud83d\udc33 Part 1: Docker \ucee8\ud14c\uc774\ub108","text":""},{"location":"common-skills/Ch3.Cloud_Native/#1-docker","title":"1. Docker \uae30\ucd08","text":""},{"location":"common-skills/Ch3.Cloud_Native/#docker","title":"Docker\ub780?","text":"<p>Docker\ub294 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \ucee8\ud14c\uc774\ub108\ub85c \ud328\ud0a4\uc9d5\ud558\uace0 \uc2e4\ud589\ud558\ub294 \ud50c\ub7ab\ud3fc\uc785\ub2c8\ub2e4.</p> <p>\ud575\uc2ec \uac1c\ub150:</p> <ul> <li>\uc774\ubbf8\uc9c0 (Image): \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc2e4\ud589\uc5d0 \ud544\uc694\ud55c \ubaa8\ub4e0 \uac83\uc744 \ud3ec\ud568\ud558\ub294 \ubd88\ubcc0\uc758 \ud15c\ud50c\ub9bf</li> <li>\ucee8\ud14c\uc774\ub108 (Container): \uc774\ubbf8\uc9c0\uc758 \uc2e4\ud589 \uc778\uc2a4\ud134\uc2a4</li> <li>Dockerfile: \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc\ud558\uae30 \uc704\ud55c \uba85\ub839\uc5b4 \uc2a4\ud06c\ub9bd\ud2b8</li> <li>\ub808\uc9c0\uc2a4\ud2b8\ub9ac (Registry): \uc774\ubbf8\uc9c0\ub97c \uc800\uc7a5\ud558\uace0 \uacf5\uc720\ud558\ub294 \uc800\uc7a5\uc18c (\uc608: Docker Hub)</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#docker_1","title":"\uae30\ubcf8 Docker \uba85\ub839\uc5b4","text":"<pre><code># \uc774\ubbf8\uc9c0 \uad00\ub9ac\ndocker pull nginx:latest              # \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc\ndocker images                         # \ub85c\uceec \uc774\ubbf8\uc9c0 \ubaa9\ub85d\ndocker rmi nginx:latest               # \uc774\ubbf8\uc9c0 \uc0ad\uc81c\n\n# \ucee8\ud14c\uc774\ub108 \uc2e4\ud589\ndocker run -d -p 8080:80 --name web nginx\n# -d: \ubc31\uadf8\ub77c\uc6b4\ub4dc \uc2e4\ud589\n# -p: \ud3ec\ud2b8 \ub9e4\ud551 (\ud638\uc2a4\ud2b8:\ucee8\ud14c\uc774\ub108)\n# --name: \ucee8\ud14c\uc774\ub108 \uc774\ub984\n\n# \ucee8\ud14c\uc774\ub108 \uad00\ub9ac\ndocker ps                             # \uc2e4\ud589 \uc911\uc778 \ucee8\ud14c\uc774\ub108\ndocker ps -a                          # \ubaa8\ub4e0 \ucee8\ud14c\uc774\ub108\ndocker stop web                       # \ucee8\ud14c\uc774\ub108 \uc911\uc9c0\ndocker start web                      # \ucee8\ud14c\uc774\ub108 \uc2dc\uc791\ndocker restart web                    # \ucee8\ud14c\uc774\ub108 \uc7ac\uc2dc\uc791\ndocker rm web                         # \ucee8\ud14c\uc774\ub108 \uc0ad\uc81c\ndocker logs web                       # \ub85c\uadf8 \ud655\uc778\ndocker logs -f web                    # \uc2e4\uc2dc\uac04 \ub85c\uadf8\ndocker exec -it web /bin/bash         # \ucee8\ud14c\uc774\ub108 \uc811\uc18d\n\n# \uc2dc\uc2a4\ud15c \uc815\ubcf4\ndocker info                           # Docker \uc2dc\uc2a4\ud15c \uc815\ubcf4\ndocker stats                          # \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub7c9\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#2-dockerfile","title":"2. Dockerfile \uc791\uc131","text":""},{"location":"common-skills/Ch3.Cloud_Native/#dockerfile","title":"\uae30\ubcf8 Dockerfile","text":"<pre><code># Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc608\uc81c\nFROM python:3.11-slim\n\n# \uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac \uc124\uc815\nWORKDIR /app\n\n# \uc758\uc874\uc131 \ud30c\uc77c \ubcf5\uc0ac\nCOPY requirements.txt .\n\n# \uc758\uc874\uc131 \uc124\uce58\nRUN pip install --no-cache-dir -r requirements.txt\n\n# \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucf54\ub4dc \ubcf5\uc0ac\nCOPY . .\n\n# \ud3ec\ud2b8 \ub178\ucd9c\nEXPOSE 8000\n\n# \uc2e4\ud589 \uba85\ub839\nCMD [\"python\", \"app.py\"]\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#multi-stage-build-2025-best-practice","title":"Multi-Stage Build (2025 Best Practice)","text":"<p>Multi-stage \ube4c\ub4dc\ub294 \uc774\ubbf8\uc9c0 \ud06c\uae30\ub97c 60-80% \uc904\uc774\uace0 \ubcf4\uc548\uc744 \ud5a5\uc0c1\uc2dc\ud0b5\ub2c8\ub2e4.</p> <p>Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc608\uc81c: <pre><code># Stage 1: Build\nFROM golang:1.22-alpine AS builder\n\nWORKDIR /app\n\n# \uc758\uc874\uc131 \ub2e4\uc6b4\ub85c\ub4dc\nCOPY go.mod go.sum ./\nRUN go mod download\n\n# \uc18c\uc2a4 \ucf54\ub4dc \ubcf5\uc0ac \ubc0f \ube4c\ub4dc\nCOPY . .\nRUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o main .\n\n# Stage 2: Runtime\nFROM alpine:latest\n\n# \ubcf4\uc548\uc744 \uc704\ud55c \ucd5c\uc18c \ud328\ud0a4\uc9c0\nRUN apk --no-cache add ca-certificates\n\nWORKDIR /root/\n\n# \ube4c\ub4dc \uc2a4\ud14c\uc774\uc9c0\uc5d0\uc11c \ubc14\uc774\ub108\ub9ac\ub9cc \ubcf5\uc0ac\nCOPY --from=builder /app/main .\n\nEXPOSE 8080\n\nCMD [\"./main\"]\n</code></pre></p> <p>Node.js \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc608\uc81c: <pre><code># Stage 1: Build\nFROM node:20-alpine AS builder\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci --only=production\n\n# Stage 2: Runtime\nFROM node:20-alpine\n\nWORKDIR /app\n\n# \ube4c\ub4dc \uc2a4\ud14c\uc774\uc9c0\uc5d0\uc11c node_modules\uc640 \uc571 \ubcf5\uc0ac\nCOPY --from=builder /app/node_modules ./node_modules\nCOPY . .\n\nEXPOSE 3000\n\nUSER node\n\nCMD [\"node\", \"server.js\"]\n</code></pre></p> <p>Python \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc608\uc81c: <pre><code># Stage 1: Build\nFROM python:3.11 AS builder\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --user --no-cache-dir -r requirements.txt\n\n# Stage 2: Runtime\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# \ube4c\ub4dc \uc2a4\ud14c\uc774\uc9c0\uc5d0\uc11c \ud328\ud0a4\uc9c0 \ubcf5\uc0ac\nCOPY --from=builder /root/.local /root/.local\nCOPY . .\n\n# PATH \uc5c5\ub370\uc774\ud2b8\nENV PATH=/root/.local/bin:$PATH\n\nEXPOSE 8000\n\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre></p>"},{"location":"common-skills/Ch3.Cloud_Native/#docker-best-practices-2025","title":"Docker Best Practices (2025)","text":"<p>1. \uc801\uc808\ud55c \ubca0\uc774\uc2a4 \uc774\ubbf8\uc9c0 \uc0ac\uc6a9: <pre><code># \u274c \ud070 \uc774\ubbf8\uc9c0\nFROM ubuntu:latest\n\n# \u2705 \uc2ac\ub9bc \uc774\ubbf8\uc9c0\nFROM python:3.11-slim\n\n# \u2705 Alpine (\uac00\uc7a5 \uc791\uc74c)\nFROM python:3.11-alpine\n</code></pre></p> <p>2. \ub808\uc774\uc5b4 \ucd5c\uc801\ud654: <pre><code># \u274c \uc5ec\ub7ec RUN \uba85\ub839\nRUN apt-get update\nRUN apt-get install -y package1\nRUN apt-get install -y package2\n\n# \u2705 \ud558\ub098\uc758 RUN \uba85\ub839\uc73c\ub85c \ud1b5\ud569\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y \\\n        package1 \\\n        package2 &amp;&amp; \\\n    rm -rf /var/lib/apt/lists/*\n</code></pre></p> <p>3. .dockerignore \uc0ac\uc6a9: <pre><code># .dockerignore\nnode_modules\nnpm-debug.log\n.git\n.gitignore\nREADME.md\n.env\n.vscode\n__pycache__\n*.pyc\n.pytest_cache\n</code></pre></p> <p>4. \ubcf4\uc548 \uac15\ud654: <pre><code># \ub8e8\ud2b8 \uc0ac\uc6a9\uc790 \ub300\uc2e0 \uc804\uc6a9 \uc0ac\uc6a9\uc790 \uc0dd\uc131\nRUN addgroup -g 1000 appuser &amp;&amp; \\\n    adduser -D -u 1000 -G appuser appuser\n\nUSER appuser\n\n# \uc77d\uae30 \uc804\uc6a9 \ud30c\uc77c\uc2dc\uc2a4\ud15c\nCOPY --chown=appuser:appuser . .\n</code></pre></p>"},{"location":"common-skills/Ch3.Cloud_Native/#3-docker-compose","title":"3. Docker Compose","text":"<p>\uc5ec\ub7ec \ucee8\ud14c\uc774\ub108\ub97c \uc815\uc758\ud558\uace0 \uc2e4\ud589\ud558\uae30 \uc704\ud55c \ub3c4\uad6c\uc785\ub2c8\ub2e4.</p> <pre><code># docker-compose.yml\nversion: '3.8'\n\nservices:\n  # \uc6f9 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\n  web:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:password@db:5432/mydb\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - ./app:/app\n    networks:\n      - app-network\n\n  # PostgreSQL \ub370\uc774\ud130\ubca0\uc774\uc2a4\n  db:\n    image: postgres:15-alpine\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=password\n      - POSTGRES_DB=mydb\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    networks:\n      - app-network\n\n  # Redis \uce90\uc2dc\n  redis:\n    image: redis:7-alpine\n    networks:\n      - app-network\n\nvolumes:\n  postgres-data:\n\nnetworks:\n  app-network:\n    driver: bridge\n</code></pre> <p>Docker Compose \uba85\ub839\uc5b4: <pre><code># \uc11c\ube44\uc2a4 \uc2dc\uc791\ndocker-compose up -d\n\n# \ub85c\uadf8 \ud655\uc778\ndocker-compose logs -f\n\n# \ud2b9\uc815 \uc11c\ube44\uc2a4 \ub85c\uadf8\ndocker-compose logs -f web\n\n# \uc11c\ube44\uc2a4 \uc911\uc9c0\ndocker-compose down\n\n# \ubcfc\ub968\uae4c\uc9c0 \uc0ad\uc81c\ndocker-compose down -v\n\n# \uc11c\ube44\uc2a4 \uc7ac\uc2dc\uc791\ndocker-compose restart web\n</code></pre></p>"},{"location":"common-skills/Ch3.Cloud_Native/#part-2-kubernetes","title":"\u2638\ufe0f Part 2: Kubernetes \uae30\ucd08","text":""},{"location":"common-skills/Ch3.Cloud_Native/#1-kubernetes","title":"1. Kubernetes \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"common-skills/Ch3.Cloud_Native/#_3","title":"\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8","text":"<p>Control Plane (\ub9c8\uc2a4\ud130 \ub178\ub4dc):</p> <ul> <li>API Server: Kubernetes API\uc758 \uc9c4\uc785\uc810</li> <li>etcd: \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc\ub97c \uc800\uc7a5\ud558\ub294 \ud0a4-\uac12 \uc800\uc7a5\uc18c</li> <li>Scheduler: Pod\ub97c \ub178\ub4dc\uc5d0 \ud560\ub2f9</li> <li>Controller Manager: \ucee8\ud2b8\ub864\ub7ec \uc2e4\ud589 (Deployment, ReplicaSet \ub4f1)</li> </ul> <p>Worker Node:</p> <ul> <li>Kubelet: \uac01 \ub178\ub4dc\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \uc5d0\uc774\uc804\ud2b8</li> <li>Container Runtime: \ucee8\ud14c\uc774\ub108 \uc2e4\ud589 (Docker, containerd \ub4f1)</li> <li>Kube-proxy: \ub124\ud2b8\uc6cc\ud06c \ud504\ub85d\uc2dc</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#2-kubernetes","title":"2. Kubernetes \uae30\ubcf8 \ub9ac\uc18c\uc2a4","text":""},{"location":"common-skills/Ch3.Cloud_Native/#pod-","title":"Pod - \uac00\uc7a5 \uc791\uc740 \ubc30\ud3ec \ub2e8\uc704","text":"<p>Pod\ub294 \ud558\ub098 \uc774\uc0c1\uc758 \ucee8\ud14c\uc774\ub108 \uadf8\ub8f9\uc73c\ub85c, \uacf5\uc720 \uc2a4\ud1a0\ub9ac\uc9c0\uc640 \ub124\ud2b8\uc6cc\ud06c\ub97c \uac00\uc9d1\ub2c8\ub2e4.</p> <pre><code># pod.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-pod\n  labels:\n    app: nginx\nspec:\n  containers:\n  - name: nginx\n    image: nginx:1.25\n    ports:\n    - containerPort: 80\n    resources:\n      requests:\n        memory: \"64Mi\"\n        cpu: \"250m\"\n      limits:\n        memory: \"128Mi\"\n        cpu: \"500m\"\n</code></pre> <pre><code># Pod \uc0dd\uc131\nkubectl apply -f pod.yaml\n\n# Pod \ud655\uc778\nkubectl get pods\nkubectl get pods -o wide\n\n# Pod \uc0c1\uc138 \uc815\ubcf4\nkubectl describe pod nginx-pod\n\n# Pod \ub85c\uadf8\nkubectl logs nginx-pod\n\n# Pod \uc811\uc18d\nkubectl exec -it nginx-pod -- /bin/bash\n\n# Pod \uc0ad\uc81c\nkubectl delete pod nginx-pod\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#deployment-","title":"Deployment - \uc120\uc5b8\uc801 \uc5c5\ub370\uc774\ud2b8","text":"<pre><code># deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: nginx-deployment\n  labels:\n    app: nginx\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: nginx\n  template:\n    metadata:\n      labels:\n        app: nginx\n    spec:\n      containers:\n      - name: nginx\n        image: nginx:1.25\n        ports:\n        - containerPort: 80\n        resources:\n          requests:\n            memory: \"64Mi\"\n            cpu: \"250m\"\n          limits:\n            memory: \"128Mi\"\n            cpu: \"500m\"\n</code></pre> <pre><code># Deployment \uc0dd\uc131\nkubectl apply -f deployment.yaml\n\n# Deployment \ud655\uc778\nkubectl get deployments\nkubectl get pods\n\n# \uc2a4\ucf00\uc77c \uc870\uc815\nkubectl scale deployment nginx-deployment --replicas=5\n\n# \ub864\ub9c1 \uc5c5\ub370\uc774\ud2b8\nkubectl set image deployment/nginx-deployment nginx=nginx:1.26\n\n# \ub864\ubc31\nkubectl rollout undo deployment/nginx-deployment\n\n# \uc5c5\ub370\uc774\ud2b8 \uc0c1\ud0dc \ud655\uc778\nkubectl rollout status deployment/nginx-deployment\n\n# \uc5c5\ub370\uc774\ud2b8 \ud788\uc2a4\ud1a0\ub9ac\nkubectl rollout history deployment/nginx-deployment\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#service-","title":"Service - \ub124\ud2b8\uc6cc\ud06c \ub178\ucd9c","text":"<pre><code># service.yaml\napiVersion: v1\nkind: Service\nmetadata:\n  name: nginx-service\nspec:\n  type: LoadBalancer  # ClusterIP, NodePort, LoadBalancer\n  selector:\n    app: nginx\n  ports:\n  - protocol: TCP\n    port: 80          # Service \ud3ec\ud2b8\n    targetPort: 80    # \ucee8\ud14c\uc774\ub108 \ud3ec\ud2b8\n</code></pre> <p>Service \ud0c0\uc785:</p> <ul> <li>ClusterIP (\uae30\ubcf8): \ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc5d0\uc11c\ub9cc \uc811\uadfc</li> <li>NodePort: \uac01 \ub178\ub4dc\uc758 \ud2b9\uc815 \ud3ec\ud2b8\ub85c \ub178\ucd9c</li> <li>LoadBalancer: \ud074\ub77c\uc6b0\ub4dc \ub85c\ub4dc \ubc38\ub7f0\uc11c \uc0dd\uc131</li> </ul> <pre><code># Service \uc0dd\uc131\nkubectl apply -f service.yaml\n\n# Service \ud655\uc778\nkubectl get services\nkubectl get svc\n\n# \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ud655\uc778\nkubectl get endpoints nginx-service\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#configmap-secret","title":"ConfigMap &amp; Secret","text":"<p>ConfigMap - \uc124\uc815 \ub370\uc774\ud130: <pre><code># configmap.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: app-config\ndata:\n  APP_ENV: \"production\"\n  LOG_LEVEL: \"info\"\n  DATABASE_HOST: \"db.example.com\"\n</code></pre></p> <p>Secret - \ubbfc\uac10\ud55c \ub370\uc774\ud130: <pre><code># secret.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: app-secret\ntype: Opaque\nstringData:\n  DATABASE_PASSWORD: \"mypassword\"\n  API_KEY: \"secret-key-12345\"\n</code></pre></p> <p>\uc0ac\uc6a9 \uc608\uc81c: <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: app-deployment\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: myapp\n  template:\n    metadata:\n      labels:\n        app: myapp\n    spec:\n      containers:\n      - name: app\n        image: myapp:latest\n        env:\n        # ConfigMap\uc5d0\uc11c \ud658\uacbd \ubcc0\uc218 \uac00\uc838\uc624\uae30\n        - name: APP_ENV\n          valueFrom:\n            configMapKeyRef:\n              name: app-config\n              key: APP_ENV\n        # Secret\uc5d0\uc11c \ud658\uacbd \ubcc0\uc218 \uac00\uc838\uc624\uae30\n        - name: DATABASE_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              name: app-secret\n              key: DATABASE_PASSWORD\n</code></pre></p>"},{"location":"common-skills/Ch3.Cloud_Native/#3-kubernetes","title":"3. \uc2e4\uc804 Kubernetes \uc608\uc81c","text":""},{"location":"common-skills/Ch3.Cloud_Native/#_4","title":"\uc644\uc804\ud55c \uc6f9 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec","text":"<pre><code># web-app.yaml\n---\n# ConfigMap\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: web-config\ndata:\n  REDIS_HOST: \"redis-service\"\n  REDIS_PORT: \"6379\"\n---\n# Deployment\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-app\nspec:\n  replicas: 3\n  selector:\n    matchLabels:\n      app: web\n  template:\n    metadata:\n      labels:\n        app: web\n    spec:\n      containers:\n      - name: web\n        image: myapp:1.0\n        ports:\n        - containerPort: 8000\n        env:\n        - name: REDIS_HOST\n          valueFrom:\n            configMapKeyRef:\n              name: web-config\n              key: REDIS_HOST\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8000\n          initialDelaySeconds: 30\n          periodSeconds: 10\n        readinessProbe:\n          httpGet:\n            path: /ready\n            port: 8000\n          initialDelaySeconds: 5\n          periodSeconds: 5\n---\n# Service\napiVersion: v1\nkind: Service\nmetadata:\n  name: web-service\nspec:\n  type: LoadBalancer\n  selector:\n    app: web\n  ports:\n  - port: 80\n    targetPort: 8000\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#part-3-12-factor-app","title":"\ud83d\udcd0 Part 3: 12-Factor App \ubc29\ubc95\ub860","text":""},{"location":"common-skills/Ch3.Cloud_Native/#12-factor-app","title":"12-Factor App \uac1c\uc694","text":"<p>2012\ub144 Heroku\uc5d0\uc11c \uc81c\uc548\ud55c SaaS \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uac1c\ubc1c \ubc29\ubc95\ub860\uc73c\ub85c, 2025\ub144 \ud604\uc7ac\ub3c4 \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ud45c\uc900\uc785\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch3.Cloud_Native/#12","title":"12\uac00\uc9c0 \uc694\uc18c","text":""},{"location":"common-skills/Ch3.Cloud_Native/#1-codebase","title":"1. Codebase (\ucf54\ub4dc\ubca0\uc774\uc2a4)","text":"<p>\uc6d0\uce59: \ubc84\uc804 \uad00\ub9ac\ub418\ub294 \ud558\ub098\uc758 \ucf54\ub4dc\ubca0\uc774\uc2a4, \uc5ec\ub7ec \ubc30\ud3ec</p> <pre><code># Git\uc73c\ub85c \uad00\ub9ac\ub418\ub294 \ub2e8\uc77c \uc800\uc7a5\uc18c\nmy-app/\n\u251c\u2500\u2500 .git/\n\u251c\u2500\u2500 src/\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 k8s/\n    \u251c\u2500\u2500 dev/\n    \u251c\u2500\u2500 staging/\n    \u2514\u2500\u2500 production/\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#2-dependencies","title":"2. Dependencies (\uc758\uc874\uc131)","text":"<p>\uc6d0\uce59: \uc758\uc874\uc131\uc744 \uba85\uc2dc\uc801\uc73c\ub85c \uc120\uc5b8\ud558\uace0 \uaca9\ub9ac</p> <pre><code># requirements.txt (Python)\nfastapi==0.104.1\nuvicorn==0.24.0\nredis==5.0.1\n</code></pre> <pre><code># Dockerfile\uc5d0\uc11c \uaca9\ub9ac\nFROM python:3.11-slim\nCOPY requirements.txt .\nRUN pip install -r requirements.txt\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#3-config","title":"3. Config (\uc124\uc815)","text":"<p>\uc6d0\uce59: \ud658\uacbd \ubcc0\uc218\ub85c \uc124\uc815 \uc800\uc7a5</p> <pre><code># \u274c \ucf54\ub4dc\uc5d0 \ud558\ub4dc\ucf54\ub529\nDATABASE_URL = \"postgresql://localhost/mydb\"\n\n# \u2705 \ud658\uacbd \ubcc0\uc218 \uc0ac\uc6a9\nimport os\nDATABASE_URL = os.getenv(\"DATABASE_URL\")\n</code></pre> <pre><code># Kubernetes ConfigMap \uc0ac\uc6a9\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: app-config\ndata:\n  DATABASE_URL: \"postgresql://db:5432/mydb\"\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#4-backing-services","title":"4. Backing Services (\ubc31\uc5d4\ub4dc \uc11c\ube44\uc2a4)","text":"<p>\uc6d0\uce59: \ubc31\uc5d4\ub4dc \uc11c\ube44\uc2a4\ub97c \uc5f0\uacb0\ub41c \ub9ac\uc18c\uc2a4\ub85c \ucde8\uae09</p> <pre><code># \ub370\uc774\ud130\ubca0\uc774\uc2a4, \uce90\uc2dc, \ud050 \ub4f1\uc744 URL\ub85c \uc811\uadfc\ndatabase = connect(os.getenv(\"DATABASE_URL\"))\ncache = connect(os.getenv(\"REDIS_URL\"))\nqueue = connect(os.getenv(\"RABBITMQ_URL\"))\n\n# \ud658\uacbd \ubcc0\uc218\ub9cc \ubcc0\uacbd\ud558\uba74 \uc11c\ube44\uc2a4 \uad50\uccb4 \uac00\ub2a5\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#5-build-release-run","title":"5. Build, Release, Run (\ube4c\ub4dc, \ub9b4\ub9ac\uc2a4, \uc2e4\ud589)","text":"<p>\uc6d0\uce59: \ube4c\ub4dc\uc640 \uc2e4\ud589 \ub2e8\uacc4\ub97c \uc5c4\uaca9\ud788 \ubd84\ub9ac</p> <pre><code># Build: \ucf54\ub4dc\ub97c \uc2e4\ud589 \uac00\ub2a5\ud55c \ubc88\ub4e4\ub85c \ubcc0\ud658\ndocker build -t myapp:v1.2.3 .\n\n# Release: \ube4c\ub4dc\uc640 \uc124\uc815 \uacb0\ud569\ndocker tag myapp:v1.2.3 myapp:production-v1.2.3\n\n# Run: \ub9b4\ub9ac\uc2a4 \ubc84\uc804 \uc2e4\ud589\nkubectl set image deployment/myapp myapp=myapp:production-v1.2.3\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#6-processes","title":"6. Processes (\ud504\ub85c\uc138\uc2a4)","text":"<p>\uc6d0\uce59: \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \ubb34\uc0c1\ud0dc \ud504\ub85c\uc138\uc2a4\ub85c \uc2e4\ud589</p> <pre><code># \u274c \ub85c\uceec \uba54\ubaa8\ub9ac\uc5d0 \uc0c1\ud0dc \uc800\uc7a5\nsession_data = {}\n\n# \u2705 \uc678\ubd80 \uc800\uc7a5\uc18c \uc0ac\uc6a9\nimport redis\ncache = redis.Redis(host=os.getenv(\"REDIS_HOST\"))\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#7-port-binding","title":"7. Port Binding (\ud3ec\ud2b8 \ubc14\uc778\ub529)","text":"<p>\uc6d0\uce59: \ud3ec\ud2b8 \ubc14\uc778\ub529\uc744 \ud1b5\ud574 \uc11c\ube44\uc2a4 \ub178\ucd9c</p> <pre><code># FastAPI \uc608\uc81c\nimport uvicorn\nfrom fastapi import FastAPI\n\napp = FastAPI()\n\nif __name__ == \"__main__\":\n    uvicorn.run(app, host=\"0.0.0.0\", port=int(os.getenv(\"PORT\", 8000)))\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#8-concurrency","title":"8. Concurrency (\ub3d9\uc2dc\uc131)","text":"<p>\uc6d0\uce59: \ud504\ub85c\uc138\uc2a4 \ubaa8\ub378\uc744 \ud1b5\ud55c \ud655\uc7a5</p> <pre><code># Kubernetes Horizontal Pod Autoscaler\napiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: web-app-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: web-app\n  minReplicas: 2\n  maxReplicas: 10\n  metrics:\n  - type: Resource\n    resource:\n      name: cpu\n      target:\n        type: Utilization\n        averageUtilization: 70\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#9-disposability","title":"9. Disposability (\ud3d0\uae30 \uac00\ub2a5\uc131)","text":"<p>\uc6d0\uce59: \ube60\ub978 \uc2dc\uc791\uacfc \uc6b0\uc544\ud55c \uc885\ub8cc</p> <pre><code>import signal\nimport sys\n\ndef graceful_shutdown(signum, frame):\n    print(\"Shutting down gracefully...\")\n    # \uc9c4\ud589 \uc911\uc778 \uc694\uccad \uc644\ub8cc\n    # \uc5f0\uacb0 \uc885\ub8cc\n    sys.exit(0)\n\nsignal.signal(signal.SIGTERM, graceful_shutdown)\n</code></pre> <pre><code># Kubernetes\uc5d0\uc11c \uc885\ub8cc \ub300\uae30 \uc2dc\uac04 \uc124\uc815\nspec:\n  containers:\n  - name: app\n    image: myapp:latest\n    lifecycle:\n      preStop:\n        exec:\n          command: [\"/bin/sh\", \"-c\", \"sleep 15\"]\n  terminationGracePeriodSeconds: 30\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#10-devprod-parity","title":"10. Dev/Prod Parity (\uac1c\ubc1c/\ud504\ub85c\ub355\uc158 \uc77c\uce58)","text":"<p>\uc6d0\uce59: \uac1c\ubc1c, \uc2a4\ud14c\uc774\uc9d5, \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc744 \ucd5c\ub300\ud55c \ube44\uc2b7\ud558\uac8c \uc720\uc9c0</p> <pre><code># docker-compose.yml (\ub85c\uceec \uac1c\ubc1c)\nservices:\n  app:\n    image: myapp:latest\n    environment:\n      - DATABASE_URL=postgresql://db:5432/mydb\n  db:\n    image: postgres:15\n\n# Kubernetes (\ud504\ub85c\ub355\uc158)\n# \ub3d9\uc77c\ud55c \uc774\ubbf8\uc9c0\uc640 \uc11c\ube44\uc2a4 \uad6c\uc870 \uc0ac\uc6a9\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#11-logs","title":"11. Logs (\ub85c\uadf8)","text":"<p>\uc6d0\uce59: \ub85c\uadf8\ub97c \uc774\ubca4\ud2b8 \uc2a4\ud2b8\ub9bc\uc73c\ub85c \ucc98\ub9ac</p> <pre><code>import logging\nimport sys\n\n# stdout\uc73c\ub85c \ub85c\uadf8 \ucd9c\ub825 (\ud30c\uc77c\uc5d0 \uc4f0\uc9c0 \uc54a\uc74c)\nlogging.basicConfig(\n    stream=sys.stdout,\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n\nlogger = logging.getLogger(__name__)\nlogger.info(\"Application started\")\n</code></pre> <pre><code># Kubernetes\uc5d0\uc11c \ub85c\uadf8 \ud655\uc778\nkubectl logs -f deployment/web-app\n\n# \uc911\uc559\ud654\ub41c \ub85c\uadf8 \uc218\uc9d1 (ELK, Loki \ub4f1)\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#12-admin-processes","title":"12. Admin Processes (\uad00\ub9ac \ud504\ub85c\uc138\uc2a4)","text":"<p>\uc6d0\uce59: \uad00\ub9ac \uc791\uc5c5\uc744 \uc77c\ud68c\uc131 \ud504\ub85c\uc138\uc2a4\ub85c \uc2e4\ud589</p> <pre><code># Kubernetes Job\uc73c\ub85c DB \ub9c8\uc774\uadf8\ub808\uc774\uc158\nkubectl run db-migrate \\\n  --image=myapp:latest \\\n  --restart=Never \\\n  --command -- python manage.py migrate\n</code></pre> <pre><code># Job \uc815\uc758\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: db-migration\nspec:\n  template:\n    spec:\n      containers:\n      - name: migrate\n        image: myapp:latest\n        command: [\"python\", \"manage.py\", \"migrate\"]\n      restartPolicy: Never\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#_5","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"common-skills/Ch3.Cloud_Native/#1-docker_1","title":"\uc2e4\uc2b5 1: Docker \ucee8\ud14c\uc774\ub108\ud654","text":"<p>\ubaa9\ud45c: \uac04\ub2e8\ud55c FastAPI \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \ucee8\ud14c\uc774\ub108\ud654</p> <pre><code># app.py\nfrom fastapi import FastAPI\nimport os\n\napp = FastAPI()\n\n@app.get(\"/\")\ndef read_root():\n    return {\n        \"message\": \"Hello from Docker!\",\n        \"env\": os.getenv(\"APP_ENV\", \"development\")\n    }\n\n@app.get(\"/health\")\ndef health_check():\n    return {\"status\": \"healthy\"}\n</code></pre> <pre><code># Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\nCOPY app.py .\n\nEXPOSE 8000\n\nCMD [\"uvicorn\", \"app:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre> <pre><code># \ube4c\ub4dc \ubc0f \uc2e4\ud589\ndocker build -t my-fastapi-app .\ndocker run -d -p 8000:8000 -e APP_ENV=production my-fastapi-app\n\n# \ud14c\uc2a4\ud2b8\ncurl http://localhost:8000\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#2-kubernetes_1","title":"\uc2e4\uc2b5 2: Kubernetes \ubc30\ud3ec","text":"<pre><code># 1. Minikube \uc2dc\uc791 (\ub85c\uceec \uac1c\ubc1c)\nminikube start\n\n# 2. Deployment \uc0dd\uc131\nkubectl create deployment hello-app --image=my-fastapi-app:latest\n\n# 3. Service \ub178\ucd9c\nkubectl expose deployment hello-app --type=LoadBalancer --port=80 --target-port=8000\n\n# 4. \ud655\uc778\nkubectl get pods\nkubectl get services\nminikube service hello-app --url\n</code></pre>"},{"location":"common-skills/Ch3.Cloud_Native/#_6","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"common-skills/Ch3.Cloud_Native/#docker_2","title":"Docker","text":"<ul> <li>Docker \uacf5\uc2dd \ubb38\uc11c</li> <li>Docker Best Practices 2025</li> <li>Multi-Stage Builds</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#kubernetes","title":"Kubernetes","text":"<ul> <li>Kubernetes \uacf5\uc2dd \ubb38\uc11c</li> <li>Kubernetes Tutorial for Beginners 2025</li> <li>Kubernetes By Example</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#12-factor-app_1","title":"12-Factor App","text":"<ul> <li>The Twelve-Factor App</li> <li>12 Factor App Guide 2025</li> <li>Red Hat - 12 Factor App meets Kubernetes</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#cncf","title":"CNCF","text":"<ul> <li>CNCF Cloud Native Landscape</li> <li>Cloud Native Glossary</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#_7","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Docker \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ubc0f \uc2e4\ud589</li> <li> Multi-stage \ube4c\ub4dc\ub97c \uc0ac\uc6a9\ud55c \ucd5c\uc801\ud654</li> <li> Docker Compose\ub85c \ub2e4\uc911 \ucee8\ud14c\uc774\ub108 \uad00\ub9ac</li> <li> Kubernetes Pod, Deployment, Service \uc774\ud574</li> <li> kubectl \uae30\ubcf8 \uba85\ub839\uc5b4 \uc0ac\uc6a9</li> <li> ConfigMap\uacfc Secret \uad00\ub9ac</li> <li> 12-Factor App \ubc29\ubc95\ub860 \uc774\ud574 \ubc0f \uc801\uc6a9</li> <li> Health Check \ubc0f Readiness Probe \uad6c\ud604</li> <li> \ubb34\uc0c1\ud0dc(Stateless) \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc124\uacc4</li> </ul>"},{"location":"common-skills/Ch3.Cloud_Native/#_8","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Cloud-Native \uae30\ucd08\ub97c \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch4. DevOps \ub3c4\uad6c \ubc0f \uc2e4\ubb34\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"common-skills/Ch4.DevOps/","title":"Ch4. DevOps \ub3c4\uad6c \ubc0f \uc2e4\ubb34","text":""},{"location":"common-skills/Ch4.DevOps/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>DevOps\ub294 \uac1c\ubc1c(Development)\uacfc \uc6b4\uc601(Operations)\uc744 \ud1b5\ud569\ud558\uc5ec \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc804\ub2ec \uc18d\ub3c4\uc640 \ud488\uc9c8\uc744 \ud5a5\uc0c1\uc2dc\ud0a4\ub294 \ubb38\ud654\uc774\uc790 \uc2e4\ucc9c \ubc29\ubc95\uc785\ub2c8\ub2e4. \uc790\ub3d9\ud654, \ubaa8\ub2c8\ud130\ub9c1, \uc9c0\uc18d\uc801 \ud1b5\ud569/\ubc30\ud3ec\uac00 \ud575\uc2ec\uc785\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch4.DevOps/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Git\uc744 \uc0ac\uc6a9\ud55c \ud6a8\uacfc\uc801\uc778 \ubc84\uc804 \uad00\ub9ac \ubc0f \ud611\uc5c5</li> <li>CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \ubc0f \uc6b4\uc601</li> <li>GitOps\ub97c \ud1b5\ud55c \uc120\uc5b8\uc801 \ubc30\ud3ec \uc790\ub3d9\ud654</li> <li>Prometheus\uc640 Grafana\ub97c \ud65c\uc6a9\ud55c \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c \uad6c\ucd95</li> </ul>"},{"location":"common-skills/Ch4.DevOps/#part-1-git","title":"\ud83d\udd00 Part 1: Git &amp; \ubc84\uc804 \uad00\ub9ac","text":""},{"location":"common-skills/Ch4.DevOps/#1-git-workflow","title":"1. Git Workflow","text":""},{"location":"common-skills/Ch4.DevOps/#git-flow","title":"Git Flow","text":"<p>\ub300\uaddc\ubaa8 \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc801\ud569\ud55c \ube0c\ub79c\uce58 \uc804\ub7b5\uc785\ub2c8\ub2e4.</p> <pre><code># \ube0c\ub79c\uce58 \uad6c\uc870\nmain (production)\n\u251c\u2500\u2500 develop (development)\n\u2502   \u251c\u2500\u2500 feature/user-authentication\n\u2502   \u251c\u2500\u2500 feature/payment-integration\n\u2502   \u2514\u2500\u2500 feature/new-dashboard\n\u251c\u2500\u2500 release/v1.2.0\n\u2514\u2500\u2500 hotfix/critical-bug-fix\n</code></pre> <p>\uc6cc\ud06c\ud50c\ub85c\uc6b0: <pre><code># 1. Feature \uac1c\ubc1c \uc2dc\uc791\ngit checkout develop\ngit pull origin develop\ngit checkout -b feature/user-auth\n\n# 2. \uac1c\ubc1c \ubc0f \ucee4\ubc0b\ngit add .\ngit commit -m \"Add user authentication\"\n\n# 3. Feature \ube0c\ub79c\uce58 \ud478\uc2dc\ngit push origin feature/user-auth\n\n# 4. Pull Request \uc0dd\uc131 (GitHub/GitLab)\n\n# 5. \ucf54\ub4dc \ub9ac\ubdf0 \ud6c4 develop\uc5d0 \uba38\uc9c0\n\n# 6. Release \uc900\ube44\ngit checkout -b release/v1.2.0 develop\n\n# 7. \ubc84\uadf8 \uc218\uc815 \ud6c4 main\uacfc develop\uc5d0 \uba38\uc9c0\ngit checkout main\ngit merge release/v1.2.0\ngit tag v1.2.0\n\n# 8. Hotfix (\uae34\uae09 \ubc84\uadf8 \uc218\uc815)\ngit checkout -b hotfix/critical-bug main\n# \uc218\uc815 \ud6c4\ngit checkout main\ngit merge hotfix/critical-bug\ngit checkout develop\ngit merge hotfix/critical-bug\n</code></pre></p>"},{"location":"common-skills/Ch4.DevOps/#github-flow","title":"GitHub Flow (\uac04\uc18c\ud654\ub41c \ubc29\uc2dd)","text":"<p>\uc18c\uaddc\ubaa8 \ud300\uc774\ub098 \uc9c0\uc18d\uc801 \ubc30\ud3ec\uc5d0 \uc801\ud569\ud569\ub2c8\ub2e4.</p> <pre><code># \ube0c\ub79c\uce58 \uad6c\uc870 (\ub2e8\uc21c)\nmain\n\u251c\u2500\u2500 feature/add-logging\n\u251c\u2500\u2500 fix/api-timeout\n\u2514\u2500\u2500 update/dependencies\n</code></pre> <p>\uc6cc\ud06c\ud50c\ub85c\uc6b0: <pre><code># 1. Feature \ube0c\ub79c\uce58 \uc0dd\uc131\ngit checkout -b feature/add-logging\n\n# 2. \uac1c\ubc1c \ubc0f \ud478\uc2dc\ngit add .\ngit commit -m \"Add logging middleware\"\ngit push origin feature/add-logging\n\n# 3. Pull Request \u2192 \ub9ac\ubdf0 \u2192 Merge \u2192 Deploy\n</code></pre></p>"},{"location":"common-skills/Ch4.DevOps/#2-git","title":"2. Git \uace0\uae09 \uae30\ub2a5","text":""},{"location":"common-skills/Ch4.DevOps/#interactive-rebase","title":"Interactive Rebase","text":"<pre><code># \ucd5c\uadfc 3\uac1c \ucee4\ubc0b \uc815\ub9ac\ngit rebase -i HEAD~3\n\n# \uc5d0\ub514\ud130\uc5d0\uc11c:\n# pick abc123 Add feature A\n# squash def456 Fix typo\n# squash ghi789 Update docs\n# \u2192 3\uac1c \ucee4\ubc0b\uc744 1\uac1c\ub85c \ud569\uce68\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#cherry-pick","title":"Cherry-pick","text":"<pre><code># \ud2b9\uc815 \ucee4\ubc0b\ub9cc \ud604\uc7ac \ube0c\ub79c\uce58\uc5d0 \uc801\uc6a9\ngit cherry-pick abc123\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#stash","title":"Stash","text":"<pre><code># \uc791\uc5c5 \uc911\uc778 \ubcc0\uacbd\uc0ac\ud56d \uc784\uc2dc \uc800\uc7a5\ngit stash\n\n# \ub2e4\ub978 \ube0c\ub79c\uce58\ub85c \uc774\ub3d9 \ud6c4 \uc791\uc5c5\n\n# \uc784\uc2dc \uc800\uc7a5\ud55c \ubcc0\uacbd\uc0ac\ud56d \ubcf5\uc6d0\ngit stash pop\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#part-2-cicd","title":"\ud83d\udd04 Part 2: CI/CD \ud30c\uc774\ud504\ub77c\uc778","text":""},{"location":"common-skills/Ch4.DevOps/#1-github-actions","title":"1. GitHub Actions","text":""},{"location":"common-skills/Ch4.DevOps/#_3","title":"\uae30\ubcf8 \uc6cc\ud06c\ud50c\ub85c\uc6b0","text":"<p>```.github/workflows/ci.yml name: CI Pipeline</p>"},{"location":"common-skills/Ch4.DevOps/#_4","title":"\ud2b8\ub9ac\uac70 \uc870\uac74","text":"<p>on:   push:     branches: [main, develop]   pull_request:     branches: [main]</p> <p>jobs:   # \ud14c\uc2a4\ud2b8 Job   test:     runs-on: ubuntu-latest</p> <pre><code>steps:\n  - name: Checkout code\n    uses: actions/checkout@v4\n\n  - name: Setup Python\n    uses: actions/setup-python@v5\n    with:\n      python-version: '3.11'\n\n  - name: Cache dependencies\n    uses: actions/cache@v4\n    with:\n      path: ~/.cache/pip\n      key: ${{ runner.os }}-pip-${{ hashFiles('requirements.txt') }}\n\n  - name: Install dependencies\n    run: |\n      pip install -r requirements.txt\n      pip install pytest pytest-cov\n\n  - name: Run tests\n    run: pytest --cov=app tests/\n\n  - name: Upload coverage\n    uses: codecov/codecov-action@v4\n    with:\n      file: ./coverage.xml\n</code></pre> <p># \ube4c\ub4dc \ubc0f \ud478\uc2dc Job   build:     runs-on: ubuntu-latest     needs: test  # test\uac00 \uc131\uacf5\ud574\uc57c \uc2e4\ud589</p> <pre><code>steps:\n  - name: Checkout code\n    uses: actions/checkout@v4\n\n  - name: Login to Docker Hub\n    uses: docker/login-action@v3\n    with:\n      username: ${{ secrets.DOCKER_USERNAME }}\n      password: ${{ secrets.DOCKER_PASSWORD }}\n\n  - name: Build and push\n    uses: docker/build-push-action@v5\n    with:\n      context: .\n      push: true\n      tags: |\n        myapp:latest\n        myapp:${{ github.sha }}\n</code></pre> <p>``` </p>"},{"location":"common-skills/Ch4.DevOps/#cd-kubernetes","title":"CD \ud30c\uc774\ud504\ub77c\uc778 (Kubernetes \ubc30\ud3ec)","text":"<p><code>.github/workflows/cd.yml name: CD Pipeline  on:   push:     branches: [main]  jobs:   deploy:     runs-on: ubuntu-latest      steps:       - name: Checkout code         uses: actions/checkout@v4        - name: Configure kubectl         uses: azure/k8s-set-context@v3         with:           method: kubeconfig           kubeconfig: ${{ secrets.KUBE_CONFIG }}        - name: Update deployment image         run: |           kubectl set image deployment/myapp \\             myapp=myapp:${{ github.sha }} \\             --record        - name: Check rollout status         run: kubectl rollout status deployment/myapp        - name: Notify Slack         if: success()         uses: slackapi/slack-github-action@v1         with:           payload: |             {               \"text\": \"\u2705 Deployment successful: ${{ github.sha }}\"             }         env:           SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}</code></p>"},{"location":"common-skills/Ch4.DevOps/#2-gitlab-cicd","title":"2. GitLab CI/CD","text":""},{"location":"common-skills/Ch4.DevOps/#gitlab-ciyml","title":".gitlab-ci.yml","text":"<pre><code># .gitlab-ci.yml\nstages:\n  - test\n  - build\n  - deploy\n\n# \ubcc0\uc218 \uc815\uc758\nvariables:\n  DOCKER_IMAGE: registry.gitlab.com/myproject/myapp\n  KUBE_NAMESPACE: production\n\n# \ud14c\uc2a4\ud2b8 \uc2a4\ud14c\uc774\uc9c0\ntest:\n  stage: test\n  image: python:3.11\n  before_script:\n    - pip install -r requirements.txt\n  script:\n    - pytest --cov=app tests/\n    - flake8 app/\n  coverage: '/TOTAL.*\\s+(\\d+%)$/'\n  artifacts:\n    reports:\n      coverage_report:\n        coverage_format: cobertura\n        path: coverage.xml\n\n# \ube4c\ub4dc \uc2a4\ud14c\uc774\uc9c0\nbuild:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  before_script:\n    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $CI_REGISTRY\n  script:\n    - docker build -t $DOCKER_IMAGE:$CI_COMMIT_SHA .\n    - docker build -t $DOCKER_IMAGE:latest .\n    - docker push $DOCKER_IMAGE:$CI_COMMIT_SHA\n    - docker push $DOCKER_IMAGE:latest\n  only:\n    - main\n\n# \ubc30\ud3ec \uc2a4\ud14c\uc774\uc9c0\ndeploy:\n  stage: deploy\n  image: bitnami/kubectl:latest\n  script:\n    - kubectl config use-context $KUBE_CONTEXT\n    - kubectl set image deployment/myapp myapp=$DOCKER_IMAGE:$CI_COMMIT_SHA -n $KUBE_NAMESPACE\n    - kubectl rollout status deployment/myapp -n $KUBE_NAMESPACE\n  environment:\n    name: production\n    url: https://myapp.example.com\n  only:\n    - main\n  when: manual  # \uc218\ub3d9 \uc2b9\uc778 \ud544\uc694\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#3-jenkins-pipeline","title":"3. Jenkins Pipeline","text":""},{"location":"common-skills/Ch4.DevOps/#jenkinsfile","title":"Jenkinsfile","text":"<pre><code>// Jenkinsfile\npipeline {\n    agent any\n\n    environment {\n        DOCKER_IMAGE = 'myapp'\n        REGISTRY = 'docker.io'\n    }\n\n    stages {\n        stage('Checkout') {\n            steps {\n                git branch: 'main',\n                    url: 'https://github.com/myorg/myapp.git'\n            }\n        }\n\n        stage('Test') {\n            steps {\n                sh 'pip install -r requirements.txt'\n                sh 'pytest --junitxml=test-results.xml'\n            }\n            post {\n                always {\n                    junit 'test-results.xml'\n                }\n            }\n        }\n\n        stage('Build') {\n            steps {\n                script {\n                    docker.build(\"${DOCKER_IMAGE}:${BUILD_NUMBER}\")\n                }\n            }\n        }\n\n        stage('Push') {\n            steps {\n                script {\n                    docker.withRegistry(\"https://${REGISTRY}\", 'docker-credentials') {\n                        docker.image(\"${DOCKER_IMAGE}:${BUILD_NUMBER}\").push()\n                        docker.image(\"${DOCKER_IMAGE}:${BUILD_NUMBER}\").push('latest')\n                    }\n                }\n            }\n        }\n\n        stage('Deploy') {\n            steps {\n                kubernetesDeploy(\n                    configs: 'k8s/*.yaml',\n                    kubeconfigId: 'kubeconfig'\n                )\n            }\n        }\n    }\n\n    post {\n        success {\n            slackSend(color: 'good', message: \"Build ${BUILD_NUMBER} succeeded\")\n        }\n        failure {\n            slackSend(color: 'danger', message: \"Build ${BUILD_NUMBER} failed\")\n        }\n    }\n}\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#4-cicd-best-practices-2025","title":"4. CI/CD Best Practices (2025)","text":"<p>1. \ube60\ub978 \uc2e4\ud328 (Fail Fast): <pre><code># \ub2e8\uc704 \ud14c\uc2a4\ud2b8\ub97c \uba3c\uc800 \uc2e4\ud589\njobs:\n  quick-tests:\n    runs-on: ubuntu-latest\n    steps:\n      - run: pytest tests/unit/  # \ube60\ub978 \ub2e8\uc704 \ud14c\uc2a4\ud2b8\n\n  integration-tests:\n    needs: quick-tests  # \ub2e8\uc704 \ud14c\uc2a4\ud2b8 \ud1b5\uacfc \ud6c4 \uc2e4\ud589\n    runs-on: ubuntu-latest\n    steps:\n      - run: pytest tests/integration/  # \ub290\ub9b0 \ud1b5\ud569 \ud14c\uc2a4\ud2b8\n</code></pre></p> <p>2. \uc758\uc874\uc131 \uce90\uc2f1: <pre><code>- name: Cache dependencies\n  uses: actions/cache@v4\n  with:\n    path: |\n      ~/.cache/pip\n      node_modules\n    key: ${{ runner.os }}-deps-${{ hashFiles('**/requirements.txt', '**/package-lock.json') }}\n</code></pre></p> <p>3. \uc2dc\ud06c\ub9bf \uad00\ub9ac: <pre><code># \u274c \ud558\ub4dc\ucf54\ub529 (\uc808\ub300 \uae08\uc9c0)\npassword: mypassword123\n\n# \u2705 GitHub Secrets \uc0ac\uc6a9\npassword: ${{ secrets.DB_PASSWORD }}\n</code></pre></p> <p>4. \ubcd1\ub82c \uc2e4\ud589: <pre><code>jobs:\n  test:\n    strategy:\n      matrix:\n        python-version: ['3.9', '3.10', '3.11']\n        os: [ubuntu-latest, macos-latest]\n    runs-on: ${{ matrix.os }}\n    steps:\n      - uses: actions/setup-python@v5\n        with:\n          python-version: ${{ matrix.python-version }}\n</code></pre></p>"},{"location":"common-skills/Ch4.DevOps/#part-3-gitops","title":"\ud83d\ude80 Part 3: GitOps","text":""},{"location":"common-skills/Ch4.DevOps/#1-gitops","title":"1. GitOps \uac1c\ub150","text":"<p>GitOps \uc6d0\uce59: 1. \uc120\uc5b8\uc801 \uba85\uc138: \ubaa8\ub4e0 \uc124\uc815\uc774 Git\uc5d0 \uc120\uc5b8\uc801\uc73c\ub85c \uc800\uc7a5 2. \ubc84\uc804 \uad00\ub9ac: Git\uc774 \ub2e8\uc77c \uc9c4\uc2e4 \uacf5\uae09\uc6d0 (Single Source of Truth) 3. \uc790\ub3d9 \ubc30\ud3ec: Git \ubcc0\uacbd \uc2dc \uc790\ub3d9\uc73c\ub85c \ud074\ub7ec\uc2a4\ud130\uc5d0 \ubc18\uc601 4. \uc9c0\uc18d\uc801 \ub3d9\uae30\ud654: \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc\uc640 Git \uc800\uc7a5\uc18c \uc0c1\ud0dc \uc77c\uce58</p>"},{"location":"common-skills/Ch4.DevOps/#2-argocd","title":"2. ArgoCD","text":""},{"location":"common-skills/Ch4.DevOps/#_5","title":"\uc124\uce58","text":"<pre><code># ArgoCD \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \uc0dd\uc131\nkubectl create namespace argocd\n\n# ArgoCD \uc124\uce58\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n\n# ArgoCD UI \uc811\uc18d\nkubectl port-forward svc/argocd-server -n argocd 8080:443\n\n# \ucd08\uae30 admin \ube44\ubc00\ubc88\ud638\nkubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#application","title":"Application \uc815\uc758","text":"<pre><code># application.yaml\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: my-app\n  namespace: argocd\nspec:\n  # \uc18c\uc2a4 (Git \uc800\uc7a5\uc18c)\n  source:\n    repoURL: https://github.com/myorg/myapp-config.git\n    targetRevision: main\n    path: k8s/production\n\n  # \ub300\uc0c1 (Kubernetes \ud074\ub7ec\uc2a4\ud130)\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: production\n\n  # \ub3d9\uae30\ud654 \uc815\ucc45\n  syncPolicy:\n    automated:\n      prune: true      # Git\uc5d0\uc11c \uc0ad\uc81c\ub41c \ub9ac\uc18c\uc2a4 \uc81c\uac70\n      selfHeal: true   # \ud074\ub7ec\uc2a4\ud130 \ubcc0\uacbd \uc2dc \uc790\ub3d9 \ubcf5\uad6c\n    syncOptions:\n      - CreateNamespace=true\n\n  # \ud5ec\uc2a4 \uccb4\ud06c\n  ignoreDifferences:\n    - group: apps\n      kind: Deployment\n      jsonPointers:\n        - /spec/replicas  # replicas \ubcc0\uacbd \ubb34\uc2dc (HPA \uc0ac\uc6a9 \uc2dc)\n</code></pre> <pre><code># Application \ubc30\ud3ec\nkubectl apply -f application.yaml\n\n# \ub3d9\uae30\ud654 \uc0c1\ud0dc \ud655\uc778\nargocd app get my-app\n\n# \uc218\ub3d9 \ub3d9\uae30\ud654\nargocd app sync my-app\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#argocd-vs-flux-cd-2025","title":"ArgoCD vs Flux CD (2025 \ube44\uad50)","text":"<p>ArgoCD:</p> <ul> <li>\u2705 \ud48d\ubd80\ud55c \uc6f9 UI</li> <li>\u2705 Multi-tenancy \uc9c0\uc6d0</li> <li>\u2705 Multi-cluster \uad00\ub9ac</li> <li>\u2705 \uc9c1\uad00\uc801\uc778 \uc0ac\uc6a9\uc790 \uacbd\ud5d8</li> </ul> <p>Flux CD:</p> <ul> <li>\u2705 \uacbd\ub7c9, CLI \uc911\uc2ec</li> <li>\u2705 Kubernetes-native (CRD \uae30\ubc18)</li> <li>\u2705 \ub9ac\uc18c\uc2a4 \ud6a8\uc728\uc801</li> <li>\u2705 GitOps Toolkit\uc73c\ub85c \ud655\uc7a5 \uac00\ub2a5</li> </ul> <p>2025\ub144 \uae30\uc900: 65% \uc774\uc0c1\uc758 \uae30\uc5c5\uc774 GitOps\ub97c \ub3c4\uc785\ud558\uace0 \uc788\uc73c\uba70, ArgoCD\uc640 Flux \ubaa8\ub450 \ub110\ub9ac \uc0ac\uc6a9\ub429\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch4.DevOps/#3-flux-cd","title":"3. Flux CD","text":""},{"location":"common-skills/Ch4.DevOps/#_6","title":"\uc124\uce58","text":"<pre><code># Flux CLI \uc124\uce58\ncurl -s https://fluxcd.io/install.sh | sudo bash\n\n# GitHub Personal Access Token \uc0dd\uc131 \ud6c4\nexport GITHUB_TOKEN=&lt;your-token&gt;\nexport GITHUB_USER=&lt;your-username&gt;\n\n# Flux \ubd80\ud2b8\uc2a4\ud2b8\ub7a9\nflux bootstrap github \\\n  --owner=$GITHUB_USER \\\n  --repository=fleet-infra \\\n  --branch=main \\\n  --path=./clusters/production \\\n  --personal\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#gitrepository-kustomization","title":"GitRepository \ubc0f Kustomization","text":"<pre><code># gitrepository.yaml\napiVersion: source.toolkit.fluxcd.io/v1\nkind: GitRepository\nmetadata:\n  name: my-app\n  namespace: flux-system\nspec:\n  interval: 1m\n  url: https://github.com/myorg/myapp-config\n  ref:\n    branch: main\n---\n# kustomization.yaml\napiVersion: kustomize.toolkit.fluxcd.io/v1\nkind: Kustomization\nmetadata:\n  name: my-app\n  namespace: flux-system\nspec:\n  interval: 5m\n  path: ./k8s/production\n  prune: true\n  sourceRef:\n    kind: GitRepository\n    name: my-app\n  healthChecks:\n    - apiVersion: apps/v1\n      kind: Deployment\n      name: my-app\n      namespace: production\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#part-4-prometheus-grafana","title":"\ud83d\udcca Part 4: \ubaa8\ub2c8\ud130\ub9c1 (Prometheus &amp; Grafana)","text":""},{"location":"common-skills/Ch4.DevOps/#1-prometheus","title":"1. Prometheus","text":""},{"location":"common-skills/Ch4.DevOps/#prometheus","title":"Prometheus \uc544\ud0a4\ud14d\ucc98","text":"<p>\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>Prometheus Server: \uba54\ud2b8\ub9ad \uc218\uc9d1 \ubc0f \uc800\uc7a5</li> <li>Exporters: \uba54\ud2b8\ub9ad \ub178\ucd9c (Node Exporter, MySQL Exporter \ub4f1)</li> <li>Alertmanager: \uc54c\ub9bc \uad00\ub9ac</li> <li>Pushgateway: \ub2e8\uae30 \uc791\uc5c5 \uba54\ud2b8\ub9ad \uc218\uc9d1</li> </ul>"},{"location":"common-skills/Ch4.DevOps/#helm","title":"\uc124\uce58 (Helm)","text":"<pre><code># Prometheus Stack \uc124\uce58 (Prometheus + Grafana + Alertmanager)\nhelm repo add prometheus-community https://prometheus-community.github.io/helm-charts\nhelm repo update\n\nhelm install kube-prometheus-stack prometheus-community/kube-prometheus-stack \\\n  --namespace monitoring \\\n  --create-namespace \\\n  --set prometheus.prometheusSpec.retention=15d \\\n  --set grafana.enabled=true\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#prometheus_1","title":"Prometheus \uc124\uc815","text":"<pre><code># prometheus.yaml\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\n# \uc54c\ub9bc \uaddc\uce59 \ud30c\uc77c\nrule_files:\n  - \"alerts.yml\"\n\n# Alertmanager \uc124\uc815\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n            - alertmanager:9093\n\n# \uba54\ud2b8\ub9ad \uc218\uc9d1 \ub300\uc0c1\nscrape_configs:\n  # Kubernetes API Server\n  - job_name: 'kubernetes-apiservers'\n    kubernetes_sd_configs:\n      - role: endpoints\n    scheme: https\n    tls_config:\n      ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt\n    bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token\n\n  # Node Exporter\n  - job_name: 'kubernetes-nodes'\n    kubernetes_sd_configs:\n      - role: node\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __address__\n        regex: (.+):10250\n        replacement: ${1}:9100\n\n  # \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uba54\ud2b8\ub9ad\n  - job_name: 'my-app'\n    kubernetes_sd_configs:\n      - role: pod\n    relabel_configs:\n      - source_labels: [__meta_kubernetes_pod_label_app]\n        action: keep\n        regex: my-app\n      - source_labels: [__meta_kubernetes_pod_container_port_number]\n        action: keep\n        regex: \"8000\"\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#promql-prometheus-query-language","title":"PromQL (Prometheus Query Language)","text":"<pre><code># CPU \uc0ac\uc6a9\ub960 (\ucd5c\uadfc 5\ubd84)\nrate(container_cpu_usage_seconds_total[5m])\n\n# \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\ncontainer_memory_usage_bytes\n\n# HTTP \uc694\uccad\ub960 (QPS)\nrate(http_requests_total[1m])\n\n# \uc5d0\ub7ec\uc728\nrate(http_requests_total{status=~\"5..\"}[5m])\n/ rate(http_requests_total[5m])\n\n# P95 \ub808\uc774\ud134\uc2dc\nhistogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m]))\n\n# Pod \uc7ac\uc2dc\uc791 \ud69f\uc218\nkube_pod_container_status_restarts_total &gt; 5\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#_7","title":"\uc54c\ub9bc \uaddc\uce59","text":"<pre><code># alerts.yml\ngroups:\n  - name: kubernetes-alerts\n    interval: 30s\n    rules:\n      # Pod\uac00 \uc7ac\uc2dc\uc791\uc744 \ubc18\ubcf5\ud558\ub294 \uacbd\uc6b0\n      - alert: PodCrashLooping\n        expr: rate(kube_pod_container_status_restarts_total[15m]) &gt; 0\n        for: 5m\n        labels:\n          severity: critical\n        annotations:\n          summary: \"Pod {{ $labels.pod }} is crash looping\"\n          description: \"Pod {{ $labels.pod }} in namespace {{ $labels.namespace }} is restarting {{ $value }} times per second\"\n\n      # \ub192\uc740 CPU \uc0ac\uc6a9\ub960\n      - alert: HighCPUUsage\n        expr: |\n          100 - (avg by(instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100) &gt; 80\n        for: 10m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High CPU usage on {{ $labels.instance }}\"\n          description: \"CPU usage is {{ $value }}%\"\n\n      # \uba54\ubaa8\ub9ac \ubd80\uc871\n      - alert: HighMemoryUsage\n        expr: |\n          (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100 &gt; 90\n        for: 5m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"High memory usage on {{ $labels.instance }}\"\n          description: \"Memory usage is {{ $value }}%\"\n\n      # Deployment\uc758 Pod \ubd80\uc871\n      - alert: DeploymentReplicasMismatch\n        expr: |\n          kube_deployment_spec_replicas != kube_deployment_status_replicas_available\n        for: 15m\n        labels:\n          severity: warning\n        annotations:\n          summary: \"Deployment {{ $labels.deployment }} has mismatched replicas\"\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#2-grafana","title":"2. Grafana","text":""},{"location":"common-skills/Ch4.DevOps/#_8","title":"\ub300\uc2dc\ubcf4\ub4dc \uc0dd\uc131","text":"<pre><code># Grafana \uc811\uc18d\nkubectl port-forward -n monitoring svc/kube-prometheus-stack-grafana 3000:80\n\n# \uae30\ubcf8 \ub85c\uadf8\uc778\n# Username: admin\n# Password: prom-operator\n</code></pre> <p>Kubernetes \ud074\ub7ec\uc2a4\ud130 \ub300\uc2dc\ubcf4\ub4dc (JSON): <pre><code>{\n  \"dashboard\": {\n    \"title\": \"Kubernetes Cluster Overview\",\n    \"panels\": [\n      {\n        \"title\": \"CPU Usage\",\n        \"targets\": [\n          {\n            \"expr\": \"sum(rate(container_cpu_usage_seconds_total[5m])) by (pod)\"\n          }\n        ],\n        \"type\": \"graph\"\n      },\n      {\n        \"title\": \"Memory Usage\",\n        \"targets\": [\n          {\n            \"expr\": \"sum(container_memory_usage_bytes) by (pod)\"\n          }\n        ],\n        \"type\": \"graph\"\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"common-skills/Ch4.DevOps/#_9","title":"\uc54c\ub9bc \ucc44\ub110 \uc124\uc815","text":"<pre><code># Slack \uc54c\ub9bc\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: alertmanager-config\n  namespace: monitoring\ndata:\n  alertmanager.yml: |\n    global:\n      slack_api_url: 'https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK'\n\n    route:\n      group_by: ['alertname', 'cluster']\n      group_wait: 10s\n      group_interval: 10s\n      repeat_interval: 12h\n      receiver: 'slack-notifications'\n\n    receivers:\n      - name: 'slack-notifications'\n        slack_configs:\n          - channel: '#alerts'\n            title: '{{ .GroupLabels.alertname }}'\n            text: '{{ range .Alerts }}{{ .Annotations.description }}{{ end }}'\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#3-python","title":"3. \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uba54\ud2b8\ub9ad (Python \uc608\uc81c)","text":"<pre><code># app.py\nfrom prometheus_client import Counter, Histogram, generate_latest\nfrom fastapi import FastAPI, Response\nimport time\n\napp = FastAPI()\n\n# \uba54\ud2b8\ub9ad \uc815\uc758\nREQUEST_COUNT = Counter(\n    'http_requests_total',\n    'Total HTTP requests',\n    ['method', 'endpoint', 'status']\n)\n\nREQUEST_LATENCY = Histogram(\n    'http_request_duration_seconds',\n    'HTTP request latency',\n    ['method', 'endpoint']\n)\n\n@app.middleware(\"http\")\nasync def prometheus_middleware(request, call_next):\n    start_time = time.time()\n    response = await call_next(request)\n\n    # \uba54\ud2b8\ub9ad \uae30\ub85d\n    REQUEST_COUNT.labels(\n        method=request.method,\n        endpoint=request.url.path,\n        status=response.status_code\n    ).inc()\n\n    REQUEST_LATENCY.labels(\n        method=request.method,\n        endpoint=request.url.path\n    ).observe(time.time() - start_time)\n\n    return response\n\n@app.get(\"/metrics\")\ndef metrics():\n    return Response(content=generate_latest(), media_type=\"text/plain\")\n\n@app.get(\"/\")\ndef read_root():\n    return {\"message\": \"Hello World\"}\n</code></pre>"},{"location":"common-skills/Ch4.DevOps/#_10","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"common-skills/Ch4.DevOps/#git","title":"Git","text":"<ul> <li>Pro Git Book</li> <li>GitHub Flow Guide</li> <li>Git Flow</li> </ul>"},{"location":"common-skills/Ch4.DevOps/#cicd","title":"CI/CD","text":"<ul> <li>GitHub Actions Documentation</li> <li>GitLab CI/CD</li> <li>Jenkins Documentation</li> <li>CI/CD Best Practices 2025</li> </ul>"},{"location":"common-skills/Ch4.DevOps/#gitops","title":"GitOps","text":"<ul> <li>ArgoCD Documentation</li> <li>Flux CD Documentation</li> <li>GitOps Principles</li> </ul>"},{"location":"common-skills/Ch4.DevOps/#_11","title":"\ubaa8\ub2c8\ud130\ub9c1","text":"<ul> <li>Prometheus Documentation</li> <li>Grafana Documentation</li> <li>Kubernetes Monitoring Guide 2025</li> </ul>"},{"location":"common-skills/Ch4.DevOps/#_12","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Git Flow/GitHub Flow \uc774\ud574 \ubc0f \ud65c\uc6a9</li> <li> Git \uace0\uae09 \uae30\ub2a5 (rebase, cherry-pick, stash) \uc0ac\uc6a9</li> <li> GitHub Actions\ub85c CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li> GitLab CI \ub610\ub294 Jenkins \ud30c\uc774\ud504\ub77c\uc778 \uad6c\uc131</li> <li> ArgoCD \ub610\ub294 Flux\ub85c GitOps \uad6c\ud604</li> <li> Prometheus\ub85c \uba54\ud2b8\ub9ad \uc218\uc9d1 \uc124\uc815</li> <li> PromQL\ub85c \ucffc\ub9ac \uc791\uc131</li> <li> Grafana \ub300\uc2dc\ubcf4\ub4dc \uc0dd\uc131 \ubc0f \uc54c\ub9bc \uc124\uc815</li> <li> \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \uba54\ud2b8\ub9ad \ucd94\uac00</li> </ul>"},{"location":"common-skills/Ch4.DevOps/#_13","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>DevOps \ub3c4\uad6c\ub97c \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch5. \uc2dc\uc2a4\ud15c \uc124\uacc4 \ubc0f \uc544\ud0a4\ud14d\ucc98\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/","title":"Ch5. \uc2dc\uc2a4\ud15c \uc124\uacc4 \ubc0f \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc548\uc815\uc801\uc778 \uc2dc\uc2a4\ud15c\uc744 \uc124\uacc4\ud558\ub294 \ub2a5\ub825\uc740 \ud074\ub77c\uc6b0\ub4dc \uc5d4\uc9c0\ub2c8\uc5b4\uc758 \ud575\uc2ec \uc5ed\ub7c9\uc785\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 \ub300\uaddc\ubaa8 \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc758 \uc124\uacc4 \uc6d0\uce59\uacfc \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \ud328\ud134\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>\ud655\uc7a5\uc131, \uac00\uc6a9\uc131, \uc77c\uad00\uc131\uc744 \uace0\ub824\ud55c \uc2dc\uc2a4\ud15c \uc124\uacc4</li> <li>CAP \uc815\ub9ac\uc640 \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc758 \ud2b8\ub808\uc774\ub4dc\uc624\ud504 \uc774\ud574</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4 \ubc0f \ud328\ud134 \uc801\uc6a9</li> <li>\uc11c\ube44\uc2a4 \uba54\uc2dc\ub97c \ud65c\uc6a9\ud55c \uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 \uad00\ub9ac</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#part-1","title":"\ud83c\udfd7\ufe0f Part 1: \uc2dc\uc2a4\ud15c \uc124\uacc4 \uae30\ucd08","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#1-scalability","title":"1. Scalability (\ud655\uc7a5\uc131)","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#vertical-scaling","title":"\uc218\uc9c1 \ud655\uc7a5 (Vertical Scaling)","text":"<p>\uae30\uc874 \uc11c\ubc84\uc758 \uc131\ub2a5\uc744 \ub192\uc774\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4.</p> <p>\uc7a5\uc810:</p> <ul> <li>\uad6c\ud604\uc774 \uac04\ub2e8</li> <li>\ub370\uc774\ud130 \uc77c\uad00\uc131 \uc720\uc9c0 \uc6a9\uc774</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0 \uc5c6\uc74c</li> </ul> <p>\ub2e8\uc810:</p> <ul> <li>\ubb3c\ub9ac\uc801 \ud55c\uacc4 \uc874\uc7ac</li> <li>\ub2e8\uc77c \uc7a5\uc560\uc810 (Single Point of Failure)</li> <li>\ube44\uc6a9 \ube44\ud6a8\uc728\uc801 (\ud558\ub4dc\uc6e8\uc5b4 \uc131\ub2a5\uc774 2\ubc30 \ub192\uc544\uc9c0\uba74 \ube44\uc6a9\uc740 3-4\ubc30)</li> </ul> <pre><code>[Before]          [After]\n2 CPU             8 CPU\n4GB RAM    \u2192      32GB RAM\n100GB Disk        1TB Disk\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#horizontal-scaling","title":"\uc218\ud3c9 \ud655\uc7a5 (Horizontal Scaling)","text":"<p>\uc11c\ubc84\uc758 \uc218\ub97c \ub298\ub9ac\ub294 \ubc29\uc2dd\uc785\ub2c8\ub2e4.</p> <p>\uc7a5\uc810:</p> <ul> <li>\uc774\ub860\uc801\uc73c\ub85c \ubb34\ud55c \ud655\uc7a5 \uac00\ub2a5</li> <li>\uace0\uac00\uc6a9\uc131 (\ud55c \uc11c\ubc84 \uc7a5\uc560 \uc2dc \ub2e4\ub978 \uc11c\ubc84\uac00 \ucc98\ub9ac)</li> <li>\ube44\uc6a9 \ud6a8\uc728\uc801</li> </ul> <p>\ub2e8\uc810:</p> <ul> <li>\uad6c\ud604 \ubcf5\uc7a1\ub3c4 \uc99d\uac00</li> <li>\ub370\uc774\ud130 \uc77c\uad00\uc131 \ubb38\uc81c</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0</li> </ul> <pre><code>[Before]          [After]\nServer 1          Server 1\n                  Server 2\n        \u2192         Server 3\n                  Server 4\n                  Load Balancer\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_3","title":"\ub85c\ub4dc \ubc38\ub7f0\uc2f1","text":"<pre><code># Kubernetes Service (LoadBalancer \ud0c0\uc785)\napiVersion: v1\nkind: Service\nmetadata:\n  name: web-service\nspec:\n  type: LoadBalancer\n  selector:\n    app: web\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: 8080\n</code></pre> <p>\ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc54c\uace0\ub9ac\uc998:</p> <ul> <li>Round Robin: \uc21c\ud658 \ubc29\uc2dd</li> <li>Least Connections: \uc5f0\uacb0 \uc218\uac00 \uc801\uc740 \uc11c\ubc84 \uc6b0\uc120</li> <li>IP Hash: \ud074\ub77c\uc774\uc5b8\ud2b8 IP \uae30\ubc18 \ud574\uc2f1</li> <li>Weighted: \uc11c\ubc84 \uc131\ub2a5\uc5d0 \ub530\ub77c \uac00\uc911\uce58 \ubd80\uc5ec</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#2-availability","title":"2. Availability (\uac00\uc6a9\uc131)","text":"<p>\uac00\uc6a9\uc131 \uacc4\uc0b0: <pre><code>Availability = (Total Time - Downtime) / Total Time \u00d7 100\n\n99.9% (Three Nines)  = 8.76 hours/year downtime\n99.99% (Four Nines)  = 52.56 minutes/year downtime\n99.999% (Five Nines) = 5.26 minutes/year downtime\n</code></pre></p>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_4","title":"\uace0\uac00\uc6a9\uc131 \uc124\uacc4 \ud328\ud134","text":"<p>1. Redundancy (\uc911\ubcf5\uc131): <pre><code>[Active-Active]\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Server 1\u2502    \u2502 Server 2\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2191              \u2191\n      \u2514\u2500\u2500\u2500\u2500 LB \u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n[Active-Passive]\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Primary \u2502    \u2502 Standby \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2191              \u2191\n  (Active)      (Failover)\n</code></pre></p> <p>2. Health Checks: <pre><code># Kubernetes Liveness &amp; Readiness Probes\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-app\nspec:\n  replicas: 3\n  template:\n    spec:\n      containers:\n      - name: app\n        image: myapp:latest\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: 8080\n          initialDelaySeconds: 30\n          periodSeconds: 10\n          failureThreshold: 3\n        readinessProbe:\n          httpGet:\n            path: /ready\n            port: 8080\n          initialDelaySeconds: 5\n          periodSeconds: 5\n</code></pre></p> <p>3. Circuit Breaker (\uc11c\ud0b7 \ube0c\ub808\uc774\ucee4): <pre><code># Python \uc608\uc81c\nfrom circuitbreaker import circuit\n\n@circuit(failure_threshold=5, recovery_timeout=60)\ndef call_external_service():\n    response = requests.get('https://api.example.com/data')\n    return response.json()\n\n# 5\ubc88 \uc2e4\ud328 \uc2dc Circuit\uc774 Open\ub418\uace0 60\ucd08 \ub3d9\uc548 \uc694\uccad \ucc28\ub2e8\n# \uc774\ud6c4 Half-Open \uc0c1\ud0dc\ub85c \uc804\ud658\ud558\uc5ec \ubcf5\uad6c \uc2dc\ub3c4\n</code></pre></p> <p>Circuit Breaker \uc0c1\ud0dc: <pre><code>[Closed] \u2192 (\uc2e4\ud328 \uc784\uacc4\uce58 \ucd08\uacfc) \u2192 [Open] \u2192 (\ud0c0\uc784\uc544\uc6c3) \u2192 [Half-Open]\n   \u2191                                                          \u2193\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 (\uc131\uacf5) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#3-consistency","title":"3. Consistency (\uc77c\uad00\uc131)","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_5","title":"\uc77c\uad00\uc131 \ubaa8\ub378","text":"<p>1. Strong Consistency (\uac15\ud55c \uc77c\uad00\uc131):</p> <ul> <li>\ubaa8\ub4e0 \uc77d\uae30 \uc791\uc5c5\uc774 \uac00\uc7a5 \ucd5c\uadfc \uc4f0\uae30 \uacb0\uacfc\ub97c \ubc18\ud658</li> <li>RDBMS, Zookeeper</li> <li>\uc9c0\uc5f0 \uc2dc\uac04 \uc99d\uac00, \uac00\uc6a9\uc131 \uac10\uc18c</li> </ul> <p>2. Eventual Consistency (\ucd5c\uc885 \uc77c\uad00\uc131):</p> <ul> <li>\uc77c\uc815 \uc2dc\uac04 \ud6c4 \ubaa8\ub4e0 \ubcf5\uc81c\ubcf8\uc774 \uc77c\uce58</li> <li>DynamoDB, Cassandra</li> <li>\ub192\uc740 \uac00\uc6a9\uc131, \ub0ae\uc740 \uc9c0\uc5f0 \uc2dc\uac04</li> </ul> <p>3. Causal Consistency (\uc778\uacfc \uc77c\uad00\uc131):</p> <ul> <li>\uc778\uacfc \uad00\uacc4\uac00 \uc788\ub294 \uc791\uc5c5\uc740 \uc21c\uc11c \ubcf4\uc7a5</li> <li>\uc911\uac04 \uc218\uc900\uc758 \uc77c\uad00\uc131</li> </ul> <pre><code># Eventual Consistency \uc608\uc81c\n# Write to primary\ndb.users.insert({'id': 1, 'name': 'Alice'})\n\n# Read from replica (might not be updated yet)\nuser = replica_db.users.find_one({'id': 1})\n# user might be None or outdated\n\n# After some time (eventual)\nuser = replica_db.users.find_one({'id': 1})\n# user is now up-to-date\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#part-2","title":"\ud83d\udd04 Part 2: \ubd84\uc0b0 \uc2dc\uc2a4\ud15c","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#1-cap-cap-theorem","title":"1. CAP \uc815\ub9ac (CAP Theorem)","text":"<p>CAP \uc815\ub9ac: \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc740 \ub2e4\uc74c \uc138 \uac00\uc9c0 \uc911 \ucd5c\ub300 \ub450 \uac00\uc9c0\ub9cc \ub3d9\uc2dc\uc5d0 \ubcf4\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <ul> <li>C (Consistency): \ubaa8\ub4e0 \ub178\ub4dc\uac00 \ub3d9\uc77c\ud55c \ub370\uc774\ud130\ub97c \ubd04</li> <li>A (Availability): \ubaa8\ub4e0 \uc694\uccad\uc774 \uc751\ub2f5\uc744 \ubc1b\uc74c</li> <li>P (Partition Tolerance): \ub124\ud2b8\uc6cc\ud06c \ubd84\ud560\uc5d0\ub3c4 \uc2dc\uc2a4\ud15c\uc774 \ub3d9\uc791</li> </ul> <pre><code>        C (Consistency)\n           /\\\n          /  \\\n         /    \\\n        /  CA  \\\n       /        \\\n      /          \\\n     /            \\\n    /      CAP     \\\n   /                \\\n  /__________________\\\n P                    A\n(Partition)      (Availability)\n\nCP: Consistency + Partition (\uc608: MongoDB, HBase)\nAP: Availability + Partition (\uc608: Cassandra, DynamoDB)\nCA: \uc774\ub860\uc801\uc73c\ub85c\ub9cc \uac00\ub2a5 (\ub124\ud2b8\uc6cc\ud06c \ubd84\ud560 \ubd88\uac00\ub2a5)\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_6","title":"\uc2e4\uc81c \uc2dc\uc2a4\ud15c \uc608\uc81c","text":"<p>CP Systems (MongoDB): <pre><code># MongoDB - Strong Consistency\nfrom pymongo import MongoClient\n\nclient = MongoClient('mongodb://localhost:27017/',\n                     readPreference='primary')  # \ud56d\uc0c1 primary\uc5d0\uc11c \uc77d\uae30\n\n# Write\ndb.users.insert_one({'name': 'Alice'})\n\n# Read (\ud56d\uc0c1 \ucd5c\uc2e0 \ub370\uc774\ud130, \ud558\uc9c0\ub9cc partition \uc2dc unavailable)\nuser = db.users.find_one({'name': 'Alice'})\n</code></pre></p> <p>AP Systems (Cassandra): <pre><code># Cassandra - High Availability\nfrom cassandra.cluster import Cluster\n\ncluster = Cluster(['node1', 'node2', 'node3'])\nsession = cluster.connect('mykeyspace')\n\n# Write with replication\nsession.execute(\n    \"INSERT INTO users (id, name) VALUES (%s, %s)\",\n    (1, 'Alice')\n)\n\n# Read (\ud56d\uc0c1 \uc751\ub2f5, \ud558\uc9c0\ub9cc \ucd5c\uc2e0 \ub370\uc774\ud130 \uc544\ub2d0 \uc218 \uc788\uc74c)\nresult = session.execute(\"SELECT * FROM users WHERE id = 1\")\n</code></pre></p>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#2-pacelc","title":"2. PACELC \uc815\ub9ac","text":"<p>CAP \uc815\ub9ac\uc758 \ud655\uc7a5\uc73c\ub85c, \ud30c\ud2f0\uc158\uc774 \uc5c6\ub294 \uacbd\uc6b0\uc758 \ud2b8\ub808\uc774\ub4dc\uc624\ud504\ub97c \uc124\uba85\ud569\ub2c8\ub2e4.</p> <p>PACELC:</p> <ul> <li>**P**artition\uc774 \ubc1c\uc0dd\ud558\uba74: **A**vailability vs **C**onsistency</li> <li>**E**lse (\uc815\uc0c1 \uc0c1\ud0dc): **L**atency vs **C**onsistency</li> </ul> <pre><code>Examples:\n\n- MongoDB: PC/EC (Consistency \uc6b0\uc120)\n- Cassandra: PA/EL (Availability &amp; Low Latency \uc6b0\uc120)\n- DynamoDB: PA/EL\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#3","title":"3. \ubd84\uc0b0 \ud2b8\ub79c\uc7ad\uc158","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#two-phase-commit-2pc","title":"Two-Phase Commit (2PC)","text":"<pre><code>Coordinator              Participant 1         Participant 2\n    |                         |                      |\n    |----Prepare------------&gt;|                      |\n    |----Prepare-----------------------------&gt;|\n    |                         |                      |\n    |&lt;---Vote: Commit---------|                      |\n    |&lt;---Vote: Commit--------------------------|\n    |                         |                      |\n    |----Commit-------------&gt;|                      |\n    |----Commit----------------------------&gt;|\n    |                         |                      |\n    |&lt;---Ack------------------|                      |\n    |&lt;---Ack------------------------------------|\n</code></pre> <p>\ub2e8\uc810:</p> <ul> <li>\ube14\ub85c\ud0b9 \ud504\ub85c\ud1a0\ucf5c (coordinator \uc2e4\ud328 \uc2dc \ub300\uae30)</li> <li>\ub192\uc740 \uc9c0\uc5f0 \uc2dc\uac04</li> <li>\ud655\uc7a5\uc131 \uc81c\ud55c</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#saga-pattern","title":"Saga Pattern","text":"<p>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4\uc5d0\uc11c \ubd84\uc0b0 \ud2b8\ub79c\uc7ad\uc158\uc744 \ucc98\ub9ac\ud558\ub294 \ud328\ud134\uc785\ub2c8\ub2e4.</p> <pre><code># Choreography-based Saga\nclass OrderService:\n    def create_order(self, order_data):\n        # 1. \uc8fc\ubb38 \uc0dd\uc131\n        order = self.db.orders.insert(order_data)\n\n        # 2. \uc774\ubca4\ud2b8 \ubc1c\ud589\n        self.event_bus.publish('OrderCreated', order)\n\n        return order\n\nclass PaymentService:\n    def on_order_created(self, order):\n        try:\n            # \uacb0\uc81c \ucc98\ub9ac\n            payment = self.process_payment(order)\n            self.event_bus.publish('PaymentCompleted', payment)\n        except PaymentError:\n            # \ubcf4\uc0c1 \ud2b8\ub79c\uc7ad\uc158\n            self.event_bus.publish('PaymentFailed', order)\n\nclass InventoryService:\n    def on_payment_completed(self, payment):\n        # \uc7ac\uace0 \ucc28\uac10\n        self.reserve_inventory(payment.order_id)\n        self.event_bus.publish('InventoryReserved', payment)\n\n    def on_payment_failed(self, order):\n        # \ubcf4\uc0c1: \ud544\uc694 \uc5c6\uc74c (\uc7ac\uace0 \ucc28\uac10 \uc804)\n        pass\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#part-3","title":"\ud83c\udfe2 Part 3: \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#1-vs","title":"1. \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 vs \ubaa8\ub180\ub9ac\uc2dd","text":"<pre><code>[Monolithic]                   [Microservices]\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 \u2502           \u2502User  \u2502 \u2502Order \u2502 \u2502Pay   \u2502\n\u2502  All-in-One     \u2502           \u2502Service\u2502 \u2502Service\u2502 \u2502Service\u2502\n\u2502  Application    \u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502                 \u2502                \u2193        \u2193        \u2193\n\u2502 - User Module   \u2502           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 - Order Module  \u2502           \u2502  DB  \u2502 \u2502  DB  \u2502 \u2502  DB  \u2502\n\u2502 - Payment Module\u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2193\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502   DB   \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc7a5\uc810:</p> <ul> <li>\ub3c5\ub9bd\uc801\uc778 \ubc30\ud3ec \ubc0f \ud655\uc7a5</li> <li>\uae30\uc220 \uc2a4\ud0dd \uc790\uc720\ub3c4</li> <li>\ud300 \uc790\uc728\uc131</li> <li>\uc7a5\uc560 \uaca9\ub9ac</li> </ul> <p>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ub2e8\uc810:</p> <ul> <li>\ub192\uc740 \ubcf5\uc7a1\ub3c4</li> <li>\ubd84\uc0b0 \uc2dc\uc2a4\ud15c \ubb38\uc81c (\ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0, \uc7a5\uc560 \ub4f1)</li> <li>\ub370\uc774\ud130 \uc77c\uad00\uc131 \ubb38\uc81c</li> <li>\uc6b4\uc601 \uc624\ubc84\ud5e4\ub4dc</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#2","title":"2. \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ud328\ud134","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#api-gateway","title":"API Gateway \ud328\ud134","text":"<pre><code>Client\n  \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 API Gateway \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  \u2193    \u2193    \u2193\nService Service Service\n  A      B      C\n</code></pre> <pre><code># Kong API Gateway \uc124\uc815 \uc608\uc81c\nservices:\n  - name: user-service\n    url: http://user-service:8080\n    routes:\n      - name: user-route\n        paths:\n          - /api/users\n\n  - name: order-service\n    url: http://order-service:8080\n    routes:\n      - name: order-route\n        paths:\n          - /api/orders\n\nplugins:\n  - name: rate-limiting\n    config:\n      minute: 100\n  - name: jwt\n  - name: cors\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#service-mesh","title":"Service Mesh (\uc11c\ube44\uc2a4 \uba54\uc2dc)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Service \u2502\u25c4\u2500\u2500\u2500\u25ba\u2502Service \u2502\u25c4\u2500\u2500\u2500\u25ba\u2502Service \u2502\n\u2502   A    \u2502     \u2502   B    \u2502     \u2502   C    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2195              \u2195              \u2195\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Sidecar \u2502\u25c4\u2500\u2500\u2500\u25ba\u2502Sidecar \u2502\u25c4\u2500\u2500\u2500\u25ba\u2502Sidecar \u2502\n\u2502 Proxy  \u2502     \u2502 Proxy  \u2502     \u2502 Proxy  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2195              \u2195              \u2195\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Control Plane (Istio)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Istio \uc608\uc81c: <pre><code># VirtualService - Traffic Routing\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: user-service\nspec:\n  hosts:\n    - user-service\n  http:\n    - match:\n        - headers:\n            canary:\n              exact: \"true\"\n      route:\n        - destination:\n            host: user-service\n            subset: v2\n          weight: 100\n    - route:\n        - destination:\n            host: user-service\n            subset: v1\n          weight: 90\n        - destination:\n            host: user-service\n            subset: v2\n          weight: 10  # Canary \ubc30\ud3ec: 10% \ud2b8\ub798\ud53d\n---\n# DestinationRule\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: user-service\nspec:\n  host: user-service\n  trafficPolicy:\n    connectionPool:\n      tcp:\n        maxConnections: 100\n      http:\n        http1MaxPendingRequests: 50\n        maxRequestsPerConnection: 2\n    outlierDetection:\n      consecutiveErrors: 5\n      interval: 30s\n      baseEjectionTime: 30s\n  subsets:\n    - name: v1\n      labels:\n        version: v1\n    - name: v2\n      labels:\n        version: v2\n</code></pre></p>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#event-driven-architecture","title":"Event-Driven Architecture","text":"<pre><code># Event Producer\nclass OrderService:\n    def create_order(self, order_data):\n        order = self.save_order(order_data)\n\n        # \uc774\ubca4\ud2b8 \ubc1c\ud589\n        event = {\n            'event_type': 'OrderCreated',\n            'order_id': order.id,\n            'user_id': order.user_id,\n            'amount': order.amount,\n            'timestamp': datetime.now().isoformat()\n        }\n\n        self.kafka_producer.send('order-events', value=event)\n        return order\n\n# Event Consumer\nclass NotificationService:\n    def __init__(self):\n        self.consumer = KafkaConsumer(\n            'order-events',\n            group_id='notification-service',\n            value_deserializer=lambda m: json.loads(m.decode('utf-8'))\n        )\n\n    def consume_events(self):\n        for message in self.consumer:\n            event = message.value\n\n            if event['event_type'] == 'OrderCreated':\n                self.send_notification(\n                    user_id=event['user_id'],\n                    message=f\"Your order {event['order_id']} has been created\"\n                )\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#cqrs-command-query-responsibility-segregation","title":"CQRS (Command Query Responsibility Segregation)","text":"<pre><code># Command Model (Write)\nclass CreateOrderCommand:\n    def __init__(self, user_id, items):\n        self.user_id = user_id\n        self.items = items\n\nclass OrderCommandHandler:\n    def handle(self, command: CreateOrderCommand):\n        # \uc8fc\ubb38 \uc0dd\uc131 (Write DB)\n        order = Order(\n            user_id=command.user_id,\n            items=command.items\n        )\n        self.write_db.save(order)\n\n        # \uc774\ubca4\ud2b8 \ubc1c\ud589 (Read Model \uc5c5\ub370\uc774\ud2b8\uc6a9)\n        self.event_bus.publish('OrderCreated', order)\n\n# Query Model (Read)\nclass OrderQueryService:\n    def get_user_orders(self, user_id):\n        # Read-optimized DB\uc5d0\uc11c \uc870\ud68c\n        return self.read_db.query(\n            \"SELECT * FROM order_view WHERE user_id = %s\",\n            user_id\n        )\n\n    def on_order_created(self, event):\n        # Read Model \uc5c5\ub370\uc774\ud2b8\n        self.read_db.execute(\n            \"INSERT INTO order_view (order_id, user_id, ...) VALUES (...)\"\n        )\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#3_1","title":"3. \uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#synchronous-communication","title":"Synchronous Communication (\ub3d9\uae30)","text":"<p>REST API: <pre><code># Service A\nimport requests\n\nresponse = requests.post(\n    'http://service-b:8080/api/process',\n    json={'data': 'value'},\n    timeout=5\n)\nresult = response.json()\n</code></pre></p> <p>gRPC: <pre><code># Service A (Client)\nimport grpc\nfrom proto import service_pb2, service_pb2_grpc\n\nchannel = grpc.insecure_channel('service-b:50051')\nstub = service_pb2_grpc.ProcessorStub(channel)\n\nresponse = stub.Process(\n    service_pb2.Request(data='value')\n)\n</code></pre></p>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#asynchronous-communication","title":"Asynchronous Communication (\ube44\ub3d9\uae30)","text":"<p>Message Queue (RabbitMQ): <pre><code># Producer\nimport pika\n\nconnection = pika.BlockingConnection(\n    pika.ConnectionParameters('localhost')\n)\nchannel = connection.channel()\nchannel.queue_declare(queue='tasks')\n\nchannel.basic_publish(\n    exchange='',\n    routing_key='tasks',\n    body='Task data'\n)\n\n# Consumer\ndef callback(ch, method, properties, body):\n    print(f\"Received: {body}\")\n    # \uc791\uc5c5 \ucc98\ub9ac\n    ch.basic_ack(delivery_tag=method.delivery_tag)\n\nchannel.basic_consume(\n    queue='tasks',\n    on_message_callback=callback\n)\nchannel.start_consuming()\n</code></pre></p>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#part-4","title":"\ud83c\udfaf Part 4: \uc2dc\uc2a4\ud15c \uc124\uacc4 \uc608\uc81c","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#example-url-shortener","title":"Example: URL Shortener \uc124\uacc4","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_7","title":"\uc694\uad6c\uc0ac\ud56d","text":"<p>Functional:</p> <ul> <li>\uae34 URL\uc744 \uc9e7\uc740 URL\ub85c \ubcc0\ud658</li> <li>\uc9e7\uc740 URL\ub85c \uc6d0\ubcf8 URL \ub9ac\ub2e4\uc774\ub809\ud2b8</li> <li>\ud1b5\uacc4 \uc218\uc9d1 (\ud074\ub9ad \uc218, \uc704\uce58 \ub4f1)</li> </ul> <p>Non-Functional:</p> <ul> <li>\ub192\uc740 \uac00\uc6a9\uc131 (99.99%)</li> <li>\ub0ae\uc740 \uc9c0\uc5f0 \uc2dc\uac04 (&lt;100ms)</li> <li>\ud655\uc7a5 \uac00\ub2a5 (1B URLs, 10K QPS)</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_8","title":"\uc2dc\uc2a4\ud15c \uc124\uacc4","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Client  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Load Balancer\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502\n       \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   API Gateway    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510\n    \u2193         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Shorten \u2502 \u2502Redirect  \u2502\n\u2502Service \u2502 \u2502Service   \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502          \u2502\n     \u2193          \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Redis Cache    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   PostgreSQL    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_9","title":"\uad6c\ud604","text":"<pre><code># URL \ub2e8\ucd95 \uc54c\uace0\ub9ac\uc998\nimport hashlib\nimport base62\n\nclass URLShortener:\n    def __init__(self):\n        self.db = PostgreSQL()\n        self.cache = Redis()\n\n    def shorten(self, long_url):\n        # ID \uc0dd\uc131 (Auto-increment or Snowflake)\n        url_id = self.db.get_next_id()\n\n        # Base62 \uc778\ucf54\ub529 (62^7 = 3.5 trillion combinations)\n        short_code = base62.encode(url_id)\n\n        # \uc800\uc7a5\n        self.db.insert({\n            'id': url_id,\n            'short_code': short_code,\n            'long_url': long_url,\n            'created_at': datetime.now()\n        })\n\n        # \uce90\uc2dc\n        self.cache.set(short_code, long_url, ex=86400)  # 24\uc2dc\uac04\n\n        return f\"https://short.url/{short_code}\"\n\n    def redirect(self, short_code):\n        # \uce90\uc2dc \ud655\uc778\n        long_url = self.cache.get(short_code)\n        if long_url:\n            return long_url\n\n        # DB \uc870\ud68c\n        result = self.db.query(\n            \"SELECT long_url FROM urls WHERE short_code = %s\",\n            short_code\n        )\n\n        if result:\n            long_url = result['long_url']\n            # \uce90\uc2dc \uc800\uc7a5\n            self.cache.set(short_code, long_url, ex=86400)\n            return long_url\n\n        raise NotFoundException(\"URL not found\")\n</code></pre> <p>\ud655\uc7a5 \uace0\ub824\uc0ac\ud56d:</p> <ul> <li>Database Sharding (URL ID \ubc94\uc704 \uae30\ubc18)</li> <li>CDN for geo-distributed access</li> <li>Analytics service (\ubcc4\ub3c4 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4)</li> <li>Rate limiting (\ub0a8\uc6a9 \ubc29\uc9c0)</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_10","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_11","title":"\uc2dc\uc2a4\ud15c \uc124\uacc4","text":"<ul> <li>Designing Data-Intensive Applications</li> <li>System Design Interview</li> <li>AWS Well-Architected Framework</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_12","title":"\ubd84\uc0b0 \uc2dc\uc2a4\ud15c","text":"<ul> <li>CAP Theorem - Wikipedia</li> <li>PACELC Theorem</li> <li>Designing Distributed Systems</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_13","title":"\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4","text":"<ul> <li>Microservices Patterns</li> <li>Building Microservices</li> <li>Service Mesh Patterns</li> <li>Istio Documentation</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_14","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> \uc218\ud3c9/\uc218\uc9c1 \ud655\uc7a5\uc758 \ucc28\uc774 \uc774\ud574</li> <li> \uace0\uac00\uc6a9\uc131 \uc124\uacc4 \ud328\ud134 \uc801\uc6a9 (Redundancy, Circuit Breaker)</li> <li> CAP \uc815\ub9ac \ubc0f PACELC \uc774\ud574</li> <li> \ubd84\uc0b0 \ud2b8\ub79c\uc7ad\uc158 \ud328\ud134 (2PC, Saga) \uc774\ud574</li> <li> \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> <li> API Gateway \ud328\ud134 \uc801\uc6a9</li> <li> \uc11c\ube44\uc2a4 \uba54\uc2dc (Istio) \uc774\ud574 \ubc0f \uc0ac\uc6a9</li> <li> Event-Driven Architecture \uad6c\ud604</li> <li> CQRS \ud328\ud134 \uc774\ud574</li> <li> \uc2e4\uc81c \uc2dc\uc2a4\ud15c \uc124\uacc4 (URL Shortener, Social Network \ub4f1)</li> </ul>"},{"location":"common-skills/Ch5.%EC%8B%9C%EC%8A%A4%ED%85%9C_%EC%84%A4%EA%B3%84/#_15","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Common Skills \ud559\uc2b5\uc744 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4! \uc774\uc81c \ud3ec\uc9c0\uc158\ubcc4 \uc2ec\ud654 \ud559\uc2b5\uc73c\ub85c \ub118\uc5b4\uac00\uc138\uc694:</p> <ul> <li>Infrastructure Platform \uac1c\ubc1c\uc790</li> <li>\ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790</li> <li>\ub610\ub294 \uc804\uccb4 \uac00\uc774\ub4dc\ub85c \ub3cc\uc544\uac00\uae30</li> </ul>"},{"location":"computing-service/","title":"\ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>KakaoCloud \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \ud3ec\uc9c0\uc158\uc744 \uc704\ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"computing-service/#_2","title":"\ud3ec\uc9c0\uc158 \uac1c\uc694","text":"<p>KakaoCloud\uc758 \ud575\uc2ec\uc778 IaaS \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4(Beyond Computing Service)\ub97c \uac1c\ubc1c\ud569\ub2c8\ub2e4.</p> <ul> <li>OpenStack + Cloud-Native \uae30\uc220\ub85c \ub300\uaddc\ubaa8 IaaS \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Virtual Machine, Bare Metal, Volume, Image \ub4f1 \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \ud575\uc2ec \uae30\ub2a5 \uac1c\ubc1c</li> <li>\uac00\uc0c1\ud654 \ubc0f \uc2a4\ucf00\uc904\ub9c1 \ucd5c\uc801\ud654</li> <li>Region/Availability Zone/Cell/Rack \ub2e8\uc704\uc758 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4</li> </ul>"},{"location":"computing-service/#_3","title":"\ud544\uc218 \uc5ed\ub7c9","text":""},{"location":"computing-service/#1-openstack","title":"1. OpenStack \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OpenStack\uc744 \uc774\uc6a9\ud55c \ud074\ub77c\uc6b0\ub4dc \uc11c\ube44\uc2a4 \uac1c\ubc1c/\uc6b4\uc601</li> <li>\ud37c\ube14\ub9ad/\ud504\ub77c\uc774\ube57 \ud074\ub77c\uc6b0\ub4dc \uc11c\ube44\uc2a4 \uac1c\ubc1c/\uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OpenStack \uae30\ucd08</li> <li>OpenStack \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>\uc8fc\uc694 \uc11c\ube44\uc2a4 \ucef4\ud3ec\ub10c\ud2b8</li> <li>OpenStack API \uc0ac\uc6a9\ubc95</li> <li> Nova (Compute Service)</li> <li>Nova \uc544\ud0a4\ud14d\ucc98</li> <li>\uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li>\ud558\uc774\ud37c\ubc14\uc774\uc800 \ud1b5\ud569 (KVM, QEMU \ub4f1)</li> <li>\uc2a4\ucf00\uc904\ub7ec (Filter Scheduler, Chance Scheduler \ub4f1)</li> <li>Nova API \ud655\uc7a5</li> <li> Cinder (Block Storage Service)</li> <li>\ubcfc\ub968 \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li>\uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc (LVM, Ceph \ub4f1)</li> <li>\ubcfc\ub968 \uc2a4\ub0c5\uc0f7 \ubc0f \ubc31\uc5c5</li> <li> Glance (Image Service)</li> <li>\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \ubc0f \uad00\ub9ac</li> <li>\uc774\ubbf8\uc9c0 \ud3ec\ub9f7 (QCOW2, RAW \ub4f1)</li> <li>\uc774\ubbf8\uc9c0 \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac</li> <li> Ironic (Bare Metal Provisioning)</li> <li>Bare Metal \uc11c\ubc84 \ud504\ub85c\ube44\uc800\ub2dd</li> <li>PXE Boot \uad6c\uc131</li> <li>\ud558\ub4dc\uc6e8\uc5b4 \uc778\ubca4\ud1a0\ub9ac \uad00\ub9ac</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>OpenStack \ud658\uacbd \uad6c\ucd95</li> <li>Nova API\ub97c \ud65c\uc6a9\ud55c \uc778\uc2a4\ud134\uc2a4 \uad00\ub9ac \ub3c4\uad6c \uac1c\ubc1c</li> <li>\ucee4\uc2a4\ud140 \uc2a4\ucf00\uc904\ub7ec \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack \uacf5\uc2dd \ubb38\uc11c</li> <li>Nova \uac1c\ubc1c\uc790 \uac00\uc774\ub4dc</li> <li>OpenStack Ironic \ubb38\uc11c</li> </ul>"},{"location":"computing-service/#2-linux-kernel-hypervisor","title":"2. \uac00\uc0c1\ud654 \uae30\uc220 (Linux Kernel / Hypervisor)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Linux Kernel \ubc0f Hypervisor \uae30\uc220\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574</li> <li>\uac00\uc0c1\ud654 \uad00\ub828 \uc774\uc288 \ubc1c\uad74 \ubc0f \ud574\uacb0</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uac00\uc0c1\ud654 \uae30\ucd08</li> <li>\uac00\uc0c1\ud654 \uc720\ud615 (Full Virtualization, Para-virtualization)</li> <li>\ud558\uc774\ud37c\ubc14\uc774\uc800 \uc720\ud615 (Type 1, Type 2)</li> <li> KVM/QEMU</li> <li>KVM \uc544\ud0a4\ud14d\ucc98</li> <li>QEMU \uc5d0\ubbac\ub808\uc774\ud130</li> <li>libvirt\ub97c \ud1b5\ud55c \uac00\uc0c1\uba38\uc2e0 \uad00\ub9ac</li> <li>CPU, Memory, I/O \uac00\uc0c1\ud654</li> <li> Linux Kernel \uac00\uc0c1\ud654</li> <li>Kernel \ubaa8\ub4c8 \uc774\ud574</li> <li>Namespace \ubc0f Cgroups</li> <li>\uac00\uc0c1\ud654 \uad00\ub828 Kernel \uae30\ub2a5</li> <li> \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>CPU \ud540\ub2dd</li> <li>NUMA \ucd5c\uc801\ud654</li> <li>I/O \uc131\ub2a5 \ud29c\ub2dd</li> <li>\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>KVM \uae30\ubc18 \uac00\uc0c1\uba38\uc2e0 \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li>\uac00\uc0c1\uba38\uc2e0 \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ucd5c\uc801\ud654</li> <li>\ucee4\uc2a4\ud140 \uac00\uc0c1\ud654 \ub3c4\uad6c \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>KVM \uacf5\uc2dd \ubb38\uc11c</li> <li>QEMU \uacf5\uc2dd \ubb38\uc11c</li> <li>Linux Kernel \ubb38\uc11c</li> </ul>"},{"location":"computing-service/#3","title":"3. \uc2a4\ucf00\uc904\ub9c1 \ubc0f \ub9ac\uc18c\uc2a4 \uad00\ub9ac","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ud6a8\uc728\uc801\uc778 \ub9ac\uc18c\uc2a4 \uc81c\uacf5\uc744 \uc704\ud55c \uc2a4\ucf00\uc904\ub9c1 \ucd5c\uc801\ud654</li> <li>\uac00\uc0c1\ud654 \uad00\ub828 \uc774\uc288 \ubc1c\uad74 \ubc0f \uc5f0\uad6c/\uac1c\ubc1c</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998</li> <li>CPU \uc2a4\ucf00\uc904\ub9c1 (CFS, Real-time)</li> <li>I/O \uc2a4\ucf00\uc904\ub9c1</li> <li>\uac00\uc0c1\uba38\uc2e0 \uc2a4\ucf00\uc904\ub9c1 \uc804\ub7b5</li> <li> \ub9ac\uc18c\uc2a4 \ud560\ub2f9</li> <li>CPU \ud560\ub2f9 \ubc0f \uc81c\ud55c</li> <li>\uba54\ubaa8\ub9ac \ud560\ub2f9 \ubc0f \uc81c\ud55c</li> <li>\uc2a4\ud1a0\ub9ac\uc9c0 \ud560\ub2f9</li> <li>\ub124\ud2b8\uc6cc\ud06c \ub300\uc5ed\ud3ed \uad00\ub9ac</li> <li> \uc624\ubc84\ucee4\ubc0b \uad00\ub9ac</li> <li>CPU \uc624\ubc84\ucee4\ubc0b</li> <li>\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b</li> <li>\ub9ac\uc18c\uc2a4 \ud68c\uc218 (Reclamation)</li> <li> \uc2a4\ucf00\uc904\ub7ec \uac1c\ubc1c</li> <li>OpenStack Nova \uc2a4\ucf00\uc904\ub7ec \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5</li> <li>\ucee4\uc2a4\ud140 \ud544\ud130 \ubc0f \uc6e8\uc774\ud130 \uac1c\ubc1c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucee4\uc2a4\ud140 \uc2a4\ucf00\uc904\ub7ec \uad6c\ud604</li> <li>\ub9ac\uc18c\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ucd5c\uc801\ud654 \ub3c4\uad6c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack Nova Scheduler \ubb38\uc11c</li> <li>Linux Scheduler \ubb38\uc11c</li> </ul>"},{"location":"computing-service/#4-cloud-native","title":"4. Cloud-native \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Kubernetes-Native\ud55c \uc120\uc5b8\uc801 IaaS \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\ubaa8\ub4e0 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4\ub97c \ucee8\ud14c\uc774\ub108\ud654\ud558\uc5ec \uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Kubernetes Operator \ud328\ud134</li> <li>Custom Resource Definition (CRD)</li> <li>Controller \uac1c\ubc1c</li> <li> \ucee8\ud14c\uc774\ub108\ud654\ub41c \uc11c\ube44\uc2a4 \uc6b4\uc601</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0</li> <li>\uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac</li> <li> \uc120\uc5b8\uc801 \uad00\ub9ac</li> <li>GitOps\ub97c \ud1b5\ud55c \ubc30\ud3ec</li> <li>Helm Chart \uc791\uc131</li> <li>ArgoCD\ub97c \ud1b5\ud55c \ubc30\ud3ec \uc790\ub3d9\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Kubernetes Operator\ub97c \ud65c\uc6a9\ud55c \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\ucee8\ud14c\uc774\ub108\ud654\ub41c OpenStack \uc11c\ube44\uc2a4 \ubc30\ud3ec</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes Operator \ud328\ud134</li> <li>Operator SDK</li> </ul>"},{"location":"computing-service/#5","title":"5. \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\uc11c\ube44\uc2a4 \ud655\uc7a5\uc131\uc744 \uace0\ub824\ud55c Region/Availability Zone/Cell/Rack \ub2e8\uc704 \uc778\ud504\ub77c \uc124\uacc4</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uba40\ud2f0 \ub808\ubca8 \uc544\ud0a4\ud14d\ucc98</li> <li>Region \uc124\uacc4</li> <li>Availability Zone (AZ) \uc124\uacc4</li> <li>Cell \uc544\ud0a4\ud14d\ucc98</li> <li>Rack \ub2e8\uc704 \uad00\ub9ac</li> <li> \uace0\uac00\uc6a9\uc131 \uc124\uacc4</li> <li>\uc7a5\uc560 \uaca9\ub9ac (Failure Isolation)</li> <li>\uc790\ub3d9 \uc7a5\uc560 \ubcf5\uad6c</li> <li>\ub370\uc774\ud130 \ubcf5\uc81c \uc804\ub7b5</li> <li> \ud655\uc7a5\uc131 \uc124\uacc4</li> <li>\uc218\ud3c9 \ud655\uc7a5 (Horizontal Scaling)</li> <li>\uc218\uc9c1 \ud655\uc7a5 (Vertical Scaling)</li> <li>\uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1</li> <li> \ub9ac\uc18c\uc2a4 \uad00\ub9ac</li> <li>\ucffc\ud130 \uad00\ub9ac</li> <li>\ub9ac\uc18c\uc2a4 \ud480 \uad00\ub9ac</li> <li>\uc6b0\uc120\uc21c\uc704 \uae30\ubc18 \ud560\ub2f9</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uba40\ud2f0 \ub808\ubca8 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4</li> <li>\uace0\uac00\uc6a9\uc131 \uad6c\uc131 \uad6c\ud604</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack Cells \ubb38\uc11c</li> <li>AWS Well-Architected Framework</li> </ul>"},{"location":"computing-service/#6-kubernetes-operator","title":"6. Kubernetes Operator \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Kubernetes Operator(Controller) \uad00\ub828 \uac1c\ubc1c/\uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes Controller \ud328\ud134</li> <li>Controller \uc544\ud0a4\ud14d\ucc98</li> <li>Informer \ubc0f Workqueue</li> <li>Reconcile Loop</li> <li> Operator SDK</li> <li>Operator SDK\ub97c \uc0ac\uc6a9\ud55c Operator \uac1c\ubc1c</li> <li>Helm Operator</li> <li>Ansible Operator</li> <li>Go Operator</li> <li> Custom Resource Definition (CRD)</li> <li>CRD \uc815\uc758</li> <li>Validation \ubc0f Defaulting</li> <li>Finalizer \ud328\ud134</li> <li> Operator \ubc30\ud3ec \ubc0f \uc6b4\uc601</li> <li>Operator Lifecycle Manager (OLM)</li> <li>Operator \ubaa8\ub2c8\ud130\ub9c1</li> <li>Operator \uc5c5\uadf8\ub808\uc774\ub4dc</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucef4\ud4e8\ud305 \ub9ac\uc18c\uc2a4 \uad00\ub9ac Operator \uac1c\ubc1c</li> <li>OpenStack \uc11c\ube44\uc2a4 Operator \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes Controller \uac1c\ubc1c \uac00\uc774\ub4dc</li> <li>Operator SDK \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"computing-service/#7-cloud-network-cni","title":"7. Cloud Network \ubc0f CNI","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Cloud network \ud639\uc740 Kubernetes CNI \uae30\uc220\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \ub124\ud2b8\uc6cc\ud0b9</li> <li>Pod \ub124\ud2b8\uc6cc\ud0b9</li> <li>Service \ub124\ud2b8\uc6cc\ud0b9</li> <li>Network Policy</li> <li> CNI (Container Network Interface)</li> <li>CNI \ud50c\ub7ec\uadf8\uc778 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc8fc\uc694 CNI \ud50c\ub7ec\uadf8\uc778 (Calico, Flannel, Cilium \ub4f1)</li> <li>\ucee4\uc2a4\ud140 CNI \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li> \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654</li> <li>VXLAN, GRE \ub4f1 \uc624\ubc84\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c</li> <li>\uc5b8\ub354\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \ud1b5\ud569</li> <li> \uc11c\ube44\uc2a4 \uba54\uc2dc</li> <li>Istio, Linkerd \ub4f1</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ub124\ud2b8\uc6cc\ud0b9</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucee4\uc2a4\ud140 CNI \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li>Service Mesh \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>CNI \uacf5\uc2dd \ubb38\uc11c</li> <li>Cilium \uacf5\uc2dd \ubb38\uc11c</li> <li>Istio \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"computing-service/#_4","title":"\uc6b0\ub300 \uc5ed\ub7c9","text":""},{"location":"computing-service/#csp","title":"\uae00\ub85c\ubc8c CSP \ud65c\uc6a9 \uacbd\ud5d8","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>AWS, GCP, MS Azure \ub4f1 \uae00\ub85c\ubc8c CSP \ud65c\uc6a9 \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> AWS</li> <li>EC2, EBS, AMI</li> <li>Auto Scaling</li> <li>Lambda</li> <li> GCP</li> <li>Compute Engine</li> <li>Cloud Storage</li> <li>Cloud Functions</li> <li> Azure</li> <li>Virtual Machines</li> <li>Managed Disks</li> <li>Functions</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uac01 CSP\uc5d0\uc11c \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uc0ac\uc6a9 \uacbd\ud5d8</li> </ul>"},{"location":"computing-service/#cncf","title":"CNCF \uc624\ud508\uc18c\uc2a4 \uae30\uc5ec","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>CNCF \uc624\ud508\uc18c\uc2a4 \ucf54\ub4dc \uae30\uc5ec \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc624\ud508\uc18c\uc2a4 \uae30\uc5ec \ud504\ub85c\uc138\uc2a4</li> <li> \uc8fc\uc694 CNCF \ud504\ub85c\uc81d\ud2b8 \ud0d0\uc0c9</li> <li>Kubernetes</li> <li>OpenStack (\uc77c\ubd80 CNCF \ud504\ub85c\uc81d\ud2b8\uc640 \uc5f0\uad00)</li> <li>CRI-O, containerd</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uc791\uc740 \ubc84\uadf8 \uc218\uc815\ubd80\ud130 \uc2dc\uc791</li> <li>\uae30\ub2a5 \ucd94\uac00 \uae30\uc5ec</li> </ul>"},{"location":"computing-service/#_5","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"computing-service/#1-1-2","title":"1\ub2e8\uacc4: \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>OpenStack \uae30\ucd08 \ubc0f Nova \ud559\uc2b5</li> <li>KVM/QEMU \uac00\uc0c1\ud654 \uae30\ucd08</li> <li>Linux Kernel \uae30\ucd08</li> </ol>"},{"location":"computing-service/#2-3-4","title":"2\ub2e8\uacc4: \uc911\uae09 (3-4\uac1c\uc6d4)","text":"<ol> <li>OpenStack \uc2ec\ud654 (Cinder, Glance, Ironic)</li> <li>\uac00\uc0c1\ud654 \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>\uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998 \ud559\uc2b5</li> </ol>"},{"location":"computing-service/#3-5-6","title":"3\ub2e8\uacc4: \uace0\uae09 (5-6\uac1c\uc6d4)","text":"<ol> <li>Kubernetes Operator \uac1c\ubc1c</li> <li>\ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4</li> <li>CNI \uae30\uc220 \uc2ec\ud654</li> </ol>"},{"location":"computing-service/#4-7","title":"4\ub2e8\uacc4: \uc2e4\ubb34 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\ub300\uaddc\ubaa8 IaaS \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\uc885\ud569 \ud504\ub85c\uc81d\ud2b8</li> <li>\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd \uacbd\ud5d8</li> </ol>"},{"location":"computing-service/#_6","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> OpenStack \uae30\ubc18 \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \uac1c\ubc1c \uac00\ub2a5</li> <li> KVM/QEMU \uac00\uc0c1\ud654 \uae30\uc220 \uc774\ud574 \ubc0f \ud65c\uc6a9 \uac00\ub2a5</li> <li> Linux Kernel \uac00\uc0c1\ud654 \uae30\ub2a5 \uc774\ud574</li> <li> \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998 \uc774\ud574 \ubc0f \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 \uac00\ub2a5</li> <li> Kubernetes Operator \uac1c\ubc1c \uac00\ub2a5</li> <li> \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4 \ub2a5\ub825 \ubcf4\uc720</li> <li> CNI \uae30\uc220 \uc774\ud574 \ubc0f \ud65c\uc6a9 \uac00\ub2a5</li> </ul>"},{"location":"computing-service/#_7","title":"\uad00\ub828 \uc790\ub8cc","text":"<ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc - \uba3c\uc800 \ud559\uc2b5 \uad8c\uc7a5</li> <li>\uc804\uccb4 \ud559\uc2b5 \ucee4\ub9ac\ud058\ub7fc</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/","title":"Ch1. OpenStack - \uc624\ud508\uc18c\uc2a4 \ud074\ub77c\uc6b0\ub4dc \ud50c\ub7ab\ud3fc","text":""},{"location":"computing-service/Ch1.OpenStack/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>OpenStack\uc740 \uac00\uc7a5 \ub110\ub9ac \uc0ac\uc6a9\ub418\ub294 \uc624\ud508\uc18c\uc2a4 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \ud50c\ub7ab\ud3fc\uc73c\ub85c, \ucef4\ud4e8\ud305(Nova), \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0(Cinder), \uc774\ubbf8\uc9c0(Glance), \ubca0\uc5b4\uba54\ud0c8(Ironic) \ub4f1 \ub2e4\uc591\ud55c \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \ubcf8 \uc7a5\uc5d0\uc11c\ub294 OpenStack\uc758 \ud575\uc2ec \uc544\ud0a4\ud14d\ucc98\ub97c \uc774\ud574\ud558\uace0, \uac01 \ucef4\ud3ec\ub10c\ud2b8\uc758 \ub3d9\uc791 \uc6d0\ub9ac\ub97c \ud559\uc2b5\ud558\uba70, Kolla-Ansible\uc744 \ud65c\uc6a9\ud55c \ud504\ub85c\ub355\uc158 \ud658\uacbd \ubc30\ud3ec \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, OpenStack\uc740 **2025.1 Epoxy \ub9b4\ub9ac\uc988**\ub97c \ud1b5\ud574 \ucee8\ud14c\uc774\ub108 \uae30\ubc18 \ubc30\ud3ec, \ud5a5\uc0c1\ub41c \ubca0\uc5b4\uba54\ud0c8 \ud504\ub85c\ube44\uc800\ub2dd, \uadf8\ub9ac\uace0 \uba40\ud2f0 \ud074\ub77c\uc6b0\ub4dc \ud1b5\ud569 \uae30\ub2a5\uc744 \uac15\ud654\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch1.OpenStack/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<ol> <li>OpenStack \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>\ud575\uc2ec \uc11c\ube44\uc2a4 \ucef4\ud3ec\ub10c\ud2b8 (Nova, Cinder, Glance, Neutron, Keystone)</li> <li>\uc11c\ube44\uc2a4 \uac04 \uc0c1\ud638\uc791\uc6a9 \ubc0f \uba54\uc2dc\uc9c0 \ud050 \uc544\ud0a4\ud14d\ucc98</li> <li> <p>API \uae30\ubc18 \ud1b5\uc2e0 \uad6c\uc870</p> </li> <li> <p>Nova \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4 \ub9c8\uc2a4\ud130\ud558\uae30</p> </li> <li>Nova \uc544\ud0a4\ud14d\ucc98 \ubc0f \ucef4\ud3ec\ub10c\ud2b8 (API, Scheduler, Compute, Conductor)</li> <li>\uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ud50c\ub85c\uc6b0 \ubc0f \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998</li> <li> <p>Hypervisor \ud1b5\ud569 (KVM, QEMU, VMware)</p> </li> <li> <p>Cinder \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0 \uad00\ub9ac</p> </li> <li>Cinder \uc544\ud0a4\ud14d\ucc98 \ubc0f \ubcfc\ub968 \ud0c0\uc785</li> <li>\ubc31\uc5d4\ub4dc \uc2a4\ud1a0\ub9ac\uc9c0 \ub4dc\ub77c\uc774\ubc84 (LVM, Ceph, NFS)</li> <li> <p>\ubcfc\ub968 \uc2a4\ub0c5\uc0f7 \ubc0f \ubc31\uc5c5</p> </li> <li> <p>Glance \uc774\ubbf8\uc9c0 \uc11c\ube44\uc2a4</p> </li> <li>\uc774\ubbf8\uc9c0 \uc800\uc7a5\uc18c \ubc31\uc5d4\ub4dc (Swift, Ceph, Cinder)</li> <li>\uc774\ubbf8\uc9c0 \uce90\uc2f1 \ubc0f \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li> <p>\uba40\ud2f0 \uc2a4\ud1a0\uc5b4 \uc124\uc815</p> </li> <li> <p>Ironic \ubca0\uc5b4\uba54\ud0c8 \ud504\ub85c\ube44\uc800\ub2dd</p> </li> <li>Ironic \uc544\ud0a4\ud14d\ucc98 \ubc0f Nova \ud1b5\ud569</li> <li>IPMI/Redfish\ub97c \ud65c\uc6a9\ud55c \ud558\ub4dc\uc6e8\uc5b4 \uad00\ub9ac</li> <li> <p>\ud504\ub85c\ube44\uc800\ub2dd \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</p> </li> <li> <p>Kolla-Ansible \ud504\ub85c\ub355\uc158 \ubc30\ud3ec</p> </li> <li>\ucee8\ud14c\uc774\ub108 \uae30\ubc18 OpenStack \ubc30\ud3ec</li> <li>HA \uad6c\uc131 \ubc0f \uc2a4\ucf00\uc77c\ub9c1</li> <li>\ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc6b4\uc601</li> </ol>"},{"location":"computing-service/Ch1.OpenStack/#part-1-openstack","title":"Part 1: OpenStack \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"computing-service/Ch1.OpenStack/#11-openstack","title":"1.1 OpenStack \uac1c\uc694","text":"<p>OpenStack\uc774\ub780? OpenStack\uc740 \uac00\uc0c1 \uba38\uc2e0, \uc2a4\ud1a0\ub9ac\uc9c0, \ub124\ud2b8\uc6cc\ud06c\ub97c \uad00\ub9ac\ud558\ub294 \uc624\ud508\uc18c\uc2a4 \ud074\ub77c\uc6b0\ub4dc \uc6b4\uc601\uccb4\uc81c\uc785\ub2c8\ub2e4. 2010\ub144 NASA\uc640 Rackspace\uac00 \uc2dc\uc791\ud588\uc73c\uba70, \ud604\uc7ac OpenStack Foundation\uc5d0\uc11c \uad00\ub9ac\ud569\ub2c8\ub2e4.</p> <p>\ud575\uc2ec \uc11c\ube44\uc2a4: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      OpenStack Services                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Horizon (Dashboard) - \uc6f9 \uae30\ubc18 \uad00\ub9ac \uc778\ud130\ud398\uc774\uc2a4               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Keystone (Identity) - \uc778\uc99d \ubc0f \uc11c\ube44\uc2a4 \uce74\ud0c8\ub85c\uadf8               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Nova        \u2502  Neutron     \u2502  Cinder      \u2502  Glance        \u2502\n\u2502  (Compute)   \u2502  (Network)   \u2502  (Block      \u2502  (Image)       \u2502\n\u2502              \u2502              \u2502   Storage)   \u2502                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Ironic      \u2502  Swift (Object Storage)                      \u2502\n\u2502  (Bare Metal)\u2502                                              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Placement - \ub9ac\uc18c\uc2a4 \uc778\ubca4\ud1a0\ub9ac \ubc0f \ud560\ub2f9                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#12","title":"1.2 \uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 \uc544\ud0a4\ud14d\ucc98","text":"<p>\uba54\uc2dc\uc9c0 \ud050 \uae30\ubc18 \ud1b5\uc2e0: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      REST API       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Client  \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt; \u2502  Nova API    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                         \u2502 RPC via RabbitMQ\n                      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                      \u2502                  \u2502                  \u2502\n                \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502   Nova     \u2502   \u2502   Nova     \u2502   \u2502    Nova       \u2502\n                \u2502  Scheduler \u2502   \u2502  Conductor \u2502   \u2502   Compute     \u2502\n                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                                           \u2502\n                                                   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                                                   \u2502   Hypervisor   \u2502\n                                                   \u2502   (KVM/QEMU)   \u2502\n                                                   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>\uc8fc\uc694 \ud1b5\uc2e0 \uba54\ucee4\ub2c8\uc998:</p> <ul> <li>REST API: \uc678\ubd80 \ud074\ub77c\uc774\uc5b8\ud2b8\uc640 OpenStack \uc11c\ube44\uc2a4 \uac04</li> <li>RPC (oslo.messaging): \uc11c\ube44\uc2a4 \ub0b4\ubd80 \ucef4\ud3ec\ub10c\ud2b8 \uac04 (RabbitMQ/AMQP)</li> <li>Database: \uc0c1\ud0dc \uc800\uc7a5 (MariaDB/MySQL)</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#13-keystone-identity-service","title":"1.3 Keystone - Identity Service","text":"<p>Keystone\uc758 \uc5ed\ud560:</p> <ul> <li>\uc0ac\uc6a9\uc790 \uc778\uc99d (Authentication)</li> <li>\uc11c\ube44\uc2a4 \uce74\ud0c8\ub85c\uadf8 \uad00\ub9ac</li> <li>\ud1a0\ud070 \ubc1c\uae09 \ubc0f \uac80\uc99d</li> <li>\uad8c\ud55c \uad00\ub9ac (RBAC)</li> </ul> <p>\uc778\uc99d \ud50c\ub85c\uc6b0: <pre><code># Python\uc73c\ub85c Keystone \uc778\uc99d\nfrom keystoneauth1 import session\nfrom keystoneauth1.identity import v3\nfrom novaclient import client as nova_client\n\n# 1. Keystone \uc778\uc99d\nauth = v3.Password(\n    auth_url='http://controller:5000/v3',\n    username='admin',\n    password='secret',\n    project_name='admin',\n    user_domain_id='default',\n    project_domain_id='default'\n)\n\nsess = session.Session(auth=auth)\n\n# 2. \ud1a0\ud070 \ud68d\ub4dd\ntoken = sess.get_token()\n\n# 3. Nova \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0dd\uc131 (\ud1a0\ud070 \uc0ac\uc6a9)\nnova = nova_client.Client('2.1', session=sess)\n\n# 4. \uc778\uc2a4\ud134\uc2a4 \ubaa9\ub85d \uc870\ud68c\nservers = nova.servers.list()\nfor server in servers:\n    print(f\"{server.name}: {server.status}\")\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#part-2-nova-","title":"Part 2: Nova - \ucef4\ud4e8\ud305 \uc11c\ube44\uc2a4","text":""},{"location":"computing-service/Ch1.OpenStack/#21-nova","title":"2.1 Nova \uc544\ud0a4\ud14d\ucc98","text":"<p>Nova \ucef4\ud3ec\ub10c\ud2b8:</p> \ucef4\ud3ec\ub10c\ud2b8 \uc5ed\ud560 \uc2e4\ud589 \uc704\uce58 nova-api REST API \uc81c\uacf5, \uc694\uccad \uac80\uc99d Controller nova-scheduler \uc778\uc2a4\ud134\uc2a4\ub97c \ubc30\uce58\ud560 \ud638\uc2a4\ud2b8 \uc120\ud0dd Controller nova-conductor DB \uc811\uadfc \ud504\ub85d\uc2dc, \uc7a5\uae30 \uc2e4\ud589 \uc791\uc5c5 \uc870\uc728 Controller nova-compute Hypervisor \uad00\ub9ac, \uc778\uc2a4\ud134\uc2a4 \ub77c\uc774\ud504\uc0ac\uc774\ud074 Compute Node nova-novncproxy VNC \ucf58\uc194 \ud504\ub85d\uc2dc Controller placement-api \ub9ac\uc18c\uc2a4 \uc778\ubca4\ud1a0\ub9ac \ubc0f \ud560\ub2f9 \ucd94\uc801 Controller <p>Nova Architecture (2025.1): <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      Controller Node                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  nova-api   \u2502 nova-        \u2502 nova-        \u2502 placement-api   \u2502\n\u2502             \u2502 scheduler    \u2502 conductor    \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502              \u2502              \u2502                 \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502 (RabbitMQ + MariaDB)\n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u2502                             \u2502                 \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Compute Node 1 \u2502         \u2502 Compute Node 2  \u2502  \u2502 Compute Node N\u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524         \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 nova-compute   \u2502         \u2502 nova-compute    \u2502  \u2502 nova-compute  \u2502\n\u2502 libvirt/KVM    \u2502         \u2502 libvirt/KVM     \u2502  \u2502 libvirt/KVM   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#22","title":"2.2 \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ud50c\ub85c\uc6b0","text":"<p>\uc804\uccb4 \ud504\ub85c\uc138\uc2a4 (2025.1 \uae30\uc900):</p> <pre><code>1. Client \u2192 nova-api\n   POST /v2.1/servers\n   {\n     \"server\": {\n       \"name\": \"test-vm\",\n       \"flavorRef\": \"2\",\n       \"imageRef\": \"uuid-of-image\"\n     }\n   }\n\n2. nova-api \u2192 Keystone\n   \ud1a0\ud070 \uac80\uc99d \ubc0f \uad8c\ud55c \ud655\uc778\n\n3. nova-api \u2192 Database\n   \uc778\uc2a4\ud134\uc2a4 \ub808\ucf54\ub4dc \uc0dd\uc131 (status: BUILD)\n\n4. nova-api \u2192 nova-conductor (RPC)\n   build_instances \uc694\uccad\n\n5. nova-conductor \u2192 nova-scheduler (RPC)\n   select_destinations \uc694\uccad\n\n6. nova-scheduler \u2192 placement-api\n   \ub9ac\uc18c\uc2a4 \uac00\uc6a9\uc131 \ud655\uc778\n   GET /allocation_candidates?resources=VCPU:2,MEMORY_MB:4096,DISK_GB:20\n\n7. nova-scheduler\n   \ud544\ud130\ub9c1 \ubc0f \uac00\uc911\uce58 \uacc4\uc0b0\n   - \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud638\uc2a4\ud2b8 \ud544\ud130\ub9c1\n   - \ucd5c\uc801 \ud638\uc2a4\ud2b8 \uc120\ud0dd\n\n8. nova-scheduler \u2192 nova-conductor\n   \uc120\ud0dd\ub41c \ud638\uc2a4\ud2b8 \uc815\ubcf4 \ubc18\ud658\n\n9. nova-conductor \u2192 nova-compute@host (RPC)\n   build_and_run_instance \uc694\uccad\n\n10. nova-compute\n    - Glance\uc5d0\uc11c \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc\n    - Neutron\uc5d0 \ub124\ud2b8\uc6cc\ud06c \uc694\uccad\n    - Cinder\uc5d0 \ubcfc\ub968 \uc5f0\uacb0 (\ud544\uc694\uc2dc)\n    - libvirt XML \uc0dd\uc131\n    - KVM\uc73c\ub85c VM \uc0dd\uc131\n\n11. nova-compute \u2192 Database\n    \uc778\uc2a4\ud134\uc2a4 \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 (status: ACTIVE)\n</code></pre>"},{"location":"computing-service/Ch1.OpenStack/#23-nova-scheduler","title":"2.3 Nova Scheduler","text":"<p>Filtering (\ud544\ud130\ub9c1): <pre><code># /etc/nova/nova.conf\n[filter_scheduler]\nenabled_filters = AvailabilityZoneFilter,\n                  ComputeFilter,\n                  ComputeCapabilitiesFilter,\n                  ImagePropertiesFilter,\n                  ServerGroupAntiAffinityFilter,\n                  ServerGroupAffinityFilter\n</code></pre></p> <p>\uc8fc\uc694 \ud544\ud130:</p> <ul> <li>AvailabilityZoneFilter: \uac00\uc6a9 \uc601\uc5ed \uae30\ubc18 \ud544\ud130\ub9c1</li> <li>ComputeFilter: \ud65c\uc131 \uc0c1\ud0dc\uc758 \ucef4\ud4e8\ud2b8 \ub178\ub4dc\ub9cc \uc120\ud0dd</li> <li>ComputeCapabilitiesFilter: CPU, RAM, Disk \uc694\uad6c\uc0ac\ud56d \ucda9\uc871 \ud655\uc778</li> <li>ImagePropertiesFilter: \uc774\ubbf8\uc9c0 \uc18d\uc131\uacfc \ud638\uc2a4\ud2b8 capabilities \ub9e4\uce6d</li> <li>ServerGroupAntiAffinityFilter: \uc778\uc2a4\ud134\uc2a4\ub97c \uc11c\ub85c \ub2e4\ub978 \ud638\uc2a4\ud2b8\uc5d0 \ubc30\uce58</li> </ul> <p>Weighting (\uac00\uc911\uce58 \uacc4\uc0b0): <pre><code>[filter_scheduler]\nweight_classes = nova.scheduler.weights.all_weighers\n\n# RAM Weigher: \uac00\uc6a9 RAM\uc774 \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638\nram_weight_multiplier = 1.0\n\n# Disk Weigher: \uac00\uc6a9 \ub514\uc2a4\ud06c\uac00 \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638\ndisk_weight_multiplier = 1.0\n\n# I/O operations Weigher\nio_ops_weight_multiplier = -1.0  # I/O\uac00 \uc801\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#24-placement-service","title":"2.4 Placement Service","text":"<p>\ub9ac\uc18c\uc2a4 \ucd94\uc801: <pre><code># Placement API\ub97c \ud1b5\ud55c \ub9ac\uc18c\uc2a4 \uc870\ud68c\ncurl -H \"X-Auth-Token: $TOKEN\" \\\n  http://controller:8778/placement/resource_providers\n\n# \ud2b9\uc815 \ub9ac\uc18c\uc2a4 \ud504\ub85c\ubc14\uc774\ub354\uc758 \uc778\ubca4\ud1a0\ub9ac\ncurl -H \"X-Auth-Token: $TOKEN\" \\\n  http://controller:8778/placement/resource_providers/{uuid}/inventories\n</code></pre></p> <p>\uc751\ub2f5 \uc608\uc2dc: <pre><code>{\n  \"resource_provider_generation\": 5,\n  \"inventories\": {\n    \"VCPU\": {\n      \"allocation_ratio\": 16.0,\n      \"total\": 64,\n      \"reserved\": 0,\n      \"step_size\": 1,\n      \"min_unit\": 1,\n      \"max_unit\": 64\n    },\n    \"MEMORY_MB\": {\n      \"allocation_ratio\": 1.5,\n      \"total\": 131072,\n      \"reserved\": 2048,\n      \"step_size\": 1,\n      \"min_unit\": 1,\n      \"max_unit\": 131072\n    }\n  }\n}\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#part-3-cinder-","title":"Part 3: Cinder - \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0","text":""},{"location":"computing-service/Ch1.OpenStack/#31-cinder","title":"3.1 Cinder \uc544\ud0a4\ud14d\ucc98","text":"<p>Cinder \ucef4\ud3ec\ub10c\ud2b8: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           cinder-api (Controller)            \u2502\n\u2502  - REST API                                  \u2502\n\u2502  - \ubcfc\ub968 \uc0dd\uc131/\uc0ad\uc81c/\uc5f0\uacb0 \uc694\uccad \ucc98\ub9ac              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502 (RabbitMQ)\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                 \u2502                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 cinder-        \u2502 \u2502 cinder-     \u2502 \u2502 cinder-backup   \u2502\n\u2502 scheduler      \u2502 \u2502 volume      \u2502 \u2502                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n               \u2502                    \u2502          \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502  LVM Driver \u2502      \u2502 Ceph Driver\u2502 \u2502  NFS  \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#32","title":"3.2 \ubcfc\ub968 \uc0dd\uc131 \ubc0f \uc5f0\uacb0","text":"<p>\ubcfc\ub968 \uc0dd\uc131: <pre><code># OpenStack CLI\nopenstack volume create \\\n  --size 100 \\\n  --type ssd \\\n  --availability-zone nova \\\n  --description \"Database volume\" \\\n  db-volume-01\n\n# \uacb0\uacfc\n+---------------------+--------------------------------------+\n| Field               | Value                                |\n+---------------------+--------------------------------------+\n| id                  | 573e024d-5235-49ce-8332-be1576d323f8 |\n| size                | 100                                  |\n| availability_zone   | nova                                 |\n| status              | creating                             |\n| volume_type         | ssd                                  |\n+---------------------+--------------------------------------+\n</code></pre></p> <p>\ubcfc\ub968 \uc5f0\uacb0 (Attach): <pre><code># \uc778\uc2a4\ud134\uc2a4\uc5d0 \ubcfc\ub968 \uc5f0\uacb0\nopenstack server add volume \\\n  test-vm \\\n  db-volume-01 \\\n  --device /dev/vdb\n\n# \uc778\uc2a4\ud134\uc2a4 \ub0b4\ubd80\uc5d0\uc11c \ud655\uc778\nlsblk\n# NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT\n# vda    252:0    0   20G  0 disk\n# \u2514\u2500vda1 252:1    0   20G  0 part /\n# vdb    252:16   0  100G  0 disk\n\n# \ud30c\ud2f0\uc158 \uc0dd\uc131 \ubc0f \ub9c8\uc6b4\ud2b8\nsudo mkfs.ext4 /dev/vdb\nsudo mkdir /data\nsudo mount /dev/vdb /data\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#33-cinder","title":"3.3 Cinder \ubc31\uc5d4\ub4dc \uc124\uc815","text":"<p>LVM \ubc31\uc5d4\ub4dc (\uae30\ubcf8): <pre><code># /etc/cinder/cinder.conf\n[DEFAULT]\nenabled_backends = lvm\n\n[lvm]\nvolume_driver = cinder.volume.drivers.lvm.LVMVolumeDriver\nvolume_group = cinder-volumes\nvolume_backend_name = LVM\niscsi_protocol = iscsi\niscsi_helper = tgtadm\n</code></pre></p> <p>Ceph \ubc31\uc5d4\ub4dc: <pre><code>[ceph]\nvolume_driver = cinder.volume.drivers.rbd.RBDDriver\nvolume_backend_name = ceph\nrbd_pool = volumes\nrbd_ceph_conf = /etc/ceph/ceph.conf\nrbd_flatten_volume_from_snapshot = false\nrbd_max_clone_depth = 5\nrbd_store_chunk_size = 4\nrados_connect_timeout = -1\nrbd_user = cinder\nrbd_secret_uuid = 457eb676-33da-42ec-9a8c-9293d545c337\n</code></pre></p> <p>\uba40\ud2f0 \ubc31\uc5d4\ub4dc: <pre><code>[DEFAULT]\nenabled_backends = lvm,ceph,nfs\n\n# \ubcfc\ub968 \ud0c0\uc785 \uc0dd\uc131\nopenstack volume type create lvm-ssd\nopenstack volume type set lvm-ssd \\\n  --property volume_backend_name=LVM\n\nopenstack volume type create ceph-hdd\nopenstack volume type set ceph-hdd \\\n  --property volume_backend_name=ceph\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#34","title":"3.4 \ubcfc\ub968 \uc2a4\ub0c5\uc0f7 \ubc0f \ubc31\uc5c5","text":"<p>\uc2a4\ub0c5\uc0f7: <pre><code># \uc2a4\ub0c5\uc0f7 \uc0dd\uc131 (volume\uc774 attached \uc0c1\ud0dc\uc5d0\uc11c\ub3c4 \uac00\ub2a5)\nopenstack volume snapshot create \\\n  --volume db-volume-01 \\\n  --force \\\n  db-snapshot-20251124\n\n# \uc2a4\ub0c5\uc0f7\uc5d0\uc11c \ubcfc\ub968 \uc0dd\uc131\nopenstack volume create \\\n  --snapshot db-snapshot-20251124 \\\n  --size 100 \\\n  db-volume-02\n</code></pre></p> <p>\ubc31\uc5c5 (Swift/Ceph): <pre><code># \ubc31\uc5c5 \uc0dd\uc131\nopenstack volume backup create \\\n  --name db-backup-daily \\\n  db-volume-01\n\n# \ubc31\uc5c5\uc5d0\uc11c \ubcf5\uc6d0\nopenstack volume create \\\n  --backup db-backup-daily \\\n  --size 100 \\\n  restored-volume\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#part-4-glance-","title":"Part 4: Glance - \uc774\ubbf8\uc9c0 \uc11c\ube44\uc2a4","text":""},{"location":"computing-service/Ch1.OpenStack/#41-glance","title":"4.1 Glance \uc544\ud0a4\ud14d\ucc98","text":"<p>Glance \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>glance-api: REST API \uc81c\uacf5, \uc774\ubbf8\uc9c0 \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac</li> <li>glance-registry (deprecated): \uba54\ud0c0\ub370\uc774\ud130 \uc800\uc7a5 (2025.1\uc5d0\uc11c \uc81c\uac70\ub428)</li> <li>Backend Store: \uc2e4\uc81c \uc774\ubbf8\uc9c0 \ub370\uc774\ud130 \uc800\uc7a5 (Swift, Ceph, Filesystem, Cinder)</li> </ul> <p>\uc774\ubbf8\uc9c0 \uc800\uc7a5\uc18c \uc635\uc158: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          glance-api                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502         \u2502          \u2502          \u2502          \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 File \u2502 \u2502 Swift \u2502 \u2502  Ceph   \u2502 \u2502 Cinder \u2502 \u2502  HTTP   \u2502\n\u2502System\u2502 \u2502       \u2502 \u2502  (RBD)  \u2502 \u2502        \u2502 \u2502(Read-Only)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#42","title":"4.2 \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc \ubc0f \uad00\ub9ac","text":"<p>\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc: <pre><code># QCOW2 \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc\nwget https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img\n\nopenstack image create \\\n  --disk-format qcow2 \\\n  --container-format bare \\\n  --public \\\n  --file jammy-server-cloudimg-amd64.img \\\n  ubuntu-22.04\n\n# \uc774\ubbf8\uc9c0 \uc18d\uc131 \ucd94\uac00\nopenstack image set ubuntu-22.04 \\\n  --property os_distro=ubuntu \\\n  --property os_version=22.04 \\\n  --property hw_disk_bus=virtio \\\n  --property hw_vif_model=virtio\n</code></pre></p> <p>\uba40\ud2f0 \uc2a4\ud1a0\uc5b4 \uc124\uc815 (2025.1): <pre><code># /etc/glance/glance-api.conf\n[DEFAULT]\nenabled_backends = fast:rbd, cheap:file\n\n[glance_store]\ndefault_backend = fast\n\n[fast]\nrbd_store_pool = images\nrbd_store_user = glance\nrbd_store_ceph_conf = /etc/ceph/ceph.conf\nstore_description = \"Fast SSD storage via Ceph\"\n\n[cheap]\nfilesystem_store_datadir = /var/lib/glance/images/\nstore_description = \"Cheap HDD storage\"\n</code></pre></p> <p>\uc2a4\ud1a0\uc5b4 \uc120\ud0dd\ud558\uc5ec \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc: <pre><code>openstack image create \\\n  --disk-format qcow2 \\\n  --container-format bare \\\n  --file ubuntu-22.04.qcow2 \\\n  --store fast \\\n  ubuntu-22.04-fast\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#43-glance-image-cache-for-cinder","title":"4.3 Glance Image Cache for Cinder","text":"<p>\uc774\ubbf8\uc9c0 \uce90\uc2f1 \ud65c\uc131\ud654 (2025.1 Best Practice): <pre><code># /etc/glance/glance-api.conf\n[DEFAULT]\nimage_cache_dir = /var/lib/glance/image-cache\nimage_cache_max_size = 107374182400  # 100GB\n\n[glance_store]\ndefault_store = cinder\ncinder_catalog_info = volumev3::internalURL\ncinder_volume_type = ssd\n\n# Cinder store specific\ncinder_state_transition_timeout = 300\ncinder_store_auth_address = http://controller:5000/v3\ncinder_store_user_name = cinder\ncinder_store_password = secret\ncinder_store_project_name = service\n</code></pre></p> <p>\uc131\ub2a5 \ud5a5\uc0c1:</p> <ul> <li>\uc774\ubbf8\uc9c0 \uce90\uc2f1 \ud65c\uc131\ud654 \uc2dc \ubcfc\ub968 \uc0dd\uc131 \uc2dc\uac04 50-70% \ub2e8\ucd95</li> <li>Glance Image Cache for Cinder\ub294 Pure Storage, NetApp \ub4f1 \uc5d4\ud130\ud504\ub77c\uc774\uc988 \uc2a4\ud1a0\ub9ac\uc9c0\uc5d0\uc11c \uad8c\uc7a5</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#part-5-ironic-","title":"Part 5: Ironic - \ubca0\uc5b4\uba54\ud0c8 \ud504\ub85c\ube44\uc800\ub2dd","text":""},{"location":"computing-service/Ch1.OpenStack/#51-ironic","title":"5.1 Ironic \uc544\ud0a4\ud14d\ucc98","text":"<p>Ironic\uc758 \uc5ed\ud560: Ironic\uc740 \uac00\uc0c1 \uba38\uc2e0 \ub300\uc2e0 **\ubb3c\ub9ac \uc11c\ubc84(\ubca0\uc5b4\uba54\ud0c8)**\ub97c \ud504\ub85c\ube44\uc800\ub2dd\ud558\ub294 OpenStack \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4.</p> <p>Ironic \ucef4\ud3ec\ub10c\ud2b8: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Nova (Compute)                   \u2502\n\u2502  - \ubca0\uc5b4\uba54\ud0c8\uc744 VM\ucc98\ub7fc \uad00\ub9ac                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502 (Ironic virt driver)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           ironic-api                          \u2502\n\u2502  - REST API                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                 \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 ironic-        \u2502 \u2502 ironic-conductor    \u2502\n\u2502 conductor      \u2502 \u2502  - \ud504\ub85c\ube44\uc800\ub2dd \ub85c\uc9c1  \u2502\n\u2502  (main)        \u2502 \u2502  - \ud558\ub4dc\uc6e8\uc5b4 \uc81c\uc5b4    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                          \u2502\n                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                \u2502                   \u2502          \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502 IPMI Driver \u2502     \u2502   Redfish  \u2502 \u2502  iLO     \u2502\n         \u2502             \u2502     \u2502   Driver   \u2502 \u2502  Driver  \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502                  \u2502           \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n         \u2502     Physical Servers (Bare Metal)        \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#52-ironic-nova","title":"5.2 Ironic + Nova \ud1b5\ud569","text":"<p>Nova\uc5d0\uc11c \ubca0\uc5b4\uba54\ud0c8 \uc0ac\uc6a9: <pre><code># 1. Ironic node \ub4f1\ub85d\nopenstack baremetal node create \\\n  --driver ipmi \\\n  --name node-01 \\\n  --driver-info ipmi_address=192.168.1.100 \\\n  --driver-info ipmi_username=admin \\\n  --driver-info ipmi_password=secret\n\n# 2. \ub178\ub4dc \ud3ec\ud2b8 \ucd94\uac00 (MAC \uc8fc\uc18c)\nopenstack baremetal port create \\\n  --node node-01 \\\n  aa:bb:cc:dd:ee:ff\n\n# 3. \ub9ac\uc18c\uc2a4 \uc18d\uc131 \uc124\uc815\nopenstack baremetal node set node-01 \\\n  --property cpus=32 \\\n  --property memory_mb=131072 \\\n  --property local_gb=1000 \\\n  --property cpu_arch=x86_64\n\n# 4. \ub178\ub4dc\ub97c available \uc0c1\ud0dc\ub85c \ubcc0\uacbd\nopenstack baremetal node manage node-01\nopenstack baremetal node provide node-01\n\n# 5. Nova flavor \uc0dd\uc131 (\ubca0\uc5b4\uba54\ud0c8\uc6a9)\nopenstack flavor create \\\n  --ram 131072 \\\n  --disk 1000 \\\n  --vcpus 32 \\\n  --property resources:CUSTOM_BAREMETAL=1 \\\n  --property resources:VCPU=0 \\\n  --property resources:MEMORY_MB=0 \\\n  --property resources:DISK_GB=0 \\\n  baremetal-large\n\n# 6. \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 (\ubca0\uc5b4\uba54\ud0c8)\nopenstack server create \\\n  --flavor baremetal-large \\\n  --image ubuntu-22.04 \\\n  --network provisioning-net \\\n  my-baremetal-server\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#53","title":"5.3 \ud504\ub85c\ube44\uc800\ub2dd \ud50c\ub85c\uc6b0","text":"<p>Ironic \ud504\ub85c\ube44\uc800\ub2dd \ub2e8\uacc4: <pre><code>1. Nova \u2192 Ironic: \ubca0\uc5b4\uba54\ud0c8 \uc778\uc2a4\ud134\uc2a4 \uc694\uccad\n   \u2193\n2. Ironic: \ub178\ub4dc \uac80\uc99d (validate)\n   - Power interface \uccb4\ud06c\n   - Deploy interface \uccb4\ud06c\n   \u2193\n3. Ironic: \ub178\ub4dc \uc804\uc6d0 \ucf1c\uae30 (IPMI/Redfish)\n   \u2193\n4. Ironic: PXE \ubd80\ud305\n   - TFTP \uc11c\ubc84\uc5d0\uc11c \ucee4\ub110/ramdisk \ub85c\ub4dc\n   - Provisioning \ub124\ud2b8\uc6cc\ud06c\ub85c \ubd80\ud305\n   \u2193\n5. IPA (Ironic Python Agent): \ub178\ub4dc\uc5d0\uc11c \uc2e4\ud589\n   - \ub514\uc2a4\ud06c \ud30c\ud2f0\uc154\ub2dd\n   - Glance\uc5d0\uc11c \uc774\ubbf8\uc9c0 \ub2e4\uc6b4\ub85c\ub4dc\n   - \ub514\uc2a4\ud06c\uc5d0 \uc774\ubbf8\uc9c0 \uc4f0\uae30\n   \u2193\n6. Ironic: \ubd80\ud2b8\ub85c\ub354 \uc124\uce58 (GRUB)\n   \u2193\n7. Ironic: \ub178\ub4dc \uc7ac\ubd80\ud305\n   \u2193\n8. \ub178\ub4dc: \ub85c\uceec \ub514\uc2a4\ud06c\uc5d0\uc11c \ubd80\ud305\n   \u2193\n9. Ironic \u2192 Nova: \ud504\ub85c\ube44\uc800\ub2dd \uc644\ub8cc \uc54c\ub9bc\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#54-2025-best-practice","title":"5.4 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4 (2025 Best Practice)","text":"<p>\ud504\ub85c\ube44\uc800\ub2dd \ub124\ud2b8\uc6cc\ud06c \ubd84\ub9ac: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Management Network (VLAN 10)         \u2502\n\u2502  - Ironic API, Conductor                     \u2502\n\u2502  - \uad00\ub9ac\uc790 \uc811\uadfc                                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       Provisioning Network (VLAN 20)         \u2502\n\u2502  - PXE/TFTP                                  \u2502\n\u2502  - \uc5d4\ub4dc \uc720\uc800 \uc811\uadfc \ubd88\uac00 (\ubcf4\uc548)                 \u2502\n\u2502  - \uc778\ud130\ub137 \uc811\uadfc \ubd88\uac00 (\uad8c\uc7a5)                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Tenant Network (VLAN 30+)            \u2502\n\u2502  - \ud504\ub85c\ube44\uc800\ub2dd \uc644\ub8cc \ud6c4 \uc0ac\uc6a9                    \u2502\n\u2502  - \uc0ac\uc6a9\uc790 \uc6cc\ud06c\ub85c\ub4dc                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#part-6-kolla-ansible","title":"Part 6: Kolla-Ansible \ud504\ub85c\ub355\uc158 \ubc30\ud3ec","text":""},{"location":"computing-service/Ch1.OpenStack/#61-kolla-ansible","title":"6.1 Kolla-Ansible \uac1c\uc694","text":"<p>Kolla\uc758 \ubbf8\uc158 (2025.1):</p> <p>Kolla's mission is to provide production-ready containers and deployment tools for operating OpenStack clouds.</p> <p>\ud575\uc2ec \ud2b9\uc9d5:</p> <ul> <li>\ucee8\ud14c\uc774\ub108 \uae30\ubc18: \ubaa8\ub4e0 OpenStack \uc11c\ube44\uc2a4\ub97c Docker/Podman \ucee8\ud14c\uc774\ub108\ub85c \uc2e4\ud589</li> <li>Ansible \uc790\ub3d9\ud654: Playbook\uc744 \ud1b5\ud55c \uc120\uc5b8\uc801 \ubc30\ud3ec</li> <li>HA \uc9c0\uc6d0: HAProxy, Keepalived\ub97c \ud1b5\ud55c \uace0\uac00\uc6a9\uc131</li> <li>\ub864\ub9c1 \uc5c5\uadf8\ub808\uc774\ub4dc: \ubb34\uc911\ub2e8 \uc5c5\uadf8\ub808\uc774\ub4dc \uc9c0\uc6d0</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#62","title":"6.2 \ud558\ub4dc\uc6e8\uc5b4 \uc694\uad6c\uc0ac\ud56d","text":"<p>\ucd5c\uc18c \uc694\uad6c\uc0ac\ud56d (\uac1c\ubc1c/\ud14c\uc2a4\ud2b8):</p> <ul> <li>\ub124\ud2b8\uc6cc\ud06c \uc778\ud130\ud398\uc774\uc2a4: 2\uac1c (Management, External)</li> <li>\uba54\ubaa8\ub9ac: 8GB</li> <li>\ub514\uc2a4\ud06c: 40GB</li> </ul> <p>\ud504\ub85c\ub355\uc158 \uad8c\uc7a5\uc0ac\ud56d:</p> <ul> <li>Controller Node: 3\ub300 (HA)</li> <li>CPU: 8 cores</li> <li>RAM: 64GB</li> <li>Disk: 500GB SSD (OS + \ucee8\ud14c\uc774\ub108)</li> <li>Compute Node: N\ub300</li> <li>CPU: 32+ cores</li> <li>RAM: 128GB+</li> <li>Disk: 1TB+ (\uc778\uc2a4\ud134\uc2a4 ephemeral storage)</li> <li>Storage Node: 3+ \ub300 (Ceph)</li> <li>CPU: 8 cores</li> <li>RAM: 64GB</li> <li>Disk: 10TB+ HDD (\ub370\uc774\ud130), 100GB SSD (journal)</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#63-kolla-ansible","title":"6.3 Kolla-Ansible \uc124\uce58 \ubc0f \uc124\uc815","text":"<p>Step 1: \ud658\uacbd \uc900\ube44 <pre><code># 1. \uc758\uc874\uc131 \uc124\uce58 (\ubc30\ud3ec \uc11c\ubc84)\nsudo apt update\nsudo apt install -y python3-dev libffi-dev gcc libssl-dev python3-venv\n\n# 2. Python \uac00\uc0c1\ud658\uacbd \uc0dd\uc131\npython3 -m venv kolla-venv\nsource kolla-venv/bin/activate\n\n# 3. Kolla-Ansible \uc124\uce58\npip install -U pip\npip install 'ansible-core&gt;=2.16,&lt;2.17'\npip install kolla-ansible==20.2.0  # 2025.1 Epoxy\n\n# 4. Kolla \uc124\uc815 \ub514\ub809\ud1a0\ub9ac \uc0dd\uc131\nsudo mkdir -p /etc/kolla\nsudo chown $USER:$USER /etc/kolla\n\n# 5. \uc0d8\ud50c \uc124\uc815 \ubcf5\uc0ac\ncp kolla-venv/share/kolla-ansible/etc_examples/kolla/* /etc/kolla/\ncp kolla-venv/share/kolla-ansible/ansible/inventory/* .\n</code></pre></p> <p>Step 2: Inventory \uc124\uc815 <pre><code># multinode inventory\n[control]\ncontroller01 ansible_host=192.168.1.10\ncontroller02 ansible_host=192.168.1.11\ncontroller03 ansible_host=192.168.1.12\n\n[network]\ncontroller[01:03]\n\n[compute]\ncompute01 ansible_host=192.168.1.21\ncompute02 ansible_host=192.168.1.22\ncompute03 ansible_host=192.168.1.23\n\n[storage]\nstorage01 ansible_host=192.168.1.31\nstorage02 ansible_host=192.168.1.32\nstorage03 ansible_host=192.168.1.33\n\n[monitoring]\ncontroller01\n\n[deployment]\nlocalhost ansible_connection=local\n</code></pre></p> <p>Step 3: globals.yml \uc124\uc815 <pre><code># /etc/kolla/globals.yml\n---\nkolla_base_distro: \"ubuntu\"\nkolla_install_type: \"source\"\nopenstack_release: \"2025.1\"\n\n# \ub124\ud2b8\uc6cc\ud06c \uc124\uc815\nnetwork_interface: \"eth0\"           # Management \ub124\ud2b8\uc6cc\ud06c\nneutron_external_interface: \"eth1\"  # External \ub124\ud2b8\uc6cc\ud06c\nkolla_internal_vip_address: \"192.168.1.100\"  # VIP (HAProxy)\n\n# OpenStack \uc11c\ube44\uc2a4 \ud65c\uc131\ud654\nenable_haproxy: \"yes\"\nenable_keepalived: \"yes\"\nenable_mariadb: \"yes\"\nenable_memcached: \"yes\"\nenable_rabbitmq: \"yes\"\n\nenable_keystone: \"yes\"\nenable_glance: \"yes\"\nenable_nova: \"yes\"\nenable_neutron: \"yes\"\nenable_cinder: \"yes\"\nenable_horizon: \"yes\"\n\nenable_ironic: \"yes\"\nenable_ironic_neutron_agent: \"yes\"\n\n# Ceph \ubc31\uc5d4\ub4dc (\uc120\ud0dd\uc801)\nenable_ceph: \"yes\"\nglance_backend_ceph: \"yes\"\ncinder_backend_ceph: \"yes\"\nnova_backend_ceph: \"yes\"\n\n# \ubaa8\ub2c8\ud130\ub9c1\nenable_prometheus: \"yes\"\nenable_grafana: \"yes\"\n\n# \ub85c\uadf8 \uc218\uc900\nopenstack_logging_debug: \"False\"\n</code></pre></p> <p>Step 4: \ubc30\ud3ec \uc2e4\ud589 <pre><code># 1. Ansible \uc5f0\uacb0 \ud14c\uc2a4\ud2b8\nansible -i multinode all -m ping\n\n# 2. \uc758\uc874\uc131 \uc124\uce58\nkolla-ansible -i multinode bootstrap-servers\n\n# 3. \uc0ac\uc804 \ubc30\ud3ec \uac80\uc0ac\nkolla-ansible -i multinode prechecks\n\n# 4. \ubc30\ud3ec \uc2e4\ud589\nkolla-ansible -i multinode deploy\n\n# 5. \ucd08\uae30 \uc124\uc815 (admin-openrc.sh \uc0dd\uc131)\nkolla-ansible -i multinode post-deploy\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#64","title":"6.4 \uc6b4\uc601 \ubc0f \uc720\uc9c0\ubcf4\uc218","text":"<p>\ucee8\ud14c\uc774\ub108 \uc0c1\ud0dc \ud655\uc778: <pre><code># \ubaa8\ub4e0 Kolla \ucee8\ud14c\uc774\ub108 \ud655\uc778\ndocker ps --format \"table {{.Names}}\\t{{.Status}}\"\n\n# \ud2b9\uc815 \uc11c\ube44\uc2a4 \ub85c\uadf8 \ud655\uc778\ndocker logs nova_compute\n\n# \ucee8\ud14c\uc774\ub108 \uc7ac\uc2dc\uc791\ndocker restart nova_compute\n</code></pre></p> <p>2025.1 \uc0c8\ub85c\uc6b4 \uae30\ub2a5 - kolla-ansible check: <pre><code># \ubaa8\ub4e0 \ud638\uc2a4\ud2b8\uc758 \ucee8\ud14c\uc774\ub108 \uc0c1\ud0dc \uc9c4\ub2e8\nkolla-ansible -i multinode check\n\n# \uacb0\uacfc: \ub204\ub77d, \ubbf8\uc2e4\ud589, \ube44\uc815\uc0c1 \ucee8\ud14c\uc774\ub108 \ubaa9\ub85d \ubc18\ud658\n</code></pre></p> <p>\uc5c5\uadf8\ub808\uc774\ub4dc: <pre><code># 1. \ubc31\uc5c5\nkolla-ansible -i multinode mariadb_backup\n\n# 2. \uc0c8 \ubc84\uc804\uc73c\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc\npip install --upgrade kolla-ansible\n\n# 3. \ub864\ub9c1 \uc5c5\uadf8\ub808\uc774\ub4dc \uc2e4\ud589\nkolla-ansible -i multinode upgrade\n</code></pre></p> <p>\uc7ac\uad6c\uc131 (Reconfigure): <pre><code># globals.yml \uc218\uc815 \ud6c4 \uc801\uc6a9\nkolla-ansible -i multinode reconfigure\n</code></pre></p>"},{"location":"computing-service/Ch1.OpenStack/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"computing-service/Ch1.OpenStack/#1-all-in-one-openstack","title":"\uc2e4\uc2b5 1: All-in-One OpenStack \ubc30\ud3ec","text":"<p>\ubaa9\ud45c: \ub2e8\uc77c \uc11c\ubc84\uc5d0 OpenStack \ubc30\ud3ec (\ud559\uc2b5\uc6a9)</p> <pre><code># 1. \uc2dc\uc2a4\ud15c \uc694\uad6c\uc0ac\ud56d \ud655\uc778\n# - Ubuntu 22.04\n# - 8GB RAM\n# - 40GB Disk\n# - 2 Network Interfaces\n\n# 2. Kolla-Ansible \uc124\uce58 (\uc704\uc758 6.3 Step 1)\n\n# 3. all-in-one inventory \uc0ac\uc6a9\ncp kolla-venv/share/kolla-ansible/ansible/inventory/all-in-one .\n\n# 4. globals.yml \uc124\uc815\ncat &gt; /etc/kolla/globals.yml &lt;&lt;EOF\n---\nkolla_base_distro: \"ubuntu\"\nkolla_install_type: \"source\"\nnetwork_interface: \"eth0\"\nneutron_external_interface: \"eth1\"\nkolla_internal_vip_address: \"192.168.1.10\"\nenable_haproxy: \"no\"  # Single node\nenable_cinder: \"yes\"\nenable_cinder_backend_lvm: \"yes\"\nEOF\n\n# 5. \ubc30\ud3ec\nkolla-ansible -i all-in-one bootstrap-servers\nkolla-ansible -i all-in-one prechecks\nkolla-ansible -i all-in-one deploy\nkolla-ansible -i all-in-one post-deploy\n\n# 6. OpenStack CLI \uc124\uc815\npip install python-openstackclient\nsource /etc/kolla/admin-openrc.sh\n\n# 7. \ud658\uacbd \ud655\uc778\nopenstack service list\nopenstack compute service list\nopenstack network agent list\n</code></pre>"},{"location":"computing-service/Ch1.OpenStack/#2","title":"\uc2e4\uc2b5 2: \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \uc6cc\ud06c\ud50c\ub85c\uc6b0","text":"<pre><code># 1. \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131\nopenstack network create --external \\\n  --provider-network-type flat \\\n  --provider-physical-network physnet1 \\\n  public\n\nopenstack subnet create --network public \\\n  --subnet-range 192.168.100.0/24 \\\n  --gateway 192.168.100.1 \\\n  --allocation-pool start=192.168.100.100,end=192.168.100.200 \\\n  public-subnet\n\n# 2. \ud504\ub77c\uc774\ube57 \ub124\ud2b8\uc6cc\ud06c\nopenstack network create private\nopenstack subnet create --network private \\\n  --subnet-range 10.0.0.0/24 \\\n  --dns-nameserver 8.8.8.8 \\\n  private-subnet\n\n# 3. \ub77c\uc6b0\ud130\nopenstack router create router1\nopenstack router set --external-gateway public router1\nopenstack router add subnet router1 private-subnet\n\n# 4. Security Group\nopenstack security group create web\nopenstack security group rule create --protocol tcp --dst-port 80 web\nopenstack security group rule create --protocol tcp --dst-port 443 web\nopenstack security group rule create --protocol tcp --dst-port 22 web\n\n# 5. Keypair\nssh-keygen -t rsa -b 4096 -f ~/.ssh/openstack_key -N \"\"\nopenstack keypair create --public-key ~/.ssh/openstack_key.pub mykey\n\n# 6. Flavor\nopenstack flavor create --ram 2048 --disk 20 --vcpus 2 m1.small\n\n# 7. \uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc (\uc774\ubbf8 \uc788\uc73c\uba74 skip)\nwget https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img\nopenstack image create --disk-format qcow2 --file jammy-server-cloudimg-amd64.img ubuntu-22.04\n\n# 8. \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\nopenstack server create \\\n  --flavor m1.small \\\n  --image ubuntu-22.04 \\\n  --network private \\\n  --security-group web \\\n  --key-name mykey \\\n  test-vm\n\n# 9. Floating IP \ud560\ub2f9\nFLOATING_IP=$(openstack floating ip create public -f value -c floating_ip_address)\nopenstack server add floating ip test-vm $FLOATING_IP\n\n# 10. SSH \uc811\uc18d\nssh -i ~/.ssh/openstack_key ubuntu@$FLOATING_IP\n</code></pre>"},{"location":"computing-service/Ch1.OpenStack/#3-cinder","title":"\uc2e4\uc2b5 3: Cinder \ubcfc\ub968 \ubc0f \uc2a4\ub0c5\uc0f7","text":"<pre><code># 1. \ubcfc\ub968 \uc0dd\uc131\nopenstack volume create --size 50 data-volume\n\n# 2. \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc5f0\uacb0\nopenstack server add volume test-vm data-volume\n\n# 3. \uc778\uc2a4\ud134\uc2a4 \ub0b4\ubd80\uc5d0\uc11c \ud3ec\ub9f7 \ubc0f \ub9c8\uc6b4\ud2b8\nssh ubuntu@$FLOATING_IP\nsudo mkfs.ext4 /dev/vdb\nsudo mkdir /data\nsudo mount /dev/vdb /data\necho \"Hello from volume\" | sudo tee /data/test.txt\n\n# 4. \uc2a4\ub0c5\uc0f7 \uc0dd\uc131 (attached \uc0c1\ud0dc\uc5d0\uc11c)\nopenstack volume snapshot create --volume data-volume --force data-snapshot\n\n# 5. \uc2a4\ub0c5\uc0f7\uc5d0\uc11c \uc0c8 \ubcfc\ub968 \uc0dd\uc131\nopenstack volume create --snapshot data-snapshot --size 50 data-volume-clone\n\n# 6. \ubc31\uc5c5 (Swift/Ceph \ud544\uc694)\nopenstack volume backup create --name data-backup data-volume\n</code></pre>"},{"location":"computing-service/Ch1.OpenStack/#_4","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"computing-service/Ch1.OpenStack/#1-python-openstack","title":"\uc608\uc81c 1: Python\uc73c\ub85c OpenStack \uc790\ub3d9\ud654","text":"<pre><code># openstack_automation.py\nfrom openstack import connection\nimport time\n\n# \uc5f0\uacb0 \uc0dd\uc131\nconn = connection.Connection(\n    auth_url='http://192.168.1.10:5000/v3',\n    project_name='admin',\n    username='admin',\n    password='admin_password',\n    user_domain_id='default',\n    project_domain_id='default'\n)\n\ndef create_instance(name, flavor_name, image_name, network_name):\n    \"\"\"\uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ubc0f Floating IP \ud560\ub2f9\"\"\"\n\n    # 1. Flavor \uc870\ud68c\n    flavor = conn.compute.find_flavor(flavor_name)\n\n    # 2. \uc774\ubbf8\uc9c0 \uc870\ud68c\n    image = conn.compute.find_image(image_name)\n\n    # 3. \ub124\ud2b8\uc6cc\ud06c \uc870\ud68c\n    network = conn.network.find_network(network_name)\n\n    # 4. \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\n    print(f\"Creating instance {name}...\")\n    server = conn.compute.create_server(\n        name=name,\n        flavor_id=flavor.id,\n        image_id=image.id,\n        networks=[{\"uuid\": network.id}]\n    )\n\n    # 5. ACTIVE \uc0c1\ud0dc \ub300\uae30\n    server = conn.compute.wait_for_server(server, status='ACTIVE', wait=300)\n    print(f\"Instance {name} is ACTIVE\")\n\n    # 6. Floating IP \uc0dd\uc131 \ubc0f \ud560\ub2f9\n    public_network = conn.network.find_network('public')\n    floating_ip = conn.network.create_ip(floating_network_id=public_network.id)\n\n    conn.compute.add_floating_ip_to_server(server, floating_ip.floating_ip_address)\n    print(f\"Assigned Floating IP: {floating_ip.floating_ip_address}\")\n\n    return server, floating_ip.floating_ip_address\n\ndef create_volume_and_attach(server_id, size, device='/dev/vdb'):\n    \"\"\"\ubcfc\ub968 \uc0dd\uc131 \ubc0f \uc5f0\uacb0\"\"\"\n\n    # 1. \ubcfc\ub968 \uc0dd\uc131\n    volume = conn.block_storage.create_volume(size=size)\n\n    # 2. available \uc0c1\ud0dc \ub300\uae30\n    volume = conn.block_storage.wait_for_status(volume, status='available', wait=120)\n    print(f\"Volume {volume.id} created\")\n\n    # 3. \uc778\uc2a4\ud134\uc2a4\uc5d0 \uc5f0\uacb0\n    conn.compute.create_volume_attachment(\n        server=server_id,\n        volume_id=volume.id,\n        device=device\n    )\n\n    print(f\"Volume attached to {server_id} as {device}\")\n    return volume\n\n# \uc2e4\ud589\nif __name__ == '__main__':\n    # \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\n    server, floating_ip = create_instance(\n        name='web-server-01',\n        flavor_name='m1.small',\n        image_name='ubuntu-22.04',\n        network_name='private'\n    )\n\n    # \ubcfc\ub968 \uc0dd\uc131 \ubc0f \uc5f0\uacb0\n    volume = create_volume_and_attach(server.id, size=100)\n\n    print(f\"\\n=== Summary ===\")\n    print(f\"Server ID: {server.id}\")\n    print(f\"Floating IP: {floating_ip}\")\n    print(f\"Volume ID: {volume.id}\")\n    print(f\"SSH: ssh ubuntu@{floating_ip}\")\n</code></pre>"},{"location":"computing-service/Ch1.OpenStack/#2-terraform-openstack","title":"\uc608\uc81c 2: Terraform\uc73c\ub85c OpenStack \uc778\ud504\ub77c \uad6c\uc131","text":"<pre><code># main.tf\nterraform {\n  required_providers {\n    openstack = {\n      source  = \"terraform-provider-openstack/openstack\"\n      version = \"~&gt; 1.54.0\"\n    }\n  }\n}\n\nprovider \"openstack\" {\n  auth_url    = \"http://192.168.1.10:5000/v3\"\n  user_name   = \"admin\"\n  password    = var.admin_password\n  tenant_name = \"admin\"\n  domain_name = \"Default\"\n}\n\n# \ub124\ud2b8\uc6cc\ud06c\nresource \"openstack_networking_network_v2\" \"app_network\" {\n  name           = \"app-network\"\n  admin_state_up = true\n}\n\nresource \"openstack_networking_subnet_v2\" \"app_subnet\" {\n  name       = \"app-subnet\"\n  network_id = openstack_networking_network_v2.app_network.id\n  cidr       = \"10.0.1.0/24\"\n  ip_version = 4\n  dns_nameservers = [\"8.8.8.8\", \"8.8.4.4\"]\n}\n\n# \ub77c\uc6b0\ud130\ndata \"openstack_networking_network_v2\" \"public\" {\n  name = \"public\"\n}\n\nresource \"openstack_networking_router_v2\" \"app_router\" {\n  name                = \"app-router\"\n  external_network_id = data.openstack_networking_network_v2.public.id\n}\n\nresource \"openstack_networking_router_interface_v2\" \"app_router_interface\" {\n  router_id = openstack_networking_router_v2.app_router.id\n  subnet_id = openstack_networking_subnet_v2.app_subnet.id\n}\n\n# Security Group\nresource \"openstack_compute_secgroup_v2\" \"web_sg\" {\n  name        = \"web-sg\"\n  description = \"Security group for web servers\"\n\n  rule {\n    from_port   = 22\n    to_port     = 22\n    ip_protocol = \"tcp\"\n    cidr        = \"0.0.0.0/0\"\n  }\n\n  rule {\n    from_port   = 80\n    to_port     = 80\n    ip_protocol = \"tcp\"\n    cidr        = \"0.0.0.0/0\"\n  }\n\n  rule {\n    from_port   = 443\n    to_port     = 443\n    ip_protocol = \"tcp\"\n    cidr        = \"0.0.0.0/0\"\n  }\n}\n\n# Keypair\nresource \"openstack_compute_keypair_v2\" \"app_key\" {\n  name       = \"app-key\"\n  public_key = file(\"~/.ssh/id_rsa.pub\")\n}\n\n# \uc778\uc2a4\ud134\uc2a4\nresource \"openstack_compute_instance_v2\" \"web_servers\" {\n  count           = 3\n  name            = \"web-${count.index + 1}\"\n  image_name      = \"ubuntu-22.04\"\n  flavor_name     = \"m1.small\"\n  key_pair        = openstack_compute_keypair_v2.app_key.name\n  security_groups = [openstack_compute_secgroup_v2.web_sg.name]\n\n  network {\n    uuid = openstack_networking_network_v2.app_network.id\n  }\n\n  user_data = &lt;&lt;-EOF\n    #!/bin/bash\n    apt-get update\n    apt-get install -y nginx\n    echo \"Hello from web-${count.index + 1}\" &gt; /var/www/html/index.html\n    systemctl enable nginx\n    systemctl start nginx\n  EOF\n}\n\n# Floating IP\nresource \"openstack_networking_floatingip_v2\" \"web_fip\" {\n  count = 3\n  pool  = \"public\"\n}\n\nresource \"openstack_compute_floatingip_associate_v2\" \"web_fip_assoc\" {\n  count       = 3\n  floating_ip = openstack_networking_floatingip_v2.web_fip[count.index].address\n  instance_id = openstack_compute_instance_v2.web_servers[count.index].id\n}\n\n# \ubcfc\ub968\nresource \"openstack_blockstorage_volume_v3\" \"web_data\" {\n  count = 3\n  name  = \"web-data-${count.index + 1}\"\n  size  = 100\n}\n\nresource \"openstack_compute_volume_attach_v2\" \"web_vol_attach\" {\n  count       = 3\n  instance_id = openstack_compute_instance_v2.web_servers[count.index].id\n  volume_id   = openstack_blockstorage_volume_v3.web_data[count.index].id\n}\n\n# Output\noutput \"web_server_ips\" {\n  value = openstack_networking_floatingip_v2.web_fip[*].address\n}\n</code></pre>"},{"location":"computing-service/Ch1.OpenStack/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"computing-service/Ch1.OpenStack/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ol> <li>OpenStack 2025.1 (Epoxy) Documentation</li> <li>OpenStack Docs</li> <li>Nova Documentation</li> <li>Cinder Documentation</li> <li>Glance Documentation</li> <li> <p>Ironic Documentation</p> </li> <li> <p>Kolla-Ansible</p> </li> <li>Kolla-Ansible Documentation</li> <li>2025.1 Release Notes</li> <li> <p>Quick Start Guide</p> </li> <li> <p>API Reference</p> </li> <li>Nova API</li> <li>Cinder API</li> <li>Glance API</li> </ol>"},{"location":"computing-service/Ch1.OpenStack/#2025-best-practices","title":"2025 Best Practices","text":"<ol> <li>Ironic Common Considerations</li> <li>Pure Storage OpenStack Cinder Driver Best Practices</li> <li>Glance Image Cache for Cinder</li> </ol>"},{"location":"computing-service/Ch1.OpenStack/#_7","title":"\ud29c\ud1a0\ub9ac\uc5bc","text":"<ol> <li>Deploy Production Ready OpenStack Using Kolla Ansible</li> <li>Automated Multinode OpenStack Deployment</li> <li>OpenStack Cinder Comprehensive Guide</li> </ol>"},{"location":"computing-service/Ch1.OpenStack/#_8","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"computing-service/Ch1.OpenStack/#_9","title":"\uae30\ubcf8 \uac1c\ub150","text":"<ul> <li> OpenStack \uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \ubc0f \uc0c1\ud638\uc791\uc6a9 \uc774\ud574</li> <li> Keystone \uc778\uc99d \ud50c\ub85c\uc6b0 \uc774\ud574</li> <li> RabbitMQ\ub97c \ud1b5\ud55c RPC \ud1b5\uc2e0 \uc774\ud574</li> <li> Placement API\uc758 \uc5ed\ud560 \uc774\ud574</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#nova","title":"Nova","text":"<ul> <li> Nova \ucef4\ud3ec\ub10c\ud2b8 (API, Scheduler, Compute, Conductor) \uc5ed\ud560 \uc774\ud574</li> <li> \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \ud50c\ub85c\uc6b0 (11\ub2e8\uacc4) \uc774\ud574</li> <li> Nova Scheduler \ud544\ud130\ub9c1 \ubc0f \uac00\uc911\uce58 \uacc4\uc0b0</li> <li> Placement API\ub97c \ud1b5\ud55c \ub9ac\uc18c\uc2a4 \ucd94\uc801</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#cinder","title":"Cinder","text":"<ul> <li> Cinder \uc544\ud0a4\ud14d\ucc98 \ubc0f \ubcfc\ub968 \uc0dd\uc131 \ud50c\ub85c\uc6b0</li> <li> LVM, Ceph, NFS \ubc31\uc5d4\ub4dc \uc124\uc815</li> <li> \ubcfc\ub968 \ud0c0\uc785 \ubc0f \uba40\ud2f0 \ubc31\uc5d4\ub4dc \uad6c\uc131</li> <li> \ubcfc\ub968 \uc2a4\ub0c5\uc0f7 \ubc0f \ubc31\uc5c5</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#glance","title":"Glance","text":"<ul> <li> Glance \uc2a4\ud1a0\uc5b4 \ubc31\uc5d4\ub4dc (File, Swift, Ceph, Cinder)</li> <li> \uba40\ud2f0 \uc2a4\ud1a0\uc5b4 \uc124\uc815 (2025.1)</li> <li> Glance Image Cache for Cinder \ud65c\uc131\ud654</li> <li> \uc774\ubbf8\uc9c0 \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#ironic","title":"Ironic","text":"<ul> <li> Ironic \uc544\ud0a4\ud14d\ucc98 \ubc0f Nova \ud1b5\ud569 \ubc29\uc2dd</li> <li> IPMI/Redfish \ub4dc\ub77c\uc774\ubc84\ub97c \ud1b5\ud55c \ud558\ub4dc\uc6e8\uc5b4 \uad00\ub9ac</li> <li> \ubca0\uc5b4\uba54\ud0c8 \ud504\ub85c\ube44\uc800\ub2dd \ud50c\ub85c\uc6b0</li> <li> \ud504\ub85c\ube44\uc800\ub2dd \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#kolla-ansible","title":"Kolla-Ansible","text":"<ul> <li> Kolla-Ansible\uc744 \ud65c\uc6a9\ud55c All-in-One \ubc30\ud3ec</li> <li> \uba40\ud2f0\ub178\ub4dc HA \uad6c\uc131</li> <li> globals.yml \ubc0f inventory \uc124\uc815</li> <li> \ub864\ub9c1 \uc5c5\uadf8\ub808\uc774\ub4dc \ubc0f \uc7ac\uad6c\uc131</li> </ul>"},{"location":"computing-service/Ch1.OpenStack/#_10","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<ol> <li>Ch2.\uac00\uc0c1\ud654_\uae30\uc220.md</li> <li>KVM/QEMU \uc544\ud0a4\ud14d\ucc98 \uc2ec\ud654</li> <li>Linux Kernel \uac00\uc0c1\ud654 \uba54\ucee4\ub2c8\uc998</li> <li>CPU, \uba54\ubaa8\ub9ac, I/O \uac00\uc0c1\ud654</li> <li> <p>\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \ud29c\ub2dd</p> </li> <li> <p>\uc2ec\ud654 \uc8fc\uc81c</p> </li> <li>TripleO: OpenStack on OpenStack \ubc30\ud3ec</li> <li>OpenStack Federation: \uba40\ud2f0 \ub9ac\uc804 \ud1b5\ud569</li> <li> <p>Magnum: Container Orchestration (Kubernetes) as a Service</p> </li> <li> <p>\uc2e4\uc804 \ud504\ub85c\uc81d\ud2b8</p> </li> <li>\ud504\ub85c\ub355\uc158 \ud658\uacbd OpenStack \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95</li> <li>Ceph \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc \ud1b5\ud569</li> <li>Prometheus + Grafana \ubaa8\ub2c8\ud130\ub9c1 \uad6c\uc131</li> </ol> <p>\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: 2025-11-24 \ub2e4\uc74c \ucc55\ud130: Ch2.\uac00\uc0c1\ud654_\uae30\uc220.md</p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/","title":"Ch2. \uac00\uc0c1\ud654 \uae30\uc220 - KVM/QEMU \uc2ec\ud654","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\uac00\uc0c1\ud654\ub294 \ud074\ub77c\uc6b0\ub4dc \ucef4\ud4e8\ud305\uc758 \ud575\uc2ec \uae30\uc220\ub85c, \ubb3c\ub9ac \ud558\ub4dc\uc6e8\uc5b4\ub97c \ucd94\uc0c1\ud654\ud558\uc5ec \uc5ec\ub7ec \uac00\uc0c1 \uba38\uc2e0\uc774 \ud558\ub098\uc758 \ubb3c\ub9ac \uc11c\ubc84\uc5d0\uc11c \ub3c5\ub9bd\uc801\uc73c\ub85c \uc2e4\ud589\ub420 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4. \ubcf8 \uc7a5\uc5d0\uc11c\ub294 Linux \ucee4\ub110 \uae30\ubc18\uc758 \uac00\uc0c1\ud654 \uc194\ub8e8\uc158\uc778 KVM(Kernel-based Virtual Machine)\uacfc QEMU\uc758 \uc544\ud0a4\ud14d\ucc98\ub97c \uc2ec\uce35 \ubd84\uc11d\ud558\uace0, CPU, \uba54\ubaa8\ub9ac, I/O \uac00\uc0c1\ud654 \uba54\ucee4\ub2c8\uc998\uc744 \uc774\ud574\ud558\uba70, \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\uc758 \uc131\ub2a5 \ucd5c\uc801\ud654 \uae30\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, **QEMU 10.2**\uc640 **KVM**\uc740 Intel TDX, AMD SEV\ub97c \ud1b5\ud55c \uae30\ubc00 \ucef4\ud4e8\ud305(Confidential Computing), ARM \uc911\ucca9 \uac00\uc0c1\ud654 \uac1c\uc120, RISC-V \uc9c0\uc6d0 \ub4f1 \ucd5c\uc2e0 \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<ol> <li>KVM/QEMU \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>KVM\uacfc QEMU\uc758 \uc5ed\ud560 \ubc0f \uc0c1\ud638\uc791\uc6a9</li> <li>\ud558\ub4dc\uc6e8\uc5b4 \uac00\uc0c1\ud654 \ud655\uc7a5 (Intel VT-x, AMD-V)</li> <li> <p>Libvirt\ub97c \ud1b5\ud55c \uad00\ub9ac \uacc4\uce35</p> </li> <li> <p>CPU \uac00\uc0c1\ud654 \ub9c8\uc2a4\ud130\ud558\uae30</p> </li> <li>vCPU \uc2a4\ucf00\uc904\ub9c1 \ubc0f \uc624\ubc84\ucee4\ubc0b</li> <li>CPU \ud53c\ub2dd \ubc0f NUMA \uc778\uc2dd</li> <li> <p>CPU \ubaa8\ub378 \ubc0f \uae30\ub2a5 \ud50c\ub798\uadf8</p> </li> <li> <p>\uba54\ubaa8\ub9ac \uac00\uc0c1\ud654 \uc2ec\ud654</p> </li> <li>EPT/NPT\ub97c \ud1b5\ud55c 2\ub2e8\uacc4 \ud398\uc774\uc9c0 \ud14c\uc774\ube14</li> <li>Huge Pages (2MB, 1GB)</li> <li> <p>Memory Ballooning \ubc0f KSM</p> </li> <li> <p>I/O \uac00\uc0c1\ud654 \ubc0f \uc131\ub2a5 \ucd5c\uc801\ud654</p> </li> <li>VirtIO \ub4dc\ub77c\uc774\ubc84 (virtio-blk, virtio-scsi, virtio-net)</li> <li>VFIO \ubc0f SR-IOV for PCI \ud328\uc2a4\uc2a4\ub8e8</li> <li> <p>\ub514\uc2a4\ud06c I/O \uc2a4\ucf00\uc904\ub7ec \ud29c\ub2dd</p> </li> <li> <p>NUMA \uc544\ud0a4\ud14d\ucc98 \ubc0f \ucd5c\uc801\ud654</p> </li> <li>NUMA \ub178\ub4dc \ubc0f \uba54\ubaa8\ub9ac \uc9c0\uc5ed\uc131</li> <li>vCPU\uc640 \uba54\ubaa8\ub9ac\uc758 NUMA \uc815\ub82c</li> <li> <p>\uc131\ub2a5 \uc601\ud5a5 \ubd84\uc11d</p> </li> <li> <p>\ud504\ub85c\ub355\uc158 \uc131\ub2a5 \ud29c\ub2dd</p> </li> <li>\ubca4\uce58\ub9c8\ud0b9 \ubc0f \ubaa8\ub2c8\ud130\ub9c1</li> <li>\uc2e4\uc804 \ud29c\ub2dd \uccb4\ud06c\ub9ac\uc2a4\ud2b8</li> <li>\ud2b8\ub7ec\ube14\uc288\ud305</li> </ol>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#part-1-kvmqemu","title":"Part 1: KVM/QEMU \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#11-kvm-qemu","title":"1.1 KVM\uacfc QEMU\uc758 \uc5ed\ud560","text":"<p>KVM (Kernel-based Virtual Machine):</p> <ul> <li>Linux \ucee4\ub110 \ubaa8\ub4c8 (<code>kvm.ko</code>, <code>kvm-intel.ko</code>, <code>kvm-amd.ko</code>)</li> <li>\ud558\ub4dc\uc6e8\uc5b4 \uac00\uc0c1\ud654 \ud655\uc7a5 \ud65c\uc6a9 (Intel VT-x, AMD-V)</li> <li>CPU\uc640 \uba54\ubaa8\ub9ac \uac00\uc0c1\ud654 \uc81c\uacf5</li> <li>Type-1 Hypervisor\ub85c \ub3d9\uc791</li> </ul> <p>QEMU (Quick Emulator):</p> <ul> <li>\uc0ac\uc6a9\uc790 \uacf5\uac04 \ud504\ub85c\uc138\uc2a4</li> <li>I/O \uc7a5\uce58 \uc5d0\ubbac\ub808\uc774\uc158 (\ub514\uc2a4\ud06c, \ub124\ud2b8\uc6cc\ud06c, GPU \ub4f1)</li> <li>\ub3d9\uc801 \ubc14\uc774\ub108\ub9ac \ubcc0\ud658 (TCG - Tiny Code Generator)</li> <li>KVM\uacfc \ud568\uaed8 \uc0ac\uc6a9 \uc2dc \ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d \ud65c\uc6a9</li> </ul> <p>\ud1b5\ud569 \uc544\ud0a4\ud14d\ucc98: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Guest VM (Virtual Machine)           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502   Guest OS (Linux/Windows)                       \u2502   \u2502\n\u2502  \u2502   Applications                                   \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502         \u2502                                                \u2502\n\u2502         \u251c\u2500 vCPU \u2500\u2500\u2510                                      \u2502\n\u2502         \u251c\u2500 vMem \u2500\u2500\u253c\u2500 Virtualized Hardware              \u2502\n\u2502         \u2514\u2500 vI/O \u2500\u2500\u2518                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  KVM (Kernel Space)  \u2502       \u2502   QEMU (User Space)     \u2502\n\u2502  - CPU virtualization\u2502       \u2502  - Device emulation     \u2502\n\u2502  - Memory management \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2524  - I/O handling         \u2502\n\u2502  - /dev/kvm interface\u2502 ioctl \u2502  - VM process           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Linux Kernel (Host OS)                      \u2502\n\u2502  - Process Scheduler                                     \u2502\n\u2502  - Memory Manager                                        \u2502\n\u2502  - Hardware Drivers                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            Physical Hardware                             \u2502\n\u2502  - CPU (Intel VT-x / AMD-V)                              \u2502\n\u2502  - Memory (RAM)                                          \u2502\n\u2502  - I/O Devices (NIC, Disk, GPU)                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#12","title":"1.2 \ud558\ub4dc\uc6e8\uc5b4 \uac00\uc0c1\ud654 \ud655\uc7a5","text":"<p>Intel VT-x (Virtualization Technology):</p> <ul> <li>VMX (Virtual Machine Extensions): Root \ubaa8\ub4dc\uc640 Non-root \ubaa8\ub4dc</li> <li>EPT (Extended Page Tables): 2\ub2e8\uacc4 \uc8fc\uc18c \ubcc0\ud658</li> <li>VPID (Virtual Processor ID): TLB \ud0dc\uae45\uc73c\ub85c \ucee8\ud14d\uc2a4\ud2b8 \uc2a4\uc704\uce6d \ucd5c\uc801\ud654</li> <li>VT-d (I/O Virtualization): IOMMU\ub97c \ud1b5\ud55c DMA \ub9ac\ub9e4\ud551</li> </ul> <p>AMD-V (AMD Virtualization):</p> <ul> <li>SVM (Secure Virtual Machine): Host \ubaa8\ub4dc\uc640 Guest \ubaa8\ub4dc</li> <li>NPT (Nested Page Tables): EPT\uc640 \ub3d9\uc77c\ud55c 2\ub2e8\uacc4 \ud398\uc774\uc9c0 \ud14c\uc774\ube14</li> <li>ASID (Address Space Identifier): VPID\uc640 \ub3d9\uc77c</li> <li>AMD-Vi (IOMMU): VT-d\uc640 \ub3d9\uc77c</li> </ul> <p>\ud558\ub4dc\uc6e8\uc5b4 \uc9c0\uc6d0 \ud655\uc778: <pre><code># Intel VT-x \uc9c0\uc6d0 \ud655\uc778\ngrep -E 'vmx' /proc/cpuinfo\n\n# AMD-V \uc9c0\uc6d0 \ud655\uc778\ngrep -E 'svm' /proc/cpuinfo\n\n# KVM \ubaa8\ub4c8 \ub85c\ub4dc \ud655\uc778\nlsmod | grep kvm\n# kvm_intel (Intel)\n# kvm_amd (AMD)\n\n# /dev/kvm \uc7a5\uce58 \ud30c\uc77c \ud655\uc778\nls -l /dev/kvm\n# crw-rw-rw- 1 root kvm 10, 232 Nov 24 10:00 /dev/kvm\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#13-libvirt","title":"1.3 Libvirt \uad00\ub9ac \uacc4\uce35","text":"<p>Libvirt \uc544\ud0a4\ud14d\ucc98: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Management Tools                       \u2502\n\u2502  - virsh (CLI)                            \u2502\n\u2502  - virt-manager (GUI)                     \u2502\n\u2502  - OpenStack Nova                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 API\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          libvirtd (Daemon)                \u2502\n\u2502  - VM lifecycle management                \u2502\n\u2502  - XML-based configuration                \u2502\n\u2502  - Storage/Network pools                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 Driver Interface\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502          \u2502          \u2502          \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n\u2502 QEMU \u2502  \u2502  LXC  \u2502  \u2502  Xen  \u2502  \u2502 VMware\u2502\n\u2502Driver\u2502  \u2502Driver \u2502  \u2502Driver \u2502  \u2502Driver \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Libvirt XML \ub3c4\uba54\uc778 \uc815\uc758: <pre><code>&lt;domain type='kvm'&gt;\n  &lt;name&gt;test-vm&lt;/name&gt;\n  &lt;memory unit='GiB'&gt;4&lt;/memory&gt;\n  &lt;vcpu placement='static'&gt;2&lt;/vcpu&gt;\n\n  &lt;!-- CPU \uc124\uc815 --&gt;\n  &lt;cpu mode='host-passthrough' check='none'&gt;\n    &lt;topology sockets='1' dies='1' cores='2' threads='1'/&gt;\n    &lt;numa&gt;\n      &lt;cell id='0' cpus='0-1' memory='4' unit='GiB'/&gt;\n    &lt;/numa&gt;\n  &lt;/cpu&gt;\n\n  &lt;!-- OS \ubd80\ud305 --&gt;\n  &lt;os&gt;\n    &lt;type arch='x86_64' machine='pc-q35-7.2'&gt;hvm&lt;/type&gt;\n    &lt;boot dev='hd'/&gt;\n  &lt;/os&gt;\n\n  &lt;!-- \ub514\uc2a4\ud06c --&gt;\n  &lt;devices&gt;\n    &lt;disk type='file' device='disk'&gt;\n      &lt;driver name='qemu' type='qcow2' cache='none' io='native'/&gt;\n      &lt;source file='/var/lib/libvirt/images/test-vm.qcow2'/&gt;\n      &lt;target dev='vda' bus='virtio'/&gt;\n    &lt;/disk&gt;\n\n    &lt;!-- \ub124\ud2b8\uc6cc\ud06c --&gt;\n    &lt;interface type='network'&gt;\n      &lt;source network='default'/&gt;\n      &lt;model type='virtio'/&gt;\n    &lt;/interface&gt;\n\n    &lt;!-- VNC \ucf58\uc194 --&gt;\n    &lt;graphics type='vnc' port='-1' autoport='yes' listen='0.0.0.0'/&gt;\n  &lt;/devices&gt;\n&lt;/domain&gt;\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#part-2-cpu","title":"Part 2: CPU \uac00\uc0c1\ud654","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#21-vcpu-cpu","title":"2.1 vCPU\uc640 \ubb3c\ub9ac CPU \ub9e4\ud551","text":"<p>vCPU \uc2a4\ucf00\uc904\ub9c1: KVM\uc5d0\uc11c \uac01 vCPU\ub294 Linux \ucee4\ub110\uc758 \uc77c\ubc18 \ud504\ub85c\uc138\uc2a4 \uc2a4\ub808\ub4dc\ub85c \uad6c\ud604\ub429\ub2c8\ub2e4. CFS (Completely Fair Scheduler)\uac00 vCPU \uc2a4\ub808\ub4dc\ub97c \uc2a4\ucf00\uc904\ub9c1\ud569\ub2c8\ub2e4.</p> <pre><code># QEMU \ud504\ub85c\uc138\uc2a4 \ubc0f vCPU \uc2a4\ub808\ub4dc \ud655\uc778\nps -eLf | grep qemu-system-x86_64\n\n# \uc608\uc2dc \ucd9c\ub825:\n# qemu      1234  1233  1234  ... qemu-system-x86_64 (main thread)\n# qemu      1234  1233  1235  ... CPU 0/KVM          (vCPU 0)\n# qemu      1234  1233  1236  ... CPU 1/KVM          (vCPU 1)\n</code></pre>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#22-cpu","title":"2.2 CPU \uc624\ubc84\ucee4\ubc0b","text":"<p>\uc624\ubc84\ucee4\ubc0b \ube44\uc728: <pre><code>vCPU \uc624\ubc84\ucee4\ubc0b \ube44\uc728 = (\ucd1d vCPU \uc218) / (\ubb3c\ub9ac CPU \ucf54\uc5b4 \uc218)\n\n\uc608\uc2dc:\n\n- \ubb3c\ub9ac CPU: 32 cores\n- VM 1: 8 vCPUs\n- VM 2: 8 vCPUs\n- VM 3: 8 vCPUs\n- VM 4: 8 vCPUs\n- \uc624\ubc84\ucee4\ubc0b \ube44\uc728 = 32 / 32 = 1:1 (\uc774\uc0c1\uc801)\n\n\uc624\ubc84\ucee4\ubc0b (aggressive):\n\n- \ubb3c\ub9ac CPU: 32 cores\n- VM 10\uac1c x 8 vCPUs = 80 vCPUs\n- \uc624\ubc84\ucee4\ubc0b \ube44\uc728 = 80 / 32 = 2.5:1\n</code></pre></p> <p>\uad8c\uc7a5\uc0ac\ud56d:</p> <ul> <li>\ud504\ub85c\ub355\uc158: 1:1 ~ 2:1</li> <li>\uac1c\ubc1c/\ud14c\uc2a4\ud2b8: 4:1 ~ 8:1</li> <li>VDI (Virtual Desktop): 8:1 ~ 16:1 (CPU idle\uc774 \ub192\uc74c)</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#23-cpu-pinning","title":"2.3 CPU \ud53c\ub2dd (Pinning)","text":"<p>CPU \ud53c\ub2dd\uc758 \uc7a5\uc810:</p> <ul> <li>L1/L2/L3 \uce90\uc2dc \uc9c0\uc5ed\uc131 \ud5a5\uc0c1</li> <li>NUMA \ub178\ub4dc \uacbd\uacc4 \uad50\ucc28 \ubc29\uc9c0</li> <li>\uc608\uce21 \uac00\ub2a5\ud55c \uc131\ub2a5</li> </ul> <p>Libvirt\ub97c \ud1b5\ud55c CPU \ud53c\ub2dd: <pre><code>&lt;domain type='kvm'&gt;\n  &lt;vcpu placement='static'&gt;4&lt;/vcpu&gt;\n  &lt;cputune&gt;\n    &lt;!-- vCPU 0 \u2192 Physical CPU 4 --&gt;\n    &lt;vcpupin vcpu='0' cpuset='4'/&gt;\n    &lt;!-- vCPU 1 \u2192 Physical CPU 5 --&gt;\n    &lt;vcpupin vcpu='1' cpuset='5'/&gt;\n    &lt;!-- vCPU 2 \u2192 Physical CPU 6 --&gt;\n    &lt;vcpupin vcpu='2' cpuset='6'/&gt;\n    &lt;!-- vCPU 3 \u2192 Physical CPU 7 --&gt;\n    &lt;vcpupin vcpu='3' cpuset='7'/&gt;\n\n    &lt;!-- Emulator \uc2a4\ub808\ub4dc \ud53c\ub2dd --&gt;\n    &lt;emulatorpin cpuset='0-1'/&gt;\n\n    &lt;!-- I/O \uc2a4\ub808\ub4dc \ud53c\ub2dd --&gt;\n    &lt;iothreadpin iothread='1' cpuset='2-3'/&gt;\n  &lt;/cputune&gt;\n&lt;/domain&gt;\n</code></pre></p> <p>virsh\ub97c \ud1b5\ud55c \ub3d9\uc801 \ud53c\ub2dd: <pre><code># vCPU 0\uc744 \ubb3c\ub9ac CPU 4\uc5d0 \ud53c\ub2dd\nvirsh vcpupin test-vm 0 4\n\n# \ud604\uc7ac \ud53c\ub2dd \uc0c1\ud0dc \ud655\uc778\nvirsh vcpuinfo test-vm\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#24-cpu","title":"2.4 CPU \ubaa8\ub378 \ubc0f \uae30\ub2a5 \ud50c\ub798\uadf8","text":"<p>CPU \ubaa8\ub4dc:</p> <ul> <li>host-passthrough: \ud638\uc2a4\ud2b8 CPU \uadf8\ub300\ub85c \ub178\ucd9c (\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc81c\uc57d)</li> <li>host-model: \ud638\uc2a4\ud2b8 CPU\uc640 \uc720\uc0ac\ud55c \ubaa8\ub378 (\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uac00\ub2a5)</li> <li>custom: \ud2b9\uc815 CPU \ubaa8\ub378 \uc9c0\uc815</li> </ul> <pre><code>&lt;!-- host-passthrough: \ucd5c\uace0 \uc131\ub2a5 --&gt;\n&lt;cpu mode='host-passthrough' check='none'/&gt;\n\n&lt;!-- host-model: \uade0\ud615 --&gt;\n&lt;cpu mode='host-model' check='partial'&gt;\n  &lt;feature policy='require' name='vmx'/&gt;  &lt;!-- Nested virtualization --&gt;\n&lt;/cpu&gt;\n\n&lt;!-- custom: \ud638\ud658\uc131 --&gt;\n&lt;cpu mode='custom' match='exact' check='partial'&gt;\n  &lt;model fallback='allow'&gt;Skylake-Server&lt;/model&gt;\n  &lt;feature policy='require' name='avx2'/&gt;\n  &lt;feature policy='disable' name='mpx'/&gt;\n&lt;/cpu&gt;\n</code></pre> <p>\uc0ac\uc6a9 \uac00\ub2a5\ud55c CPU \ubaa8\ub378 \ud655\uc778: <pre><code># QEMU\uac00 \uc9c0\uc6d0\ud558\ub294 \ubaa8\ub4e0 CPU \ubaa8\ub378\nqemu-system-x86_64 -cpu help\n\n# Libvirt\uac00 \uc778\uc2dd\ud558\ub294 CPU \ubaa8\ub378\nvirsh cpu-models x86_64\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#part-3","title":"Part 3: \uba54\ubaa8\ub9ac \uac00\uc0c1\ud654","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#31-2-eptnpt","title":"3.1 2\ub2e8\uacc4 \ud398\uc774\uc9c0 \ud14c\uc774\ube14 (EPT/NPT)","text":"<p>\uc804\ud1b5\uc801\uc778 Shadow Page Table vs EPT/NPT:</p> <p>Shadow Page Table (\ud558\ub4dc\uc6e8\uc5b4 \uac00\uc0c1\ud654 \uc774\uc804): <pre><code>Guest Virtual Address (GVA)\n    \u2502\n    \u25bc (Guest Page Table - \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uad00\ub9ac)\nGuest Physical Address (GPA)\n    \u2502\n    \u25bc (Shadow Page Table - Hypervisor \uad00\ub9ac)\nHost Physical Address (HPA)\n\n\ubb38\uc81c\uc810: \ub9e4 Guest \ud398\uc774\uc9c0 \ud14c\uc774\ube14 \ubcc0\uacbd \uc2dc VM Exit \ubc1c\uc0dd \u2192 \uc131\ub2a5 \uc800\ud558\n</code></pre></p> <p>EPT/NPT (\ud558\ub4dc\uc6e8\uc5b4 2\ub2e8\uacc4 \ubcc0\ud658): <pre><code>Guest Virtual Address (GVA)\n    \u2502\n    \u25bc (Guest Page Table - Guest OS \uad00\ub9ac)\nGuest Physical Address (GPA)\n    \u2502\n    \u25bc (EPT/NPT - \ud558\ub4dc\uc6e8\uc5b4 MMU)\nHost Physical Address (HPA)\n\n\uc7a5\uc810: VM Exit \uac10\uc18c, \ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d \ubcc0\ud658\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#32-huge-pages","title":"3.2 Huge Pages","text":"<p>Huge Pages\uc758 \uc774\uc810:</p> <ul> <li>TLB Miss \uac10\uc18c: \ub354 \ub9ce\uc740 \uba54\ubaa8\ub9ac\ub97c \ub354 \uc801\uc740 TLB \uc5d4\ud2b8\ub9ac\ub85c \ucee4\ubc84</li> <li>\ud398\uc774\uc9c0 \ud14c\uc774\ube14 \uc624\ubc84\ud5e4\ub4dc \uac10\uc18c: \ud398\uc774\uc9c0 \ud14c\uc774\ube14 \ud06c\uae30 \ucd95\uc18c</li> <li>\uc131\ub2a5 \ud5a5\uc0c1: \ub300\uc6a9\ub7c9 \uba54\ubaa8\ub9ac \uc6cc\ud06c\ub85c\ub4dc\uc5d0\uc11c 5-20% \uc131\ub2a5 \ud5a5\uc0c1</li> </ul> <p>Huge Pages \ud0c0\uc785:</p> <ul> <li>2MB Huge Pages: \uc77c\ubc18\uc801\uc73c\ub85c \uc0ac\uc6a9</li> <li>1GB Huge Pages: \ub300\uc6a9\ub7c9 \uba54\ubaa8\ub9ac (128GB+) VM\uc5d0 \uad8c\uc7a5</li> </ul> <p>\ud638\uc2a4\ud2b8 \uc124\uc815: <pre><code># 1. Huge Pages \ud560\ub2f9 (2MB)\n# \ucd1d \uba54\ubaa8\ub9ac\uc758 80-90% \ud560\ub2f9 \uad8c\uc7a5\necho 20480 &gt; /proc/sys/vm/nr_hugepages  # 20480 * 2MB = 40GB\n\n# \uc601\uad6c \uc124\uc815 (\uc7ac\ubd80\ud305 \ud6c4\uc5d0\ub3c4 \uc720\uc9c0)\ncat &gt;&gt; /etc/sysctl.conf &lt;&lt;EOF\nvm.nr_hugepages = 20480\nvm.hugetlb_shm_group = 36  # kvm \uadf8\ub8f9 GID\nEOF\n\nsysctl -p\n\n# 2. 1GB Huge Pages \ud560\ub2f9 (\ubd80\ud305 \uc2dc)\n# /etc/default/grub \uc218\uc815\nGRUB_CMDLINE_LINUX=\"default_hugepagesz=1G hugepagesz=1G hugepages=32\"\n\n# GRUB \uc5c5\ub370\uc774\ud2b8\nupdate-grub\nreboot\n\n# 3. Huge Pages \ud655\uc778\ncat /proc/meminfo | grep -i huge\n# HugePages_Total:   20480\n# HugePages_Free:    18432\n# HugePages_Rsvd:        0\n# HugePages_Surp:        0\n# Hugepagesize:       2048 kB\n\n# 4. Huge Pages \ub9c8\uc6b4\ud2b8\nmkdir -p /dev/hugepages\nmount -t hugetlbfs hugetlbfs /dev/hugepages\n\n# /etc/fstab\uc5d0 \ucd94\uac00\necho \"hugetlbfs /dev/hugepages hugetlbfs defaults 0 0\" &gt;&gt; /etc/fstab\n</code></pre></p> <p>Libvirt\uc5d0\uc11c Huge Pages \uc0ac\uc6a9: <pre><code>&lt;domain type='kvm'&gt;\n  &lt;memory unit='GiB'&gt;16&lt;/memory&gt;\n  &lt;memoryBacking&gt;\n    &lt;!-- 2MB Huge Pages --&gt;\n    &lt;hugepages&gt;\n      &lt;page size='2' unit='M'/&gt;\n    &lt;/hugepages&gt;\n\n    &lt;!-- 1GB Huge Pages --&gt;\n    &lt;!-- &lt;page size='1' unit='G'/&gt; --&gt;\n\n    &lt;!-- Memory \uc7a0\uae08 (swap \ubc29\uc9c0) --&gt;\n    &lt;locked/&gt;\n  &lt;/memoryBacking&gt;\n&lt;/domain&gt;\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#33-memory-ballooning","title":"3.3 Memory Ballooning","text":"<p>Ballooning \uac1c\ub150: \ud638\uc2a4\ud2b8\uac00 \uba54\ubaa8\ub9ac \uc555\ubc15\uc744 \ubc1b\uc744 \ub54c, Guest\uc5d0\uac8c \uba54\ubaa8\ub9ac \ubc18\ud658\uc744 \uc694\uccad\ud558\ub294 \uba54\ucee4\ub2c8\uc998\uc785\ub2c8\ub2e4.</p> <pre><code># virtio-balloon \ub4dc\ub77c\uc774\ubc84 \ud655\uc778 (Guest)\nlsmod | grep virtio_balloon\n\n# \ub3d9\uc801 \uba54\ubaa8\ub9ac \uc870\uc815 (Host)\nvirsh setmem test-vm 2G --live\n\n# \ud604\uc7ac \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 \ud655\uc778\nvirsh dominfo test-vm | grep -i memory\n</code></pre> <p>Libvirt \uc124\uc815: <pre><code>&lt;devices&gt;\n  &lt;memballoon model='virtio'&gt;\n    &lt;stats period='10'/&gt;  &lt;!-- 10\ucd08\ub9c8\ub2e4 \ud1b5\uacc4 \uc218\uc9d1 --&gt;\n  &lt;/memballoon&gt;\n&lt;/devices&gt;\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#34-ksm-kernel-same-page-merging","title":"3.4 KSM (Kernel Same-page Merging)","text":"<p>KSM \ub3d9\uc791: \ub3d9\uc77c\ud55c \ub0b4\uc6a9\uc758 \uba54\ubaa8\ub9ac \ud398\uc774\uc9c0\ub97c \ud558\ub098\ub85c \ud569\uccd0 \uba54\ubaa8\ub9ac \uc808\uc57d (Copy-on-Write).</p> <p>KSM \ud65c\uc131\ud654: <pre><code># KSM \ud65c\uc131\ud654\necho 1 &gt; /sys/kernel/mm/ksm/run\n\n# \uc2a4\uce94 \ud30c\ub77c\ubbf8\ud130 \uc870\uc815\necho 100 &gt; /sys/kernel/mm/ksm/sleep_millisecs  # \uc2a4\uce94 \uac04\uaca9\necho 1000 &gt; /sys/kernel/mm/ksm/pages_to_scan   # \uc2a4\uce94\ud560 \ud398\uc774\uc9c0 \uc218\n\n# KSM \ud1b5\uacc4\ncat /sys/kernel/mm/ksm/pages_sharing\ncat /sys/kernel/mm/ksm/pages_shared\n</code></pre></p> <p>\uc8fc\uc758\uc0ac\ud56d:</p> <ul> <li>CPU \uc624\ubc84\ud5e4\ub4dc \ubc1c\uc0dd (\uc2a4\uce94 \ube44\uc6a9)</li> <li>\ubcf4\uc548 \uace0\ub824\uc0ac\ud56d (side-channel \uacf5\uaca9 \uac00\ub2a5\uc131)</li> <li>\ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c\ub294 \uc2e0\uc911\ud558\uac8c \uc0ac\uc6a9</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#part-4-io","title":"Part 4: I/O \uac00\uc0c1\ud654","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#41-virtio","title":"4.1 VirtIO \uc544\ud0a4\ud14d\ucc98","text":"<p>VirtIO\ub780? KVM \ud658\uacbd\uc5d0\uc11c \ucd5c\uc801\ud654\ub41c \ubc18\uac00\uc0c1\ud654(Paravirtualization) I/O \ub4dc\ub77c\uc774\ubc84\uc785\ub2c8\ub2e4.</p> <p>VirtIO \uad6c\uc870: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Guest OS                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  VirtIO Frontend Driver        \u2502  \u2502\n\u2502  \u2502  (virtio-blk, virtio-net, ...) \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502               \u2502 virtqueue             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502 (Shared Memory)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  QEMU (Host)                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  VirtIO Backend                \u2502  \u2502\n\u2502  \u2502  (handles I/O requests)        \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Physical Device (Disk/NIC)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#42-disk-io-virtio-blk-vs-virtio-scsi","title":"4.2 Disk I/O - virtio-blk vs virtio-scsi","text":"<p>\ube44\uad50\ud45c (2025 Best Practice):</p> \ud2b9\uc9d5 virtio-blk virtio-scsi \uc131\ub2a5 \ub192\uc74c (\ub0ae\uc740 \ub808\uc774\ud134\uc2dc) \ub9e4\uc6b0 \ub192\uc74c (\uace0\ubd80\ud558) Queue Depth \uc81c\ud55c\uc801 \uae4a\uc74c (\uace0\ubd80\ud558 \uc720\ub9ac) TRIM/UNMAP \uc81c\ud55c\uc801 \uc644\uc804 \uc9c0\uc6d0 (SSD \ud544\uc218) \ub514\uc2a4\ud06c \uc218 \uc81c\ud55c (26\uac1c) \ubb34\uc81c\ud55c \uc0ac\uc6a9 \uc0ac\ub840 \uc6f9\uc11c\ubc84, \ud30c\uc77c\uc11c\ubc84 DB, \uba54\uc77c\uc11c\ubc84, I/O \uc9d1\uc57d\uc801 <p>virtio-blk \uc124\uc815: <pre><code>&lt;disk type='file' device='disk'&gt;\n  &lt;driver name='qemu' type='qcow2' cache='none' io='native' discard='unmap'/&gt;\n  &lt;source file='/var/lib/libvirt/images/vm.qcow2'/&gt;\n  &lt;target dev='vda' bus='virtio'/&gt;\n&lt;/disk&gt;\n</code></pre></p> <p>virtio-scsi \uc124\uc815 (\uad8c\uc7a5): <pre><code>&lt;!-- SCSI \ucee8\ud2b8\ub864\ub7ec \uc815\uc758 --&gt;\n&lt;controller type='scsi' index='0' model='virtio-scsi'&gt;\n  &lt;driver queues='4' iothread='1'/&gt;\n&lt;/controller&gt;\n\n&lt;!-- \ub514\uc2a4\ud06c --&gt;\n&lt;disk type='file' device='disk'&gt;\n  &lt;driver name='qemu' type='qcow2' cache='none' io='native' discard='unmap'/&gt;\n  &lt;source file='/var/lib/libvirt/images/vm.qcow2'/&gt;\n  &lt;target dev='sda' bus='scsi'/&gt;\n&lt;/disk&gt;\n</code></pre></p> <p>\uce90\uc2dc \ubaa8\ub4dc:</p> <ul> <li>none: Write-through, O_DIRECT (\uc548\uc804, \uc131\ub2a5 \uc591\ud638) \u2190 \uad8c\uc7a5</li> <li>writethrough: Write-through, \uce90\uc2dc \uc0ac\uc6a9 (\uc548\uc804, \ub290\ub9bc)</li> <li>writeback: Write-back (\ube60\ub984, \ub370\uc774\ud130 \uc190\uc2e4 \uc704\ud5d8)</li> <li>directsync: O_DIRECT + O_SYNC (\uac00\uc7a5 \uc548\uc804, \ub290\ub9bc)</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#43-network-io-virtio-net","title":"4.3 Network I/O - virtio-net","text":"<p>virtio-net \uc131\ub2a5 \ucd5c\uc801\ud654: <pre><code>&lt;interface type='network'&gt;\n  &lt;source network='default'/&gt;\n  &lt;model type='virtio'/&gt;\n\n  &lt;!-- Multi-queue \ud65c\uc131\ud654 (vCPU \uc218\ub9cc\ud07c) --&gt;\n  &lt;driver name='vhost' queues='4' txmode='iothread' ioeventfd='on'/&gt;\n\n  &lt;!-- vhost-net \uc0ac\uc6a9 (\ucee4\ub110 \uacf5\uac04\uc5d0\uc11c \ub124\ud2b8\uc6cc\ud06c \ucc98\ub9ac) --&gt;\n  &lt;backend tap='/dev/net/tun' vhost='/dev/vhost-net'/&gt;\n&lt;/interface&gt;\n</code></pre></p> <p>Guest \ub0b4\ubd80 \ucd5c\uc801\ud654: <pre><code># Multi-queue \ud655\uc778 (Guest)\nethtool -l eth0\n\n# IRQ \ubd84\uc0b0 (\uac01 queue\ub97c \ub2e4\ub978 vCPU\uc5d0)\necho 1 &gt; /proc/irq/30/smp_affinity\necho 2 &gt; /proc/irq/31/smp_affinity\necho 4 &gt; /proc/irq/32/smp_affinity\necho 8 &gt; /proc/irq/33/smp_affinity\n\n# TSO/GSO \ud65c\uc131\ud654 (Offload)\nethtool -K eth0 tso on gso on gro on\n</code></pre></p> <p>Jumbo Frames (MTU 9000): <pre><code># Host \ube0c\ub9ac\uc9c0\nip link set br0 mtu 9000\n\n# Guest\nip link set eth0 mtu 9000\n\n# \uc131\ub2a5 \ud5a5\uc0c1: 3.6 Gbps \u2192 9.4 Gbps (\uc798\ubabb\ub41c \uc124\uc815 vs \uc62c\ubc14\ub978 \uc124\uc815)\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#44-vfio-pci","title":"4.4 VFIO \ubc0f PCI \ud328\uc2a4\uc2a4\ub8e8","text":"<p>VFIO (Virtual Function I/O): \ud558\ub4dc\uc6e8\uc5b4 \uc7a5\uce58\ub97c \uc9c1\uc811 Guest\uc5d0 \ud560\ub2f9\ud558\uc5ec \ub124\uc774\ud2f0\ube0c\uc5d0 \uac00\uae4c\uc6b4 \uc131\ub2a5\uc744 \uc5bb\uc2b5\ub2c8\ub2e4.</p> <p>\uc0ac\uc6a9 \uc0ac\ub840:</p> <ul> <li>GPU \ud328\uc2a4\uc2a4\ub8e8 (NVIDIA, AMD)</li> <li>\uace0\uc131\ub2a5 NIC (10GbE, 100GbE)</li> <li>NVME SSD</li> </ul> <p>VFIO \uc124\uc815: <pre><code># 1. IOMMU \ud65c\uc131\ud654 (/etc/default/grub)\n# Intel\nGRUB_CMDLINE_LINUX=\"intel_iommu=on iommu=pt\"\n\n# AMD\nGRUB_CMDLINE_LINUX=\"amd_iommu=on iommu=pt\"\n\nupdate-grub\nreboot\n\n# 2. IOMMU \uadf8\ub8f9 \ud655\uc778\nfor d in /sys/kernel/iommu_groups/*/devices/*; do\n  n=${d#*/iommu_groups/*}\n  n=${n%%/*}\n  printf 'IOMMU Group %s ' \"$n\"\n  lspci -nns \"${d##*/}\"\ndone\n\n# 3. \uc7a5\uce58 \ubc14\uc778\ub529\n# PCI \uc8fc\uc18c \ud655\uc778\nlspci | grep -i nvidia\n# 01:00.0 VGA compatible controller: NVIDIA Corporation\n\n# vfio-pci \ub4dc\ub77c\uc774\ubc84\uc5d0 \ubc14\uc778\ub529\necho \"10de 1b80\" &gt; /sys/bus/pci/drivers/vfio-pci/new_id\necho \"0000:01:00.0\" &gt; /sys/bus/pci/devices/0000:01:00.0/driver/unbind\necho \"0000:01:00.0\" &gt; /sys/bus/pci/drivers/vfio-pci/bind\n</code></pre></p> <p>Libvirt \uc124\uc815: <pre><code>&lt;hostdev mode='subsystem' type='pci' managed='yes'&gt;\n  &lt;source&gt;\n    &lt;address domain='0x0000' bus='0x01' slot='0x00' function='0x0'/&gt;\n  &lt;/source&gt;\n  &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x05' function='0x0'/&gt;\n&lt;/hostdev&gt;\n</code></pre></p> <p>SR-IOV (Single Root I/O Virtualization): <pre><code># NIC SR-IOV VF \uc0dd\uc131\necho 4 &gt; /sys/class/net/ens1f0/device/sriov_numvfs\n\n# VF \ud655\uc778\nlspci | grep -i virtual\n# 01:10.0 Ethernet controller: Intel Corporation 82576 Virtual Function\n# 01:10.1 Ethernet controller: Intel Corporation 82576 Virtual Function\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#part-5-numa","title":"Part 5: NUMA \uc544\ud0a4\ud14d\ucc98 \ubc0f \ucd5c\uc801\ud654","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#51-numa","title":"5.1 NUMA \uac1c\ub150","text":"<p>NUMA (Non-Uniform Memory Access): \uba40\ud2f0 \uc18c\ucf13 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uac01 CPU\uac00 \ub85c\uceec \uba54\ubaa8\ub9ac\uc5d0 \ube60\ub974\uac8c \uc811\uadfc\ud558\uace0, \uc6d0\uaca9 \uba54\ubaa8\ub9ac\uc5d0\ub294 \ub290\ub9ac\uac8c \uc811\uadfc\ud558\ub294 \uad6c\uc870\uc785\ub2c8\ub2e4.</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  NUMA Node 0                    NUMA Node 1             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502  CPU 0-15  \u2502                 \u2502 CPU 16-31  \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502         \u2502 (Fast - Local)               \u2502                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502  Memory    \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502  Memory    \u2502          \u2502\n\u2502  \u2502  64GB      \u2502  (Slow - Remote)\u2502  64GB      \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2502                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502\n\u2502  \u2502  NIC 0     \u2502                 \u2502   NIC 1    \u2502          \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc131\ub2a5 \ucc28\uc774:\n\n- \ub85c\uceec \uba54\ubaa8\ub9ac \uc811\uadfc: 100 ns\n- \uc6d0\uaca9 \uba54\ubaa8\ub9ac \uc811\uadfc: 200-300 ns (2-3\ubc30 \ub290\ub9bc)\n</code></pre>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#52-numa","title":"5.2 NUMA \ud1a0\ud3f4\ub85c\uc9c0 \ud655\uc778","text":"<pre><code># NUMA \ub178\ub4dc \ud655\uc778\nnumactl --hardware\n\n# \ucd9c\ub825 \uc608\uc2dc:\n# available: 2 nodes (0-1)\n# node 0 cpus: 0 1 2 3 4 5 6 7 16 17 18 19 20 21 22 23\n# node 0 size: 65536 MB\n# node 0 free: 45123 MB\n# node 1 cpus: 8 9 10 11 12 13 14 15 24 25 26 27 28 29 30 31\n# node 1 size: 65536 MB\n# node 1 free: 52341 MB\n# node distances:\n# node   0   1\n#   0:  10  21\n#   1:  21  10\n\n# lstopo (hwloc)\nlstopo --no-io --no-legend\n</code></pre>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#53-vm-numa-best-practice","title":"5.3 VM\uc758 NUMA \uc815\ub82c (Best Practice)","text":"<p>\ud575\uc2ec \uc6d0\uce59: 1. vCPU\uc640 \uba54\ubaa8\ub9ac\ub97c \ub3d9\uc77c\ud55c NUMA \ub178\ub4dc\uc5d0 \ubc30\uce58 2. \ubb3c\ub9ac NIC\ub3c4 \ub3d9\uc77c\ud55c NUMA \ub178\ub4dc \uc0ac\uc6a9 3. NUMA \uacbd\uacc4\ub97c \uc808\ub300 \ub118\uc9c0 \uc54a\uae30</p> <p>Libvirt NUMA \uc124\uc815: <pre><code>&lt;domain type='kvm'&gt;\n  &lt;vcpu placement='static'&gt;8&lt;/vcpu&gt;\n  &lt;cpu mode='host-passthrough'&gt;\n    &lt;numa&gt;\n      &lt;!-- VM\uc758 NUMA Node 0 \u2192 Host NUMA Node 0 --&gt;\n      &lt;cell id='0' cpus='0-7' memory='32' unit='GiB' memAccess='shared'/&gt;\n    &lt;/numa&gt;\n  &lt;/cpu&gt;\n\n  &lt;numatune&gt;\n    &lt;!-- \uba54\ubaa8\ub9ac\ub97c Host NUMA Node 0\uc5d0\ub9cc \ud560\ub2f9 --&gt;\n    &lt;memory mode='strict' nodeset='0'/&gt;\n    &lt;memnode cellid='0' mode='strict' nodeset='0'/&gt;\n  &lt;/numatune&gt;\n\n  &lt;cputune&gt;\n    &lt;!-- vCPU 0-7 \u2192 Physical CPU 0-7 (NUMA Node 0) --&gt;\n    &lt;vcpupin vcpu='0' cpuset='0'/&gt;\n    &lt;vcpupin vcpu='1' cpuset='1'/&gt;\n    &lt;vcpupin vcpu='2' cpuset='2'/&gt;\n    &lt;vcpupin vcpu='3' cpuset='3'/&gt;\n    &lt;vcpupin vcpu='4' cpuset='4'/&gt;\n    &lt;vcpupin vcpu='5' cpuset='5'/&gt;\n    &lt;vcpupin vcpu='6' cpuset='6'/&gt;\n    &lt;vcpupin vcpu='7' cpuset='7'/&gt;\n  &lt;/cputune&gt;\n&lt;/domain&gt;\n</code></pre></p> <p>\uc798\ubabb\ub41c \uc608 (NUMA \uacbd\uacc4 \uad50\ucc28): <pre><code>&lt;!-- \u274c BAD: vCPU\uac00 \ub450 NUMA \ub178\ub4dc\uc5d0 \uac78\uccd0 \uc788\uc74c --&gt;\n&lt;numa&gt;\n  &lt;cell id='0' cpus='0-3' memory='16' unit='GiB'/&gt;\n  &lt;cell id='1' cpus='4-7' memory='16' unit='GiB'/&gt;\n&lt;/numa&gt;\n\n&lt;!-- vCPU 0-3\uc740 NUMA 0, vCPU 4-7\uc740 NUMA 1 \u2192 \uc6d0\uaca9 \uba54\ubaa8\ub9ac \uc811\uadfc \ubc1c\uc0dd --&gt;\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#54-numa","title":"5.4 NUMA \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1","text":"<pre><code># VM\uc758 NUMA \ud1b5\uacc4\nvirsh numatune test-vm\n\n# NUMA \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9\nnumastat\n\n# Per-VM NUMA \ud1b5\uacc4\nnumastat -c qemu-system-x86\n\n# \uc6d0\uaca9 \uba54\ubaa8\ub9ac \uc811\uadfc \ud655\uc778 (numa_miss, numa_foreign)\nnumastat -p $(pgrep -f test-vm)\n</code></pre>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#part-6","title":"Part 6: \ud504\ub85c\ub355\uc158 \uc131\ub2a5 \ud29c\ub2dd","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#61","title":"6.1 \uc885\ud569 \ud29c\ub2dd \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\u2705 CPU:</p> <ul> <li> CPU \ud53c\ub2dd \uc124\uc815 (vCPU \u2192 Physical CPU)</li> <li> Emulator \ubc0f I/O \uc2a4\ub808\ub4dc \uc804\uc6a9 CPU \ud560\ub2f9</li> <li> NUMA \uacbd\uacc4 \uad50\ucc28 \ubc29\uc9c0</li> <li> CPU \ubaa8\ub378: host-passthrough (\uc131\ub2a5) \ub610\ub294 host-model (\ub9c8\uc774\uadf8\ub808\uc774\uc158)</li> <li> \uc624\ubc84\ucee4\ubc0b \ube44\uc728: \ud504\ub85c\ub355\uc158 1:1 ~ 2:1</li> </ul> <p>\u2705 Memory:</p> <ul> <li> Huge Pages \ud65c\uc131\ud654 (2MB \ub610\ub294 1GB)</li> <li> \uba54\ubaa8\ub9ac \uc7a0\uae08 (locked) - swap \ubc29\uc9c0</li> <li> NUMA \uba54\ubaa8\ub9ac \uc815\ub82c (strict mode)</li> <li> Memory Ballooning \ube44\ud65c\uc131\ud654 (\uc131\ub2a5 \uc911\uc2dc)</li> <li> KSM \ube44\ud65c\uc131\ud654 (CPU \uc624\ubc84\ud5e4\ub4dc \ud68c\ud53c)</li> </ul> <p>\u2705 Disk I/O:</p> <ul> <li> virtio-scsi \uc0ac\uc6a9 (DB, I/O \uc9d1\uc57d\uc801)</li> <li> Cache mode: none + io=native</li> <li> discard=unmap (SSD TRIM \uc9c0\uc6d0)</li> <li> I/O \uc2a4\ub808\ub4dc \ud65c\uc131\ud654 \ubc0f \ud53c\ub2dd</li> <li> \ub514\uc2a4\ud06c I/O \uc2a4\ucf00\uc904\ub7ec: none (NVMe) \ub610\ub294 mq-deadline (SSD/HDD)</li> </ul> <p>\u2705 Network:</p> <ul> <li> virtio-net + vhost-net</li> <li> Multi-queue \ud65c\uc131\ud654 (vCPU \uc218\ub9cc\ud07c)</li> <li> Jumbo Frames (MTU 9000)</li> <li> TSO/GSO/GRO \ud65c\uc131\ud654</li> <li> NIC\uc640 vCPU\ub97c \ub3d9\uc77c NUMA \ub178\ub4dc\uc5d0 \ubc30\uce58</li> </ul> <p>\u2705 \uae30\ud0c0:</p> <ul> <li> CPU \uc808\uc804 \uae30\ub2a5 \ube44\ud65c\uc131\ud654 (C-states, P-states)</li> <li> Transparent Huge Pages (THP) \ube44\ud65c\uc131\ud654</li> <li> SELinux/AppArmor \uc131\ub2a5 \uc601\ud5a5 \ud655\uc778</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#62","title":"6.2 \ud638\uc2a4\ud2b8 \ucee4\ub110 \ud29c\ub2dd","text":"<p>CPU \uc808\uc804 \ube44\ud65c\uc131\ud654: <pre><code># /etc/default/grub\nGRUB_CMDLINE_LINUX=\"intel_pstate=disable processor.max_cstate=1 intel_idle.max_cstate=0\"\n\nupdate-grub\nreboot\n</code></pre></p> <p>Transparent Huge Pages \ube44\ud65c\uc131\ud654: <pre><code>echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled\necho never &gt; /sys/kernel/mm/transparent_hugepage/defrag\n\n# \uc601\uad6c \uc124\uc815\ncat &gt;&gt; /etc/rc.local &lt;&lt;EOF\necho never &gt; /sys/kernel/mm/transparent_hugepage/enabled\necho never &gt; /sys/kernel/mm/transparent_hugepage/defrag\nEOF\n</code></pre></p> <p>I/O \uc2a4\ucf00\uc904\ub7ec: <pre><code># NVMe: none\necho none &gt; /sys/block/nvme0n1/queue/scheduler\n\n# SSD: mq-deadline\necho mq-deadline &gt; /sys/block/sda/queue/scheduler\n\n# HDD: mq-deadline\necho mq-deadline &gt; /sys/block/sdb/queue/scheduler\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#63","title":"6.3 \ubca4\uce58\ub9c8\ud0b9","text":"<p>CPU \ubca4\uce58\ub9c8\ud06c (sysbench): <pre><code># Host\nsysbench cpu --cpu-max-prime=20000 --threads=8 run\n\n# Guest (\ube44\uad50)\nsysbench cpu --cpu-max-prime=20000 --threads=8 run\n\n# \ubaa9\ud45c: Guest\uac00 Host\uc758 95% \uc774\uc0c1 \uc131\ub2a5\n</code></pre></p> <p>\uba54\ubaa8\ub9ac \ubca4\uce58\ub9c8\ud06c: <pre><code># \uba54\ubaa8\ub9ac \ub300\uc5ed\ud3ed (stream)\ngcc -O3 -fopenmp -DSTREAM_ARRAY_SIZE=100000000 stream.c -o stream\nexport OMP_NUM_THREADS=8\n./stream\n\n# \uba54\ubaa8\ub9ac \ub808\uc774\ud134\uc2dc\nlat_mem_rd 1024 128\n</code></pre></p> <p>\ub514\uc2a4\ud06c I/O \ubca4\uce58\ub9c8\ud06c (fio): <pre><code># \ub79c\ub364 \uc77d\uae30 (IOPS)\nfio --name=random-read --ioengine=libaio --iodepth=32 --rw=randread --bs=4k --direct=1 --size=4G --numjobs=4 --runtime=60 --group_reporting\n\n# \uc21c\ucc28 \uc4f0\uae30 (Throughput)\nfio --name=sequential-write --ioengine=libaio --iodepth=32 --rw=write --bs=1m --direct=1 --size=4G --numjobs=1 --runtime=60\n\n# \ubaa9\ud45c (virtio-scsi + SSD):\n# - Random Read IOPS: 50K+ IOPS\n# - Sequential Write: 500+ MB/s\n</code></pre></p> <p>\ub124\ud2b8\uc6cc\ud06c \ubca4\uce58\ub9c8\ud06c (iperf3): <pre><code># Server (VM1)\niperf3 -s\n\n# Client (VM2)\niperf3 -c &lt;VM1_IP&gt; -t 60 -P 4\n\n# \ubaa9\ud45c (10GbE):\n# - TCP Throughput: 9+ Gbps\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#1-vm","title":"\uc2e4\uc2b5 1: \uace0\uc131\ub2a5 VM \uc0dd\uc131 (\ubaa8\ub4e0 \ucd5c\uc801\ud654 \uc801\uc6a9)","text":"<pre><code># 1. Huge Pages \uc124\uc815 (2MB, 16GB \ud560\ub2f9)\necho 8192 &gt; /proc/sys/vm/nr_hugepages\ncat /proc/meminfo | grep -i huge\n\n# 2. VM \uc0dd\uc131\uc6a9 XML \uc791\uc131\ncat &gt; high-perf-vm.xml &lt;&lt;'EOF'\n&lt;domain type='kvm'&gt;\n  &lt;name&gt;high-perf-vm&lt;/name&gt;\n  &lt;memory unit='GiB'&gt;16&lt;/memory&gt;\n  &lt;currentMemory unit='GiB'&gt;16&lt;/currentMemory&gt;\n  &lt;vcpu placement='static'&gt;8&lt;/vcpu&gt;\n\n  &lt;!-- Huge Pages --&gt;\n  &lt;memoryBacking&gt;\n    &lt;hugepages&gt;\n      &lt;page size='2' unit='M'/&gt;\n    &lt;/hugepages&gt;\n    &lt;locked/&gt;\n  &lt;/memoryBacking&gt;\n\n  &lt;!-- NUMA --&gt;\n  &lt;cpu mode='host-passthrough' check='none'&gt;\n    &lt;topology sockets='1' dies='1' cores='8' threads='1'/&gt;\n    &lt;numa&gt;\n      &lt;cell id='0' cpus='0-7' memory='16' unit='GiB'/&gt;\n    &lt;/numa&gt;\n  &lt;/cpu&gt;\n\n  &lt;numatune&gt;\n    &lt;memory mode='strict' nodeset='0'/&gt;\n  &lt;/numatune&gt;\n\n  &lt;!-- CPU Pinning --&gt;\n  &lt;cputune&gt;\n    &lt;vcpupin vcpu='0' cpuset='2'/&gt;\n    &lt;vcpupin vcpu='1' cpuset='3'/&gt;\n    &lt;vcpupin vcpu='2' cpuset='4'/&gt;\n    &lt;vcpupin vcpu='3' cpuset='5'/&gt;\n    &lt;vcpupin vcpu='4' cpuset='6'/&gt;\n    &lt;vcpupin vcpu='5' cpuset='7'/&gt;\n    &lt;vcpupin vcpu='6' cpuset='8'/&gt;\n    &lt;vcpupin vcpu='7' cpuset='9'/&gt;\n    &lt;emulatorpin cpuset='0-1'/&gt;\n  &lt;/cputune&gt;\n\n  &lt;os&gt;\n    &lt;type arch='x86_64' machine='pc-q35-7.2'&gt;hvm&lt;/type&gt;\n    &lt;boot dev='hd'/&gt;\n  &lt;/os&gt;\n\n  &lt;devices&gt;\n    &lt;!-- virtio-scsi Controller --&gt;\n    &lt;controller type='scsi' index='0' model='virtio-scsi'&gt;\n      &lt;driver queues='8' iothread='1'/&gt;\n    &lt;/controller&gt;\n\n    &lt;!-- Disk with optimal settings --&gt;\n    &lt;disk type='file' device='disk'&gt;\n      &lt;driver name='qemu' type='qcow2' cache='none' io='native' discard='unmap' iothread='1'/&gt;\n      &lt;source file='/var/lib/libvirt/images/high-perf-vm.qcow2'/&gt;\n      &lt;target dev='sda' bus='scsi'/&gt;\n    &lt;/disk&gt;\n\n    &lt;!-- Network with multi-queue --&gt;\n    &lt;interface type='network'&gt;\n      &lt;source network='default'/&gt;\n      &lt;model type='virtio'/&gt;\n      &lt;driver name='vhost' queues='8' txmode='iothread'/&gt;\n    &lt;/interface&gt;\n\n    &lt;console type='pty'/&gt;\n    &lt;graphics type='vnc' port='-1'/&gt;\n  &lt;/devices&gt;\n&lt;/domain&gt;\nEOF\n\n# 3. VM \uc0dd\uc131\nvirsh define high-perf-vm.xml\n\n# 4. \ub514\uc2a4\ud06c \uc774\ubbf8\uc9c0 \uc0dd\uc131\nqemu-img create -f qcow2 /var/lib/libvirt/images/high-perf-vm.qcow2 100G\n\n# 5. VM \uc2dc\uc791\nvirsh start high-perf-vm\n\n# 6. \uc124\uc815 \ud655\uc778\nvirsh vcpuinfo high-perf-vm\nvirsh numatune high-perf-vm\n</code></pre>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#2-numa","title":"\uc2e4\uc2b5 2: NUMA \uc601\ud5a5 \ud14c\uc2a4\ud2b8","text":"<pre><code># \uc2dc\ub098\ub9ac\uc624 A: NUMA \ucd5c\uc801\ud654 (\ubaa8\ub4e0 \ub9ac\uc18c\uc2a4\uac00 NUMA 0)\ncat &gt; numa-optimized.xml &lt;&lt;EOF\n&lt;numa&gt;\n  &lt;cell id='0' cpus='0-7' memory='16' unit='GiB'/&gt;\n&lt;/numa&gt;\n&lt;numatune&gt;\n  &lt;memory mode='strict' nodeset='0'/&gt;\n&lt;/numatune&gt;\nEOF\n\n# \uc2dc\ub098\ub9ac\uc624 B: NUMA \ubbf8\ucd5c\uc801\ud654 (NUMA \uacbd\uacc4 \uad50\ucc28)\ncat &gt; numa-bad.xml &lt;&lt;EOF\n&lt;numa&gt;\n  &lt;cell id='0' cpus='0-3' memory='8' unit='GiB'/&gt;\n  &lt;cell id='1' cpus='4-7' memory='8' unit='GiB'/&gt;\n&lt;/numa&gt;\n&lt;!-- numatune \uc5c6\uc74c - \uc790\ub3d9 \ud560\ub2f9 --&gt;\nEOF\n\n# \ubca4\uce58\ub9c8\ud06c \ube44\uad50\n# A: sysbench \uacb0\uacfc\n# B: sysbench \uacb0\uacfc\n# \uae30\ub300: A\uac00 B\ubcf4\ub2e4 10-20% \ube60\ub984\n</code></pre>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#3-virtio-blk-vs-virtio-scsi","title":"\uc2e4\uc2b5 3: virtio-blk vs virtio-scsi \uc131\ub2a5 \ube44\uad50","text":"<pre><code># VM 1: virtio-blk\n&lt;disk type='file' device='disk'&gt;\n  &lt;driver name='qemu' type='raw' cache='none' io='native'/&gt;\n  &lt;source file='/data/vm1.raw'/&gt;\n  &lt;target dev='vda' bus='virtio'/&gt;\n&lt;/disk&gt;\n\n# VM 2: virtio-scsi\n&lt;controller type='scsi' model='virtio-scsi'&gt;\n  &lt;driver queues='4'/&gt;\n&lt;/controller&gt;\n&lt;disk type='file' device='disk'&gt;\n  &lt;driver name='qemu' type='raw' cache='none' io='native'/&gt;\n  &lt;source file='/data/vm2.raw'/&gt;\n  &lt;target dev='sda' bus='scsi'/&gt;\n&lt;/disk&gt;\n\n# \ubca4\uce58\ub9c8\ud06c (fio)\nfio --name=test --ioengine=libaio --iodepth=32 --rw=randread --bs=4k --direct=1 --size=10G --runtime=60\n\n# \uacb0\uacfc \ube44\uad50:\n# - Low I/O: virtio-blk \uadfc\uc18c\ud558\uac8c \uc720\ub9ac\n# - High I/O: virtio-scsi 10-15% \uc6b0\uc218\n</code></pre>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_4","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#1-vm_1","title":"\uc608\uc81c 1: VM \uc0dd\uc131 \uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8 (\ucd5c\uc801\ud654 \uc801\uc6a9)","text":"<pre><code>#!/bin/bash\n# create-optimized-vm.sh\n\nset -e\n\nVM_NAME=$1\nVCPUS=$2\nMEMORY_GB=$3\nDISK_SIZE_GB=$4\nNUMA_NODE=$5\n\nif [ $# -ne 5 ]; then\n  echo \"Usage: $0 &lt;vm_name&gt; &lt;vcpus&gt; &lt;memory_gb&gt; &lt;disk_size_gb&gt; &lt;numa_node&gt;\"\n  exit 1\nfi\n\n# Huge Pages \ud544\uc694\ub7c9 \uacc4\uc0b0 (2MB pages)\nHUGEPAGES_NEEDED=$((MEMORY_GB * 1024 / 2))\nCURRENT_HUGEPAGES=$(cat /proc/sys/vm/nr_hugepages)\n\nif [ $CURRENT_HUGEPAGES -lt $HUGEPAGES_NEEDED ]; then\n  echo \"Allocating Huge Pages: $HUGEPAGES_NEEDED\"\n  echo $HUGEPAGES_NEEDED &gt; /proc/sys/vm/nr_hugepages\nfi\n\n# CPU \ud53c\ub2dd \uacc4\uc0b0 (NUMA \ub178\ub4dc \uae30\ubc18)\nif [ $NUMA_NODE -eq 0 ]; then\n  CPU_START=2\nelse\n  CPU_START=18\nfi\n\n# XML \uc0dd\uc131\ncat &gt; /tmp/${VM_NAME}.xml &lt;&lt;EOF\n&lt;domain type='kvm'&gt;\n  &lt;name&gt;${VM_NAME}&lt;/name&gt;\n  &lt;memory unit='GiB'&gt;${MEMORY_GB}&lt;/memory&gt;\n  &lt;currentMemory unit='GiB'&gt;${MEMORY_GB}&lt;/currentMemory&gt;\n  &lt;vcpu placement='static'&gt;${VCPUS}&lt;/vcpu&gt;\n\n  &lt;memoryBacking&gt;\n    &lt;hugepages&gt;&lt;page size='2' unit='M'/&gt;&lt;/hugepages&gt;\n    &lt;locked/&gt;\n  &lt;/memoryBacking&gt;\n\n  &lt;cpu mode='host-passthrough' check='none'&gt;\n    &lt;topology sockets='1' dies='1' cores='${VCPUS}' threads='1'/&gt;\n    &lt;numa&gt;\n      &lt;cell id='0' cpus='0-$((VCPUS-1))' memory='${MEMORY_GB}' unit='GiB'/&gt;\n    &lt;/numa&gt;\n  &lt;/cpu&gt;\n\n  &lt;numatune&gt;\n    &lt;memory mode='strict' nodeset='${NUMA_NODE}'/&gt;\n  &lt;/numatune&gt;\n\n  &lt;cputune&gt;\nEOF\n\n# vCPU \ud53c\ub2dd\nfor i in $(seq 0 $((VCPUS-1))); do\n  echo \"    &lt;vcpupin vcpu='$i' cpuset='$((CPU_START+i))'/&gt;\" &gt;&gt; /tmp/${VM_NAME}.xml\ndone\n\ncat &gt;&gt; /tmp/${VM_NAME}.xml &lt;&lt;EOF\n    &lt;emulatorpin cpuset='0-1'/&gt;\n  &lt;/cputune&gt;\n\n  &lt;os&gt;\n    &lt;type arch='x86_64' machine='pc-q35-7.2'&gt;hvm&lt;/type&gt;\n    &lt;boot dev='hd'/&gt;\n  &lt;/os&gt;\n\n  &lt;devices&gt;\n    &lt;controller type='scsi' index='0' model='virtio-scsi'&gt;\n      &lt;driver queues='${VCPUS}' iothread='1'/&gt;\n    &lt;/controller&gt;\n\n    &lt;disk type='file' device='disk'&gt;\n      &lt;driver name='qemu' type='qcow2' cache='none' io='native' discard='unmap' iothread='1'/&gt;\n      &lt;source file='/var/lib/libvirt/images/${VM_NAME}.qcow2'/&gt;\n      &lt;target dev='sda' bus='scsi'/&gt;\n    &lt;/disk&gt;\n\n    &lt;interface type='network'&gt;\n      &lt;source network='default'/&gt;\n      &lt;model type='virtio'/&gt;\n      &lt;driver name='vhost' queues='${VCPUS}' txmode='iothread'/&gt;\n    &lt;/interface&gt;\n\n    &lt;console type='pty'/&gt;\n    &lt;graphics type='vnc' port='-1'/&gt;\n  &lt;/devices&gt;\n&lt;/domain&gt;\nEOF\n\n# \ub514\uc2a4\ud06c \uc0dd\uc131\nqemu-img create -f qcow2 /var/lib/libvirt/images/${VM_NAME}.qcow2 ${DISK_SIZE_GB}G\n\n# VM \uc815\uc758 \ubc0f \uc2dc\uc791\nvirsh define /tmp/${VM_NAME}.xml\nvirsh start ${VM_NAME}\n\necho \"VM ${VM_NAME} created and started successfully!\"\nvirsh vcpuinfo ${VM_NAME}\n</code></pre> <p>\uc0ac\uc6a9 \uc608: <pre><code># NUMA 0\uc5d0 8 vCPU, 16GB RAM, 100GB \ub514\uc2a4\ud06c VM \uc0dd\uc131\n./create-optimized-vm.sh test-vm 8 16 100 0\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#2-python-vm","title":"\uc608\uc81c 2: Python\uc73c\ub85c VM \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1","text":"<pre><code>#!/usr/bin/env python3\n# vm-monitor.py\n\nimport libvirt\nimport time\nimport sys\n\ndef get_vm_stats(conn, vm_name):\n    \"\"\"VM\uc758 CPU, \uba54\ubaa8\ub9ac, \ub514\uc2a4\ud06c, \ub124\ud2b8\uc6cc\ud06c \ud1b5\uacc4 \uc218\uc9d1\"\"\"\n    try:\n        domain = conn.lookupByName(vm_name)\n    except libvirt.libvirtError:\n        print(f\"VM {vm_name} not found\")\n        return None\n\n    # CPU \ud1b5\uacc4\n    cpu_stats = domain.getCPUStats(True)[0]\n    cpu_time = cpu_stats['cpu_time'] / 1e9  # nanoseconds to seconds\n\n    # \uba54\ubaa8\ub9ac \ud1b5\uacc4\n    mem_stats = domain.memoryStats()\n    mem_total = mem_stats.get('actual', 0) / 1024  # KB to MB\n    mem_unused = mem_stats.get('unused', 0) / 1024\n    mem_used = mem_total - mem_unused\n\n    # \ube14\ub85d \ub514\uc2a4\ud06c \ud1b5\uacc4\n    tree = domain.blockStats('vda')  # \ub610\ub294 'sda'\n    rd_bytes = tree[1]\n    wr_bytes = tree[3]\n\n    # \ub124\ud2b8\uc6cc\ud06c \ud1b5\uacc4\n    iface_stats = domain.interfaceStats('vnet0')  # \uc778\ud130\ud398\uc774\uc2a4 \uc774\ub984\n    rx_bytes = iface_stats[0]\n    tx_bytes = iface_stats[4]\n\n    return {\n        'cpu_time': cpu_time,\n        'mem_total': mem_total,\n        'mem_used': mem_used,\n        'disk_rd_bytes': rd_bytes,\n        'disk_wr_bytes': wr_bytes,\n        'net_rx_bytes': rx_bytes,\n        'net_tx_bytes': tx_bytes\n    }\n\ndef monitor_vm(vm_name, interval=5):\n    \"\"\"VM \uc131\ub2a5 \uc9c0\uc18d \ubaa8\ub2c8\ud130\ub9c1\"\"\"\n    conn = libvirt.open('qemu:///system')\n    if not conn:\n        print(\"Failed to connect to libvirt\")\n        sys.exit(1)\n\n    prev_stats = None\n\n    try:\n        while True:\n            stats = get_vm_stats(conn, vm_name)\n            if not stats:\n                break\n\n            if prev_stats:\n                # Delta \uacc4\uc0b0\n                cpu_delta = stats['cpu_time'] - prev_stats['cpu_time']\n                disk_rd_delta = (stats['disk_rd_bytes'] - prev_stats['disk_rd_bytes']) / 1024 / 1024  # MB\n                disk_wr_delta = (stats['disk_wr_bytes'] - prev_stats['disk_wr_bytes']) / 1024 / 1024\n                net_rx_delta = (stats['net_rx_bytes'] - prev_stats['net_rx_bytes']) / 1024 / 1024\n                net_tx_delta = (stats['net_tx_bytes'] - prev_stats['net_tx_bytes']) / 1024 / 1024\n\n                print(f\"\\n{'='*60}\")\n                print(f\"VM: {vm_name} | Interval: {interval}s\")\n                print(f\"{'='*60}\")\n                print(f\"CPU Time:    {cpu_delta:.2f}s ({cpu_delta/interval*100:.1f}% util)\")\n                print(f\"Memory:      {stats['mem_used']:.0f} / {stats['mem_total']:.0f} MB ({stats['mem_used']/stats['mem_total']*100:.1f}%)\")\n                print(f\"Disk Read:   {disk_rd_delta:.2f} MB/s\")\n                print(f\"Disk Write:  {disk_wr_delta:.2f} MB/s\")\n                print(f\"Net RX:      {net_rx_delta:.2f} MB/s\")\n                print(f\"Net TX:      {net_tx_delta:.2f} MB/s\")\n\n            prev_stats = stats\n            time.sleep(interval)\n\n    except KeyboardInterrupt:\n        print(\"\\nMonitoring stopped\")\n    finally:\n        conn.close()\n\nif __name__ == '__main__':\n    if len(sys.argv) != 2:\n        print(f\"Usage: {sys.argv[0]} &lt;vm_name&gt;\")\n        sys.exit(1)\n\n    monitor_vm(sys.argv[1])\n</code></pre> <p>\uc0ac\uc6a9 \uc608: <pre><code>python3 vm-monitor.py test-vm\n</code></pre></p>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ol> <li>KVM/QEMU</li> <li>KVM Official Site</li> <li>QEMU Documentation</li> <li> <p>KVM Forum 2025</p> </li> <li> <p>Libvirt</p> </li> <li>Libvirt Domain XML Format</li> <li> <p>Libvirt Performance Tuning</p> </li> <li> <p>Red Hat</p> </li> <li>Virtualization Tuning and Optimization Guide</li> </ol>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#2025-best-practices","title":"2025 Best Practices","text":"<ol> <li>Optimizing KVM Disk Performance with Virtio-scsi and Virtio-blk</li> <li>Performance Tuning Your KVM Virtual Machines</li> <li>The KVM Memory Model: NUMA and HugePages Explained</li> <li>Optimizing KVM Performance: Tips and Tricks for 2025</li> </ol>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_7","title":"\ucee4\ubba4\ub2c8\ud2f0","text":"<ol> <li>Proxmox VE Wiki</li> <li>Performance Tweaks</li> <li>Qemu/KVM Virtual Machines</li> </ol>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_8","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_9","title":"\uae30\ubcf8 \uac1c\ub150","text":"<ul> <li> KVM\uacfc QEMU\uc758 \uc5ed\ud560 \ucc28\uc774 \uc774\ud574</li> <li> Intel VT-x / AMD-V \ud558\ub4dc\uc6e8\uc5b4 \uac00\uc0c1\ud654 \ud655\uc7a5 \uc774\ud574</li> <li> EPT/NPT 2\ub2e8\uacc4 \ud398\uc774\uc9c0 \ud14c\uc774\ube14 \ub3d9\uc791 \uc6d0\ub9ac</li> <li> Libvirt \uc544\ud0a4\ud14d\ucc98 \ubc0f XML \uad6c\uc870</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#cpu","title":"CPU \uac00\uc0c1\ud654","text":"<ul> <li> vCPU \uc624\ubc84\ucee4\ubc0b \ube44\uc728 \uc124\uc815</li> <li> CPU \ud53c\ub2dd \uad6c\uc131 (vcpupin, emulatorpin)</li> <li> CPU \ubaa8\ub378 \uc120\ud0dd (host-passthrough vs host-model)</li> <li> CPU \ud1a0\ud3f4\ub85c\uc9c0 \uc124\uc815 (sockets, cores, threads)</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_10","title":"\uba54\ubaa8\ub9ac \uac00\uc0c1\ud654","text":"<ul> <li> Huge Pages \uc124\uc815 (2MB, 1GB)</li> <li> Memory Ballooning \ub3d9\uc791 \uc774\ud574</li> <li> KSM (Kernel Same-page Merging) \uc7a5\ub2e8\uc810</li> <li> \uba54\ubaa8\ub9ac \uc7a0\uae08 (locked) \uc124\uc815</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#io","title":"I/O \uac00\uc0c1\ud654","text":"<ul> <li> virtio-blk vs virtio-scsi \uc120\ud0dd \uae30\uc900</li> <li> \ub514\uc2a4\ud06c \uce90\uc2dc \ubaa8\ub4dc (none, writethrough, writeback)</li> <li> virtio-net multi-queue \uc124\uc815</li> <li> VFIO/SR-IOV PCI \ud328\uc2a4\uc2a4\ub8e8</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#numa","title":"NUMA \ucd5c\uc801\ud654","text":"<ul> <li> NUMA \ud1a0\ud3f4\ub85c\uc9c0 \ud655\uc778 (numactl, lstopo)</li> <li> vCPU\uc640 \uba54\ubaa8\ub9ac\uc758 NUMA \uc815\ub82c</li> <li> NUMA \ud1b5\uacc4 \ubaa8\ub2c8\ud130\ub9c1 (numastat)</li> <li> NIC\uc640 vCPU\uc758 NUMA \uc77c\uce58</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_11","title":"\uc131\ub2a5 \ud29c\ub2dd","text":"<ul> <li> \uc885\ud569 \ud29c\ub2dd \uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc801\uc6a9</li> <li> \ud638\uc2a4\ud2b8 \ucee4\ub110 \ud30c\ub77c\ubbf8\ud130 \ucd5c\uc801\ud654</li> <li> \ubca4\uce58\ub9c8\ud0b9 (sysbench, fio, iperf3)</li> <li> \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> </ul>"},{"location":"computing-service/Ch2.%EA%B0%80%EC%83%81%ED%99%94_%EA%B8%B0%EC%88%A0/#_12","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<ol> <li>Ch3.\uc2a4\ucf00\uc904\ub9c1.md</li> <li>\uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998 (CFS, Real-time)</li> <li>\ub9ac\uc18c\uc2a4 \ud560\ub2f9 \ubc0f QoS</li> <li> <p>CPU/\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b \uc804\ub7b5</p> </li> <li> <p>\uc2ec\ud654 \uc8fc\uc81c</p> </li> <li>Nested Virtualization: VM \uc548\uc5d0\uc11c VM \uc2e4\ud589</li> <li>Live Migration: \ubb34\uc911\ub2e8 VM \ub9c8\uc774\uadf8\ub808\uc774\uc158</li> <li> <p>GPU \uac00\uc0c1\ud654: vGPU, GPU \ud328\uc2a4\uc2a4\ub8e8</p> </li> <li> <p>\uc2e4\uc804 \ud504\ub85c\uc81d\ud2b8</p> </li> <li>\uace0\uc131\ub2a5 DB \uc11c\ubc84\uc6a9 VM \ucd5c\uc801\ud654</li> <li>OpenStack Nova\uc640 KVM \ud1b5\ud569</li> <li>VM \uc131\ub2a5 \uc790\ub3d9 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c</li> </ol> <p>\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: 2025-11-24 \ub2e4\uc74c \ucc55\ud130: Ch3.\uc2a4\ucf00\uc904\ub9c1.md</p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/","title":"Ch3. \uc2a4\ucf00\uc904\ub9c1 \ubc0f \ub9ac\uc18c\uc2a4 \uad00\ub9ac","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \ud6a8\uc728\uc801\uc778 \ub9ac\uc18c\uc2a4 \ud65c\uc6a9\uacfc \uc548\uc815\uc801\uc778 \uc11c\ube44\uc2a4 \uc81c\uacf5\uc744 \uc704\ud574\uc11c\ub294 \uc815\uad50\ud55c \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998\uacfc \ub9ac\uc18c\uc2a4 \uad00\ub9ac \uc804\ub7b5\uc774 \ud544\uc218\uc801\uc785\ub2c8\ub2e4. \ubcf8 \uc7a5\uc5d0\uc11c\ub294 Linux \ucee4\ub110\uc758 \uc2a4\ucf00\uc904\ub9c1 \uba54\ucee4\ub2c8\uc998, cgroups\ub97c \ud1b5\ud55c \ub9ac\uc18c\uc2a4 \uaca9\ub9ac, OpenStack Nova\uc758 \uc2a4\ucf00\uc904\ub9c1 \uc804\ub7b5, \uadf8\ub9ac\uace0 CPU/\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b \ucd5c\uc801\ud654 \uae30\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Linux \ucee4\ub110\uc740 EEVDF (Earliest Eligible Virtual Deadline First) \uc2a4\ucf00\uc904\ub7ec\ub97c \uae30\ubcf8\uc73c\ub85c \ucc44\ud0dd\ud558\uc600\uc73c\uba70, OpenShift Virtualization\uc740 \uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b\uc744 \uc704\ud55c **WASP (Workload-Aware Swap Provisioner)**\ub97c \ub3c4\uc785\ud588\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<ol> <li>Linux \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998 \uc774\ud574</li> <li>CFS\uc5d0\uc11c EEVDF\ub85c\uc758 \uc804\ud658 (Linux 6.6+)</li> <li>Real-time \uc2a4\ucf00\uc904\ub7ec (SCHED_FIFO, SCHED_RR)</li> <li> <p>Deadline \uc2a4\ucf00\uc904\ub7ec (SCHED_DEADLINE)</p> </li> <li> <p>cgroups\ub97c \ud65c\uc6a9\ud55c \ub9ac\uc18c\uc2a4 \uad00\ub9ac</p> </li> <li>CPU \uc81c\uc5b4 (cpu, cpuset, cpuacct)</li> <li>\uba54\ubaa8\ub9ac \uc81c\uc5b4 (memory)</li> <li>I/O \uc81c\uc5b4 (blkio)</li> <li> <p>cgroups v2 \ub9c8\uc774\uadf8\ub808\uc774\uc158</p> </li> <li> <p>OpenStack Nova \uc2a4\ucf00\uc904\ub9c1</p> </li> <li>Filter Scheduler \uc544\ud0a4\ud14d\ucc98</li> <li>\ud544\ud130\ub9c1 (Filters) \ubc0f \uac00\uc911\uce58 (Weighers)</li> <li>Placement API\ub97c \ud1b5\ud55c \ub9ac\uc18c\uc2a4 \ucd94\uc801</li> <li> <p>Aggregates \ubc0f Availability Zones</p> </li> <li> <p>\uc624\ubc84\ucee4\ubc0b \uc804\ub7b5 \ubc0f \ucd5c\uc801\ud654</p> </li> <li>CPU \uc624\ubc84\ucee4\ubc0b (1:1 ~ 5:1)</li> <li>\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b \ubc0f SWAP \uad00\ub9ac</li> <li>\uc624\ubc84\ucee4\ubc0b \ube44\uc728 \uacb0\uc815 \uae30\uc900</li> <li> <p>\uc131\ub2a5 vs \ud6a8\uc728\uc131 \ud2b8\ub808\uc774\ub4dc\uc624\ud504</p> </li> <li> <p>QoS (Quality of Service)</p> </li> <li>CPU shares, quota, period</li> <li>Memory limits \ubc0f OOM Killer</li> <li> <p>I/O priorities \ubc0f bandwidth \uc81c\ud55c</p> </li> <li> <p>\uc2e4\uc804 \ud29c\ub2dd \ubc0f \ubaa8\ub2c8\ud130\ub9c1</p> </li> <li>\uc2a4\ucf00\uc904\ub9c1 \ud1b5\uacc4 \ubd84\uc11d</li> <li>\ubcd1\ubaa9 \uc9c0\uc810 \uc2dd\ubcc4</li> <li>\uc2e4\uc2dc\uac04 \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1</li> </ol>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#part-1-linux","title":"Part 1: Linux \uc2a4\ucf00\uc904\ub9c1 \uc54c\uace0\ub9ac\uc998","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#11-eevdf-linux-66","title":"1.1 EEVDF - \ucd5c\uc2e0 \uae30\ubcf8 \uc2a4\ucf00\uc904\ub7ec (Linux 6.6+)","text":"<p>EEVDF\ub780? 2025\ub144 \ud604\uc7ac, CFS\ub97c \ub300\uccb4\ud558\uc5ec Linux 6.6 (2023\ub144 10\uc6d4)\ubd80\ud130 \uae30\ubcf8 \uc2a4\ucf00\uc904\ub7ec\ub85c \ucc44\ud0dd\ub41c \uc54c\uace0\ub9ac\uc998\uc785\ub2c8\ub2e4. Earliest Eligible Virtual Deadline First\uc758 \uc57d\uc790\ub85c, \ub354 \uc815\ud655\ud55c \uc9c0\uc5f0 \uc2dc\uac04 \ubcf4\uc7a5\uacfc \uacf5\uc815\uc131\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <p>CFS vs EEVDF:</p> \ud2b9\uc9d5 CFS (Legacy) EEVDF (Current) \uae30\ubcf8 \uac1c\ub150 Virtual Runtime \uade0\ud615 Virtual Deadline \uae30\ubc18 \uc9c0\uc5f0 \uc2dc\uac04 \uc608\uce21 \uac00\ub2a5\ud558\uc9c0\ub9cc \ubd80\uc815\ud655 \ub354 \uc815\ud655\ud55c \ubcf4\uc7a5 \uacf5\uc815\uc131 \uc88b\uc74c \ub9e4\uc6b0 \uc88b\uc74c \uc624\ubc84\ud5e4\ub4dc \ub0ae\uc74c \uc57d\uac04 \ub354 \ub192\uc74c \uc801\uc6a9 Linux &lt; 6.6 Linux &gt;= 6.6 <p>EEVDF \ub3d9\uc791 \uc6d0\ub9ac: <pre><code>1. \uac01 \ud0dc\uc2a4\ud06c\uc5d0 \"\uac00\uc0c1 \ub370\ub4dc\ub77c\uc778(virtual deadline)\" \ud560\ub2f9\n2. Eligible(\uc2e4\ud589 \uac00\ub2a5) \ud0dc\uc2a4\ud06c \uc911 \ub370\ub4dc\ub77c\uc778\uc774 \uac00\uc7a5 \uc774\ub978 \uac83 \uc120\ud0dd\n3. \uc2e4\ud589 \ud6c4 \uac00\uc0c1 \ub7f0\ud0c0\uc784 \uc5c5\ub370\uc774\ud2b8\n4. \uc0c8\ub85c\uc6b4 \ub370\ub4dc\ub77c\uc778 \uacc4\uc0b0 \ubc0f \uc7ac\uc0bd\uc785\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#12","title":"1.2 \uc2a4\ucf00\uc904\ub9c1 \ud074\ub798\uc2a4","text":"<p>Linux \uc2a4\ucf00\uc904\ub9c1 \ud074\ub798\uc2a4 (\uc6b0\uc120\uc21c\uc704 \uc21c): <pre><code>1. SCHED_DEADLINE (Deadline - \ucd5c\uace0 \uc6b0\uc120\uc21c\uc704)\n   \u2514\u2500 \uc2e4\uc2dc\uac04 \uc791\uc5c5, \uc5c4\uaca9\ud55c \ub370\ub4dc\ub77c\uc778 \ubcf4\uc7a5\n\n2. SCHED_FIFO (Real-time FIFO)\n   \u2514\u2500 \uc120\uc810\ud615 \uc2e4\uc2dc\uac04, \uc6b0\uc120\uc21c\uc704 \uae30\ubc18\n\n3. SCHED_RR (Real-time Round-Robin)\n   \u2514\u2500 FIFO + Time slice\n\n4. SCHED_OTHER (CFS/EEVDF - \uae30\ubcf8)\n   \u2514\u2500 \uc77c\ubc18 \ud0dc\uc2a4\ud06c, \uacf5\uc815\ud55c CPU \uc2dc\uac04 \ubd84\ubc30\n\n5. SCHED_BATCH\n   \u2514\u2500 CPU \uc9d1\uc57d\uc801 \ubc30\uce58 \uc791\uc5c5\n\n6. SCHED_IDLE\n   \u2514\u2500 \uac00\uc7a5 \ub0ae\uc740 \uc6b0\uc120\uc21c\uc704\n</code></pre></p> <p>\uc2a4\ucf00\uc904\ub9c1 \uc815\ucc45 \ud655\uc778 \ubc0f \ubcc0\uacbd: <pre><code># \ud504\ub85c\uc138\uc2a4\uc758 \uc2a4\ucf00\uc904\ub9c1 \uc815\ucc45 \ud655\uc778\nchrt -p &lt;PID&gt;\n\n# \uc608\uc2dc \ucd9c\ub825:\n# pid 1234's current scheduling policy: SCHED_OTHER\n# pid 1234's current scheduling priority: 0\n\n# Real-time FIFO\ub85c \ubcc0\uacbd (priority 50)\nsudo chrt -f -p 50 1234\n\n# Deadline \uc2a4\ucf00\uc904\ub7ec\ub85c \ud504\ub85c\uc138\uc2a4 \uc2e4\ud589\n# Runtime: 10ms, Deadline: 30ms, Period: 30ms\nsudo chrt -d --sched-runtime 10000000 \\\n               --sched-deadline 30000000 \\\n               --sched-period 30000000 \\\n               &lt;command&gt;\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#13-nice","title":"1.3 Nice \uac12\uacfc \uc6b0\uc120\uc21c\uc704","text":"<p>Nice \uac12 (-20 ~ 19): <pre><code># Nice \uac12\uc774 \ub0ae\uc744\uc218\ub85d \ub192\uc740 \uc6b0\uc120\uc21c\uc704\n# -20: \ucd5c\uace0 \uc6b0\uc120\uc21c\uc704\n#   0: \uae30\ubcf8\uac12\n#  19: \ucd5c\uc800 \uc6b0\uc120\uc21c\uc704\n\n# Nice \uac12 10\uc73c\ub85c \ud504\ub85c\uc138\uc2a4 \uc2e4\ud589\nnice -n 10 ./my_app\n\n# \uc2e4\ud589 \uc911\uc778 \ud504\ub85c\uc138\uc2a4\uc758 nice \ubcc0\uacbd\nrenice -n 5 -p 1234\n\n# Nice \uac12 \ud655\uc778\nps -eo pid,ni,comm | grep my_app\n</code></pre></p> <p>Nice vs Priority \uad00\uacc4: <pre><code>Static Priority (User Space): -20 ~ 19 (nice)\n                    \u2502\n                    \u25bc (mapping)\nKernel Priority:    0 ~ 139\n                    \u251c\u2500 0-99: Real-time (SCHED_FIFO/RR)\n                    \u2514\u2500 100-139: Normal (SCHED_OTHER)\n                        \u2514\u2500 120: default (nice 0)\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#part-2-cgroups-","title":"Part 2: cgroups - \ub9ac\uc18c\uc2a4 \uaca9\ub9ac \ubc0f \uc81c\ud55c","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#21-cgroups-v1-vs-v2","title":"2.1 cgroups v1 vs v2","text":"<p>cgroups (Control Groups): Linux \ucee4\ub110 \uae30\ub2a5\uc73c\ub85c \ud504\ub85c\uc138\uc2a4 \uadf8\ub8f9\uc758 \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\uc744 \uc81c\ud55c, \uaca9\ub9ac, \uce21\uc815\ud569\ub2c8\ub2e4.</p> <p>cgroups v1 (Legacy):</p> <ul> <li>\uac01 \ub9ac\uc18c\uc2a4 \ucee8\ud2b8\ub864\ub7ec\uac00 \ub3c5\ub9bd\uc801\uc778 \uacc4\uce35 \uad6c\uc870</li> <li>\ubcf5\uc7a1\ud55c \uc124\uc815 \ubc0f \uad00\ub9ac</li> <li>CPU, memory, blkio, net_cls \ub4f1 \ubd84\ub9ac</li> </ul> <p>cgroups v2 (Unified Hierarchy - \uad8c\uc7a5):</p> <ul> <li>\ub2e8\uc77c \ud1b5\ud569 \uacc4\uce35 \uad6c\uc870</li> <li>\uac04\uc18c\ud654\ub41c \uc778\ud130\ud398\uc774\uc2a4</li> <li>\ub354 \ub098\uc740 \ub9ac\uc18c\uc2a4 \uaca9\ub9ac</li> <li>Linux 4.5+ \uc9c0\uc6d0, \ub300\ubd80\ubd84\uc758 \ubc30\ud3ec\ud310\uc774 \uae30\ubcf8\uc73c\ub85c \ucc44\ud0dd (2025)</li> </ul> <p>\ud604\uc7ac cgroups \ubc84\uc804 \ud655\uc778: <pre><code># cgroups v2 \ub9c8\uc6b4\ud2b8 \ud655\uc778\nmount | grep cgroup2\n\n# cgroups v2\uac00 \ud65c\uc131\ud654\ub418\uc5b4 \uc788\uc73c\uba74:\n# cgroup2 on /sys/fs/cgroup type cgroup2 (rw,nosuid,nodev,noexec,relatime)\n\n# cgroups v1\uc778 \uacbd\uc6b0 \uc5ec\ub7ec \uac1c\uc758 cgroup \ub9c8\uc6b4\ud2b8 \ud45c\uc2dc:\n# cgroup on /sys/fs/cgroup/cpu type cgroup (rw,...)\n# cgroup on /sys/fs/cgroup/memory type cgroup (rw,...)\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#22-cpu","title":"2.2 CPU \uc81c\uc5b4","text":"<p>CPU Shares (\uc0c1\ub300\uc801 \uac00\uc911\uce58): <pre><code># cgroups v1 \uc608\uc2dc\n# CPU shares \uc124\uc815 (\uae30\ubcf8\uac12: 1024)\nmkdir -p /sys/fs/cgroup/cpu/high_priority\nmkdir -p /sys/fs/cgroup/cpu/low_priority\n\necho 2048 &gt; /sys/fs/cgroup/cpu/high_priority/cpu.shares  # 2\ubc30 \uc6b0\uc120\uc21c\uc704\necho 512  &gt; /sys/fs/cgroup/cpu/low_priority/cpu.shares   # 0.5\ubc30 \uc6b0\uc120\uc21c\uc704\n\n# \ud504\ub85c\uc138\uc2a4\ub97c cgroup\uc5d0 \ud560\ub2f9\necho &lt;PID&gt; &gt; /sys/fs/cgroup/cpu/high_priority/tasks\n</code></pre></p> <p>CPU Quota (\uc808\ub300\uc801 \uc81c\ud55c): <pre><code># CPU \uc0ac\uc6a9\ub7c9\uc744 50%\ub85c \uc81c\ud55c\n# cpu.cfs_period_us: \uae30\uac04 (\uae30\ubcf8 100ms = 100000us)\n# cpu.cfs_quota_us: \ud560\ub2f9\ub7c9\n\necho 100000 &gt; /sys/fs/cgroup/cpu/my_app/cpu.cfs_period_us\necho 50000  &gt; /sys/fs/cgroup/cpu/my_app/cpu.cfs_quota_us  # 50% = 50000/100000\n\n# 4 vCPU \uc2dc\uc2a4\ud15c\uc5d0\uc11c 2 vCPU\ub85c \uc81c\ud55c (200%)\necho 100000 &gt; /sys/fs/cgroup/cpu/my_app/cpu.cfs_period_us\necho 200000 &gt; /sys/fs/cgroup/cpu/my_app/cpu.cfs_quota_us  # 200%\n</code></pre></p> <p>cpuset (CPU \uce5c\ud654\uc131): <pre><code># CPU 0-3\ubc88\ub9cc \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc81c\ud55c\nmkdir -p /sys/fs/cgroup/cpuset/database\necho \"0-3\" &gt; /sys/fs/cgroup/cpuset/database/cpuset.cpus\necho \"0\"   &gt; /sys/fs/cgroup/cpuset/database/cpuset.mems  # NUMA node 0\n\n# \ud504\ub85c\uc138\uc2a4 \ud560\ub2f9\necho &lt;PID&gt; &gt; /sys/fs/cgroup/cpuset/database/tasks\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#23","title":"2.3 \uba54\ubaa8\ub9ac \uc81c\uc5b4","text":"<p>\uba54\ubaa8\ub9ac \uc81c\ud55c: <pre><code># \uba54\ubaa8\ub9ac\ub97c 4GB\ub85c \uc81c\ud55c\nmkdir -p /sys/fs/cgroup/memory/my_app\necho 4294967296 &gt; /sys/fs/cgroup/memory/my_app/memory.limit_in_bytes  # 4GB\n\n# Swap \ud3ec\ud568 \ucd1d \uba54\ubaa8\ub9ac \uc81c\ud55c\necho 5368709120 &gt; /sys/fs/cgroup/memory/my_app/memory.memsw.limit_in_bytes  # 5GB\n\n# OOM Killer \ube44\ud65c\uc131\ud654 (\uc2e0\uc911\ud788 \uc0ac\uc6a9)\necho 1 &gt; /sys/fs/cgroup/memory/my_app/memory.oom_control\n\n# \ud504\ub85c\uc138\uc2a4 \ud560\ub2f9\necho &lt;PID&gt; &gt; /sys/fs/cgroup/memory/my_app/tasks\n</code></pre></p> <p>\uba54\ubaa8\ub9ac \ud1b5\uacc4: <pre><code># \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 \ud655\uc778\ncat /sys/fs/cgroup/memory/my_app/memory.usage_in_bytes\ncat /sys/fs/cgroup/memory/my_app/memory.stat\n\n# \ucd9c\ub825 \uc608\uc2dc:\n# cache 1234567890\n# rss 2345678901\n# mapped_file 123456789\n# ...\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#24-io-blkio","title":"2.4 I/O \uc81c\uc5b4 (blkio)","text":"<p>I/O \uc6b0\uc120\uc21c\uc704 \ubc0f \ub300\uc5ed\ud3ed \uc81c\ud55c: <pre><code># I/O weight (100-1000, \uae30\ubcf8 500)\nmkdir -p /sys/fs/cgroup/blkio/database\necho 800 &gt; /sys/fs/cgroup/blkio/database/blkio.weight  # \ub192\uc740 \uc6b0\uc120\uc21c\uc704\n\n# \ud2b9\uc815 \ub514\ubc14\uc774\uc2a4\uc5d0 \ub300\ud55c \uc77d\uae30 \ub300\uc5ed\ud3ed \uc81c\ud55c (BPS)\n# \ud615\uc2dd: &lt;major&gt;:&lt;minor&gt; &lt;bytes_per_second&gt;\necho \"8:0 10485760\" &gt; /sys/fs/cgroup/blkio/my_app/blkio.throttle.read_bps_device  # 10MB/s\n\n# \uc4f0\uae30 \ub300\uc5ed\ud3ed \uc81c\ud55c\necho \"8:0 20971520\" &gt; /sys/fs/cgroup/blkio/my_app/blkio.throttle.write_bps_device  # 20MB/s\n\n# IOPS \uc81c\ud55c\necho \"8:0 1000\" &gt; /sys/fs/cgroup/blkio/my_app/blkio.throttle.read_iops_device  # 1000 IOPS\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#25-systemd-cgroups","title":"2.5 systemd\uc640 cgroups \ud1b5\ud569","text":"<p>systemd\ub294 cgroups\uc758 \uc8fc\uc694 \uad00\ub9ac\uc790: <pre><code># systemd \uc11c\ube44\uc2a4\uc758 \ub9ac\uc18c\uc2a4 \uc81c\ud55c\ncat &gt; /etc/systemd/system/my_app.service &lt;&lt;EOF\n[Unit]\nDescription=My Application\n\n[Service]\nExecStart=/usr/bin/my_app\nRestart=always\n\n# CPU \uc81c\ud55c (50%)\nCPUQuota=50%\n\n# \uba54\ubaa8\ub9ac \uc81c\ud55c (4GB)\nMemoryLimit=4G\nMemoryHigh=3.5G  # Soft limit (throttle)\n\n# I/O \uac00\uc911\uce58\nIOWeight=500\n\n[Install]\nWantedBy=multi-user.target\nEOF\n\nsystemctl daemon-reload\nsystemctl start my_app\n\n# \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub7c9 \ud655\uc778\nsystemctl status my_app\n</code></pre></p> <p>systemd-run\uc73c\ub85c \uc784\uc2dc cgroup \uc0dd\uc131: <pre><code># CPU 50%, Memory 2GB \uc81c\ud55c\uc73c\ub85c \uba85\ub839 \uc2e4\ud589\nsystemd-run --scope --unit=test-job \\\n  --property=CPUQuota=50% \\\n  --property=MemoryLimit=2G \\\n  stress-ng --cpu 4 --timeout 60s\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#part-3-openstack-nova","title":"Part 3: OpenStack Nova \uc2a4\ucf00\uc904\ub9c1","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#31-nova-scheduler","title":"3.1 Nova Scheduler \uc544\ud0a4\ud14d\ucc98","text":"<p>\uc2a4\ucf00\uc904\ub9c1 \ud50c\ub85c\uc6b0: <pre><code>1. API Request\n   \u2514\u2500&gt; nova-api receives \"boot instance\" request\n\n2. Conductor\n   \u2514\u2500&gt; nova-conductor orchestrates the build\n\n3. Scheduler (Filter + Weigh)\n   \u2514\u2500&gt; nova-scheduler selects target host\n       \u2502\n       \u251c\u2500 Step 1: Get available hosts from Placement\n       \u251c\u2500 Step 2: Apply Filters (\ud544\ud130\ub9c1)\n       \u2502   \u2514\u2500&gt; Eliminate unsuitable hosts\n       \u251c\u2500 Step 3: Apply Weighers (\uac00\uc911\uce58 \uacc4\uc0b0)\n       \u2502   \u2514\u2500&gt; Rank remaining hosts\n       \u2514\u2500 Step 4: Select best host(s)\n\n4. Compute\n   \u2514\u2500&gt; nova-compute@selected_host provisions instance\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#32-filters","title":"3.2 Filters (\ud544\ud130\ub9c1)","text":"<p>\uc8fc\uc694 \ud544\ud130 \ubaa9\ub85d (2025.1):</p> Filter \uc124\uba85 \uc0ac\uc6a9 \uc0ac\ub840 AvailabilityZoneFilter \ud2b9\uc815 AZ\uc758 \ud638\uc2a4\ud2b8\ub9cc \uc120\ud0dd \uc9c0\uc5ed \ubd84\uc0b0 ComputeFilter \ud65c\uc131 \uc0c1\ud0dc\uc758 \ucef4\ud4e8\ud2b8 \ub178\ub4dc\ub9cc \uae30\ubcf8 ComputeCapabilitiesFilter CPU, RAM, Disk \uc6a9\ub7c9 \ud655\uc778 \ub9ac\uc18c\uc2a4 \uc694\uad6c\uc0ac\ud56d ImagePropertiesFilter \uc774\ubbf8\uc9c0 \uc18d\uc131\uacfc \ud638\uc2a4\ud2b8 capabilities \ub9e4\uce6d CPU \uae30\ub2a5, Hypervisor ServerGroupAntiAffinityFilter \uc778\uc2a4\ud134\uc2a4\ub97c \uc11c\ub85c \ub2e4\ub978 \ud638\uc2a4\ud2b8\uc5d0 \ubc30\uce58 HA ServerGroupAffinityFilter \uc778\uc2a4\ud134\uc2a4\ub97c \uac19\uc740 \ud638\uc2a4\ud2b8\uc5d0 \ubc30\uce58 \ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0 \ucd5c\uc18c\ud654 AggregateInstanceExtraSpecsFilter Aggregate \uba54\ud0c0\ub370\uc774\ud130 \ub9e4\uce6d SSD-only, GPU \ub178\ub4dc NUMATopologyFilter NUMA \ud1a0\ud3f4\ub85c\uc9c0 \uc815\ub82c \uc131\ub2a5 \ucd5c\uc801\ud654 PciPassthroughFilter PCI \uc7a5\uce58 \uc0ac\uc6a9 \uac00\ub2a5 \uc5ec\ubd80 GPU, SR-IOV <p>\uc124\uc815 (/etc/nova/nova.conf): <pre><code>[filter_scheduler]\nenabled_filters = AvailabilityZoneFilter,\n                  ComputeFilter,\n                  ComputeCapabilitiesFilter,\n                  ImagePropertiesFilter,\n                  ServerGroupAntiAffinityFilter,\n                  ServerGroupAffinityFilter,\n                  NUMATopologyFilter,\n                  AggregateInstanceExtraSpecsFilter\n\n# \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud638\uc2a4\ud2b8\uac00 \uc774 \uac1c\uc218 \ubbf8\ub9cc\uc774\uba74 shuffle\nshuffle_best_same_weighed_hosts = True\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#33-weighers","title":"3.3 Weighers (\uac00\uc911\uce58)","text":"<p>\uac00\uc911\uce58 \uacc4\uc0b0 \uacf5\uc2dd: <pre><code>Weight = w1_multiplier \u00d7 norm(w1) + w2_multiplier \u00d7 norm(w2) + ...\n\nnorm(x) = (x - min) / (max - min)  # 0~1 \uc815\uaddc\ud654\n</code></pre></p> <p>\uc8fc\uc694 Weigher (2025.1):</p> Weigher \uc124\uba85 multiplier \ud6a8\uacfc RAMWeigher \uac00\uc6a9 RAM \uae30\ubc18 ram_weight_multiplier=1.0 \uc591\uc218: RAM \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 (spread)\uc74c\uc218: RAM \uc801\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 (pack) DiskWeigher \uac00\uc6a9 Disk \uae30\ubc18 disk_weight_multiplier=1.0 \uc591\uc218: Disk \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 CPUWeigher \uac00\uc6a9 CPU \uae30\ubc18 cpu_weight_multiplier=1.0 \uc591\uc218: CPU \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 IOOpsWeigher I/O operations \uae30\ubc18 io_ops_weight_multiplier=-1.0 \uc74c\uc218: I/O \uc801\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 PCIWeigher PCI \uc7a5\uce58 \uc218 \uae30\ubc18 pci_weight_multiplier=1.0 PCI \uc7a5\uce58 \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 ImagePropertiesWeigher (New!) \uc774\ubbf8\uc9c0 \uc18d\uc131 \uc77c\uce58\ub3c4 image_props_weight_multiplier=0.0 \uac19\uc740 \uc774\ubbf8\uc9c0 \uc0ac\uc6a9 \ud638\uc2a4\ud2b8 \uc120\ud638 <p>\uc124\uc815 \uc608\uc2dc: <pre><code>[filter_scheduler]\n# RAM \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 (Spread \uc804\ub7b5)\nram_weight_multiplier = 1.0\n\n# Disk \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638\ndisk_weight_multiplier = 1.0\n\n# I/O operations \uc801\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638\nio_ops_weight_multiplier = -1.0\n\n# CPU \uc801\uc740 \ud638\uc2a4\ud2b8 \uc120\ud638 (Pack \uc804\ub7b5 - \ube44\uc6a9 \uc808\uac10)\ncpu_weight_multiplier = -1.0\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#34-host-aggregates-availability-zones","title":"3.4 Host Aggregates \ubc0f Availability Zones","text":"<p>Host Aggregates: \ud638\uc2a4\ud2b8\ub97c \ub17c\ub9ac\uc801\uc73c\ub85c \uadf8\ub8f9\ud654\ud558\uace0 \uba54\ud0c0\ub370\uc774\ud130\ub97c \ubd80\uc5ec\ud558\uc5ec \uc2a4\ucf00\uc904\ub9c1\uc5d0 \ud65c\uc6a9\ud569\ub2c8\ub2e4.</p> <pre><code># Aggregate \uc0dd\uc131 (SSD \ub178\ub4dc)\nopenstack aggregate create ssd-nodes\n\n# \ud638\uc2a4\ud2b8 \ucd94\uac00\nopenstack aggregate add host ssd-nodes compute01\nopenstack aggregate add host ssd-nodes compute02\n\n# \uba54\ud0c0\ub370\uc774\ud130 \uc124\uc815\nopenstack aggregate set --property ssd=true ssd-nodes\n\n# Flavor\uc5d0 \uc694\uad6c\uc0ac\ud56d \ucd94\uac00\nopenstack flavor create --ram 8192 --disk 100 --vcpus 4 ssd-flavor\nopenstack flavor set ssd-flavor --property aggregate_instance_extra_specs:ssd=true\n\n# \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \uc2dc ssd-nodes\uc5d0\ub9cc \uc2a4\ucf00\uc904\ub9c1\ub428\nopenstack server create --flavor ssd-flavor --image ubuntu-22.04 my-vm\n</code></pre> <p>Availability Zones: <pre><code># AZ \uc0dd\uc131 (Aggregate + AZ name)\nopenstack aggregate create --zone az-korea az-korea-aggregate\nopenstack aggregate add host az-korea-aggregate compute-kr-01\n\n# AZ \uc9c0\uc815\ud558\uc5ec \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\nopenstack server create --flavor m1.small --image ubuntu --availability-zone az-korea my-vm\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#part-4","title":"Part 4: \uc624\ubc84\ucee4\ubc0b \uc804\ub7b5","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#41-cpu","title":"4.1 CPU \uc624\ubc84\ucee4\ubc0b","text":"<p>CPU \uc624\ubc84\ucee4\ubc0b \ube44\uc728: <pre><code>vCPU \uc624\ubc84\ucee4\ubc0b = (\ud560\ub2f9\ub41c vCPU \ucd1d\ud569) / (\ubb3c\ub9ac CPU \ucf54\uc5b4 \uc218)\n\n\uc548\uc804\ud55c \ubc94\uc704:\n\n- \ud504\ub85c\ub355\uc158: 1:1 ~ 2:1\n- \uc77c\ubc18: 3:1 ~ 4:1\n- VDI: 5:1 ~ 8:1 (\uc0ac\uc6a9\uc790\uac00 \ub3d9\uc2dc\uc5d0 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c)\n</code></pre></p> <p>2025 Best Practice (RedHat):</p> <p>CPU \uc624\ubc84\ucee4\ubc0b\uc740 \ud504\ub85c\uc138\uc2a4\uac00 \uc911\ub2e8(killed)\ub418\uac70\ub098 \uc2ec\uac01\ud55c \uc131\ub2a5 \uc800\ud558\uc758 \uc704\ud5d8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. CPU\uac00 \uc624\ubc84\ucee4\ubc0b\ub418\uba74 \uc6cc\ud06c\ub85c\ub4dc\uac00 \ub290\ub824\uc9c8 \ubfd0\uc785\ub2c8\ub2e4.</p> <p>\uac01 \uac8c\uc2a4\ud2b8\uac00 \ub2e8\uc77c vCPU\ub9cc \uac00\uc9c8 \ub54c \uac00\uc0c1\ud654\ub41c CPU\uc758 \uc624\ubc84\ucee4\ubc0b\uc774 \uac00\uc7a5 \uc798 \uc791\ub3d9\ud558\uba70, Linux \uc2a4\ucf00\uc904\ub7ec\uac00 \uc774 \uc720\ud615\uc758 \ubd80\ud558\uc5d0 \ub9e4\uc6b0 \ud6a8\uc728\uc801\uc785\ub2c8\ub2e4. **KVM\uc740 \ubd80\ud558\uac00 100% \ubbf8\ub9cc\uc778 \uac8c\uc2a4\ud2b8\ub97c 5:1 \ube44\uc728\ub85c \uc548\uc804\ud558\uac8c \uc9c0\uc6d0**\ud574\uc57c \ud569\ub2c8\ub2e4.</p> <p>Nova \uc124\uc815: <pre><code># /etc/nova/nova.conf\n[DEFAULT]\n# CPU \uc624\ubc84\ucee4\ubc0b \ube44\uc728 (\uae30\ubcf8 16.0)\ncpu_allocation_ratio = 4.0\n\n# \uc608\uc2dc:\n# \ubb3c\ub9ac CPU: 32 cores\n# cpu_allocation_ratio = 4.0\n# \ucd5c\ub300 \ud560\ub2f9 \uac00\ub2a5 vCPU = 32 \u00d7 4.0 = 128 vCPUs\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#42","title":"4.2 \uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b","text":"<p>\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b\uc758 \uc704\ud5d8:</p> <ul> <li>OOM (Out Of Memory) Killer \ubc1c\ub3d9 \u2192 \ud504\ub85c\uc138\uc2a4 \uac15\uc81c \uc885\ub8cc</li> <li>SWAP \uc0ac\uc6a9 \u2192 \uc2ec\uac01\ud55c \uc131\ub2a5 \uc800\ud558 (\ub514\uc2a4\ud06c I/O)</li> </ul> <p>2025 OpenShift Virtualization \uad8c\uc7a5\uc0ac\ud56d:</p> <p>OpenShift Virtualization\uc740 **\ucd5c\ub300 25% \uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b**\uc744 \ub2e4\uc591\ud55c \uc6cc\ud06c\ub85c\ub4dc\uc5d0\uc11c \ub9e4\uc6b0 \uc798 \ucc98\ub9ac\ud569\ub2c8\ub2e4.</p> <p>\uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b \uacf5\uc2dd: <pre><code>Memory Overcommit % = (Total VM Memory - Reserved Memory) / Total VM Memory \u00d7 100\n\n\uc608\uc2dc:\n\n- VM Memory: 9 GB\n- Reserved (Request): 6 GB\n- Overcommit: (9 - 6) / 9 \u00d7 100 = 33%\n</code></pre></p> <p>Nova \uc124\uc815: <pre><code># /etc/nova/nova.conf\n[DEFAULT]\n# \uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b \ube44\uc728 (\uae30\ubcf8 1.5)\nram_allocation_ratio = 1.2  # 20% \uc624\ubc84\ucee4\ubc0b (\ubcf4\uc218\uc801)\n\n# \uc608\uc2dc:\n# \ubb3c\ub9ac RAM: 128 GB\n# ram_allocation_ratio = 1.2\n# \ucd5c\ub300 \ud560\ub2f9 \uac00\ub2a5 RAM = 128 \u00d7 1.2 = 153.6 GB\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#43-swap-wasp-2025","title":"4.3 SWAP \ubc0f WASP (2025 \uc2e0\uae30\ub2a5)","text":"<p>WASP (Workload-Aware Swap Provisioner): OpenShift Virtualization 2025\uc5d0\uc11c \ub3c4\uc785\ub41c \uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b \uc9c0\uc6d0 \ucef4\ud3ec\ub10c\ud2b8\uc785\ub2c8\ub2e4.</p> <p>WASP \ub3d9\uc791: <pre><code>1. Worker \ub178\ub4dc\uc5d0 SWAP \ub9ac\uc18c\uc2a4 \ud560\ub2f9\n2. VM\uc5d0 \uc624\ubc84\ucee4\ubc0b\ub41c \uba54\ubaa8\ub9ac \uc81c\uacf5\n3. SWAP I/O \ud2b8\ub798\ud53d \ubaa8\ub2c8\ud130\ub9c1\n4. \ub192\uc740 SWAP \uc0ac\uc6a9 \uc2dc Pod eviction \uad00\ub9ac\n</code></pre></p> <p>SWAP \uc124\uc815 (KVM \ud638\uc2a4\ud2b8): <pre><code># SWAP \ud30c\uc77c \uc0dd\uc131 (16GB)\nsudo fallocate -l 16G /swapfile\nsudo chmod 600 /swapfile\nsudo mkswap /swapfile\nsudo swapon /swapfile\n\n# /etc/fstab\uc5d0 \ucd94\uac00\necho '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab\n\n# SWAP \ud655\uc778\nfree -h\nswapon --show\n\n# Swappiness \uc870\uc815 (0-100, \ub0ae\uc744\uc218\ub85d SWAP \uc0ac\uc6a9 \uc904\uc784)\nsudo sysctl vm.swappiness=10\necho 'vm.swappiness=10' | sudo tee -a /etc/sysctl.conf\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#44","title":"4.4 \uc624\ubc84\ucee4\ubc0b \ubaa8\ub2c8\ud130\ub9c1","text":"<p>\ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub960 \ud655\uc778: <pre><code># Nova \uc804\uccb4 \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub7c9\nopenstack hypervisor stats show\n\n# \ucd9c\ub825:\n# +----------------------+-------+\n# | Field                | Value |\n# +----------------------+-------+\n# | count                | 10    |\n# | current_workload     | 42    |\n# | disk_available_least | 5000  |\n# | free_disk_gb         | 8000  |\n# | free_ram_mb          | 102400|\n# | local_gb             | 10000 |\n# | local_gb_used        | 2000  |\n# | memory_mb            | 204800|\n# | memory_mb_used       | 102400|\n# | running_vms          | 156   |\n# | vcpus                | 320   |\n# | vcpus_used           | 624   | # 1.95:1 \uc624\ubc84\ucee4\ubc0b\n# +----------------------+-------+\n\n# \uac1c\ubcc4 Hypervisor\nopenstack hypervisor show compute01 -f yaml\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#part-5-qos-quality-of-service","title":"Part 5: QoS (Quality of Service)","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#51-cpu-qos","title":"5.1 CPU QoS","text":"<p>CPU Shares (\uc0c1\ub300\uc801): <pre><code># Systemd \uc11c\ube44\uc2a4\n# High priority: 2048 shares\n# Normal: 1024 shares (\uae30\ubcf8)\n# Low: 512 shares\n\ncat &gt; /etc/systemd/system/database.service &lt;&lt;EOF\n[Service]\nCPUShares=2048\nEOF\n\nsystemctl daemon-reload\nsystemctl restart database\n</code></pre></p> <p>CPU Quota (\uc808\ub300\uc801): <pre><code># 50% CPU \uc81c\ud55c\ncat &gt; /etc/systemd/system/batch_job.service &lt;&lt;EOF\n[Service]\nCPUQuota=50%\nEOF\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#52-memory-qos","title":"5.2 Memory QoS","text":"<p>Memory Limits: <pre><code># Soft limit (MemoryHigh): Throttle but don't kill\n# Hard limit (MemoryMax/MemoryLimit): Kill if exceeded\n\ncat &gt; /etc/systemd/system/web_server.service &lt;&lt;EOF\n[Service]\nMemoryHigh=3G    # Soft limit - \ucd08\uacfc \uc2dc throttle\nMemoryMax=4G     # Hard limit - \ucd08\uacfc \uc2dc OOM kill\nEOF\n</code></pre></p> <p>OOM Score \uc870\uc815: <pre><code># OOM Killer \uc6b0\uc120\uc21c\uc704 \uc870\uc815 (-1000 ~ 1000)\n# \uac12\uc774 \ub192\uc744\uc218\ub85d \uba3c\uc800 \uc885\ub8cc\ub428\n\n# \uc911\uc694\ud55c \ud504\ub85c\uc138\uc2a4\ub294 \ub0ae\uc740 \uac12\necho -500 &gt; /proc/&lt;PID&gt;/oom_score_adj\n\n# \ub35c \uc911\uc694\ud55c \ud504\ub85c\uc138\uc2a4\ub294 \ub192\uc740 \uac12\necho 500 &gt; /proc/&lt;PID&gt;/oom_score_adj\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#53-io-qos","title":"5.3 I/O QoS","text":"<p>ionice (I/O \uc6b0\uc120\uc21c\uc704): <pre><code># I/O \ud074\ub798\uc2a4:\n# 0: None (\uae30\ubcf8)\n# 1: Real-time (\ucd5c\uace0 \uc6b0\uc120\uc21c\uc704)\n# 2: Best-effort (\uae30\ubcf8)\n# 3: Idle (\uac00\uc7a5 \ub0ae\uc74c)\n\n# Real-time \ud074\ub798\uc2a4, \uc6b0\uc120\uc21c\uc704 0 (\uac00\uc7a5 \ub192\uc74c)\nionice -c 1 -n 0 -p &lt;PID&gt;\n\n# Best-effort \ud074\ub798\uc2a4, \uc6b0\uc120\uc21c\uc704 7 (\uac00\uc7a5 \ub0ae\uc74c)\nionice -c 2 -n 7 ./batch_job\n\n# Idle \ud074\ub798\uc2a4\nionice -c 3 ./background_task\n</code></pre></p> <p>blkio cgroup\uc744 \ud1b5\ud55c I/O \uc81c\ud55c: <pre><code># \uc77d\uae30 \ub300\uc5ed\ud3ed 10MB/s \uc81c\ud55c\necho \"8:0 10485760\" &gt; /sys/fs/cgroup/blkio/my_app/blkio.throttle.read_bps_device\n\n# \uc4f0\uae30 IOPS 1000 \uc81c\ud55c\necho \"8:0 1000\" &gt; /sys/fs/cgroup/blkio/my_app/blkio.throttle.write_iops_device\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#part-6","title":"Part 6: \uc2a4\ucf00\uc904\ub9c1 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ud29c\ub2dd","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#61","title":"6.1 \uc2a4\ucf00\uc904\ub9c1 \ud1b5\uacc4","text":"<p>CPU \uc2a4\ucf00\uc904\ub9c1 \ud1b5\uacc4: <pre><code># \ud504\ub85c\uc138\uc2a4\ubcc4 CPU \uc0ac\uc6a9 \uc2dc\uac04\ncat /proc/&lt;PID&gt;/schedstat\n\n# \ucd9c\ub825: &lt;runtime_ns&gt; &lt;wait_time_ns&gt; &lt;nr_switches&gt;\n# 987654321 123456789 1234\n\n# \uc2dc\uc2a4\ud15c \uc804\uccb4 \uc2a4\ucf00\uc904\ub9c1 \ud1b5\uacc4\ncat /proc/schedstat\n\n# CPU\ubcc4 \ub7f0\ud050 \ud1b5\uacc4\ncat /proc/sched_debug\n</code></pre></p> <p>Context Switch \ud655\uc778: <pre><code># \ucd08\ub2f9 context switch \uc218\nvmstat 1\n\n# \ucd9c\ub825:\n# procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----\n#  r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st\n#  2  0      0 123456   1234  56789    0    0     1     2  345 6789 10 5 85  0  0\n#                                                          cs = context switches\n\n# \ub192\uc740 cs \uac12 (&gt;10000)\uc740 \uc2a4\ucf00\uc904\ub9c1 \uc624\ubc84\ud5e4\ub4dc\ub97c \uc758\ubbf8\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#62","title":"6.2 \ub7f0\ud050 \ubd84\uc11d","text":"<pre><code># \ud604\uc7ac \uc2e4\ud589 \ub300\uae30 \uc911\uc778 \ud504\ub85c\uc138\uc2a4 \uc218\ncat /proc/loadavg\n\n# \ucd9c\ub825: 1.23 2.34 3.45 2/567 12345\n#       1\ubd84  5\ubd84  15\ubd84 \ud3c9\uade0 load\n#       \uc2e4\ud589\uc911/\uc804\uccb4 \ud504\ub85c\uc138\uc2a4\n#       \ub9c8\uc9c0\ub9c9 PID\n\n# Load average \ud574\uc11d:\n# Load &lt; CPU cores: \uc5ec\uc720\n# Load = CPU cores: \ud3ec\ud654\n# Load &gt; CPU cores: \uacfc\ubd80\ud558\n</code></pre> <p>\ub7f0\ud050 \uc2dc\uac01\ud654 (mpstat): <pre><code># CPU\ubcc4 \uc0ac\uc6a9\ub960\nmpstat -P ALL 1\n\n# \ucd9c\ub825 \ud574\uc11d:\n# %idle\uc774 0\uc5d0 \uac00\uae4c\uc6b0\uba74 CPU \ud3ec\ud654\n# %iowait\uc774 \ub192\uc73c\uba74 I/O \ubcd1\ubaa9\n# %steal\uc774 \ub192\uc73c\uba74 Hypervisor\uac00 CPU\ub97c \ube7c\uc557\uc544\uac10 (\uc624\ubc84\ucee4\ubc0b)\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#63","title":"6.3 \uc131\ub2a5 \ud504\ub85c\ud30c\uc77c\ub9c1","text":"<p>perf\ub97c \ud1b5\ud55c \uc2a4\ucf00\uc904\ub9c1 \ubd84\uc11d: <pre><code># \uc2a4\ucf00\uc904\ub9c1 \uc774\ubca4\ud2b8 \ucd94\uc801\nsudo perf sched record -- sleep 10\n\n# \ubd84\uc11d\nsudo perf sched latency\n\n# \ucd9c\ub825:\n# Task                  |   Runtime ms  | Switches | Average delay ms | Maximum delay ms |\n# migration/0           |      0.123 ms |        5 |    avg: 0.010 ms | max: 0.050 ms |\n# ksoftirqd/0           |      1.234 ms |       12 |    avg: 0.020 ms | max: 0.100 ms |\n# ...\n\n# \uc2a4\ucf00\uc904\ub9c1 \ub9f5 \uc2dc\uac01\ud654\nsudo perf sched map\n</code></pre></p> <p>Flame Graph: <pre><code># CPU \ud504\ub85c\ud30c\uc77c\ub9c1 (60\ucd08)\nsudo perf record -F 99 -a -g -- sleep 60\n\n# Flame graph \uc0dd\uc131\ngit clone https://github.com/brendangregg/FlameGraph\nsudo perf script | ./FlameGraph/stackcollapse-perf.pl | ./FlameGraph/flamegraph.pl &gt; flamegraph.svg\n\n# \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c flamegraph.svg \uc5f4\uae30\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#1-cgroups-cpu","title":"\uc2e4\uc2b5 1: cgroups\ub97c \ud65c\uc6a9\ud55c CPU \uc81c\ud55c","text":"<p>\uc2dc\ub098\ub9ac\uc624: CPU \uc9d1\uc57d\uc801 \uc791\uc5c5 2\uac1c\ub97c \uaca9\ub9ac\ud558\uace0 \ub9ac\uc18c\uc2a4 \ubd84\ubc30</p> <pre><code># 1. cgroup \uc0dd\uc131\nsudo mkdir -p /sys/fs/cgroup/cpu/high_priority\nsudo mkdir -p /sys/fs/cgroup/cpu/low_priority\n\n# 2. CPU shares \uc124\uc815\necho 2048 &gt; /sys/fs/cgroup/cpu/high_priority/cpu.shares  # 2x\necho 512  &gt; /sys/fs/cgroup/cpu/low_priority/cpu.shares   # 0.5x\n\n# 3. CPU stress \ud14c\uc2a4\ud2b8 \ud504\ub85c\uadf8\ub7a8 \uc2e4\ud589\n# High priority\nstress-ng --cpu 4 --timeout 60s &amp;\nHIGH_PID=$!\necho $HIGH_PID &gt; /sys/fs/cgroup/cpu/high_priority/tasks\n\n# Low priority\nstress-ng --cpu 4 --timeout 60s &amp;\nLOW_PID=$!\necho $LOW_PID &gt; /sys/fs/cgroup/cpu/low_priority/tasks\n\n# 4. CPU \uc0ac\uc6a9\ub960 \ubaa8\ub2c8\ud130\ub9c1\ntop -p $HIGH_PID,$LOW_PID\n\n# \uacb0\uacfc: high_priority\uac00 low_priority\ubcf4\ub2e4 \uc57d 4\ubc30 \ub9ce\uc740 CPU \uc2dc\uac04 \ud560\ub2f9\n# (2048 / 512 = 4)\n</code></pre>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#2-oom","title":"\uc2e4\uc2b5 2: \uba54\ubaa8\ub9ac \uc81c\ud55c \ubc0f OOM \ud14c\uc2a4\ud2b8","text":"<pre><code># 1. cgroup \uc0dd\uc131 \ubc0f \uba54\ubaa8\ub9ac \uc81c\ud55c (1GB)\nsudo mkdir -p /sys/fs/cgroup/memory/limited\necho 1073741824 &gt; /sys/fs/cgroup/memory/limited/memory.limit_in_bytes\n\n# 2. OOM notification \uc124\uc815\necho 1 &gt; /sys/fs/cgroup/memory/limited/memory.oom_control\n\n# 3. \uba54\ubaa8\ub9ac \ud560\ub2f9 \ud504\ub85c\uadf8\ub7a8 \uc2e4\ud589 (2GB \ud560\ub2f9 \uc2dc\ub3c4)\ncat &gt; mem_hog.py &lt;&lt;'EOF'\nimport time\ndata = []\nfor i in range(20):  # 20 * 100MB = 2GB\n    data.append(' ' * (100 * 1024 * 1024))\n    print(f\"Allocated {(i+1) * 100} MB\")\n    time.sleep(1)\nEOF\n\npython3 mem_hog.py &amp;\nPID=$!\necho $PID &gt; /sys/fs/cgroup/memory/limited/tasks\n\n# 4. \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9 \ubaa8\ub2c8\ud130\ub9c1\nwatch -n 1 \"cat /sys/fs/cgroup/memory/limited/memory.usage_in_bytes &amp;&amp; \\\n            cat /proc/$PID/status | grep VmRSS\"\n\n# \uacb0\uacfc: 1GB \ub3c4\ub2ec \uc2dc OOM Killer \ub610\ub294 \ud504\ub85c\uc138\uc2a4 \uc911\ub2e8\n</code></pre>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#3-nova-scheduler","title":"\uc2e4\uc2b5 3: Nova Scheduler \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5","text":"<pre><code># 1. Custom Aggregate \uc0dd\uc131 (GPU \ub178\ub4dc)\nopenstack aggregate create gpu-nodes --zone gpu-zone\nopenstack aggregate add host gpu-nodes compute-gpu-01\nopenstack aggregate set --property gpu=true gpu-nodes\nopenstack aggregate set --property gpu_type=nvidia-a100 gpu-nodes\n\n# 2. GPU Flavor \uc0dd\uc131\nopenstack flavor create --ram 32768 --disk 200 --vcpus 16 gpu.large\nopenstack flavor set gpu.large \\\n  --property aggregate_instance_extra_specs:gpu=true \\\n  --property aggregate_instance_extra_specs:gpu_type=nvidia-a100 \\\n  --property \"pci_passthrough:alias\"=\"a100:1\"\n\n# 3. Anti-affinity Server Group \uc0dd\uc131 (HA)\nopenstack server group create --policy anti-affinity web-servers-ha\n\n# 4. \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 (Server Group \uc0ac\uc6a9)\nfor i in {1..3}; do\n  openstack server create \\\n    --flavor m1.large \\\n    --image ubuntu-22.04 \\\n    --hint group=$(openstack server group show web-servers-ha -f value -c id) \\\n    web-server-$i\ndone\n\n# \uacb0\uacfc: 3\uac1c \uc778\uc2a4\ud134\uc2a4\uac00 \uc11c\ub85c \ub2e4\ub978 \ud638\uc2a4\ud2b8\uc5d0 \ubc30\uce58\ub428\n\n# 5. Scheduler \ud1b5\uacc4 \ud655\uc778\nopenstack hypervisor stats show\n</code></pre>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#4-cpu","title":"\uc2e4\uc2b5 4: CPU \uc624\ubc84\ucee4\ubc0b \uc601\ud5a5 \uce21\uc815","text":"<pre><code># 1. \uc624\ubc84\ucee4\ubc0b \uc5c6\uc74c (1:1)\n# 4 vCPU VM 1\uac1c \uc0dd\uc131 (\ubb3c\ub9ac CPU 4 cores)\nopenstack server create --flavor m1.xlarge --image ubuntu cpu-test-1\n\n# VM \ub0b4\ubd80\uc5d0\uc11c CPU \ubca4\uce58\ub9c8\ud06c\nssh ubuntu@&lt;VM_IP&gt;\nsysbench cpu --cpu-max-prime=20000 --threads=4 run\n\n# \uacb0\uacfc \uae30\ub85d (Baseline)\n\n# 2. 2:1 \uc624\ubc84\ucee4\ubc0b\n# 4 vCPU VM 2\uac1c \uc0dd\uc131 (\ubb3c\ub9ac CPU 4 cores, \ucd1d 8 vCPUs)\nopenstack server create --flavor m1.xlarge --image ubuntu cpu-test-2\n\n# \ub450 VM\uc5d0\uc11c \ub3d9\uc2dc\uc5d0 \ubca4\uce58\ub9c8\ud06c\n# \uacb0\uacfc: \uac01 VM\uc774 \uc57d 50% \uc131\ub2a5\n\n# 3. 4:1 \uc624\ubc84\ucee4\ubc0b\n# 4 vCPU VM 4\uac1c \uc0dd\uc131\n# \uacb0\uacfc: \uac01 VM\uc774 \uc57d 25% \uc131\ub2a5\n\n# \uc131\ub2a5 \uc800\ud558\uc728 = (Baseline - Current) / Baseline \u00d7 100\n</code></pre>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_4","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#1-cgroup","title":"\uc608\uc81c 1: cgroup \uad00\ub9ac \uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8","text":"<pre><code>#!/bin/bash\n# cgroup-manager.sh\n\nset -e\n\nCGROUP_NAME=$1\nCPU_SHARES=$2\nMEMORY_LIMIT_GB=$3\nCOMMAND=$4\n\nif [ $# -ne 4 ]; then\n  echo \"Usage: $0 &lt;cgroup_name&gt; &lt;cpu_shares&gt; &lt;memory_limit_gb&gt; &lt;command&gt;\"\n  exit 1\nfi\n\n# cgroup \uc0dd\uc131\nCPU_CGROUP=\"/sys/fs/cgroup/cpu/${CGROUP_NAME}\"\nMEMORY_CGROUP=\"/sys/fs/cgroup/memory/${CGROUP_NAME}\"\n\nsudo mkdir -p \"$CPU_CGROUP\"\nsudo mkdir -p \"$MEMORY_CGROUP\"\n\n# CPU \uc124\uc815\necho \"$CPU_SHARES\" | sudo tee \"$CPU_CGROUP/cpu.shares\"\n\n# \uba54\ubaa8\ub9ac \uc124\uc815 (GB \u2192 Bytes)\nMEMORY_BYTES=$((MEMORY_LIMIT_GB * 1024 * 1024 * 1024))\necho \"$MEMORY_BYTES\" | sudo tee \"$MEMORY_CGROUP/memory.limit_in_bytes\"\n\n# \uba85\ub839 \uc2e4\ud589\necho \"Starting: $COMMAND\"\necho \"CPU Shares: $CPU_SHARES\"\necho \"Memory Limit: ${MEMORY_LIMIT_GB}GB\"\n\n# \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc2e4\ud589\neval \"$COMMAND\" &amp;\nPID=$!\n\n# cgroup\uc5d0 \ud560\ub2f9\necho \"$PID\" | sudo tee \"$CPU_CGROUP/tasks\"\necho \"$PID\" | sudo tee \"$MEMORY_CGROUP/tasks\"\n\necho \"Process $PID added to cgroup: $CGROUP_NAME\"\n\n# \ub9ac\uc18c\uc2a4 \uc0ac\uc6a9\ub7c9 \ubaa8\ub2c8\ud130\ub9c1\nwhile kill -0 $PID 2&gt;/dev/null; do\n  CPU_USAGE=$(cat \"$CPU_CGROUP/cpuacct.usage\")\n  MEM_USAGE=$(cat \"$MEMORY_CGROUP/memory.usage_in_bytes\")\n  MEM_USAGE_MB=$((MEM_USAGE / 1024 / 1024))\n\n  echo \"$(date): CPU=${CPU_USAGE}ns, Memory=${MEM_USAGE_MB}MB\"\n  sleep 5\ndone\n\necho \"Process completed\"\n</code></pre> <p>\uc0ac\uc6a9 \uc608: <pre><code># CPU shares 1024, Memory 2GB\ub85c stress \ud14c\uc2a4\ud2b8 \uc2e4\ud589\n./cgroup-manager.sh my_test 1024 2 \"stress-ng --cpu 4 --vm 2 --vm-bytes 1G --timeout 60s\"\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#2-python-nova-scheduler","title":"\uc608\uc81c 2: Python\uc73c\ub85c Nova Scheduler \uc2dc\ubbac\ub808\uc774\uc158","text":"<pre><code>#!/usr/bin/env python3\n# nova-scheduler-sim.py\n\nclass Host:\n    def __init__(self, name, vcpus, ram_mb, disk_gb):\n        self.name = name\n        self.vcpus = vcpus\n        self.vcpus_used = 0\n        self.ram_mb = ram_mb\n        self.ram_mb_used = 0\n        self.disk_gb = disk_gb\n        self.disk_gb_used = 0\n        self.instances = []\n\n    def available_vcpus(self):\n        return self.vcpus - self.vcpus_used\n\n    def available_ram(self):\n        return self.ram_mb - self.ram_mb_used\n\n    def available_disk(self):\n        return self.disk_gb - self.disk_gb_used\n\n    def can_fit(self, vcpus, ram_mb, disk_gb):\n        return (self.available_vcpus() &gt;= vcpus and\n                self.available_ram() &gt;= ram_mb and\n                self.available_disk() &gt;= disk_gb)\n\n    def allocate(self, instance_name, vcpus, ram_mb, disk_gb):\n        if not self.can_fit(vcpus, ram_mb, disk_gb):\n            return False\n\n        self.vcpus_used += vcpus\n        self.ram_mb_used += ram_mb\n        self.disk_gb_used += disk_gb\n        self.instances.append(instance_name)\n        return True\n\n    def __repr__(self):\n        return (f\"Host({self.name}: vCPU={self.vcpus_used}/{self.vcpus}, \"\n                f\"RAM={self.ram_mb_used}/{self.ram_mb}MB, \"\n                f\"Disk={self.disk_gb_used}/{self.disk_gb}GB, \"\n                f\"instances={len(self.instances)})\")\n\n\nclass NovaScheduler:\n    def __init__(self, hosts):\n        self.hosts = hosts\n\n    def filter(self, vcpus, ram_mb, disk_gb):\n        \"\"\"Filter: \ub9ac\uc18c\uc2a4 \uc694\uad6c\uc0ac\ud56d\uc744 \ub9cc\uc871\ud558\ub294 \ud638\uc2a4\ud2b8\ub9cc\"\"\"\n        return [h for h in self.hosts if h.can_fit(vcpus, ram_mb, disk_gb)]\n\n    def weigh(self, hosts, strategy='spread'):\n        \"\"\"Weigh: \uac00\uc911\uce58 \uacc4\uc0b0 \ubc0f \uc815\ub82c\"\"\"\n        if strategy == 'spread':\n            # RAM \ub9ce\uc740 \ud638\uc2a4\ud2b8 \uc6b0\uc120 (spread)\n            return sorted(hosts, key=lambda h: h.available_ram(), reverse=True)\n        elif strategy == 'pack':\n            # RAM \uc801\uc740 \ud638\uc2a4\ud2b8 \uc6b0\uc120 (pack)\n            return sorted(hosts, key=lambda h: h.available_ram())\n        else:\n            return hosts\n\n    def schedule(self, instance_name, vcpus, ram_mb, disk_gb, strategy='spread'):\n        \"\"\"\uc2a4\ucf00\uc904\ub9c1: Filter \u2192 Weigh \u2192 Select\"\"\"\n        # Step 1: Filter\n        candidates = self.filter(vcpus, ram_mb, disk_gb)\n        if not candidates:\n            print(f\"\u274c No suitable host for {instance_name}\")\n            return None\n\n        # Step 2: Weigh\n        ranked = self.weigh(candidates, strategy)\n\n        # Step 3: Select best host\n        selected = ranked[0]\n\n        # Step 4: Allocate\n        if selected.allocate(instance_name, vcpus, ram_mb, disk_gb):\n            print(f\"\u2705 {instance_name} scheduled on {selected.name}\")\n            return selected\n        else:\n            print(f\"\u274c Failed to allocate {instance_name}\")\n            return None\n\n\n# \uc2dc\ubbac\ub808\uc774\uc158\nif __name__ == '__main__':\n    # \ud638\uc2a4\ud2b8 \uc0dd\uc131\n    hosts = [\n        Host('compute-01', vcpus=32, ram_mb=131072, disk_gb=1000),\n        Host('compute-02', vcpus=32, ram_mb=131072, disk_gb=1000),\n        Host('compute-03', vcpus=32, ram_mb=131072, disk_gb=1000),\n    ]\n\n    scheduler = NovaScheduler(hosts)\n\n    # \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \uc694\uccad\n    instances = [\n        ('web-1', 4, 8192, 50),\n        ('web-2', 4, 8192, 50),\n        ('db-1', 8, 32768, 200),\n        ('db-2', 8, 32768, 200),\n        ('cache-1', 2, 4096, 20),\n    ]\n\n    print(\"=== Spread Strategy ===\")\n    for name, vcpus, ram, disk in instances:\n        scheduler.schedule(name, vcpus, ram, disk, strategy='spread')\n\n    print(\"\\n=== Host Status ===\")\n    for host in hosts:\n        print(host)\n\n    # \ub9ac\uc14b \ud6c4 Pack \uc804\ub7b5 \ud14c\uc2a4\ud2b8\n    hosts = [\n        Host('compute-01', vcpus=32, ram_mb=131072, disk_gb=1000),\n        Host('compute-02', vcpus=32, ram_mb=131072, disk_gb=1000),\n        Host('compute-03', vcpus=32, ram_mb=131072, disk_gb=1000),\n    ]\n    scheduler = NovaScheduler(hosts)\n\n    print(\"\\n=== Pack Strategy ===\")\n    for name, vcpus, ram, disk in instances:\n        scheduler.schedule(name, vcpus, ram, disk, strategy='pack')\n\n    print(\"\\n=== Host Status ===\")\n    for host in hosts:\n        print(host)\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc: <pre><code>=== Spread Strategy ===\n\u2705 web-1 scheduled on compute-01\n\u2705 web-2 scheduled on compute-02\n\u2705 db-1 scheduled on compute-03\n\u2705 db-2 scheduled on compute-01\n\u2705 cache-1 scheduled on compute-02\n\n=== Host Status ===\nHost(compute-01: vCPU=12/32, RAM=40960/131072MB, Disk=250/1000GB, instances=2)\nHost(compute-02: vCPU=6/32, RAM=12288/131072MB, Disk=70/1000GB, instances=2)\nHost(compute-03: vCPU=8/32, RAM=32768/131072MB, Disk=200/1000GB, instances=1)\n\n=== Pack Strategy ===\n\u2705 web-1 scheduled on compute-01\n\u2705 web-2 scheduled on compute-01\n\u2705 db-1 scheduled on compute-01\n\u2705 db-2 scheduled on compute-01\n\u2705 cache-1 scheduled on compute-01\n\n=== Host Status ===\nHost(compute-01: vCPU=26/32, RAM=85504/131072MB, Disk=520/1000GB, instances=5)\nHost(compute-02: vCPU=0/32, RAM=0/131072MB, Disk=0/1000GB, instances=0)\nHost(compute-03: vCPU=0/32, RAM=0/131072MB, Disk=0/1000GB, instances=0)\n</code></pre></p>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ol> <li>Linux Kernel Scheduler</li> <li>CFS Scheduler Documentation</li> <li>CFS Bandwidth Control</li> <li> <p>CFS Group Scheduling</p> </li> <li> <p>cgroups</p> </li> <li>Red Hat Resource Management Guide</li> <li> <p>Control Groups v2</p> </li> <li> <p>OpenStack Nova Scheduler</p> </li> <li>Compute Schedulers</li> <li>Filter Scheduler</li> <li>2025.1 Release Notes</li> </ol>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#2025-best-practices","title":"2025 Best Practices","text":"<ol> <li>Evaluating Memory Overcommitment in OpenShift Virtualization</li> <li>Memory Management in OpenShift Virtualization</li> <li>Boost OpenShift Database VM Density with Memory Overcommit</li> <li>Optimizing Memory Overcommitment and Swap in OpenShift</li> </ol>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_7","title":"\uc5f0\uad6c \ub17c\ubb38","text":"<ol> <li>Mitigating Context Switching in Densely Packed Linux Clusters (2025)</li> </ol>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_8","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_9","title":"\uae30\ubcf8 \uac1c\ub150","text":"<ul> <li> CFS\uc5d0\uc11c EEVDF\ub85c\uc758 \uc804\ud658 \uc774\ud574 (Linux 6.6+)</li> <li> \uc2a4\ucf00\uc904\ub9c1 \ud074\ub798\uc2a4 (SCHED_DEADLINE, FIFO, RR, OTHER)</li> <li> Nice \uac12\uacfc \ucee4\ub110 \uc6b0\uc120\uc21c\uc704 \ub9e4\ud551</li> <li> Context switching \uac1c\ub150 \ubc0f \ube44\uc6a9</li> </ul>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#cgroups","title":"cgroups","text":"<ul> <li> cgroups v1 vs v2 \ucc28\uc774\uc810</li> <li> CPU \uc81c\uc5b4 (shares, quota, cpuset)</li> <li> \uba54\ubaa8\ub9ac \uc81c\uc5b4 (limit, OOM control)</li> <li> I/O \uc81c\uc5b4 (blkio weight, throttle)</li> <li> systemd\uc640 cgroups \ud1b5\ud569</li> </ul>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#openstack-nova-scheduler","title":"OpenStack Nova Scheduler","text":"<ul> <li> Filter Scheduler \uc544\ud0a4\ud14d\ucc98</li> <li> \uc8fc\uc694 \ud544\ud130 (Availability Zone, NUMA, PCI \ub4f1)</li> <li> Weigher \ubc0f \uac00\uc911\uce58 \uacc4\uc0b0</li> <li> Host Aggregates \ubc0f \uba54\ud0c0\ub370\uc774\ud130 \ud65c\uc6a9</li> <li> Placement API \uc5ed\ud560</li> </ul>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_10","title":"\uc624\ubc84\ucee4\ubc0b","text":"<ul> <li> CPU \uc624\ubc84\ucee4\ubc0b \ube44\uc728 \uacb0\uc815 (1:1 ~ 5:1)</li> <li> \uba54\ubaa8\ub9ac \uc624\ubc84\ucee4\ubc0b \uc704\ud5d8\uc131 \uc774\ud574</li> <li> SWAP \ubc0f WASP \uc124\uc815</li> <li> \uc624\ubc84\ucee4\ubc0b \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc870\uc815</li> </ul>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#qos","title":"QoS","text":"<ul> <li> CPU QoS (shares, quota)</li> <li> Memory QoS (limits, OOM score)</li> <li> I/O QoS (ionice, blkio)</li> <li> \uc6b0\uc120\uc21c\uc704 \uae30\ubc18 \ub9ac\uc18c\uc2a4 \ud560\ub2f9</li> </ul>"},{"location":"computing-service/Ch3.%EC%8A%A4%EC%BC%80%EC%A4%84%EB%A7%81/#_11","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Computing Service\uc758 \uc808\ubc18 \uc774\uc0c1\uc744 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4 (3/7)! \ub2e4\uc74c\uc740:</p> <ol> <li>Ch4.Cloud_Native_\ucef4\ud4e8\ud305.md</li> <li>Kubernetes Operator \ud328\ud134</li> <li>CRD \ubc0f Custom Controller</li> <li> <p>\uc120\uc5b8\uc801 API \uc124\uacc4</p> </li> <li> <p>\uc2ec\ud654 \uc8fc\uc81c</p> </li> <li>BPF (Berkeley Packet Filter): \ucee4\ub110 \ub808\ubca8 \ubaa8\ub2c8\ud130\ub9c1</li> <li>Latency-Aware Scheduling: \uc9c0\uc5f0 \uc2dc\uac04 \ucd5c\uc801\ud654</li> <li> <p>NUMA-aware Scheduling: \uba40\ud2f0\uc18c\ucf13 \ucd5c\uc801\ud654</p> </li> <li> <p>\uc2e4\uc804 \ud504\ub85c\uc81d\ud2b8</p> </li> <li>Nova Scheduler \ucee4\uc2a4\ud140 \ud544\ud130 \uac1c\ubc1c</li> <li>cgroups \uae30\ubc18 \uba40\ud2f0\ud14c\ub10c\ud2b8 \ub9ac\uc18c\uc2a4 \uaca9\ub9ac</li> <li>\uc624\ubc84\ucee4\ubc0b \uc790\ub3d9 \uc870\uc815 \uc2dc\uc2a4\ud15c</li> </ol> <p>\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: 2025-11-24 \ub2e4\uc74c \ucc55\ud130: Ch4.Cloud_Native_\ucef4\ud4e8\ud305.md</p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/","title":"Ch4. Cloud Native \ucef4\ud4e8\ud305","text":""},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>Cloud Native \ucef4\ud4e8\ud305\uc740 \ucee8\ud14c\uc774\ub108 \uae30\ubc18\uc758 \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud558\uace0 \uc6b4\uc601\ud558\ub294 \ud604\ub300\uc801\uc778 \uc811\uadfc \ubc29\uc2dd\uc785\ub2c8\ub2e4. \ubcf8 \uc7a5\uc5d0\uc11c\ub294 Kubernetes Operator \ud328\ud134\uc758 \ud575\uc2ec \uac1c\ub150\uc778 Custom Resource Definitions (CRD)\uc640 Controller\ub97c \uc911\uc2ec\uc73c\ub85c, \uc120\uc5b8\uc801 API \uc124\uacc4, Reconciliation Loop, \uadf8\ub9ac\uace0 \uc6b4\uc601 \uc9c0\uc2dd\uc744 \ucf54\ub4dc\ub85c \ud45c\ud604\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Kubernetes 1.30+ \ud658\uacbd\uc5d0\uc11c CEL (Common Expression Language) \uac80\uc99d, Server-Side Apply (SSA), \uadf8\ub9ac\uace0 **controller-runtime 0.21.0**\uc744 \uae30\ubc18\uc73c\ub85c \ud55c Operator \uac1c\ubc1c\uc774 \ud45c\uc900\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<ol> <li>Operator \ud328\ud134 \uc774\ud574</li> <li>Operator\ub780 \ubb34\uc5c7\uc778\uac00</li> <li>Controller vs Operator \ucc28\uc774\uc810</li> <li> <p>\uc6b4\uc601 \uc9c0\uc2dd\uc758 \ucf54\ub4dc\ud654</p> </li> <li> <p>CRD (Custom Resource Definition)</p> </li> <li>CRD \uc124\uacc4 \uc6d0\uce59</li> <li>Spec\uacfc Status \ubd84\ub9ac</li> <li>CEL \uac80\uc99d (2025 \ud544\uc218)</li> <li> <p>Subresource (status, scale)</p> </li> <li> <p>Controller \uac1c\ubc1c</p> </li> <li>Reconciliation Loop \ud328\ud134</li> <li>Informer \ubc0f Workqueue</li> <li>Event-driven \uc544\ud0a4\ud14d\ucc98</li> <li> <p>\uc5d0\ub7ec \ucc98\ub9ac \ubc0f \uc7ac\uc2dc\ub3c4</p> </li> <li> <p>\uc2e4\uc804 Operator \uac1c\ubc1c</p> </li> <li>Kubebuilder \uc2a4\uce90\ud3f4\ub529</li> <li>RBAC \uad8c\ud55c \uc124\uc815</li> <li>Finalizer\ub97c \ud1b5\ud55c \ub9ac\uc18c\uc2a4 \uc815\ub9ac</li> <li> <p>Status Conditions</p> </li> <li> <p>\ubc30\ud3ec \ubc0f \uc6b4\uc601</p> </li> <li>Operator Lifecycle Manager (OLM)</li> <li>Webhook (Admission &amp; Conversion)</li> <li>\uba54\ud2b8\ub9ad \ubc0f \ubaa8\ub2c8\ud130\ub9c1</li> <li>\uc5c5\uadf8\ub808\uc774\ub4dc \uc804\ub7b5</li> </ol>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#part-1-operator","title":"Part 1: Operator \ud328\ud134 \uc18c\uac1c","text":""},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#11-operator","title":"1.1 Operator\ub780?","text":"<p>\uc815\uc758 (Kubernetes \uacf5\uc2dd):</p> <p>Operators are software extensions to Kubernetes that make use of custom resources to manage applications and their components. Operators follow Kubernetes principles, notably the control loop.</p> <p>\ud575\uc2ec \uac1c\ub150: <pre><code>Operator = Custom Resource Definition (CRD) + Controller\n</code></pre></p> <p>Operator\uc758 \uc5ed\ud560:</p> <ul> <li>\uc6b4\uc601 \uc9c0\uc2dd\uc758 \uc790\ub3d9\ud654: \uc0ac\ub78c\uc774 \uc218\ud589\ud558\ub358 \uc6b4\uc601 \uc791\uc5c5\uc744 \ucf54\ub4dc\ub85c \uad6c\ud604</li> <li>\uc120\uc5b8\uc801 \uad00\ub9ac: \uc6d0\ud558\ub294 \uc0c1\ud0dc\ub97c \uc815\uc758\ud558\uba74 Operator\uac00 \uc790\ub3d9\uc73c\ub85c \uc870\uc815</li> <li>\uc9c0\uc18d\uc801 \uc870\uc815: \uc7a5\uc560 \ubcf5\uad6c, \uc5c5\uadf8\ub808\uc774\ub4dc, \uc2a4\ucf00\uc77c\ub9c1 \uc790\ub3d9\ud654</li> </ul>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#12-controller-vs-operator","title":"1.2 Controller vs Operator","text":"\ud2b9\uc9d5 Controller Operator \uc815\uc758 Built-in \ub9ac\uc18c\uc2a4 \uad00\ub9ac Custom \ub9ac\uc18c\uc2a4 \uad00\ub9ac \uc608\uc2dc Deployment Controller MySQL Operator CRD \ubd88\ud544\uc694 \ud544\uc218 \ubcf5\uc7a1\ub3c4 \ub0ae\uc74c \ub192\uc74c (\ub3c4\uba54\uc778 \uc9c0\uc2dd \ud544\uc694) \uc0ac\uc6a9 \uc0ac\ub840 Pod, Service \uad00\ub9ac DB, Cache, \uc571 \uc6b4\uc601 <p>Controller \uc608\uc2dc (\ub0b4\uc7a5): <pre><code>Deployment Controller:\n  Watch: Deployment\n  Reconcile: ReplicaSet \uc0dd\uc131/\uc5c5\ub370\uc774\ud2b8\n</code></pre></p> <p>Operator \uc608\uc2dc (\ucee4\uc2a4\ud140): <pre><code>MySQL Operator:\n  Watch: MySQL CRD\n  Reconcile:\n    - StatefulSet \uc0dd\uc131\n    - PVC \uc0dd\uc131\n    - \ubc31\uc5c5 \uc2a4\ucf00\uc904\ub9c1\n    - \ubcf5\uc81c \uc124\uc815\n    - \uc5c5\uadf8\ub808\uc774\ub4dc \uc218\ud589\n</code></pre></p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#13-operator-capability-levels","title":"1.3 Operator Capability Levels","text":"<p>\uc131\uc219\ub3c4 \ubaa8\ub378 (Operator Framework): <pre><code>Level 1: Basic Install\n  \u2514\u2500 CRD \uc0dd\uc131, \uae30\ubcf8 \ubc30\ud3ec\n\nLevel 2: Seamless Upgrades\n  \u2514\u2500 \uc790\ub3d9 \uc5c5\uadf8\ub808\uc774\ub4dc\n\nLevel 3: Full Lifecycle\n  \u2514\u2500 \ubc31\uc5c5, \ubcf5\uc6d0, \ubaa8\ub2c8\ud130\ub9c1\n\nLevel 4: Deep Insights\n  \u2514\u2500 \uba54\ud2b8\ub9ad, \uc54c\ub7ec\ud2b8, \ub85c\uadf8 \ud1b5\ud569\n\nLevel 5: Auto Pilot\n  \u2514\u2500 \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1, \uc790\uac00 \uce58\uc720, \ud29c\ub2dd\n</code></pre></p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#part-2-crd-custom-resource-definition","title":"Part 2: CRD (Custom Resource Definition)","text":""},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#21-crd","title":"2.1 CRD \uae30\ubcf8 \uad6c\uc870","text":"<p>CRD YAML: <pre><code>apiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  name: mysqls.database.example.com\nspec:\n  group: database.example.com\n  names:\n    kind: MySQL\n    listKind: MySQLList\n    plural: mysqls\n    singular: mysql\n    shortNames:\n      - msql\n  scope: Namespaced\n  versions:\n    - name: v1\n      served: true\n      storage: true\n      schema:\n        openAPIV3Schema:\n          type: object\n          properties:\n            spec:\n              type: object\n              required:\n                - version\n                - storageSize\n              properties:\n                version:\n                  type: string\n                  enum:\n                    - \"8.0\"\n                    - \"8.4\"\n                  description: MySQL version\n                storageSize:\n                  type: string\n                  pattern: '^[0-9]+Gi$'\n                  description: Storage size (e.g., 10Gi)\n                replicas:\n                  type: integer\n                  minimum: 1\n                  maximum: 10\n                  default: 1\n            status:\n              type: object\n              properties:\n                phase:\n                  type: string\n                  enum:\n                    - Pending\n                    - Running\n                    - Failed\n                conditions:\n                  type: array\n                  items:\n                    type: object\n                    properties:\n                      type:\n                        type: string\n                      status:\n                        type: string\n                      lastTransitionTime:\n                        type: string\n                        format: date-time\n                      reason:\n                        type: string\n                      message:\n                        type: string\n      subresources:\n        status: {}  # /status subresource \ud65c\uc131\ud654\n        scale:      # kubectl scale \uc9c0\uc6d0\n          specReplicasPath: .spec.replicas\n          statusReplicasPath: .status.replicas\n      additionalPrinterColumns:\n        - name: Version\n          type: string\n          jsonPath: .spec.version\n        - name: Status\n          type: string\n          jsonPath: .status.phase\n        - name: Age\n          type: date\n          jsonPath: .metadata.creationTimestamp\n</code></pre></p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#22-cel-2025","title":"2.2 CEL \uac80\uc99d (2025 \ud544\uc218)","text":"<p>CEL (Common Expression Language): 2025\ub144 Kubernetes 1.25+\uc5d0\uc11c \uac15\ub825\ud788 \uad8c\uc7a5\ub418\ub294 \uc120\uc5b8\uc801 \uac80\uc99d \ubc29\ubc95\uc785\ub2c8\ub2e4.</p> <pre><code>spec:\n  versions:\n    - name: v1\n      schema:\n        openAPIV3Schema:\n          type: object\n          properties:\n            spec:\n              type: object\n              properties:\n                version:\n                  type: string\n                storageSize:\n                  type: string\n                replicas:\n                  type: integer\n              # CEL \uac80\uc99d \uaddc\uce59\n              x-kubernetes-validations:\n                # replicas\uac00 1\uc774\uba74 storageSize &gt;= 10Gi\n                - rule: \"self.replicas == 1 || int(self.storageSize.replace('Gi', '')) &gt;= 20\"\n                  message: \"Multi-replica setup requires at least 20Gi storage\"\n\n                # version 8.4\ub294 replicas &gt;= 3 \ud544\uc694\n                - rule: \"self.version != '8.4' || self.replicas &gt;= 3\"\n                  message: \"MySQL 8.4 requires at least 3 replicas for HA\"\n\n                # storageSize \uc99d\uac00\ub9cc \ud5c8\uc6a9 (\uac10\uc18c \ubd88\uac00)\n                - rule: \"!has(oldSelf.storageSize) || int(self.storageSize.replace('Gi', '')) &gt;= int(oldSelf.storageSize.replace('Gi', ''))\"\n                  message: \"Storage size cannot be decreased\"\n</code></pre>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#23-custom-resource","title":"2.3 Custom Resource \uc608\uc2dc","text":"<p>MySQL CR (\uc0dd\uc131 \uc694\uccad): <pre><code>apiVersion: database.example.com/v1\nkind: MySQL\nmetadata:\n  name: my-database\n  namespace: production\nspec:\n  version: \"8.0\"\n  storageSize: \"50Gi\"\n  replicas: 3\n  backup:\n    enabled: true\n    schedule: \"0 2 * * *\"  # \ub9e4\uc77c \uc0c8\ubcbd 2\uc2dc\n    retention: 7\n</code></pre></p> <p>Controller\uac00 \uc0dd\uc131\ud55c Status: <pre><code>status:\n  phase: Running\n  replicas: 3\n  conditions:\n    - type: Ready\n      status: \"True\"\n      lastTransitionTime: \"2025-11-24T10:00:00Z\"\n      reason: AllPodsReady\n      message: \"All 3 replicas are running\"\n    - type: BackupScheduled\n      status: \"True\"\n      lastTransitionTime: \"2025-11-24T10:01:00Z\"\n      reason: CronJobCreated\n      message: \"Backup CronJob created successfully\"\n  masterPod: my-database-0\n  lastBackup: \"2025-11-24T02:00:00Z\"\n</code></pre></p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#part-3-controller","title":"Part 3: Controller \uac1c\ubc1c","text":""},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#31-reconciliation-loop","title":"3.1 Reconciliation Loop","text":"<p>\ud575\uc2ec \ud328\ud134: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Kubernetes API Server            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502 Watch Events\n             \u2502 (Add, Update, Delete)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Informer                        \u2502\n\u2502  - Local Cache                            \u2502\n\u2502  - Event Handler                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502 Enqueue\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Workqueue                        \u2502\n\u2502  - Rate Limiting                          \u2502\n\u2502  - Retry Logic                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502 Dequeue\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Reconcile() Function                   \u2502\n\u2502  1. Get Current State (CR, Pods, etc.)   \u2502\n\u2502  2. Compare with Desired State           \u2502\n\u2502  3. Take Actions (Create/Update/Delete)  \u2502\n\u2502  4. Update Status                         \u2502\n\u2502  5. Return (Requeue or Done)             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#32-reconcile-go","title":"3.2 Reconcile \ud568\uc218 \uad6c\uc870 (Go)","text":"<pre><code>package controllers\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"time\"\n\n    appsv1 \"k8s.io/api/apps/v1\"\n    corev1 \"k8s.io/api/core/v1\"\n    \"k8s.io/apimachinery/pkg/api/errors\"\n    metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n    \"k8s.io/apimachinery/pkg/runtime\"\n    ctrl \"sigs.k8s.io/controller-runtime\"\n    \"sigs.k8s.io/controller-runtime/pkg/client\"\n    \"sigs.k8s.io/controller-runtime/pkg/log\"\n\n    databasev1 \"example.com/mysql-operator/api/v1\"\n)\n\ntype MySQLReconciler struct {\n    client.Client\n    Scheme *runtime.Scheme\n}\n\n// +kubebuilder:rbac:groups=database.example.com,resources=mysqls,verbs=get;list;watch;create;update;patch;delete\n// +kubebuilder:rbac:groups=database.example.com,resources=mysqls/status,verbs=get;update;patch\n// +kubebuilder:rbac:groups=database.example.com,resources=mysqls/finalizers,verbs=update\n// +kubebuilder:rbac:groups=apps,resources=statefulsets,verbs=get;list;watch;create;update;patch;delete\n// +kubebuilder:rbac:groups=core,resources=services,verbs=get;list;watch;create;update;patch;delete\n// +kubebuilder:rbac:groups=core,resources=persistentvolumeclaims,verbs=get;list;watch\n\nfunc (r *MySQLReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {\n    logger := log.FromContext(ctx)\n    logger.Info(\"Reconciling MySQL\", \"name\", req.Name, \"namespace\", req.Namespace)\n\n    // 1. Fetch the MySQL instance\n    mysql := &amp;databasev1.MySQL{}\n    if err := r.Get(ctx, req.NamespacedName, mysql); err != nil {\n        if errors.IsNotFound(err) {\n            // Object not found, probably deleted\n            logger.Info(\"MySQL resource not found, ignoring\")\n            return ctrl.Result{}, nil\n        }\n        // Error reading the object\n        logger.Error(err, \"Failed to get MySQL\")\n        return ctrl.Result{}, err\n    }\n\n    // 2. Check if the resource is being deleted (Finalizer pattern)\n    if mysql.ObjectMeta.DeletionTimestamp.IsZero() {\n        // Not being deleted, ensure finalizer\n        if !containsString(mysql.ObjectMeta.Finalizers, \"mysql.database.example.com/finalizer\") {\n            mysql.ObjectMeta.Finalizers = append(mysql.ObjectMeta.Finalizers, \"mysql.database.example.com/finalizer\")\n            if err := r.Update(ctx, mysql); err != nil {\n                return ctrl.Result{}, err\n            }\n        }\n    } else {\n        // Being deleted\n        if containsString(mysql.ObjectMeta.Finalizers, \"mysql.database.example.com/finalizer\") {\n            // Perform cleanup\n            if err := r.cleanupMySQL(ctx, mysql); err != nil {\n                return ctrl.Result{}, err\n            }\n\n            // Remove finalizer\n            mysql.ObjectMeta.Finalizers = removeString(mysql.ObjectMeta.Finalizers, \"mysql.database.example.com/finalizer\")\n            if err := r.Update(ctx, mysql); err != nil {\n                return ctrl.Result{}, err\n            }\n        }\n        return ctrl.Result{}, nil\n    }\n\n    // 3. Reconcile StatefulSet\n    if err := r.reconcileStatefulSet(ctx, mysql); err != nil {\n        logger.Error(err, \"Failed to reconcile StatefulSet\")\n        r.updateStatus(ctx, mysql, \"Failed\", err.Error())\n        return ctrl.Result{RequeueAfter: 30 * time.Second}, err\n    }\n\n    // 4. Reconcile Service\n    if err := r.reconcileService(ctx, mysql); err != nil {\n        logger.Error(err, \"Failed to reconcile Service\")\n        return ctrl.Result{RequeueAfter: 30 * time.Second}, err\n    }\n\n    // 5. Update Status\n    if err := r.updateStatus(ctx, mysql, \"Running\", \"MySQL is running\"); err != nil {\n        logger.Error(err, \"Failed to update status\")\n        return ctrl.Result{}, err\n    }\n\n    logger.Info(\"Reconciliation completed successfully\")\n    return ctrl.Result{}, nil\n}\n\nfunc (r *MySQLReconciler) reconcileStatefulSet(ctx context.Context, mysql *databasev1.MySQL) error {\n    // Desired StatefulSet\n    desired := r.createStatefulSet(mysql)\n\n    // Check if StatefulSet exists\n    found := &amp;appsv1.StatefulSet{}\n    err := r.Get(ctx, client.ObjectKeyFromObject(desired), found)\n\n    if err != nil &amp;&amp; errors.IsNotFound(err) {\n        // Create\n        if err := ctrl.SetControllerReference(mysql, desired, r.Scheme); err != nil {\n            return err\n        }\n        return r.Create(ctx, desired)\n    } else if err != nil {\n        return err\n    }\n\n    // Update if necessary\n    if found.Spec.Replicas == nil || *found.Spec.Replicas != *desired.Spec.Replicas {\n        found.Spec.Replicas = desired.Spec.Replicas\n        return r.Update(ctx, found)\n    }\n\n    return nil\n}\n\nfunc (r *MySQLReconciler) createStatefulSet(mysql *databasev1.MySQL) *appsv1.StatefulSet {\n    labels := map[string]string{\n        \"app\": \"mysql\",\n        \"instance\": mysql.Name,\n    }\n\n    return &amp;appsv1.StatefulSet{\n        ObjectMeta: metav1.ObjectMeta{\n            Name:      mysql.Name,\n            Namespace: mysql.Namespace,\n            Labels:    labels,\n        },\n        Spec: appsv1.StatefulSetSpec{\n            Replicas: &amp;mysql.Spec.Replicas,\n            Selector: &amp;metav1.LabelSelector{\n                MatchLabels: labels,\n            },\n            ServiceName: mysql.Name,\n            Template: corev1.PodTemplateSpec{\n                ObjectMeta: metav1.ObjectMeta{\n                    Labels: labels,\n                },\n                Spec: corev1.PodSpec{\n                    Containers: []corev1.Container{\n                        {\n                            Name:  \"mysql\",\n                            Image: fmt.Sprintf(\"mysql:%s\", mysql.Spec.Version),\n                            Env: []corev1.EnvVar{\n                                {\n                                    Name:  \"MYSQL_ROOT_PASSWORD\",\n                                    Value: \"changeme\",  // Should use Secret\n                                },\n                            },\n                            Ports: []corev1.ContainerPort{\n                                {\n                                    Name:          \"mysql\",\n                                    ContainerPort: 3306,\n                                },\n                            },\n                            VolumeMounts: []corev1.VolumeMount{\n                                {\n                                    Name:      \"data\",\n                                    MountPath: \"/var/lib/mysql\",\n                                },\n                            },\n                        },\n                    },\n                },\n            },\n            VolumeClaimTemplates: []corev1.PersistentVolumeClaim{\n                {\n                    ObjectMeta: metav1.ObjectMeta{\n                        Name: \"data\",\n                    },\n                    Spec: corev1.PersistentVolumeClaimSpec{\n                        AccessModes: []corev1.PersistentVolumeAccessMode{\n                            corev1.ReadWriteOnce,\n                        },\n                        Resources: corev1.VolumeResourceRequirements{\n                            Requests: corev1.ResourceList{\n                                corev1.ResourceStorage: resource.MustParse(mysql.Spec.StorageSize),\n                            },\n                        },\n                    },\n                },\n            },\n        },\n    }\n}\n\nfunc (r *MySQLReconciler) updateStatus(ctx context.Context, mysql *databasev1.MySQL, phase, message string) error {\n    mysql.Status.Phase = phase\n    mysql.Status.Conditions = []metav1.Condition{\n        {\n            Type:               \"Ready\",\n            Status:             metav1.ConditionTrue,\n            LastTransitionTime: metav1.Now(),\n            Reason:             phase,\n            Message:            message,\n        },\n    }\n    return r.Status().Update(ctx, mysql)\n}\n\nfunc (r *MySQLReconciler) SetupWithManager(mgr ctrl.Manager) error {\n    return ctrl.NewControllerManagedBy(mgr).\n        For(&amp;databasev1.MySQL{}).\n        Owns(&amp;appsv1.StatefulSet{}).\n        Owns(&amp;corev1.Service{}).\n        Complete(r)\n}\n\n// Helper functions\nfunc containsString(slice []string, s string) bool {\n    for _, item := range slice {\n        if item == s {\n            return true\n        }\n    }\n    return false\n}\n\nfunc removeString(slice []string, s string) []string {\n    result := []string{}\n    for _, item := range slice {\n        if item != s {\n            result = append(result, item)\n        }\n    }\n    return result\n}\n</code></pre>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#part-4-kubebuilder-operator","title":"Part 4: Kubebuilder\ub85c Operator \uac1c\ubc1c","text":""},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#41-kubebuilder","title":"4.1 Kubebuilder \ucd08\uae30\ud654","text":"<pre><code># 1. Kubebuilder \uc124\uce58\ncurl -L -o kubebuilder https://go.kubebuilder.io/dl/latest/$(go env GOOS)/$(go env GOARCH)\nchmod +x kubebuilder &amp;&amp; sudo mv kubebuilder /usr/local/bin/\n\n# 2. \ud504\ub85c\uc81d\ud2b8 \ucd08\uae30\ud654\nmkdir mysql-operator &amp;&amp; cd mysql-operator\nkubebuilder init --domain example.com --repo example.com/mysql-operator\n\n# 3. API (CRD) \uc0dd\uc131\nkubebuilder create api --group database --version v1 --kind MySQL\n\n# Create Resource [y/n]: y\n# Create Controller [y/n]: y\n\n# \uc0dd\uc131\ub41c \ud30c\uc77c \uad6c\uc870:\n# mysql-operator/\n# \u251c\u2500\u2500 api/\n# \u2502   \u2514\u2500\u2500 v1/\n# \u2502       \u251c\u2500\u2500 mysql_types.go       # CRD \uc815\uc758\n# \u2502       \u2514\u2500\u2500 zz_generated.deepcopy.go\n# \u251c\u2500\u2500 internal/controller/\n# \u2502   \u2514\u2500\u2500 mysql_controller.go      # Controller \ub85c\uc9c1\n# \u251c\u2500\u2500 config/\n# \u2502   \u251c\u2500\u2500 crd/                     # CRD YAML\n# \u2502   \u251c\u2500\u2500 rbac/                    # RBAC \uc124\uc815\n# \u2502   \u251c\u2500\u2500 manager/                 # Deployment\n# \u2502   \u2514\u2500\u2500 samples/                 # CR \uc608\uc2dc\n# \u251c\u2500\u2500 Dockerfile\n# \u251c\u2500\u2500 Makefile\n# \u2514\u2500\u2500 main.go\n</code></pre>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#42-crd-apiv1mysql_typesgo","title":"4.2 CRD \ud0c0\uc785 \uc815\uc758 (api/v1/mysql_types.go)","text":"<pre><code>package v1\n\nimport (\n    metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n)\n\n// MySQLSpec defines the desired state of MySQL\ntype MySQLSpec struct {\n    // +kubebuilder:validation:Enum=8.0;8.4\n    // +kubebuilder:validation:Required\n    Version string `json:\"version\"`\n\n    // +kubebuilder:validation:Pattern=`^[0-9]+Gi$`\n    // +kubebuilder:validation:Required\n    StorageSize string `json:\"storageSize\"`\n\n    // +kubebuilder:validation:Minimum=1\n    // +kubebuilder:validation:Maximum=10\n    // +kubebuilder:default=1\n    Replicas int32 `json:\"replicas,omitempty\"`\n\n    // Backup configuration\n    Backup *BackupSpec `json:\"backup,omitempty\"`\n}\n\ntype BackupSpec struct {\n    Enabled   bool   `json:\"enabled\"`\n    Schedule  string `json:\"schedule\"`     // Cron format\n    Retention int    `json:\"retention\"`    // Days\n}\n\n// MySQLStatus defines the observed state of MySQL\ntype MySQLStatus struct {\n    // +kubebuilder:validation:Enum=Pending;Running;Failed\n    Phase string `json:\"phase,omitempty\"`\n\n    Conditions []metav1.Condition `json:\"conditions,omitempty\"`\n\n    Replicas     int32  `json:\"replicas,omitempty\"`\n    MasterPod    string `json:\"masterPod,omitempty\"`\n    LastBackup   string `json:\"lastBackup,omitempty\"`\n}\n\n// +kubebuilder:object:root=true\n// +kubebuilder:subresource:status\n// +kubebuilder:subresource:scale:specpath=.spec.replicas,statuspath=.status.replicas\n// +kubebuilder:printcolumn:name=\"Version\",type=string,JSONPath=`.spec.version`\n// +kubebuilder:printcolumn:name=\"Status\",type=string,JSONPath=`.status.phase`\n// +kubebuilder:printcolumn:name=\"Age\",type=date,JSONPath=`.metadata.creationTimestamp`\n// +kubebuilder:resource:shortName=msql\n\n// MySQL is the Schema for the mysqls API\ntype MySQL struct {\n    metav1.TypeMeta   `json:\",inline\"`\n    metav1.ObjectMeta `json:\"metadata,omitempty\"`\n\n    Spec   MySQLSpec   `json:\"spec,omitempty\"`\n    Status MySQLStatus `json:\"status,omitempty\"`\n}\n\n// +kubebuilder:object:root=true\n\n// MySQLList contains a list of MySQL\ntype MySQLList struct {\n    metav1.TypeMeta `json:\",inline\"`\n    metav1.ListMeta `json:\"metadata,omitempty\"`\n    Items           []MySQL `json:\"items\"`\n}\n\nfunc init() {\n    SchemeBuilder.Register(&amp;MySQL{}, &amp;MySQLList{})\n}\n</code></pre>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#43","title":"4.3 \ube4c\ub4dc \ubc0f \ubc30\ud3ec","text":"<pre><code># 1. CRD \uc0dd\uc131 (manifests \uc0dd\uc131)\nmake manifests\n\n# 2. \ub85c\uceec \ud14c\uc2a4\ud2b8 (\ud074\ub7ec\uc2a4\ud130 \uc678\ubd80\uc5d0\uc11c \uc2e4\ud589)\nmake install  # CRD\ub97c \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc124\uce58\nmake run      # Controller \ub85c\uceec \uc2e4\ud589\n\n# 3. Docker \uc774\ubbf8\uc9c0 \ube4c\ub4dc\nmake docker-build docker-push IMG=myregistry/mysql-operator:v1.0.0\n\n# 4. \ud074\ub7ec\uc2a4\ud130\uc5d0 \ubc30\ud3ec\nmake deploy IMG=myregistry/mysql-operator:v1.0.0\n\n# 5. CR \uc0dd\uc131 \ud14c\uc2a4\ud2b8\nkubectl apply -f config/samples/database_v1_mysql.yaml\n\n# 6. \ub85c\uadf8 \ud655\uc778\nkubectl logs -n mysql-operator-system deployment/mysql-operator-controller-manager -f\n\n# 7. \uc815\ub9ac\nmake undeploy\n</code></pre>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#part-5","title":"Part 5: \uace0\uae09 \uc8fc\uc81c","text":""},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#51-webhook-admission-conversion","title":"5.1 Webhook (Admission &amp; Conversion)","text":"<p>Validating Webhook: <pre><code>// +kubebuilder:webhook:path=/validate-database-example-com-v1-mysql,mutating=false,failurePolicy=fail,groups=database.example.com,resources=mysqls,verbs=create;update,versions=v1,name=vmysql.kb.io,admissionReviewVersions=v1\n\nfunc (r *MySQL) ValidateCreate() (admission.Warnings, error) {\n    // \uc0dd\uc131 \uc2dc \uac80\uc99d\n    if r.Spec.Replicas &gt; 1 &amp;&amp; !strings.HasSuffix(r.Spec.StorageSize, \"Gi\") {\n        return nil, fmt.Errorf(\"invalid storage size format\")\n    }\n    return nil, nil\n}\n\nfunc (r *MySQL) ValidateUpdate(old runtime.Object) (admission.Warnings, error) {\n    // \uc5c5\ub370\uc774\ud2b8 \uc2dc \uac80\uc99d\n    oldMySQL := old.(*MySQL)\n\n    // Storage \uac10\uc18c \ubc29\uc9c0\n    oldSize, _ := strconv.Atoi(strings.TrimSuffix(oldMySQL.Spec.StorageSize, \"Gi\"))\n    newSize, _ := strconv.Atoi(strings.TrimSuffix(r.Spec.StorageSize, \"Gi\"))\n\n    if newSize &lt; oldSize {\n        return nil, fmt.Errorf(\"storage size cannot be decreased\")\n    }\n\n    return nil, nil\n}\n</code></pre></p> <p>Mutating Webhook: <pre><code>// +kubebuilder:webhook:path=/mutate-database-example-com-v1-mysql,mutating=true,failurePolicy=fail,groups=database.example.com,resources=mysqls,verbs=create;update,versions=v1,name=mmysql.kb.io,admissionReviewVersions=v1\n\nfunc (r *MySQL) Default() {\n    // \uae30\ubcf8\uac12 \uc124\uc815\n    if r.Spec.Replicas == 0 {\n        r.Spec.Replicas = 1\n    }\n\n    if r.Spec.Backup == nil {\n        r.Spec.Backup = &amp;BackupSpec{\n            Enabled:   false,\n            Schedule:  \"0 2 * * *\",\n            Retention: 7,\n        }\n    }\n}\n</code></pre></p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#52-2025","title":"5.2 \uba54\ud2b8\ub9ad \ubc0f \ubaa8\ub2c8\ud130\ub9c1 (2025)","text":"<p>controller-runtime 0.21.0+ \uba54\ud2b8\ub9ad: <pre><code>import (\n    \"sigs.k8s.io/controller-runtime/pkg/metrics\"\n    \"github.com/prometheus/client_golang/prometheus\"\n)\n\nvar (\n    mysqlReconcileTotal = prometheus.NewCounterVec(\n        prometheus.CounterOpts{\n            Name: \"mysql_reconcile_total\",\n            Help: \"Total number of reconciliations\",\n        },\n        []string{\"namespace\", \"name\", \"result\"},\n    )\n\n    mysqlReconcileDuration = prometheus.NewHistogramVec(\n        prometheus.HistogramOpts{\n            Name: \"mysql_reconcile_duration_seconds\",\n            Help: \"Reconciliation duration\",\n        },\n        []string{\"namespace\", \"name\"},\n    )\n)\n\nfunc init() {\n    metrics.Registry.MustRegister(mysqlReconcileTotal, mysqlReconcileDuration)\n}\n\nfunc (r *MySQLReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {\n    start := time.Now()\n    defer func() {\n        duration := time.Since(start).Seconds()\n        mysqlReconcileDuration.WithLabelValues(req.Namespace, req.Name).Observe(duration)\n    }()\n\n    // ... reconcile logic ...\n\n    mysqlReconcileTotal.WithLabelValues(req.Namespace, req.Name, \"success\").Inc()\n    return ctrl.Result{}, nil\n}\n</code></pre></p>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#_3","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#_4","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ol> <li>Operator Pattern - Kubernetes</li> <li>Custom Resources - Kubernetes</li> <li>Kubebuilder Book</li> <li>Operator SDK Documentation</li> </ol>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#2025-best-practices","title":"2025 Best Practices","text":"<ol> <li>Kubernetes Operators in 2025: Best Practices</li> <li>Operator Framework 2025 Updates</li> <li>Standardizing CRD Condition Metrics (2025)</li> </ol>"},{"location":"computing-service/Ch4.Cloud_Native_%EC%BB%B4%ED%93%A8%ED%8C%85/#_5","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Operator \ud328\ud134\uc758 \ud575\uc2ec \uac1c\ub150 \uc774\ud574</li> <li> CRD \uc124\uacc4 \ubc0f CEL \uac80\uc99d \uc791\uc131</li> <li> Reconciliation Loop \uad6c\ud604</li> <li> Kubebuilder\ub85c Operator \uc2a4\uce90\ud3f4\ub529</li> <li> Finalizer\ub97c \ud1b5\ud55c \ub9ac\uc18c\uc2a4 \uc815\ub9ac</li> <li> Webhook \uad6c\ud604 (Validating, Mutating)</li> <li> \uba54\ud2b8\ub9ad \ubc0f \ubaa8\ub2c8\ud130\ub9c1 \ud1b5\ud569</li> </ul> <p>\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: 2025-11-24 \ub2e4\uc74c \ucc55\ud130: Ch5.\ud074\ub77c\uc6b0\ub4dc_\uc778\ud504\ub77c_\uc124\uacc4.md</p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/","title":"Ch5. \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4","text":""},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc548\uc815\uc801\uc778 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c\ub97c \uc124\uacc4\ud558\ub294 \uac83\uc740 \ud604\ub300 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc131\uacf5\uc744 \uc704\ud55c \ud575\uc2ec \uc694\uc18c\uc785\ub2c8\ub2e4. \ubcf8 \uc7a5\uc5d0\uc11c\ub294 \uace0\uac00\uc6a9\uc131(HA), \ud655\uc7a5\uc131(Scalability), \uc7a5\uc560 \ubcf5\uad6c(Fault Tolerance)\ub97c \ubcf4\uc7a5\ud558\ub294 \uc544\ud0a4\ud14d\ucc98 \ud328\ud134\uacfc \uc124\uacc4 \uc6d0\uce59\uc744 \ud559\uc2b5\ud558\uace0, \uc2e4\uc81c \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c \uc801\uc6a9 \uac00\ub2a5\ud55c Multi-tier \uc544\ud0a4\ud14d\ucc98\uc640 \ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uc124\uacc4 \uae30\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, AI \uae30\ubc18 \uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1, Platform Engineering, \uadf8\ub9ac\uace0 **Multi-zone/Multi-region \ubc30\ud3ec**\uac00 \ud074\ub77c\uc6b0\ub4dc \uc544\ud0a4\ud14d\ucc98\uc758 \ud45c\uc900\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<ol> <li>\uace0\uac00\uc6a9\uc131(HA) \uc124\uacc4</li> <li>\ub2e8\uc77c \uc7a5\uc560\uc810(SPOF) \uc81c\uac70</li> <li>\ub9ac\ub358\ub358\uc2dc \ubc0f \ubcf5\uc81c</li> <li>\uc790\ub3d9 \uc7a5\uc560 \uc870\uce58(Failover)</li> <li> <p>Zone \ubc0f Region \ubd84\uc0b0</p> </li> <li> <p>\ud655\uc7a5\uc131(Scalability) \ud328\ud134</p> </li> <li>\uc218\ud3c9 \ud655\uc7a5(Scale-out) vs \uc218\uc9c1 \ud655\uc7a5(Scale-up)</li> <li>\uc2a4\ud14c\uc774\ud2b8\ub9ac\uc2a4 \uc124\uacc4</li> <li>\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc0e4\ub529 \ubc0f \ud30c\ud2f0\uc154\ub2dd</li> <li> <p>\uce90\uc2f1 \uc804\ub7b5</p> </li> <li> <p>Multi-tier \uc544\ud0a4\ud14d\ucc98</p> </li> <li>\ud504\ub808\uc820\ud14c\uc774\uc158 \uacc4\uce35</li> <li>\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce35</li> <li>\ub370\uc774\ud130 \uacc4\uce35</li> <li> <p>\uacc4\uce35 \uac04 \ud1b5\uc2e0 \ucd5c\uc801\ud654</p> </li> <li> <p>\ubcf5\uc6d0\ub825(Resilience) \ud328\ud134</p> </li> <li>Circuit Breaker</li> <li>Retry &amp; Timeout</li> <li>Bulkhead</li> <li> <p>Rate Limiting</p> </li> <li> <p>\ube44\uc6a9 \ucd5c\uc801\ud654</p> </li> <li>Right-sizing</li> <li>Reserved Instances vs Spot</li> <li>Auto-scaling \uc815\ucc45</li> <li> <p>FinOps \uc2e4\ucc9c</p> </li> <li> <p>\ubcf4\uc548 \uc544\ud0a4\ud14d\ucc98</p> </li> <li>Zero Trust \ubaa8\ub378</li> <li>Network Segmentation</li> <li>Secrets Management</li> <li>\ubcf4\uc548 \ubaa8\ub2c8\ud130\ub9c1</li> </ol>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#part-1-ha","title":"Part 1: \uace0\uac00\uc6a9\uc131(HA) \uc124\uacc4","text":""},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#11-ha","title":"1.1 HA \uae30\ubcf8 \uc6d0\uce59","text":"<p>\uace0\uac00\uc6a9\uc131\uc758 3\ub300 \uc694\uc18c: <pre><code>1. Redundancy (\ub9ac\ub358\ub358\uc2dc)\n   \u2514\u2500 \uc911\ubcf5 \uad6c\uc131\uc694\uc18c\ub85c \uc7a5\uc560 \ub300\ube44\n\n2. Monitoring (\ubaa8\ub2c8\ud130\ub9c1)\n   \u2514\u2500 \uc7a5\uc560 \uac10\uc9c0 \ubc0f \uc54c\ub9bc\n\n3. Failover (\uc7a5\uc560 \uc870\uce58)\n   \u2514\u2500 \uc790\ub3d9 \ubcf5\uad6c \uba54\ucee4\ub2c8\uc998\n</code></pre></p> <p>\uac00\uc6a9\uc131 \uacc4\uc0b0: <pre><code>Availability % = (Total Time - Downtime) / Total Time \u00d7 100\n\n\uc608\uc2dc:\n\n- 99.9% (Three Nines):  43.2\ubd84 \ub2e4\uc6b4\ud0c0\uc784/\uc6d4\n- 99.99% (Four Nines):  4.32\ubd84 \ub2e4\uc6b4\ud0c0\uc784/\uc6d4\n- 99.999% (Five Nines): 25.9\ucd08 \ub2e4\uc6b4\ud0c0\uc784/\uc6d4\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#12-spof","title":"1.2 \ub2e8\uc77c \uc7a5\uc560\uc810(SPOF) \uc81c\uac70","text":"<p>SPOF \uc2dd\ubcc4 \ubc0f \uc81c\uac70: <pre><code>\u274c Bad Architecture (SPOF \uc874\uc7ac):\n\nInternet\n   \u2502\n   \u25bc\nSingle Load Balancer  \u2190 SPOF!\n   \u2502\n   \u25bc\nSingle Web Server     \u2190 SPOF!\n   \u2502\n   \u25bc\nSingle Database       \u2190 SPOF!\n\n\n\u2705 Good Architecture (SPOF \uc81c\uac70):\n\nInternet\n   \u2502\n   \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Multi-AZ Load Balancer      \u2502  \u2190 HA\n\u2502  (ALB/NLB with 2+ zones)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502             \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n\u2502 Web    \u2502   \u2502 Web    \u2502          \u2190 Auto Scaling Group\n\u2502 Zone A \u2502   \u2502 Zone B \u2502\n\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n    \u2502             \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u25bc\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502   Database  \u2502\n    \u2502   Primary   \u2502              \u2190 Multi-AZ RDS\n    \u2502  (Zone A)   \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502 (Sync Replication)\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502  Database   \u2502\n    \u2502  Standby    \u2502\n    \u2502  (Zone B)   \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#13-multi-zone-multi-region","title":"1.3 Multi-Zone &amp; Multi-Region \ubc30\ud3ec","text":"<p>Zone vs Region: | \uac1c\ub150 | \uc815\uc758 | \uc7a5\uc560 \uaca9\ub9ac | \uc9c0\uc5f0\uc2dc\uac04 | \ube44\uc6a9 | |------|------|----------|---------|------| | Availability Zone | \ub370\uc774\ud130\uc13c\ud130 \ud074\ub7ec\uc2a4\ud130 | \ubb3c\ub9ac\uc801 \uc7a5\uc560 | &lt;2ms | \ub0ae\uc74c | | Region | \uc9c0\ub9ac\uc801\uc73c\ub85c \ubd84\ub9ac\ub41c \uc704\uce58 | \uc7ac\ud574 \uc218\uc900 | 50-300ms | \ub192\uc74c |</p> <p>Multi-Zone \ubc30\ud3ec (\uae30\ubcf8): <pre><code># Kubernetes Deployment with Multi-Zone\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: web-app\nspec:\n  replicas: 6\n  template:\n    spec:\n      # Zone \ubd84\uc0b0 \ubc30\uce58\n      topologySpreadConstraints:\n        - maxSkew: 1\n          topologyKey: topology.kubernetes.io/zone\n          whenUnsatisfiable: DoNotSchedule\n          labelSelector:\n            matchLabels:\n              app: web-app\n      containers:\n        - name: app\n          image: myapp:v1\n          resources:\n            requests:\n              memory: \"256Mi\"\n              cpu: \"250m\"\n\n# \uacb0\uacfc: \uac01 Zone\uc5d0 2\uac1c\uc529 Pod \ubd84\uc0b0\n# Zone A: 2 Pods\n# Zone B: 2 Pods\n# Zone C: 2 Pods\n</code></pre></p> <p>Multi-Region \ubc30\ud3ec (\uace0\uae09): <pre><code>Global Load Balancer (DNS-based)\n    \u2502\n    \u251c\u2500\u2500\u2500 Region: us-east-1 (Primary)\n    \u2502    \u2514\u2500 Multi-AZ Deployment\n    \u2502\n    \u251c\u2500\u2500\u2500 Region: eu-west-1 (Secondary)\n    \u2502    \u2514\u2500 Multi-AZ Deployment\n    \u2502\n    \u2514\u2500\u2500\u2500 Region: ap-northeast-2 (Tertiary)\n         \u2514\u2500 Multi-AZ Deployment\n\nDatabase Replication:\n  Primary (us-east-1)\n      \u2502 Async Replication\n      \u251c\u2500\u2192 Replica (eu-west-1)\n      \u2514\u2500\u2192 Replica (ap-northeast-2)\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#14-health-checks-auto-recovery","title":"1.4 Health Checks &amp; Auto-Recovery","text":"<p>Kubernetes Probes: <pre><code>containers:\n  - name: app\n    livenessProbe:\n      httpGet:\n        path: /healthz\n        port: 8080\n      initialDelaySeconds: 30\n      periodSeconds: 10\n      timeoutSeconds: 5\n      failureThreshold: 3  # 3\ubc88 \uc2e4\ud328 \uc2dc \uc7ac\uc2dc\uc791\n\n    readinessProbe:\n      httpGet:\n        path: /ready\n        port: 8080\n      initialDelaySeconds: 10\n      periodSeconds: 5\n      successThreshold: 1\n      failureThreshold: 3  # 3\ubc88 \uc2e4\ud328 \uc2dc \ud2b8\ub798\ud53d \ucc28\ub2e8\n\n    startupProbe:  # \ucd08\uae30 \uc2dc\uc791 \uc2dc\uac04\uc774 \uae34 \uc571\n      httpGet:\n        path: /started\n        port: 8080\n      initialDelaySeconds: 0\n      periodSeconds: 10\n      failureThreshold: 30  # \ucd5c\ub300 5\ubd84 \ub300\uae30\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#part-2-scalability","title":"Part 2: \ud655\uc7a5\uc131(Scalability) \ud328\ud134","text":""},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#21-vs","title":"2.1 \uc218\ud3c9 \ud655\uc7a5 vs \uc218\uc9c1 \ud655\uc7a5","text":"<p>\ube44\uad50: | \ud2b9\uc9d5 | \uc218\ud3c9 \ud655\uc7a5 (Scale-out) | \uc218\uc9c1 \ud655\uc7a5 (Scale-up) | |------|----------------------|---------------------| | \ubc29\ubc95 | \uc778\uc2a4\ud134\uc2a4 \uc218 \uc99d\uac00 | CPU/\uba54\ubaa8\ub9ac \uc99d\uac00 | | \ud55c\uacc4 | \uac70\uc758 \ubb34\uc81c\ud55c | \ud558\ub4dc\uc6e8\uc5b4 \ud55c\uacc4 | | \ube44\uc6a9 | \uc120\ud615 \uc99d\uac00 | \ube44\uc120\ud615 \uc99d\uac00 (\uace0\uc131\ub2a5 \ube44\uc308) | | \uc7a5\uc560 \ubcf5\uad6c | \uc26c\uc6c0 (\ubd84\uc0b0) | \uc5b4\ub824\uc6c0 (\ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4) | | \uc801\uc6a9 | \uc6f9 \uc571, API, \uc2a4\ud14c\uc774\ud2b8\ub9ac\uc2a4 | DB, \uce90\uc2dc, \uc2a4\ud14c\uc774\ud2b8\ud480 |</p> <p>2025 Best Practice:</p> <p>\uc218\ud3c9 \ud655\uc7a5\uc744 \uae30\ubcf8\uc73c\ub85c, \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc640 \uac19\uc774 \ubd88\uac00\ud53c\ud55c \uacbd\uc6b0\uc5d0\ub9cc \uc218\uc9c1 \ud655\uc7a5 \uc0ac\uc6a9</p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#22","title":"2.2 \uc2a4\ud14c\uc774\ud2b8\ub9ac\uc2a4 \uc124\uacc4","text":"<p>\uc2a4\ud14c\uc774\ud2b8\ub9ac\uc2a4 \uc6d0\uce59: <pre><code># \u274c Stateful (\ub098\uc05c \uc608)\nclass UserSession:\n    def __init__(self):\n        self.logged_in_users = {}  # \uba54\ubaa8\ub9ac\uc5d0 \uc138\uc158 \uc800\uc7a5\n\n    def login(self, user_id, token):\n        self.logged_in_users[user_id] = token\n\n    def is_logged_in(self, user_id):\n        return user_id in self.logged_in_users\n\n# \ubb38\uc81c: \uc778\uc2a4\ud134\uc2a4\uac00 \uc7ac\uc2dc\uc791\ub418\uba74 \uc138\uc158 \uc18c\uc2e4\n# \ubb38\uc81c: \ub85c\ub4dc \ubc38\ub7f0\uc11c\uac00 \ub2e4\ub978 \uc778\uc2a4\ud134\uc2a4\ub85c \uc694\uccad \ubcf4\ub0b4\uba74 \uc778\uc99d \uc2e4\ud328\n\n\n# \u2705 Stateless (\uc88b\uc740 \uc608)\nimport redis\n\nclass UserSession:\n    def __init__(self):\n        self.redis_client = redis.Redis(host='redis-cluster')\n\n    def login(self, user_id, token):\n        # \uc678\ubd80 \uc800\uc7a5\uc18c\uc5d0 \uc138\uc158 \uc800\uc7a5\n        self.redis_client.setex(f\"session:{user_id}\", 3600, token)\n\n    def is_logged_in(self, user_id):\n        return self.redis_client.exists(f\"session:{user_id}\")\n\n# \uc7a5\uc810: \uc5b4\ub5a4 \uc778\uc2a4\ud134\uc2a4\uac00 \uc694\uccad\uc744 \ucc98\ub9ac\ud574\ub3c4 \ub3d9\uc77c\ud55c \uacb0\uacfc\n# \uc7a5\uc810: \uc778\uc2a4\ud134\uc2a4 \uc7ac\uc2dc\uc791/\ucd94\uac00/\uc0ad\uc81c\uac00 \uc790\uc720\ub85c\uc6c0\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#23-auto-scaling","title":"2.3 Auto-scaling \uc804\ub7b5","text":"<p>Horizontal Pod Autoscaler (HPA) - Kubernetes: <pre><code>apiVersion: autoscaling/v2\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: web-app-hpa\nspec:\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: web-app\n  minReplicas: 3\n  maxReplicas: 100\n  metrics:\n    # CPU \uae30\ubc18\n    - type: Resource\n      resource:\n        name: cpu\n        target:\n          type: Utilization\n          averageUtilization: 70  # 70% \uc774\uc0c1 \uc2dc \uc2a4\ucf00\uc77c \uc544\uc6c3\n\n    # \uba54\ubaa8\ub9ac \uae30\ubc18\n    - type: Resource\n      resource:\n        name: memory\n        target:\n          type: Utilization\n          averageUtilization: 80\n\n    # \ucee4\uc2a4\ud140 \uba54\ud2b8\ub9ad (RPS - Requests Per Second)\n    - type: Pods\n      pods:\n        metric:\n          name: http_requests_per_second\n        target:\n          type: AverageValue\n          averageValue: \"1000\"  # Pod\ub2f9 1000 RPS \ucd08\uacfc \uc2dc \uc2a4\ucf00\uc77c\n\n  behavior:\n    scaleDown:\n      stabilizationWindowSeconds: 300  # 5\ubd84 \uc548\uc815\ud654\n      policies:\n        - type: Percent\n          value: 50  # \ud55c \ubc88\uc5d0 50%\ub9cc \ucd95\uc18c\n          periodSeconds: 60\n    scaleUp:\n      stabilizationWindowSeconds: 0  # \uc989\uc2dc \ud655\uc7a5\n      policies:\n        - type: Percent\n          value: 100  # \ud55c \ubc88\uc5d0 100% \ud655\uc7a5 \uac00\ub2a5\n          periodSeconds: 15\n</code></pre></p> <p>AI \uae30\ubc18 Predictive Scaling (2025): <pre><code># KEDA (Kubernetes Event-driven Autoscaling) + AI\napiVersion: keda.sh/v1alpha1\nkind: ScaledObject\nmetadata:\n  name: web-app-ai-scaler\nspec:\n  scaleTargetRef:\n    name: web-app\n  minReplicaCount: 5\n  maxReplicaCount: 200\n  triggers:\n    # AI \uc608\uce21 \uae30\ubc18 \uc2a4\ucf00\uc77c\ub9c1\n    - type: cron\n      metadata:\n        timezone: Asia/Seoul\n        start: 00 18 * * 1-5    # \ud3c9\uc77c \uc800\ub141 6\uc2dc\n        end: 00 23 * * 1-5      # \ud3c9\uc77c \ubc24 11\uc2dc\n        desiredReplicas: \"50\"   # \ud2b8\ub798\ud53d \uae09\uc99d \uc608\uc0c1 \uc2dc\uac04\n\n    # \ud504\ub85c\uba54\ud14c\uc6b0\uc2a4 \uba54\ud2b8\ub9ad \uae30\ubc18\n    - type: prometheus\n      metadata:\n        serverAddress: http://prometheus:9090\n        metricName: http_requests_per_second\n        threshold: '1000'\n        query: sum(rate(http_requests_total[2m]))\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#24","title":"2.4 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ud655\uc7a5","text":"<p>\uc77d\uae30 \ubcf5\uc81c\ubcf8 (Read Replicas): <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Application    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502                              \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Write      \u2502          \u2502  Read         \u2502\n\u2502  (Primary)  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502  (Replica 1)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  Async   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 Replication\n                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                          \u2502  Read         \u2502\n                          \u2502  (Replica 2)  \u2502\n                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nApplication Logic:\n  - Write: Primary DB\n  - Read:  Replicas (Load Balanced)\n</code></pre></p> <p>\uc0e4\ub529 (Sharding): <pre><code># User ID \uae30\ubc18 \uc0e4\ub529\ndef get_shard(user_id):\n    shard_count = 4\n    shard_id = user_id % shard_count\n    return f\"db-shard-{shard_id}\"\n\n# \uc608\uc2dc:\n# user_id=1 \u2192 db-shard-1\n# user_id=2 \u2192 db-shard-2\n# user_id=3 \u2192 db-shard-3\n# user_id=4 \u2192 db-shard-0 (4 % 4 = 0)\n\n# Shard 0: users 0, 4, 8, 12, ...\n# Shard 1: users 1, 5, 9, 13, ...\n# Shard 2: users 2, 6, 10, 14, ...\n# Shard 3: users 3, 7, 11, 15, ...\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#part-3-multi-tier","title":"Part 3: Multi-tier \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#31-3-tier","title":"3.1 3-Tier \uc544\ud0a4\ud14d\ucc98","text":"<p>\uc804\ud1b5\uc801\uc778 3-Tier: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Presentation Tier (\ud504\ub860\ud2b8\uc5d4\ub4dc)        \u2502\n\u2502  - Web UI (React, Vue, Angular)              \u2502\n\u2502  - Mobile App (iOS, Android)                 \u2502\n\u2502  - CDN\uc73c\ub85c \uc815\uc801 \ucee8\ud150\uce20 \uc81c\uacf5                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 HTTP/REST\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Application Tier (\ubc31\uc5d4\ub4dc)             \u2502\n\u2502  - API Gateway                                \u2502\n\u2502  - Microservices (Node.js, Python, Go)       \u2502\n\u2502  - Business Logic                             \u2502\n\u2502  - Auto Scaling Group                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 SQL/NoSQL\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Data Tier (\ub370\uc774\ud130)                    \u2502\n\u2502  - Primary Database (RDS/Aurora)              \u2502\n\u2502  - Read Replicas                              \u2502\n\u2502  - Cache (Redis/Memcached)                    \u2502\n\u2502  - Object Storage (S3)                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#32-multi-tier-2025","title":"3.2 \ud604\ub300\uc801 Multi-tier \uc544\ud0a4\ud14d\ucc98 (2025)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Edge Tier (CDN + WAF)                   \u2502\n\u2502  - CloudFlare / Fastly / CloudFront                  \u2502\n\u2502  - DDoS Protection                                   \u2502\n\u2502  - SSL/TLS Termination                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         API Gateway Tier                             \u2502\n\u2502  - Kong / Ambassador / AWS API Gateway               \u2502\n\u2502  - Rate Limiting                                     \u2502\n\u2502  - Authentication (OAuth2, JWT)                      \u2502\n\u2502  - Request Routing                                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Service Mesh Tier                            \u2502\n\u2502  - Istio / Linkerd                                   \u2502\n\u2502  - Traffic Management                                \u2502\n\u2502  - Observability                                     \u2502\n\u2502  - mTLS                                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502             \u2502             \u2502              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 User       \u2502 \u2502 Order      \u2502 \u2502 Payment   \u2502 \u2502 Inventory \u2502\n\u2502 Service    \u2502 \u2502 Service    \u2502 \u2502 Service   \u2502 \u2502 Service   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502             \u2502             \u2502              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Data Tier                                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502PostgreSQL\u2502  \u2502  MongoDB \u2502  \u2502  Redis   \u2502  \u2502   S3    \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#33-network-segmentation","title":"3.3 Network Segmentation","text":"<p>\ubcf4\uc548 \uc601\uc5ed \ubd84\ub9ac: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Public Subnet (DMZ)                            \u2502\n\u2502  - Load Balancer                                \u2502\n\u2502  - Bastion Host                                 \u2502\n\u2502  CIDR: 10.0.1.0/24                              \u2502\n\u2502  Internet Gateway \uc5f0\uacb0                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502 Security Group Rules\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Private Subnet (Application)                   \u2502\n\u2502  - Web Servers                                  \u2502\n\u2502  - App Servers                                  \u2502\n\u2502  CIDR: 10.0.10.0/24                             \u2502\n\u2502  NAT Gateway\ub97c \ud1b5\ud55c \uc544\uc6c3\ubc14\uc6b4\ub4dc\ub9cc \ud5c8\uc6a9            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                 \u2502 Security Group Rules\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Private Subnet (Database)                      \u2502\n\u2502  - RDS (Primary &amp; Standby)                      \u2502\n\u2502  - ElastiCache                                  \u2502\n\u2502  CIDR: 10.0.20.0/24                             \u2502\n\u2502  \uc678\ubd80 \uc811\uadfc \uc644\uc804 \ucc28\ub2e8                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#part-4-resilience","title":"Part 4: \ubcf5\uc6d0\ub825(Resilience) \ud328\ud134","text":""},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#41-circuit-breaker","title":"4.1 Circuit Breaker","text":"<p>\uac1c\ub150: \uc11c\ube44\uc2a4 \uc7a5\uc560 \uc2dc \uc5f0\uc1c4 \uc7a5\uc560 \ubc29\uc9c0\ub97c \uc704\ud574 \ud638\ucd9c\uc744 \ucc28\ub2e8\ud558\ub294 \ud328\ud134</p> <p>\uc0c1\ud0dc \uc804\uc774: <pre><code>Closed (\uc815\uc0c1) \u2500\u2500\u2500\u2500 \uc2e4\ud328 \uc784\uacc4\uac12 \ucd08\uacfc \u2500\u2500\u2500\u2192 Open (\ucc28\ub2e8)\n      \u25b2                                      \u2502\n      \u2502                                      \u2502 \ud0c0\uc784\uc544\uc6c3 \ud6c4\n      \u2502                                      \u25bc\n      \u2514\u2500\u2500\u2500\u2500 \uc131\uacf5 \uc2dc \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Half-Open (\uc2dc\ud5d8)\n</code></pre></p> <p>\uad6c\ud604 (Python): <pre><code>import time\nfrom enum import Enum\n\nclass CircuitState(Enum):\n    CLOSED = \"CLOSED\"\n    OPEN = \"OPEN\"\n    HALF_OPEN = \"HALF_OPEN\"\n\nclass CircuitBreaker:\n    def __init__(self, failure_threshold=5, timeout=60):\n        self.failure_threshold = failure_threshold\n        self.timeout = timeout\n        self.failure_count = 0\n        self.last_failure_time = None\n        self.state = CircuitState.CLOSED\n\n    def call(self, func, *args, **kwargs):\n        if self.state == CircuitState.OPEN:\n            if time.time() - self.last_failure_time &gt; self.timeout:\n                self.state = CircuitState.HALF_OPEN\n                print(\"Circuit HALF_OPEN - Testing\")\n            else:\n                raise Exception(\"Circuit OPEN - Request blocked\")\n\n        try:\n            result = func(*args, **kwargs)\n            self.on_success()\n            return result\n        except Exception as e:\n            self.on_failure()\n            raise e\n\n    def on_success(self):\n        self.failure_count = 0\n        self.state = CircuitState.CLOSED\n        print(\"Circuit CLOSED\")\n\n    def on_failure(self):\n        self.failure_count += 1\n        self.last_failure_time = time.time()\n\n        if self.failure_count &gt;= self.failure_threshold:\n            self.state = CircuitState.OPEN\n            print(f\"Circuit OPEN - Too many failures ({self.failure_count})\")\n\n# \uc0ac\uc6a9 \uc608\uc2dc\nimport requests\n\nbreaker = CircuitBreaker(failure_threshold=3, timeout=30)\n\ndef call_external_api():\n    response = requests.get(\"https://api.example.com/data\", timeout=5)\n    response.raise_for_status()\n    return response.json()\n\n# Circuit Breaker\ub85c \ubcf4\ud638\ntry:\n    data = breaker.call(call_external_api)\nexcept Exception as e:\n    print(f\"Error: {e}\")\n    # Fallback \ub85c\uc9c1\n    data = get_cached_data()\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#42-retry-with-exponential-backoff","title":"4.2 Retry with Exponential Backoff","text":"<pre><code>import time\nimport random\n\ndef retry_with_backoff(func, max_retries=5, base_delay=1, max_delay=60):\n    \"\"\"\n    \uc9c0\uc218 \ubc31\uc624\ud504\ub97c \uc0ac\uc6a9\ud55c \uc7ac\uc2dc\ub3c4\n    \"\"\"\n    for attempt in range(max_retries):\n        try:\n            return func()\n        except Exception as e:\n            if attempt == max_retries - 1:\n                raise e  # \ub9c8\uc9c0\ub9c9 \uc2dc\ub3c4 \uc2e4\ud328 \uc2dc \uc608\uc678 \ubc1c\uc0dd\n\n            # \uc9c0\uc218 \ubc31\uc624\ud504 \uacc4\uc0b0\n            delay = min(base_delay * (2 ** attempt), max_delay)\n            # Jitter \ucd94\uac00 (\ub3d9\uc2dc \uc7ac\uc2dc\ub3c4 \ubc29\uc9c0)\n            jitter = random.uniform(0, delay * 0.1)\n            total_delay = delay + jitter\n\n            print(f\"Attempt {attempt + 1} failed. Retrying in {total_delay:.2f}s...\")\n            time.sleep(total_delay)\n\n# \uc0ac\uc6a9 \uc608\uc2dc\ndef unreliable_api_call():\n    response = requests.post(\"https://api.example.com/process\")\n    response.raise_for_status()\n    return response.json()\n\nresult = retry_with_backoff(unreliable_api_call, max_retries=5)\n</code></pre>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#43-bulkhead","title":"4.3 Bulkhead \ud328\ud134","text":"<p>\uac1c\ub150: \ub9ac\uc18c\uc2a4\ub97c \uaca9\ub9ac\ud558\uc5ec \uc7a5\uc560 \uc804\ud30c \ubc29\uc9c0</p> <pre><code>from concurrent.futures import ThreadPoolExecutor\nimport threading\n\nclass Bulkhead:\n    def __init__(self, name, max_workers=10):\n        self.name = name\n        self.executor = ThreadPoolExecutor(max_workers=max_workers)\n        self.semaphore = threading.Semaphore(max_workers)\n\n    def execute(self, func, *args, **kwargs):\n        if not self.semaphore.acquire(blocking=False):\n            raise Exception(f\"Bulkhead {self.name} is full\")\n\n        try:\n            future = self.executor.submit(func, *args, **kwargs)\n            return future.result()\n        finally:\n            self.semaphore.release()\n\n# \uc11c\ube44\uc2a4\ubcc4\ub85c \ubcc4\ub3c4\uc758 Thread Pool\npayment_bulkhead = Bulkhead(\"payment\", max_workers=20)\nnotification_bulkhead = Bulkhead(\"notification\", max_workers=5)\n\n# Payment \uc11c\ube44\uc2a4 \ud638\ucd9c (\ucd5c\ub300 20\uac1c \ub3d9\uc2dc)\npayment_bulkhead.execute(process_payment, order_id)\n\n# Notification \uc11c\ube44\uc2a4 \ud638\ucd9c (\ucd5c\ub300 5\uac1c \ub3d9\uc2dc)\n# \ub290\ub9b0 Notification\uc774 Payment\ub97c \ub9c9\uc9c0 \uc54a\uc74c\nnotification_bulkhead.execute(send_email, user_email)\n</code></pre>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#part-5","title":"Part 5: \ube44\uc6a9 \ucd5c\uc801\ud654","text":""},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#51-right-sizing","title":"5.1 Right-sizing","text":"<p>CPU/\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960 \ubd84\uc11d: <pre><code># Prometheus Query\n# \uc9c0\ub09c 7\uc77c\uac04 \ud3c9\uade0 CPU \uc0ac\uc6a9\ub960\navg_over_time(\n  container_cpu_usage_seconds_total{pod=\"my-app\"}[7d]\n)\n\n# \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960\navg_over_time(\n  container_memory_working_set_bytes{pod=\"my-app\"}[7d]\n) / on(pod) container_spec_memory_limit_bytes\n</code></pre></p> <p>\uad8c\uc7a5\uc0ac\ud56d:</p> <ul> <li>CPU \uc0ac\uc6a9\ub960 &lt; 20%: \uc778\uc2a4\ud134\uc2a4 \ub2e4\uc6b4\uc0ac\uc774\uc9d5</li> <li>CPU \uc0ac\uc6a9\ub960 &gt; 80%: \uc778\uc2a4\ud134\uc2a4 \uc5c5\uc0ac\uc774\uc9d5 \ub610\ub294 \uc2a4\ucf00\uc77c \uc544\uc6c3</li> <li>\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960 &lt; 50%: \uba54\ubaa8\ub9ac \uc904\uc774\uae30</li> <li>\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960 &gt; 90%: OOM \uc704\ud5d8, \uc99d\uc124 \ud544\uc694</li> </ul>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#52-spot-instances","title":"5.2 Spot Instances \ud65c\uc6a9","text":"<p>Kubernetes\uc5d0\uc11c Spot Instance \uc0ac\uc6a9: <pre><code>apiVersion: v1\nkind: Node\nmetadata:\n  labels:\n    node.kubernetes.io/instance-type: spot\n    workload-type: batch\n\n# Deployment with Spot Instances\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: batch-processor\nspec:\n  replicas: 10\n  template:\n    spec:\n      # Spot \uc778\uc2a4\ud134\uc2a4\uc5d0 \ubc30\uce58\n      nodeSelector:\n        node.kubernetes.io/instance-type: spot\n\n      # Spot \uc911\ub2e8\uc5d0 \ub300\ube44\n      tolerations:\n        - key: \"spot-instance\"\n          operator: \"Exists\"\n          effect: \"NoSchedule\"\n\n      # Pod Disruption Budget\n      affinity:\n        podAntiAffinity:\n          preferredDuringSchedulingIgnoredDuringExecution:\n            - weight: 100\n              podAffinityTerm:\n                labelSelector:\n                  matchLabels:\n                    app: batch-processor\n                topologyKey: kubernetes.io/hostname\n</code></pre></p>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#_3","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#2025-best-practices","title":"2025 Best Practices","text":"<ol> <li>Cloud Computing Best Practices 2025</li> <li>How to Design Scalable &amp; Resilient Cloud Infrastructure</li> <li>Enterprise Cloud Architecture Best Practices 2025</li> <li>High Availability in Cloud Computing</li> </ol>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#_4","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ol> <li>AWS Well-Architected Framework</li> <li>Google Cloud Architecture Center</li> <li>Azure Architecture Center</li> </ol>"},{"location":"computing-service/Ch5.%ED%81%B4%EB%9D%BC%EC%9A%B0%EB%93%9C_%EC%9D%B8%ED%94%84%EB%9D%BC_%EC%84%A4%EA%B3%84/#_5","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> SPOF \uc81c\uac70 \ubc0f \ub9ac\ub358\ub358\uc2dc \uc124\uacc4</li> <li> Multi-Zone/Region \ubc30\ud3ec \uc804\ub7b5</li> <li> \uc218\ud3c9 \ud655\uc7a5 vs \uc218\uc9c1 \ud655\uc7a5 \uc774\ud574</li> <li> Auto-scaling \uc815\ucc45 \uc124\uc815</li> <li> Circuit Breaker \ud328\ud134 \uad6c\ud604</li> <li> Network Segmentation \uc124\uacc4</li> <li> \ube44\uc6a9 \ucd5c\uc801\ud654 (Right-sizing, Spot)</li> </ul> <p>\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: 2025-11-24 \ub2e4\uc74c \ucc55\ud130: Ch6.Kubernetes_Operator.md</p>"},{"location":"computing-service/Ch6.Kubernetes_Operator/","title":"Chapter 6: Kubernetes Operator \uc2ec\ud654","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ubcf8 Chapter\uc5d0\uc11c\ub294 Kubernetes Operator\uc758 \uace0\uae09 \uc8fc\uc81c\ub4e4\uc744 \ub2e4\ub8f9\ub2c8\ub2e4. Ch4\uc5d0\uc11c \uae30\ubcf8\uc801\uc778 Operator \ud328\ud134\uacfc CRD, Controller\ub97c \ud559\uc2b5\ud588\ub2e4\uba74, \uc774\ubc88 \uc7a5\uc5d0\uc11c\ub294 \uc2e4\uc81c \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0 \ubc30\ud3ec \uac00\ub2a5\ud55c \uc5d4\ud130\ud504\ub77c\uc774\uc988\uae09 Operator\ub97c \uac1c\ubc1c\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Kubernetes Operator\ub294 \ub2e8\uc21c\ud55c \uc790\ub3d9\ud654 \ub3c4\uad6c\ub97c \ub118\uc5b4 mission-critical\ud55c \ud504\ub85c\ub355\uc158 \ucef4\ud3ec\ub10c\ud2b8\ub85c \uc790\ub9ac\uc7a1\uc558\uc2b5\ub2c8\ub2e4. Kubernetes 1.30+\uc640 \uc131\uc219\ud55c controller-runtime \uc0dd\ud0dc\uacc4\ub97c \ud65c\uc6a9\ud558\uc5ec \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc6b4\uc601, ML \ud30c\uc774\ud504\ub77c\uc778 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158, \ubcf4\uc548 \uc81c\uc5b4 \ub4f1 \ub2e4\uc591\ud55c \uc601\uc5ed\uc5d0\uc11c \uc0ac\uc6a9\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#2025-operator","title":"2025\ub144 Operator \uac1c\ubc1c \ud2b8\ub80c\ub4dc","text":"<ul> <li>CEL Validation: OpenAPI \uc2a4\ud0a4\ub9c8 \uc218\uc900\uc5d0\uc11c \ubcf5\uc7a1\ud55c \uac80\uc99d \ub85c\uc9c1 \ud45c\ud604 (Admission Webhook \uc5c6\uc774\ub3c4 \uac00\ub2a5)</li> <li>OLMv1: \ucc28\uc138\ub300 Operator Lifecycle Manager\ub85c ClusterExtension \ub3c4\uc785</li> <li>Security-First: PodSecurity admission, \ucd5c\uc18c RBAC, \uc11c\uba85\ub41c \uc774\ubbf8\uc9c0\uac00 \ud45c\uc900</li> <li>Multi-Cluster: \ub2e8\uc77c \uc81c\uc5b4 \ud3c9\uba74\uc5d0\uc11c \uc5ec\ub7ec \ud074\ub7ec\uc2a4\ud130 \uad00\ub9ac\uac00 mainstream \uc694\uad6c\uc0ac\ud56d\uc73c\ub85c \ubd80\uc0c1</li> <li>Observability: Prometheus metrics, OpenTelemetry traces \ud1b5\ud569 \ud544\uc218</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 Chapter\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>Admission Webhooks \uad6c\ud604 \ubc0f OLM \ud1b5\ud569</li> <li>Validating Webhook\uc73c\ub85c \ucee4\uc2a4\ud140 \uac80\uc99d \ub85c\uc9c1 \uc791\uc131</li> <li>Mutating Webhook\uc73c\ub85c \uae30\ubcf8\uac12 \uc124\uc815 \ubc0f \ub9ac\uc18c\uc2a4 \ubcc0\ud658</li> <li> <p>OLM\uc758 \uc790\ub3d9 \uc778\uc99d\uc11c \uad00\ub9ac \uc774\ud574</p> </li> <li> <p>\ud14c\uc2a4\ud2b8 \uc804\ub7b5 \uc218\ub9bd \ubc0f \uad6c\ud604</p> </li> <li>Unit Test: \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uac80\uc99d</li> <li>EnvTest: \uc2e4\uc81c API Server\uc640 \ud1b5\ud569 \ud14c\uc2a4\ud2b8</li> <li> <p>E2E Test: \uc804\uccb4 \uc2dc\ub098\ub9ac\uc624 \uac80\uc99d</p> </li> <li> <p>\ud504\ub85c\ub355\uc158 \ubc30\ud3ec</p> </li> <li>OLM Bundle \uc0dd\uc131 \ubc0f OperatorHub \ubc30\ud3ec</li> <li>Multi-cluster \ud328\ud134 \uad6c\ud604</li> <li> <p>Monitoring \ubc0f Alerting \uc124\uc815</p> </li> <li> <p>\ubcf4\uc548 Best Practices</p> </li> <li>RBAC \ucd5c\uc18c\ud654 \uc6d0\uce59</li> <li>Webhook \ubd80\uc791\uc6a9(side effects) \ucc98\ub9ac</li> <li>\uc778\uc99d\uc11c \uad00\ub9ac \ubc0f \uac31\uc2e0</li> </ol>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#part-1-admission-webhooks","title":"Part 1: Admission Webhooks","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#11-webhook","title":"1.1 Webhook \uac1c\uc694","text":"<p>Admission Webhooks\ub294 \ub9ac\uc18c\uc2a4\uac00 \uc800\uc7a5\ub418\uae30 \uc804\uc5d0 admission request\ub97c \ubc1b\uc544 \uac80\uc99d\ud558\uac70\ub098 \ubcc0\uacbd\ud558\ub294 HTTP \ucf5c\ubc31\uc785\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#webhook","title":"Webhook \ud0c0\uc785","text":"\ud0c0\uc785 \uc6a9\ub3c4 \uc2e4\ud589 \uc21c\uc11c Mutating Webhook \ub9ac\uc18c\uc2a4 \ubcc0\uacbd (\uae30\ubcf8\uac12 \uc124\uc815) \uba3c\uc800 \uc2e4\ud589 Validating Webhook \ub9ac\uc18c\uc2a4 \uac80\uc99d (\ubd88\ubcc0 \ud544\ub4dc \ud655\uc778) \ub098\uc911\uc5d0 \uc2e4\ud589"},{"location":"computing-service/Ch6.Kubernetes_Operator/#webhook-vs-cel-validation-2025","title":"Webhook vs CEL Validation (2025)","text":"<pre><code># 2025\ub144 \uad8c\uc7a5: CRD \uc218\uc900 CEL Validation\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  name: databases.db.example.com\nspec:\n  validation:\n    openAPIV3Schema:\n      properties:\n        spec:\n          properties:\n            replicas:\n              type: integer\n              minimum: 1\n            storageSize:\n              type: string\n          x-kubernetes-validations:\n            # CEL\ub85c \ubcf5\uc7a1\ud55c \uac80\uc99d \ud45c\ud604 (Webhook \ubd88\ud544\uc694!)\n            - rule: \"self.replicas == 1 || int(self.storageSize.replace('Gi', '')) &gt;= 20\"\n              message: \"Multi-replica setup requires at least 20Gi storage\"\n            - rule: \"!has(oldSelf.storageSize) || self.storageSize == oldSelf.storageSize\"\n              message: \"storageSize is immutable after creation\"\n</code></pre> <p>\uc5b8\uc81c Webhook\uc744 \uc0ac\uc6a9\ud574\uc57c \ud558\ub294\uac00? - CEL\ub85c \ud45c\ud604\ud560 \uc218 \uc5c6\ub294 \ubcf5\uc7a1\ud55c \ub85c\uc9c1 (\uc678\ubd80 API \ud638\ucd9c, \ub2e4\ub978 \ub9ac\uc18c\uc2a4 \uc870\ud68c) - \ub3d9\uc801 \uae30\ubcf8\uac12 \uc124\uc815 (\ud604\uc7ac \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc \uae30\ubc18) - Cross-resource \uac80\uc99d</p>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#12-validating-webhook","title":"1.2 Validating Webhook \uad6c\ud604","text":"<pre><code>// api/v1/database_webhook.go\npackage v1\n\nimport (\n    \"context\"\n    \"fmt\"\n\n    \"k8s.io/apimachinery/pkg/runtime\"\n    ctrl \"sigs.k8s.io/controller-runtime\"\n    \"sigs.k8s.io/controller-runtime/pkg/webhook\"\n    \"sigs.k8s.io/controller-runtime/pkg/webhook/admission\"\n)\n\n// Webhook marker - Kubebuilder\uac00 WebhookConfiguration \uc0dd\uc131\n//+kubebuilder:webhook:path=/validate-db-example-com-v1-database,mutating=false,failurePolicy=fail,sideEffects=None,groups=db.example.com,resources=databases,verbs=create;update,versions=v1,name=vdatabase.kb.io,admissionReviewVersions=v1\n\ntype DatabaseValidator struct{}\n\n// ValidateCreate implements webhook.Validator\nfunc (v *DatabaseValidator) ValidateCreate(ctx context.Context, obj runtime.Object) (admission.Warnings, error) {\n    db := obj.(*Database)\n\n    // \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \uac80\uc99d\n    if db.Spec.Engine == \"postgres\" &amp;&amp; db.Spec.Version &lt; \"14.0\" {\n        return nil, fmt.Errorf(\"PostgreSQL version must be 14.0 or higher\")\n    }\n\n    // \uc678\ubd80 \ub9ac\uc18c\uc2a4 \uc870\ud68c \uc608\uc81c (CEL\ub85c \ubd88\uac00\ub2a5)\n    if err := v.validateStorageClass(ctx, db.Spec.StorageClass); err != nil {\n        return nil, err\n    }\n\n    return nil, nil\n}\n\n// ValidateUpdate implements webhook.Validator\nfunc (v *DatabaseValidator) ValidateUpdate(ctx context.Context, oldObj, newObj runtime.Object) (admission.Warnings, error) {\n    oldDB := oldObj.(*Database)\n    newDB := newObj.(*Database)\n\n    // \ubd88\ubcc0 \ud544\ub4dc \uac80\uc99d (CEL\ub85c\ub3c4 \uac00\ub2a5\ud558\uc9c0\ub9cc Webhook\uc774 \ub354 \ubcf5\uc7a1\ud55c \ub85c\uc9c1 \ud45c\ud604 \uac00\ub2a5)\n    if oldDB.Spec.Engine != newDB.Spec.Engine {\n        return nil, fmt.Errorf(\"engine is immutable\")\n    }\n\n    // \uc704\ud5d8\ud55c \ubcc0\uacbd\uc5d0 \ub300\ud55c \uacbd\uace0 \ubc18\ud658 (2025 \uc2e0\uae30\ub2a5)\n    var warnings admission.Warnings\n    if oldDB.Spec.Version != newDB.Spec.Version {\n        warnings = append(warnings, \"Version upgrade requires manual backup verification\")\n    }\n\n    return warnings, nil\n}\n\n// ValidateDelete implements webhook.Validator\nfunc (v *DatabaseValidator) ValidateDelete(ctx context.Context, obj runtime.Object) (admission.Warnings, error) {\n    db := obj.(*Database)\n\n    // \uc0ad\uc81c \ubcf4\ud638 \ub85c\uc9c1\n    if db.Annotations[\"protect\"] == \"true\" {\n        return nil, fmt.Errorf(\"cannot delete protected database\")\n    }\n\n    return nil, nil\n}\n\nfunc (r *Database) SetupWebhookWithManager(mgr ctrl.Manager) error {\n    return ctrl.NewWebhookManagedBy(mgr).\n        For(r).\n        WithValidator(&amp;DatabaseValidator{}).\n        Complete()\n}\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#13-mutating-webhook","title":"1.3 Mutating Webhook \uad6c\ud604","text":"<pre><code>// api/v1/database_webhook_mutation.go\n\n//+kubebuilder:webhook:path=/mutate-db-example-com-v1-database,mutating=true,failurePolicy=fail,sideEffects=None,groups=db.example.com,resources=databases,verbs=create;update,versions=v1,name=mdatabase.kb.io,admissionReviewVersions=v1\n\ntype DatabaseDefaulter struct {\n    Client client.Client\n}\n\n// Default implements webhook.Defaulter\nfunc (d *DatabaseDefaulter) Default(ctx context.Context, obj runtime.Object) error {\n    db := obj.(*Database)\n\n    // \uae30\ubcf8\uac12 \uc124\uc815\n    if db.Spec.Replicas == 0 {\n        db.Spec.Replicas = 1\n    }\n\n    if db.Spec.StorageSize == \"\" {\n        db.Spec.StorageSize = \"10Gi\"\n    }\n\n    // \ub3d9\uc801 \uae30\ubcf8\uac12: \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc \uae30\ubc18 (CEL\ub85c \ubd88\uac00\ub2a5)\n    if db.Spec.StorageClass == \"\" {\n        defaultSC, err := d.getDefaultStorageClass(ctx)\n        if err == nil {\n            db.Spec.StorageClass = defaultSC\n        }\n    }\n\n    // \ub808\uc774\ube14 \uc790\ub3d9 \ucd94\uac00\n    if db.Labels == nil {\n        db.Labels = make(map[string]string)\n    }\n    db.Labels[\"managed-by\"] = \"database-operator\"\n    db.Labels[\"version\"] = db.Spec.Version\n\n    return nil\n}\n\nfunc (d *DatabaseDefaulter) getDefaultStorageClass(ctx context.Context) (string, error) {\n    var scList storagev1.StorageClassList\n    if err := d.Client.List(ctx, &amp;scList); err != nil {\n        return \"\", err\n    }\n\n    for _, sc := range scList.Items {\n        if sc.Annotations[\"storageclass.kubernetes.io/is-default-class\"] == \"true\" {\n            return sc.Name, nil\n        }\n    }\n\n    return \"standard\", nil\n}\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#14-olm-webhook","title":"1.4 OLM Webhook \ud1b5\ud569","text":"<p>OLM\uc740 Webhook\ub97c \ud3ec\ud568\ud55c Operator\uc758 \uc778\uc99d\uc11c \uc0dd\uc131 \ubc0f \uac31\uc2e0\uc744 \uc790\ub3d9\uc73c\ub85c \ucc98\ub9ac\ud569\ub2c8\ub2e4.</p> <pre><code># config/manifests/bases/database-operator.clusterserviceversion.yaml\napiVersion: operators.coreos.com/v1alpha1\nkind: ClusterServiceVersion\nmetadata:\n  name: database-operator.v1.0.0\nspec:\n  webhookdefinitions:\n  - admissionReviewVersions:\n    - v1\n    containerPort: 443\n    deploymentName: database-operator-controller-manager\n    failurePolicy: Fail\n    generateName: vdatabase.kb.io\n    rules:\n    - apiGroups:\n      - db.example.com\n      apiVersions:\n      - v1\n      operations:\n      - CREATE\n      - UPDATE\n      resources:\n      - databases\n    sideEffects: None\n    type: ValidatingAdmissionWebhook\n    webhookPath: /validate-db-example-com-v1-database\n</code></pre> <p>OLM \uc778\uc99d\uc11c \uad00\ub9ac (2025): - \uc790\uccb4 \uc11c\uba85\ub41c CA\ub97c \uac01 Webhook \ud3ec\ud568 Deployment\uc5d0 \uc790\ub3d9 \uc0dd\uc131/\ub9c8\uc6b4\ud2b8 - \uc778\uc99d\uc11c\ub294 2\ub144 \ud6c4 \ub9cc\ub8cc\ub418\uba70, OLM\uc774 \uc790\ub3d9\uc73c\ub85c \uc0c8 \uc778\uc99d\uc11c \uc0dd\uc131 - \uc0ac\uc6a9\uc790\uac00 \uc778\uc99d\uc11c \uc774\ub984 \ub610\ub294 \ub9c8\uc6b4\ud2b8 \uc704\uce58\ub97c \uc9c0\uc815\ud560 \uc218 \uc5c6\uc74c (OLM \uad00\ub9ac)</p>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#part-2","title":"Part 2: \ud14c\uc2a4\ud2b8 \uc804\ub7b5","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#21","title":"2.1 \ud14c\uc2a4\ud2b8 \ud53c\ub77c\ubbf8\ub4dc","text":"<pre><code>        /\\\n       /E2E\\       \uc801\uc74c (\ub290\ub9bc, \ube44\uc6a9 \ub192\uc74c)\n      /------\\\n     /EnvTest\\     \uc911\uac04 (\uc2e4\uc81c API \uc11c\ubc84 \uc0ac\uc6a9)\n    /----------\\\n   / Unit Tests \\  \ub9ce\uc74c (\ube60\ub984, \uaca9\ub9ac\ub428)\n  /--------------\\\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#22-unit-tests","title":"2.2 Unit Tests","text":"<pre><code>// internal/controller/database_controller_test.go\npackage controller\n\nimport (\n    \"testing\"\n\n    \"github.com/stretchr/testify/assert\"\n    metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n\n    dbv1 \"example.com/database-operator/api/v1\"\n)\n\nfunc TestCalculateReplicas(t *testing.T) {\n    tests := []struct {\n        name     string\n        db       *dbv1.Database\n        expected int\n    }{\n        {\n            name: \"single replica for small storage\",\n            db: &amp;dbv1.Database{\n                Spec: dbv1.DatabaseSpec{\n                    Replicas:    1,\n                    StorageSize: \"5Gi\",\n                },\n            },\n            expected: 1,\n        },\n        {\n            name: \"multiple replicas for large storage\",\n            db: &amp;dbv1.Database{\n                Spec: dbv1.DatabaseSpec{\n                    Replicas:    3,\n                    StorageSize: \"50Gi\",\n                },\n            },\n            expected: 3,\n        },\n    }\n\n    for _, tt := range tests {\n        t.Run(tt.name, func(t *testing.T) {\n            result := calculateOptimalReplicas(tt.db)\n            assert.Equal(t, tt.expected, result)\n        })\n    }\n}\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#23-envtest-integration-tests","title":"2.3 EnvTest Integration Tests","text":"<p>EnvTest\ub294 controller-runtime \ud504\ub85c\uc81d\ud2b8\uc758 \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c, \uc2e4\uc81c Kubernetes API Server\uc640 etcd\ub97c \uac00\ub3d9\ud558\uc5ec \ud1b5\ud569 \ud14c\uc2a4\ud2b8\ub97c \uc218\ud589\ud569\ub2c8\ub2e4. \uc804\uccb4 \ud074\ub7ec\uc2a4\ud130 \uc5c6\uc774\ub3c4 \uc120\uc5b8\uc801 API \uc0c1\ud638\uc791\uc6a9\uc744 \ud14c\uc2a4\ud2b8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <pre><code>// internal/controller/suite_test.go\npackage controller\n\nimport (\n    \"context\"\n    \"path/filepath\"\n    \"testing\"\n    \"time\"\n\n    . \"github.com/onsi/ginkgo/v2\"\n    . \"github.com/onsi/gomega\"\n\n    \"k8s.io/client-go/kubernetes/scheme\"\n    \"k8s.io/client-go/rest\"\n    ctrl \"sigs.k8s.io/controller-runtime\"\n    \"sigs.k8s.io/controller-runtime/pkg/client\"\n    \"sigs.k8s.io/controller-runtime/pkg/envtest\"\n    logf \"sigs.k8s.io/controller-runtime/pkg/log\"\n    \"sigs.k8s.io/controller-runtime/pkg/log/zap\"\n\n    dbv1 \"example.com/database-operator/api/v1\"\n)\n\nvar (\n    cfg       *rest.Config\n    k8sClient client.Client\n    testEnv   *envtest.Environment\n    ctx       context.Context\n    cancel    context.CancelFunc\n)\n\nfunc TestControllers(t *testing.T) {\n    RegisterFailHandler(Fail)\n    RunSpecs(t, \"Controller Suite\")\n}\n\nvar _ = BeforeSuite(func() {\n    logf.SetLogger(zap.New(zap.WriteTo(GinkgoWriter), zap.UseDevMode(true)))\n\n    ctx, cancel = context.WithCancel(context.TODO())\n\n    By(\"bootstrapping test environment\")\n    testEnv = &amp;envtest.Environment{\n        CRDDirectoryPaths:     []string{filepath.Join(\"..\", \"..\", \"config\", \"crd\", \"bases\")},\n        ErrorIfCRDPathMissing: true,\n    }\n\n    var err error\n    cfg, err = testEnv.Start()\n    Expect(err).NotTo(HaveOccurred())\n    Expect(cfg).NotTo(BeNil())\n\n    err = dbv1.AddToScheme(scheme.Scheme)\n    Expect(err).NotTo(HaveOccurred())\n\n    k8sClient, err = client.New(cfg, client.Options{Scheme: scheme.Scheme})\n    Expect(err).NotTo(HaveOccurred())\n    Expect(k8sClient).NotTo(BeNil())\n\n    // Controller \uc2dc\uc791\n    k8sManager, err := ctrl.NewManager(cfg, ctrl.Options{\n        Scheme: scheme.Scheme,\n    })\n    Expect(err).ToNot(HaveOccurred())\n\n    err = (&amp;DatabaseReconciler{\n        Client: k8sManager.GetClient(),\n        Scheme: k8sManager.GetScheme(),\n    }).SetupWithManager(k8sManager)\n    Expect(err).ToNot(HaveOccurred())\n\n    go func() {\n        defer GinkgoRecover()\n        err = k8sManager.Start(ctx)\n        Expect(err).ToNot(HaveOccurred(), \"failed to run manager\")\n    }()\n})\n\nvar _ = AfterSuite(func() {\n    cancel()\n    By(\"tearing down the test environment\")\n    err := testEnv.Stop()\n    Expect(err).NotTo(HaveOccurred())\n})\n</code></pre> <pre><code>// internal/controller/database_controller_integration_test.go\nvar _ = Describe(\"Database Controller\", func() {\n    const (\n        DatabaseName      = \"test-database\"\n        DatabaseNamespace = \"default\"\n        timeout           = time.Second * 30\n        interval          = time.Millisecond * 250\n    )\n\n    Context(\"When creating a Database\", func() {\n        It(\"Should create StatefulSet and Service\", func() {\n            ctx := context.Background()\n\n            database := &amp;dbv1.Database{\n                ObjectMeta: metav1.ObjectMeta{\n                    Name:      DatabaseName,\n                    Namespace: DatabaseNamespace,\n                },\n                Spec: dbv1.DatabaseSpec{\n                    Engine:       \"postgres\",\n                    Version:      \"15.0\",\n                    Replicas:     3,\n                    StorageSize:  \"20Gi\",\n                    StorageClass: \"fast-ssd\",\n                },\n            }\n\n            Expect(k8sClient.Create(ctx, database)).Should(Succeed())\n\n            databaseLookupKey := types.NamespacedName{\n                Name:      DatabaseName,\n                Namespace: DatabaseNamespace,\n            }\n            createdDatabase := &amp;dbv1.Database{}\n\n            // Database\uac00 \uc0dd\uc131\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\n            Eventually(func() bool {\n                err := k8sClient.Get(ctx, databaseLookupKey, createdDatabase)\n                return err == nil\n            }, timeout, interval).Should(BeTrue())\n\n            // StatefulSet\uc774 \uc0dd\uc131\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\n            statefulSetLookupKey := types.NamespacedName{\n                Name:      DatabaseName,\n                Namespace: DatabaseNamespace,\n            }\n            createdStatefulSet := &amp;appsv1.StatefulSet{}\n\n            Eventually(func() bool {\n                err := k8sClient.Get(ctx, statefulSetLookupKey, createdStatefulSet)\n                return err == nil\n            }, timeout, interval).Should(BeTrue())\n\n            Expect(*createdStatefulSet.Spec.Replicas).Should(Equal(int32(3)))\n\n            // Status\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\n            Eventually(func() bool {\n                err := k8sClient.Get(ctx, databaseLookupKey, createdDatabase)\n                if err != nil {\n                    return false\n                }\n                return createdDatabase.Status.Phase == \"Running\"\n            }, timeout, interval).Should(BeTrue())\n        })\n    })\n\n    Context(\"When updating Database replicas\", func() {\n        It(\"Should scale StatefulSet\", func() {\n            ctx := context.Background()\n\n            databaseLookupKey := types.NamespacedName{\n                Name:      DatabaseName,\n                Namespace: DatabaseNamespace,\n            }\n            database := &amp;dbv1.Database{}\n\n            Expect(k8sClient.Get(ctx, databaseLookupKey, database)).Should(Succeed())\n\n            // Replicas \uc218\uc815\n            database.Spec.Replicas = 5\n            Expect(k8sClient.Update(ctx, database)).Should(Succeed())\n\n            // StatefulSet\uc774 \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\n            statefulSetLookupKey := types.NamespacedName{\n                Name:      DatabaseName,\n                Namespace: DatabaseNamespace,\n            }\n            updatedStatefulSet := &amp;appsv1.StatefulSet{}\n\n            Eventually(func() int32 {\n                err := k8sClient.Get(ctx, statefulSetLookupKey, updatedStatefulSet)\n                if err != nil {\n                    return 0\n                }\n                return *updatedStatefulSet.Spec.Replicas\n            }, timeout, interval).Should(Equal(int32(5)))\n        })\n    })\n})\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#24-e2e-tests","title":"2.4 E2E Tests","text":"<pre><code>// test/e2e/e2e_test.go\npackage e2e\n\nimport (\n    \"context\"\n    \"testing\"\n    \"time\"\n\n    . \"github.com/onsi/ginkgo/v2\"\n    . \"github.com/onsi/gomega\"\n\n    corev1 \"k8s.io/api/core/v1\"\n    metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n    \"k8s.io/client-go/kubernetes\"\n    \"k8s.io/client-go/tools/clientcmd\"\n\n    dbv1 \"example.com/database-operator/api/v1\"\n)\n\nvar (\n    clientset    *kubernetes.Clientset\n    databaseClient dbv1client.Interface\n)\n\nfunc TestE2E(t *testing.T) {\n    RegisterFailHandler(Fail)\n    RunSpecs(t, \"E2E Suite\")\n}\n\nvar _ = BeforeSuite(func() {\n    // \uc2e4\uc81c \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc5f0\uacb0\n    config, err := clientcmd.BuildConfigFromFlags(\"\", kubeconfigPath)\n    Expect(err).NotTo(HaveOccurred())\n\n    clientset, err = kubernetes.NewForConfig(config)\n    Expect(err).NotTo(HaveOccurred())\n\n    databaseClient, err = dbv1client.NewForConfig(config)\n    Expect(err).NotTo(HaveOccurred())\n})\n\nvar _ = Describe(\"Database Operator E2E\", func() {\n    Context(\"Full lifecycle test\", func() {\n        It(\"Should create, update, backup, and delete database\", func() {\n            ctx := context.Background()\n            namespace := \"e2e-test\"\n\n            // Namespace \uc0dd\uc131\n            ns := &amp;corev1.Namespace{\n                ObjectMeta: metav1.ObjectMeta{Name: namespace},\n            }\n            _, err := clientset.CoreV1().Namespaces().Create(ctx, ns, metav1.CreateOptions{})\n            Expect(err).NotTo(HaveOccurred())\n\n            // Database \uc0dd\uc131\n            database := &amp;dbv1.Database{\n                ObjectMeta: metav1.ObjectMeta{\n                    Name:      \"e2e-db\",\n                    Namespace: namespace,\n                },\n                Spec: dbv1.DatabaseSpec{\n                    Engine:       \"postgres\",\n                    Version:      \"15.0\",\n                    Replicas:     1,\n                    StorageSize:  \"10Gi\",\n                },\n            }\n\n            _, err = databaseClient.Databases(namespace).Create(ctx, database, metav1.CreateOptions{})\n            Expect(err).NotTo(HaveOccurred())\n\n            // Database\uac00 Ready \uc0c1\ud0dc\uac00 \ub420 \ub54c\uae4c\uc9c0 \ub300\uae30\n            Eventually(func() bool {\n                db, err := databaseClient.Databases(namespace).Get(ctx, \"e2e-db\", metav1.GetOptions{})\n                if err != nil {\n                    return false\n                }\n                return db.Status.Phase == \"Running\" &amp;&amp; db.Status.Ready\n            }, 5*time.Minute, 10*time.Second).Should(BeTrue())\n\n            // \uc2e4\uc81c \uc5f0\uacb0 \ud14c\uc2a4\ud2b8\n            By(\"Testing database connectivity\")\n            pod, err := clientset.CoreV1().Pods(namespace).Get(ctx, \"e2e-db-0\", metav1.GetOptions{})\n            Expect(err).NotTo(HaveOccurred())\n            Expect(pod.Status.Phase).To(Equal(corev1.PodRunning))\n\n            // Cleanup\n            err = databaseClient.Databases(namespace).Delete(ctx, \"e2e-db\", metav1.DeleteOptions{})\n            Expect(err).NotTo(HaveOccurred())\n\n            err = clientset.CoreV1().Namespaces().Delete(ctx, namespace, metav1.DeleteOptions{})\n            Expect(err).NotTo(HaveOccurred())\n        })\n    })\n})\n</code></pre> <p>2025 \ud14c\uc2a4\ud2b8 Best Practices: - Unit Tests\ub85c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc758 70-80% \ucee4\ubc84 - EnvTest\ub85c Controller \ub85c\uc9c1 \uac80\uc99d (fake client \uc0ac\uc6a9 \uc9c0\uc591 - \uc2e4\uc81c API Server \uc0ac\uc6a9 \uad8c\uc7a5) - E2E\ub294 critical path\ub9cc \ud14c\uc2a4\ud2b8 (\ube44\uc6a9/\uc2dc\uac04 \uace0\ub824) - CI\uc5d0\uc11c EnvTest\ub294 \ubcd1\ub82c \uc2e4\ud589, E2E\ub294 nightly \uc2e4\ud589</p>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#part-3-olm-bundle","title":"Part 3: OLM Bundle \ubc0f \ubc30\ud3ec","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#31-olm-bundle","title":"3.1 OLM Bundle \uc0dd\uc131","text":"<pre><code># Makefile \ud0c0\uac9f \uc0ac\uc6a9\nmake bundle\n\n# \uc0dd\uc131\ub418\ub294 \uad6c\uc870\nbundle/\n\u251c\u2500\u2500 manifests/\n\u2502   \u251c\u2500\u2500 database-operator.clusterserviceversion.yaml  # CSV\n\u2502   \u251c\u2500\u2500 databases.db.example.com.crd.yaml             # CRD\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 metadata/\n\u2502   \u2514\u2500\u2500 annotations.yaml\n\u2514\u2500\u2500 tests/\n    \u2514\u2500\u2500 scorecard/\n</code></pre> <pre><code># bundle/metadata/annotations.yaml\nannotations:\n  # OLMv1 \uc9c0\uc6d0 (2025)\n  operators.operatorframework.io.bundle.mediatype.v1: registry+v1\n  operators.operatorframework.io.bundle.manifests.v1: manifests/\n  operators.operatorframework.io.bundle.metadata.v1: metadata/\n  operators.operatorframework.io.bundle.package.v1: database-operator\n  operators.operatorframework.io.bundle.channels.v1: stable,beta\n  operators.operatorframework.io.bundle.channel.default.v1: stable\n  operators.operatorframework.io.metrics.builder: operator-sdk-v1.35.0\n  operators.operatorframework.io.metrics.mediatype.v1: metrics+v1\n  operators.operatorframework.io.metrics.project_layout: go.kubebuilder.io/v4\n\n  # Container annotations\n  com.redhat.openshift.versions: \"v4.12-v4.16\"\n  com.redhat.delivery.operator.bundle: \"true\"\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#32-clusterserviceversion-csv","title":"3.2 ClusterServiceVersion (CSV) \uc791\uc131","text":"<pre><code># bundle/manifests/database-operator.clusterserviceversion.yaml\napiVersion: operators.coreos.com/v1alpha1\nkind: ClusterServiceVersion\nmetadata:\n  name: database-operator.v1.0.0\n  annotations:\n    alm-examples: |-\n      [\n        {\n          \"apiVersion\": \"db.example.com/v1\",\n          \"kind\": \"Database\",\n          \"metadata\": {\n            \"name\": \"example-database\"\n          },\n          \"spec\": {\n            \"engine\": \"postgres\",\n            \"version\": \"15.0\",\n            \"replicas\": 3,\n            \"storageSize\": \"20Gi\"\n          }\n        }\n      ]\n    capabilities: Deep Insights\n    categories: Database\n    certified: \"false\"\n    containerImage: quay.io/example/database-operator:v1.0.0\n    createdAt: \"2025-01-15T00:00:00Z\"\n    description: Enterprise-grade database operator for Kubernetes\n    repository: https://github.com/example/database-operator\n    support: Example Inc.\nspec:\n  displayName: Database Operator\n  description: |\n    The Database Operator automates the deployment, scaling, and management\n    of relational databases in Kubernetes.\n\n    ## Features\n    - Automated provisioning and lifecycle management\n    - High availability with automated failover\n    - Backup and restore capabilities\n    - Monitoring with Prometheus integration\n\n    ## Prerequisites\n    - Kubernetes 1.28+\n    - Storage provisioner with RWO support\n\n  keywords:\n    - database\n    - postgres\n    - mysql\n    - high-availability\n\n  version: 1.0.0\n  maturity: stable\n  minKubeVersion: 1.28.0\n\n  maintainers:\n    - name: Platform Team\n      email: platform@example.com\n\n  provider:\n    name: Example Inc.\n\n  links:\n    - name: Documentation\n      url: https://docs.example.com/database-operator\n    - name: Source Code\n      url: https://github.com/example/database-operator\n\n  icon:\n    - base64data: &lt;base64-encoded-icon&gt;\n      mediatype: image/png\n\n  # RBAC\n  install:\n    strategy: deployment\n    spec:\n      permissions:\n        - serviceAccountName: database-operator-controller-manager\n          rules:\n            - apiGroups: [\"\"]\n              resources: [pods, services, configmaps, secrets]\n              verbs: [get, list, watch, create, update, patch, delete]\n            - apiGroups: [apps]\n              resources: [statefulsets]\n              verbs: [get, list, watch, create, update, patch, delete]\n\n      clusterPermissions:\n        - serviceAccountName: database-operator-controller-manager\n          rules:\n            - apiGroups: [db.example.com]\n              resources: [databases, databases/status]\n              verbs: [get, list, watch, create, update, patch, delete]\n            - apiGroups: [storage.k8s.io]\n              resources: [storageclasses]\n              verbs: [get, list, watch]\n\n      deployments:\n        - name: database-operator-controller-manager\n          spec:\n            replicas: 1\n            selector:\n              matchLabels:\n                control-plane: controller-manager\n            template:\n              metadata:\n                labels:\n                  control-plane: controller-manager\n              spec:\n                serviceAccountName: database-operator-controller-manager\n                containers:\n                  - name: manager\n                    image: quay.io/example/database-operator:v1.0.0\n                    command: [/manager]\n                    args:\n                      - --leader-elect\n                      - --health-probe-bind-address=:8081\n                      - --metrics-bind-address=127.0.0.1:8080\n                    env:\n                      - name: WATCH_NAMESPACE\n                        valueFrom:\n                          fieldRef:\n                            fieldPath: metadata.annotations['olm.targetNamespaces']\n                    ports:\n                      - containerPort: 9443\n                        name: webhook-server\n                        protocol: TCP\n                    livenessProbe:\n                      httpGet:\n                        path: /healthz\n                        port: 8081\n                      initialDelaySeconds: 15\n                      periodSeconds: 20\n                    readinessProbe:\n                      httpGet:\n                        path: /readyz\n                        port: 8081\n                      initialDelaySeconds: 5\n                      periodSeconds: 10\n                    resources:\n                      limits:\n                        cpu: 500m\n                        memory: 512Mi\n                      requests:\n                        cpu: 100m\n                        memory: 128Mi\n                    securityContext:\n                      allowPrivilegeEscalation: false\n                      capabilities:\n                        drop: [ALL]\n                      runAsNonRoot: true\n                      seccompProfile:\n                        type: RuntimeDefault\n\n  # CRD \uc18c\uc720\uad8c\n  customresourcedefinitions:\n    owned:\n      - name: databases.db.example.com\n        version: v1\n        kind: Database\n        displayName: Database\n        description: Represents a managed database instance\n        resources:\n          - kind: StatefulSet\n            version: v1\n          - kind: Service\n            version: v1\n          - kind: ConfigMap\n            version: v1\n          - kind: Secret\n            version: v1\n        specDescriptors:\n          - path: engine\n            displayName: Database Engine\n            description: The database engine (postgres, mysql)\n            x-descriptors:\n              - urn:alm:descriptor:com.tectonic.ui:select:postgres\n              - urn:alm:descriptor:com.tectonic.ui:select:mysql\n          - path: version\n            displayName: Version\n            description: Database version\n            x-descriptors:\n              - urn:alm:descriptor:com.tectonic.ui:text\n          - path: replicas\n            displayName: Replicas\n            description: Number of database replicas\n            x-descriptors:\n              - urn:alm:descriptor:com.tectonic.ui:podCount\n          - path: storageSize\n            displayName: Storage Size\n            description: Size of persistent volume\n            x-descriptors:\n              - urn:alm:descriptor:com.tectonic.ui:text\n        statusDescriptors:\n          - path: phase\n            displayName: Phase\n            description: Current phase of the database\n            x-descriptors:\n              - urn:alm:descriptor:io.kubernetes.phase\n          - path: ready\n            displayName: Ready\n            description: Whether the database is ready\n            x-descriptors:\n              - urn:alm:descriptor:io.kubernetes.conditions\n\n  # Webhook \uc815\uc758\n  webhookdefinitions:\n    - admissionReviewVersions: [v1]\n      containerPort: 443\n      deploymentName: database-operator-controller-manager\n      failurePolicy: Fail\n      generateName: vdatabase.kb.io\n      rules:\n        - apiGroups: [db.example.com]\n          apiVersions: [v1]\n          operations: [CREATE, UPDATE]\n          resources: [databases]\n      sideEffects: None\n      type: ValidatingAdmissionWebhook\n      webhookPath: /validate-db-example-com-v1-database\n\n    - admissionReviewVersions: [v1]\n      containerPort: 443\n      deploymentName: database-operator-controller-manager\n      failurePolicy: Fail\n      generateName: mdatabase.kb.io\n      rules:\n        - apiGroups: [db.example.com]\n          apiVersions: [v1]\n          operations: [CREATE, UPDATE]\n          resources: [databases]\n      sideEffects: None\n      type: MutatingAdmissionWebhook\n      webhookPath: /mutate-db-example-com-v1-database\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#33-olmv1-2025","title":"3.3 OLMv1 \ubc30\ud3ec (2025)","text":"<pre><code># olmv1-clusterextension.yaml\napiVersion: olm.operatorframework.io/v1alpha1\nkind: ClusterExtension\nmetadata:\n  name: database-operator\nspec:\n  packageName: database-operator\n  version: 1.0.0\n\n  # OLMv1\uc5d0\uc11c\ub294 \uba85\uc2dc\uc801 serviceAccount \ud544\uc694 (\ubcf4\uc548 \uac15\ud654)\n  serviceAccount:\n    name: database-operator-installer\n\n  # \uc124\uce58 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\n  installNamespace: operators\n\n  # \uc5c5\uadf8\ub808\uc774\ub4dc \uc815\ucc45\n  upgradeConstraintPolicy: SemVer\n</code></pre> <pre><code># OLM Bundle \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ubc0f \ud478\uc2dc\nmake bundle-build bundle-push IMG=quay.io/example/database-operator-bundle:v1.0.0\n\n# Catalog \uc0dd\uc131\nopm index add \\\n  --bundles quay.io/example/database-operator-bundle:v1.0.0 \\\n  --tag quay.io/example/database-operator-catalog:latest\n\n# CatalogSource \uc0dd\uc131\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: operators.coreos.com/v1alpha1\nkind: CatalogSource\nmetadata:\n  name: database-operator-catalog\n  namespace: olm\nspec:\n  sourceType: grpc\n  image: quay.io/example/database-operator-catalog:latest\n  displayName: Database Operator Catalog\n  publisher: Example Inc.\n  updateStrategy:\n    registryPoll:\n      interval: 10m\nEOF\n\n# Subscription \uc0dd\uc131 (\uc790\ub3d9 \uc124\uce58)\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: operators.coreos.com/v1alpha1\nkind: Subscription\nmetadata:\n  name: database-operator\n  namespace: operators\nspec:\n  channel: stable\n  name: database-operator\n  source: database-operator-catalog\n  sourceNamespace: olm\n  installPlanApproval: Automatic\nEOF\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#part-4-best-practices","title":"Part 4: \ud504\ub85c\ub355\uc158 Best Practices","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#41-multi-cluster","title":"4.1 Multi-Cluster \ud328\ud134","text":"<p>2025\ub144 \ud604\uc7ac, Multi-cluster \uad00\ub9ac\ub294 edge case\uc5d0\uc11c mainstream \uc694\uad6c\uc0ac\ud56d\uc73c\ub85c \ubcc0\ud654\ud588\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#1-hub-spoke-federated-operator","title":"\ud328\ud134 1: Hub-Spoke (Federated Operator)","text":"<pre><code>// Hub \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 Multi-Cluster Controller\ntype MultiClusterDatabaseReconciler struct {\n    HubClient    client.Client\n    ClusterClients map[string]client.Client  // cluster name -&gt; client\n}\n\nfunc (r *MultiClusterDatabaseReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {\n    var db dbv1.Database\n    if err := r.HubClient.Get(ctx, req.NamespacedName, &amp;db); err != nil {\n        return ctrl.Result{}, client.IgnoreNotFound(err)\n    }\n\n    // \ud0c0\uac9f \ud074\ub7ec\uc2a4\ud130 \uacb0\uc815\n    targetCluster := db.Spec.TargetCluster\n    if targetCluster == \"\" {\n        targetCluster = r.selectOptimalCluster(ctx, &amp;db)\n    }\n\n    // \ud0c0\uac9f \ud074\ub7ec\uc2a4\ud130\uc5d0 Database \ub9ac\uc18c\uc2a4 \uc0dd\uc131\n    targetClient := r.ClusterClients[targetCluster]\n    targetDB := db.DeepCopy()\n    targetDB.Namespace = db.Spec.TargetNamespace\n\n    if err := targetClient.Create(ctx, targetDB); err != nil {\n        if !apierrors.IsAlreadyExists(err) {\n            return ctrl.Result{}, err\n        }\n        // \uc774\ubbf8 \uc874\uc7ac\ud558\uba74 \uc5c5\ub370\uc774\ud2b8\n        if err := targetClient.Update(ctx, targetDB); err != nil {\n            return ctrl.Result{}, err\n        }\n    }\n\n    // Hub\uc5d0 \uc0c1\ud0dc \ub3d9\uae30\ud654\n    db.Status.TargetCluster = targetCluster\n    db.Status.Phase = \"Deployed\"\n    if err := r.HubClient.Status().Update(ctx, &amp;db); err != nil {\n        return ctrl.Result{}, err\n    }\n\n    return ctrl.Result{RequeueAfter: 5 * time.Minute}, nil\n}\n\nfunc (r *MultiClusterDatabaseReconciler) selectOptimalCluster(ctx context.Context, db *dbv1.Database) string {\n    // \ub9ac\uc18c\uc2a4 \uac00\uc6a9\uc131, \uc9c0\uc5ed, \ube44\uc6a9 \ub4f1\uc744 \uace0\ub824\ud55c \ud074\ub7ec\uc2a4\ud130 \uc120\ud0dd \ub85c\uc9c1\n    // 2025: AI \uae30\ubc18 \uc608\uce21 \ubc30\uce58 \uac00\ub2a5\n    return \"cluster-us-east-1\"\n}\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#2-per-cluster-deployment-with-central-coordination","title":"\ud328\ud134 2: Per-Cluster Deployment with Central Coordination","text":"<pre><code># \uac01 \ud074\ub7ec\uc2a4\ud130\uc5d0 Operator \ubc30\ud3ec + ConfigMap\uc73c\ub85c \uc911\uc559 \uc870\uc815\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: cluster-topology\n  namespace: database-operator-system\ndata:\n  clusters.yaml: |\n    clusters:\n      - name: us-east-1\n        apiServer: https://cluster1.example.com\n        region: us-east-1\n        capacity:\n          cpu: 1000\n          memory: 4000Gi\n      - name: eu-west-1\n        apiServer: https://cluster2.example.com\n        region: eu-west-1\n        capacity:\n          cpu: 800\n          memory: 3200Gi\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#42-observability","title":"4.2 Observability","text":"<pre><code>// Prometheus Metrics\nimport (\n    \"github.com/prometheus/client_golang/prometheus\"\n    \"sigs.k8s.io/controller-runtime/pkg/metrics\"\n)\n\nvar (\n    databaseReconcileTotal = prometheus.NewCounterVec(\n        prometheus.CounterOpts{\n            Name: \"database_reconcile_total\",\n            Help: \"Total number of database reconciliations\",\n        },\n        []string{\"namespace\", \"name\", \"result\"},\n    )\n\n    databaseReconcileDuration = prometheus.NewHistogramVec(\n        prometheus.HistogramOpts{\n            Name:    \"database_reconcile_duration_seconds\",\n            Help:    \"Duration of database reconciliations\",\n            Buckets: prometheus.DefBuckets,\n        },\n        []string{\"namespace\", \"name\"},\n    )\n\n    databaseStatusGauge = prometheus.NewGaugeVec(\n        prometheus.GaugeOpts{\n            Name: \"database_status\",\n            Help: \"Current status of databases (1=Running, 0=Failed)\",\n        },\n        []string{\"namespace\", \"name\", \"phase\"},\n    )\n)\n\nfunc init() {\n    metrics.Registry.MustRegister(\n        databaseReconcileTotal,\n        databaseReconcileDuration,\n        databaseStatusGauge,\n    )\n}\n\nfunc (r *DatabaseReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {\n    start := time.Now()\n    defer func() {\n        duration := time.Since(start).Seconds()\n        databaseReconcileDuration.WithLabelValues(req.Namespace, req.Name).Observe(duration)\n    }()\n\n    // ... reconcile \ub85c\uc9c1 ...\n\n    result := \"success\"\n    if err != nil {\n        result = \"error\"\n    }\n    databaseReconcileTotal.WithLabelValues(req.Namespace, req.Name, result).Inc()\n\n    // Status gauge \uc5c5\ub370\uc774\ud2b8\n    statusValue := 0.0\n    if db.Status.Phase == \"Running\" {\n        statusValue = 1.0\n    }\n    databaseStatusGauge.WithLabelValues(req.Namespace, req.Name, db.Status.Phase).Set(statusValue)\n\n    return ctrl.Result{}, err\n}\n</code></pre> <pre><code># ServiceMonitor for Prometheus Operator\napiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: database-operator-metrics\n  namespace: database-operator-system\nspec:\n  selector:\n    matchLabels:\n      control-plane: controller-manager\n  endpoints:\n    - port: https\n      scheme: https\n      tlsConfig:\n        insecureSkipVerify: true\n      bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#43-best-practices","title":"4.3 \ubcf4\uc548 Best Practices","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#rbac","title":"RBAC \ucd5c\uc18c\ud654","text":"<pre><code># \ud544\uc694\ud55c \ucd5c\uc18c \uad8c\ud55c\ub9cc \ubd80\uc5ec (2025 \ud45c\uc900)\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: database-operator-manager-role\nrules:\n  # \ud544\uc218: \uad00\ub9ac\ud558\ub294 CRD\n  - apiGroups: [db.example.com]\n    resources: [databases]\n    verbs: [get, list, watch, create, update, patch, delete]\n  - apiGroups: [db.example.com]\n    resources: [databases/status]\n    verbs: [get, update, patch]\n\n  # \ud544\uc218: \uc0dd\uc131\ud558\ub294 \ub9ac\uc18c\uc2a4 (namespace-scoped)\n  # ClusterRole\uc774\uc9c0\ub9cc RoleBinding\uc73c\ub85c namespace \uc81c\ud55c \uac00\ub2a5\n  - apiGroups: [\"\"]\n    resources: [services, configmaps, secrets]\n    verbs: [get, list, watch, create, update, patch, delete]\n  - apiGroups: [apps]\n    resources: [statefulsets]\n    verbs: [get, list, watch, create, update, patch, delete]\n\n  # \uc77d\uae30 \uc804\uc6a9: \ucc38\uc870\ud558\ub294 \ub9ac\uc18c\uc2a4\n  - apiGroups: [storage.k8s.io]\n    resources: [storageclasses]\n    verbs: [get, list, watch]\n\n  # \uc774\ubca4\ud2b8 \uc0dd\uc131 (\uc120\ud0dd\uc801)\n  - apiGroups: [\"\"]\n    resources: [events]\n    verbs: [create, patch]\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#webhook_1","title":"Webhook \ubd80\uc791\uc6a9 \ucc98\ub9ac","text":"<pre><code>// Webhook\uc740 side effects\ub97c \ucd5c\uc18c\ud654\ud574\uc57c \ud568\n// \ubd80\uc791\uc6a9\uc774 \uc788\ub294 \uacbd\uc6b0 \ubc18\ub4dc\uc2dc Controller\ub85c \ub3d9\uae30\ud654\n\n//+kubebuilder:webhook:sideEffects=NoneOnDryRun\n\nfunc (v *DatabaseValidator) ValidateCreate(ctx context.Context, obj runtime.Object) (admission.Warnings, error) {\n    db := obj.(*Database)\n\n    // \u274c \ub098\uc05c \uc608: Webhook\uc5d0\uc11c \uc9c1\uc811 \uc678\ubd80 \ub9ac\uc18c\uc2a4 \uc0dd\uc131\n    // if db.Spec.CreateBackup {\n    //     createBackupBucket(db.Name)  // dry-run\uc5d0\uc11c\ub3c4 \uc2e4\ud589\ub428!\n    // }\n\n    // \u2705 \uc88b\uc740 \uc608: \uac80\uc99d\ub9cc \uc218\ud589, \uc0dd\uc131\uc740 Controller\uac00 \ub2f4\ub2f9\n    if db.Spec.CreateBackup &amp;&amp; !isValidBackupConfig(db.Spec.BackupConfig) {\n        return nil, fmt.Errorf(\"invalid backup configuration\")\n    }\n\n    return nil, nil\n}\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_3","title":"\uc778\uc99d\uc11c \uac31\uc2e0 \ubaa8\ub2c8\ud130\ub9c1","text":"<pre><code>// OLM\uc774 \uc790\ub3d9 \uac31\uc2e0\ud558\uc9c0\ub9cc, \ub9cc\ub8cc \uc804 \uc54c\ub9bc \uc124\uc815\nfunc (r *DatabaseReconciler) checkWebhookCertExpiry(ctx context.Context) error {\n    var secret corev1.Secret\n    if err := r.Get(ctx, types.NamespacedName{\n        Name:      \"webhook-server-cert\",\n        Namespace: \"database-operator-system\",\n    }, &amp;secret); err != nil {\n        return err\n    }\n\n    certData := secret.Data[\"tls.crt\"]\n    cert, err := x509.ParseCertificate(certData)\n    if err != nil {\n        return err\n    }\n\n    daysUntilExpiry := time.Until(cert.NotAfter).Hours() / 24\n    if daysUntilExpiry &lt; 30 {\n        // Alert \ubc1c\uc1a1\n        log.Info(\"Webhook certificate expiring soon\", \"days\", daysUntilExpiry)\n    }\n\n    return nil\n}\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_4","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#1-validating-webhook","title":"\uc2e4\uc2b5 1: Validating Webhook \uad6c\ud604","text":"<pre><code># 1. Kubebuilder\ub85c Webhook \uc2a4\uce90\ud3f4\ub529\nkubebuilder create webhook \\\n  --group db \\\n  --version v1 \\\n  --kind Database \\\n  --defaulting \\\n  --programmatic-validation\n\n# 2. \uc0dd\uc131\ub41c \ud30c\uc77c \ud655\uc778\n# api/v1/database_webhook.go\n# config/webhook/manifests.yaml\n# config/certmanager/certificate.yaml\n\n# 3. Webhook \ub85c\uc9c1 \uad6c\ud604 (\uc704 \uc608\uc81c \ucc38\uc870)\n\n# 4. \ub85c\uceec \ud14c\uc2a4\ud2b8 (cert-manager \ud544\uc694)\nkubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.14.0/cert-manager.yaml\n\n# 5. Webhook \ubc30\ud3ec\nmake deploy\n\n# 6. \ud14c\uc2a4\ud2b8\nkubectl apply -f config/samples/db_v1_database.yaml\n\n# 7. Webhook \ub85c\uadf8 \ud655\uc778\nkubectl logs -n database-operator-system deployment/database-operator-controller-manager\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#2-envtest-integration-test","title":"\uc2e4\uc2b5 2: EnvTest\ub85c Integration Test \uc791\uc131","text":"<pre><code># 1. \ud14c\uc2a4\ud2b8 \uc758\uc874\uc131 \uc124\uce58\ngo install sigs.k8s.io/controller-runtime/tools/setup-envtest@latest\nsetup-envtest use 1.30.0\n\n# 2. \ud14c\uc2a4\ud2b8 \uc791\uc131 (\uc704 \uc608\uc81c \ucc38\uc870)\n\n# 3. \ud14c\uc2a4\ud2b8 \uc2e4\ud589\nmake test\n\n# 4. Coverage \ud655\uc778\ngo test ./... -coverprofile=coverage.out\ngo tool cover -html=coverage.out\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#3-olm-bundle","title":"\uc2e4\uc2b5 3: OLM Bundle \uc0dd\uc131 \ubc0f \ubc30\ud3ec","text":"<pre><code># 1. Bundle \uc0dd\uc131\nmake bundle IMG=quay.io/yourorg/database-operator:v1.0.0\n\n# 2. CSV \ud3b8\uc9d1\nvim bundle/manifests/database-operator.clusterserviceversion.yaml\n\n# 3. Bundle \uac80\uc99d\noperator-sdk bundle validate ./bundle\n\n# 4. Bundle \uc774\ubbf8\uc9c0 \ube4c\ub4dc\nmake bundle-build bundle-push BUNDLE_IMG=quay.io/yourorg/database-operator-bundle:v1.0.0\n\n# 5. OLM \uc124\uce58 (Kind \ud074\ub7ec\uc2a4\ud130)\noperator-sdk olm install\n\n# 6. Bundle \uc2e4\ud589\noperator-sdk run bundle quay.io/yourorg/database-operator-bundle:v1.0.0\n\n# 7. \ud655\uc778\nkubectl get csv -n operators\nkubectl get installplan -n operators\nkubectl get subscription -n operators\n\n# 8. Database \uc0dd\uc131\nkubectl apply -f config/samples/db_v1_database.yaml\n\n# 9. \uc815\ub9ac\noperator-sdk cleanup database-operator\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_5","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#operator-2025","title":"\uc644\uc804\ud55c Operator \ud504\ub85c\uc81d\ud2b8 \uad6c\uc870 (2025)","text":"<pre><code>database-operator/\n\u251c\u2500\u2500 api/\n\u2502   \u2514\u2500\u2500 v1/\n\u2502       \u251c\u2500\u2500 database_types.go\n\u2502       \u251c\u2500\u2500 database_webhook.go\n\u2502       \u251c\u2500\u2500 groupversion_info.go\n\u2502       \u2514\u2500\u2500 zz_generated.deepcopy.go\n\u251c\u2500\u2500 internal/\n\u2502   \u2514\u2500\u2500 controller/\n\u2502       \u251c\u2500\u2500 database_controller.go\n\u2502       \u251c\u2500\u2500 database_controller_test.go\n\u2502       \u251c\u2500\u2500 suite_test.go\n\u2502       \u2514\u2500\u2500 testdata/\n\u251c\u2500\u2500 config/\n\u2502   \u251c\u2500\u2500 crd/\n\u2502   \u2502   \u2514\u2500\u2500 bases/\n\u2502   \u2502       \u2514\u2500\u2500 db.example.com_databases.yaml\n\u2502   \u251c\u2500\u2500 rbac/\n\u2502   \u2502   \u251c\u2500\u2500 role.yaml\n\u2502   \u2502   \u2514\u2500\u2500 role_binding.yaml\n\u2502   \u251c\u2500\u2500 manager/\n\u2502   \u2502   \u2514\u2500\u2500 manager.yaml\n\u2502   \u251c\u2500\u2500 webhook/\n\u2502   \u2502   \u2514\u2500\u2500 manifests.yaml\n\u2502   \u251c\u2500\u2500 certmanager/\n\u2502   \u2502   \u2514\u2500\u2500 certificate.yaml\n\u2502   \u251c\u2500\u2500 prometheus/\n\u2502   \u2502   \u2514\u2500\u2500 monitor.yaml\n\u2502   \u2514\u2500\u2500 samples/\n\u2502       \u2514\u2500\u2500 db_v1_database.yaml\n\u251c\u2500\u2500 bundle/\n\u2502   \u251c\u2500\u2500 manifests/\n\u2502   \u2502   \u251c\u2500\u2500 database-operator.clusterserviceversion.yaml\n\u2502   \u2502   \u2514\u2500\u2500 databases.db.example.com.crd.yaml\n\u2502   \u251c\u2500\u2500 metadata/\n\u2502   \u2502   \u2514\u2500\u2500 annotations.yaml\n\u2502   \u2514\u2500\u2500 tests/\n\u2502       \u2514\u2500\u2500 scorecard/\n\u251c\u2500\u2500 test/\n\u2502   \u2514\u2500\u2500 e2e/\n\u2502       \u251c\u2500\u2500 e2e_test.go\n\u2502       \u2514\u2500\u2500 e2e_suite_test.go\n\u251c\u2500\u2500 cmd/\n\u2502   \u2514\u2500\u2500 main.go\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 Makefile\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 go.sum\n\u2514\u2500\u2500 PROJECT\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#makefile-2025","title":"Makefile \uc8fc\uc694 \ud0c0\uac9f (2025)","text":"<pre><code># Makefile\nVERSION ?= 1.0.0\nIMG ?= quay.io/example/database-operator:$(VERSION)\nBUNDLE_IMG ?= quay.io/example/database-operator-bundle:$(VERSION)\n\n.PHONY: test\ntest: envtest\n    KUBEBUILDER_ASSETS=\"$(shell $(ENVTEST) use $(ENVTEST_K8S_VERSION) --bin-dir $(LOCALBIN) -p path)\" go test ./... -coverprofile cover.out\n\n.PHONY: test-e2e\ntest-e2e:\n    go test ./test/e2e/... -v -ginkgo.v\n\n.PHONY: docker-build\ndocker-build:\n    docker build -t ${IMG} .\n\n.PHONY: docker-push\ndocker-push:\n    docker push ${IMG}\n\n.PHONY: bundle\nbundle: manifests kustomize operator-sdk\n    $(OPERATOR_SDK) generate kustomize manifests -q\n    cd config/manager &amp;&amp; $(KUSTOMIZE) edit set image controller=$(IMG)\n    $(KUSTOMIZE) build config/manifests | $(OPERATOR_SDK) generate bundle -q --overwrite --version $(VERSION)\n    $(OPERATOR_SDK) bundle validate ./bundle\n\n.PHONY: bundle-build\nbundle-build:\n    docker build -f bundle.Dockerfile -t $(BUNDLE_IMG) .\n\n.PHONY: bundle-push\nbundle-push:\n    docker push $(BUNDLE_IMG)\n\n.PHONY: deploy\ndeploy: manifests kustomize\n    cd config/manager &amp;&amp; $(KUSTOMIZE) edit set image controller=${IMG}\n    $(KUSTOMIZE) build config/default | kubectl apply -f -\n\n.PHONY: undeploy\nundeploy:\n    $(KUSTOMIZE) build config/default | kubectl delete -f -\n</code></pre>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_6","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#2025","title":"\uacf5\uc2dd \ubb38\uc11c (2025)","text":"<ul> <li>Operator SDK Documentation</li> <li>Kubebuilder Book</li> <li>Kubernetes Admission Webhooks Good Practices</li> <li>OLM Documentation</li> <li>controller-runtime GitHub</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_7","title":"\ud14c\uc2a4\ud305 \ub9ac\uc18c\uc2a4","text":"<ul> <li>Testing Kubernetes Operators using EnvTest</li> <li>EnvTest Practical Guide</li> <li>Testing Production Kubernetes Controllers</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_8","title":"\ud504\ub85c\ub355\uc158 \uac00\uc774\ub4dc","text":"<ul> <li>Kubernetes Operators in 2025 Guide</li> <li>Enterprise Kubernetes Operators 2025</li> <li>Deploying Operators with OLM bundles</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_9","title":"\ucee4\ubba4\ub2c8\ud2f0 \ub9ac\uc18c\uc2a4","text":"<ul> <li>Operator Framework GitHub</li> <li>Kubernetes Operator Patterns Repository</li> <li>CNCF Operator White Paper</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#2025_1","title":"2025 \uae30\uc220 \ube14\ub85c\uadf8","text":"<ul> <li>Operator Best Practices</li> <li>OLMv1 Support and Chart Dependencies</li> <li>Slack Engineering: Simple Kubernetes Webhook</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_10","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#essential","title":"\uae30\ubcf8 (Essential)","text":"<ul> <li> Validating Webhook\uacfc Mutating Webhook\uc758 \ucc28\uc774 \uc774\ud574</li> <li> CEL Validation\uacfc Webhook\uc758 \uc801\uc808\ud55c \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624 \ud310\ub2e8</li> <li> EnvTest\ub85c Controller \ud1b5\ud569 \ud14c\uc2a4\ud2b8 \uc791\uc131</li> <li> OLM Bundle \uc0dd\uc131 \ubc0f CSV \uc791\uc131</li> <li> \uae30\ubcf8\uc801\uc778 Prometheus metrics \ub178\ucd9c</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#intermediate","title":"\uc911\uae09 (Intermediate)","text":"<ul> <li> Webhook\uc5d0\uc11c \ub2e4\ub978 \ub9ac\uc18c\uc2a4 \uc870\ud68c\ud558\uc5ec \uac80\uc99d</li> <li> admission.Warnings \ud65c\uc6a9\ud558\uc5ec \uc0ac\uc6a9\uc790\uc5d0\uac8c \uacbd\uace0 \uc804\ub2ec</li> <li> Ginkgo/Gomega\ub85c BDD \uc2a4\ud0c0\uc77c \ud14c\uc2a4\ud2b8 \uc791\uc131</li> <li> OLM\uc758 \uc790\ub3d9 \uc778\uc99d\uc11c \uad00\ub9ac \uba54\ucee4\ub2c8\uc998 \uc774\ud574</li> <li> Multi-cluster \ubc30\ud3ec \ud328\ud134 \uc911 \ud558\ub098 \uad6c\ud604</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#advanced","title":"\uace0\uae09 (Advanced)","text":"<ul> <li> Conversion Webhook \uad6c\ud604 (CRD \ubc84\uc804 \ubcc0\ud658)</li> <li> E2E \ud14c\uc2a4\ud2b8 \ud504\ub808\uc784\uc6cc\ud06c \uad6c\ucd95</li> <li> OLMv1 ClusterExtension\uc73c\ub85c \ubc30\ud3ec</li> <li> Federated Operator \ud328\ud134\uc73c\ub85c multi-cluster \uad00\ub9ac</li> <li> OpenTelemetry traces \ud1b5\ud569</li> <li> Operator \uc131\ub2a5 \ud504\ub85c\ud30c\uc77c\ub9c1 \ubc0f \ucd5c\uc801\ud654</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#production-ready","title":"\ud504\ub85c\ub355\uc158 (Production-Ready)","text":"<ul> <li> RBAC \ucd5c\uc18c \uad8c\ud55c \uc6d0\uce59 \uc801\uc6a9 \ubc0f \uac80\uc99d</li> <li> Webhook \ubd80\uc791\uc6a9(side effects) \ucc98\ub9ac \ud328\ud134 \uad6c\ud604</li> <li> \uc778\uc99d\uc11c \ub9cc\ub8cc \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc54c\ub9bc</li> <li> OperatorHub.io\uc5d0 Operator \ub4f1\ub85d</li> <li> Chaos Engineering\uc73c\ub85c \uc7a5\uc560 \uc2dc\ub098\ub9ac\uc624 \ud14c\uc2a4\ud2b8</li> <li> SLO/SLI \uc815\uc758 \ubc0f Monitoring Dashboard \uad6c\ucd95</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_11","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":""},{"location":"computing-service/Ch6.Kubernetes_Operator/#ch7-cloud-network-cni","title":"Ch7: Cloud Network CNI","text":"<p>Kubernetes\uc758 \ub124\ud2b8\uc6cc\ud06c \ud50c\ub7ec\uadf8\uc778 \uc544\ud0a4\ud14d\ucc98\uc778 CNI(Container Network Interface)\ub97c \ud559\uc2b5\ud558\uace0, Cilium, Calico, Flannel \ub4f1 \uc8fc\uc694 CNI \ud50c\ub7ec\uadf8\uc778\uc758 \ub3d9\uc791 \uc6d0\ub9ac\uc640 Service Mesh \ud1b5\ud569 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 \uc8fc\uc81c:</p> <ul> <li>CNI \ud50c\ub7ec\uadf8\uc778 \uc544\ud0a4\ud14d\ucc98 \ubc0f Spec</li> <li>Cilium: eBPF \uae30\ubc18 \ub124\ud2b8\uc6cc\ud0b9 \ubc0f \ubcf4\uc548</li> <li>Calico: BGP \uae30\ubc18 \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45</li> <li>Service Mesh (Istio, Linkerd)\uc640 CNI\uc758 \uad00\uacc4</li> <li>NetworkPolicy \uace0\uae09 \ud65c\uc6a9</li> </ul>"},{"location":"computing-service/Ch6.Kubernetes_Operator/#_12","title":"\ucd94\uac00 \ud559\uc2b5 \ub9ac\uc18c\uc2a4","text":"<ul> <li>OperatorHub.io - \ucee4\ubba4\ub2c8\ud2f0 Operator \ud0d0\uc0c9</li> <li>Kubernetes SIG-API-Machinery - API \ud655\uc7a5 \uba54\ucee4\ub2c8\uc998 \ud559\uc2b5</li> <li>CNCF Landscape - Operator \uc0dd\ud0dc\uacc4 \uc774\ud574</li> </ul> <p>\uc791\uc131\uc77c: 2025-11-24 \ub300\uc0c1: Computing Service \uc5d4\uc9c0\ub2c8\uc5b4 \ub09c\uc774\ub3c4: Advanced \uc608\uc0c1 \ud559\uc2b5 \uc2dc\uac04: 12-16\uc2dc\uac04 (\uc2e4\uc2b5 \ud3ec\ud568)</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/","title":"Chapter 7: Cloud Network CNI","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ubcf8 Chapter\uc5d0\uc11c\ub294 Kubernetes\uc758 \ub124\ud2b8\uc6cc\ud0b9 \ud50c\ub7ec\uadf8\uc778 \uc544\ud0a4\ud14d\ucc98\uc778 CNI(Container Network Interface)\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4. CNI\ub294 \ucee8\ud14c\uc774\ub108\uc758 \ub124\ud2b8\uc6cc\ud06c \uc778\ud130\ud398\uc774\uc2a4\ub97c \uad6c\uc131\ud558\ub294 \ud45c\uc900 \uc2a4\ud399\uc774\uba70, Cilium, Calico, Flannel \ub4f1 \ub2e4\uc591\ud55c \uad6c\ud604\uccb4\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, CNI\ub294 \ub2e8\uc21c\ud55c \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ub118\uc5b4 \ubcf4\uc548(NetworkPolicy), \uad00\ucc30\uc131(Observability), \uc131\ub2a5 \ucd5c\uc801\ud654\uc758 \ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8\ub85c \ubc1c\uc804\ud588\uc2b5\ub2c8\ub2e4. \ud2b9\ud788 eBPF \uae30\uc220\uc744 \ud65c\uc6a9\ud55c Cilium\uc740 \ucee4\ub110 \uc218\uc900\uc758 \uace0\uc131\ub2a5 \ub124\ud2b8\uc6cc\ud0b9\uc744 \uc81c\uacf5\ud558\uba70, Service Mesh\uc640\uc758 \ud1b5\ud569\uc73c\ub85c L7 \ud2b8\ub798\ud53d \uc81c\uc5b4\uae4c\uc9c0 \uac00\ub2a5\ud574\uc84c\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#cni","title":"CNI\uc758 \uc5ed\ud560","text":"<ul> <li>Pod \uac04 \ud1b5\uc2e0: \ud074\ub7ec\uc2a4\ud130 \ub0b4 \ubaa8\ub4e0 Pod\ub294 NAT \uc5c6\uc774 \uc9c1\uc811 \ud1b5\uc2e0</li> <li>Service \ucd94\uc0c1\ud654: ClusterIP, NodePort, LoadBalancer\ub97c \ud1b5\ud55c \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc815\ucc45: Pod \uac04 \ud2b8\ub798\ud53d \uc81c\uc5b4 (\ubc29\ud654\ubcbd \uaddc\uce59)</li> <li>\uc678\ubd80 \uc5f0\uacb0: Ingress/Egress \ud2b8\ub798\ud53d \uad00\ub9ac</li> <li>\uba40\ud2f0 \ud074\ub7ec\uc2a4\ud130 \ub124\ud2b8\uc6cc\ud0b9: \ud074\ub7ec\uc2a4\ud130 \uac04 \ud1b5\uc2e0 (ClusterMesh)</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#2025-cni","title":"2025\ub144 CNI \ud2b8\ub80c\ub4dc","text":"<ul> <li>eBPF \uae30\ubc18 \ub124\ud2b8\uc6cc\ud0b9: Cilium\uc774 \uc8fc\ub3c4\ud558\ub294 \ucee4\ub110 \uc218\uc900 \ud328\ud0b7 \ucc98\ub9ac</li> <li>Kube-Proxy \ub300\uccb4: eBPF \uae30\ubc18 \ud6a8\uc728\uc801\uc778 Service \ub85c\ub4dc\ubc38\ub7f0\uc2f1</li> <li>Service Mesh \ud1b5\ud569: CNI(L4)\uc640 Service Mesh(L7)\uc758 \uc2dc\ub108\uc9c0</li> <li>Zero Trust \ub124\ud2b8\uc6cc\ud0b9: \uae30\ubcf8 mTLS \ubc0f \uc138\ubc00\ud55c NetworkPolicy</li> <li>Cloud Provider CNI: Azure CNI powered by Cilium, AWS VPC CNI \ub4f1</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 Chapter\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>CNI \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>CNI \uc2a4\ud399 v1.0.0 \ud45c\uc900</li> <li>CNI \ud50c\ub7ec\uadf8\uc778\uc758 \uad6c\uc131 \uc694\uc18c (Executable + Daemon)</li> <li> <p>kubelet\uacfc CNI\uc758 \uc0c1\ud638\uc791\uc6a9 \ud750\ub984</p> </li> <li> <p>\uc8fc\uc694 CNI \ud50c\ub7ec\uadf8\uc778 \ube44\uad50 \ubc0f \uc120\ud0dd</p> </li> <li>Cilium: eBPF \uae30\ubc18 \uace0\uc131\ub2a5 \ub124\ud2b8\uc6cc\ud0b9</li> <li>Calico: BGP \ub77c\uc6b0\ud305 \ubc0f \uac15\ub825\ud55c \ubcf4\uc548 \uc815\ucc45</li> <li> <p>Flannel: \ub2e8\uc21c\ud558\uace0 \uac00\ubcbc\uc6b4 Overlay \ub124\ud2b8\uc6cc\ud06c</p> </li> <li> <p>NetworkPolicy \uc124\uacc4 \ubc0f \uad6c\ud604</p> </li> <li>Kubernetes NetworkPolicy \ub9ac\uc18c\uc2a4</li> <li>Calico GlobalNetworkPolicy (\ud074\ub7ec\uc2a4\ud130 \uc218\uc900)</li> <li> <p>Zero Trust \ub124\ud2b8\uc6cc\ud0b9 \ud328\ud134</p> </li> <li> <p>Service Mesh \ud1b5\ud569</p> </li> <li>Istio vs Linkerd \ube44\uad50 (2025 \ubca4\uce58\ub9c8\ud06c)</li> <li>CNI\uc640 Service Mesh\uc758 \uc5ed\ud560 \ubd84\ub2f4</li> <li>Ambient Mesh (Sidecar-less) \uc544\ud0a4\ud14d\ucc98</li> </ol>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#part-1-cni","title":"Part 1: CNI \uc544\ud0a4\ud14d\ucc98 \ubc0f \uc2a4\ud399","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#11-cni","title":"1.1 CNI \uac1c\uc694","text":"<p>CNI(Container Network Interface)\ub294 CNCF \ud504\ub85c\uc81d\ud2b8\ub85c, Linux \ubc0f Windows \ucee8\ud14c\uc774\ub108\uc758 \ub124\ud2b8\uc6cc\ud06c \uc778\ud130\ud398\uc774\uc2a4\ub97c \uad6c\uc131\ud558\uae30 \uc704\ud55c \uc2a4\ud399\uacfc \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#cni_1","title":"CNI \uc2a4\ud399 \ubc84\uc804","text":"\ubc84\uc804 \ucd9c\uc2dc \uc8fc\uc694 \ud2b9\uc9d5 v0.4.0 2018 \uba40\ud2f0 \ub124\ud2b8\uc6cc\ud06c \uc9c0\uc6d0 v1.0.0 2021 \uc548\uc815\ud654\ub41c API, \ud558\uc704 \ud638\ud658\uc131 \ubcf4\uc7a5 v1.1.0 2023 Status \ud544\ub4dc \ucd94\uac00, \uc5d0\ub7ec \ucc98\ub9ac \uac1c\uc120 <p>2025 \uad8c\uc7a5: v1.0.0 \uc774\uc0c1 \ud638\ud658 CNI \ud50c\ub7ec\uadf8\uc778 \uc0ac\uc6a9</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#12-cni","title":"1.2 CNI \ud50c\ub7ec\uadf8\uc778 \uad6c\uc870","text":"<p>CNI \ud50c\ub7ec\uadf8\uc778\uc740 \ub450 \uac00\uc9c0 \uc8fc\uc694 \ucef4\ud3ec\ub10c\ud2b8\ub85c \uad6c\uc131\ub429\ub2c8\ub2e4:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Kubernetes Node               \u2502\n\u2502                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 kubelet  \u2502 \u2500\u2500\u2500\u2500\u2500\u2500&gt; \u2502 CNI Plugin   \u2502 \u2502\n\u2502  \u2502          \u2502  invoke \u2502 (Executable) \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502       \u2502                      \u2502          \u2502\n\u2502       \u2502                      \u2502          \u2502\n\u2502       v                      v          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Pod Network Namespace          \u2502  \u2502\n\u2502  \u2502   (veth pair, IP, routes)        \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  CNI Daemon (DaemonSet)          \u2502  \u2502\n\u2502  \u2502  - Cross-node routing            \u2502  \u2502\n\u2502  \u2502  - IPAM (IP Address Management)  \u2502  \u2502\n\u2502  \u2502  - NetworkPolicy enforcement     \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#1-executable","title":"1. Executable (\uc2e4\ud589 \ud30c\uc77c)","text":"<p>Pod \ub124\ud2b8\uc6cc\ud06c\ub97c \uad6c\uc131\ud558\ub294 \ubc14\uc774\ub108\ub9ac \ud30c\uc77c\ub85c, kubelet\uc774 \uc9c1\uc811 \ud638\ucd9c\ud569\ub2c8\ub2e4.</p> <ul> <li>\uc704\uce58: <code>/opt/cni/bin/</code></li> <li>\uc785\ub825: STDIN\uc73c\ub85c JSON \ub124\ud2b8\uc6cc\ud06c \uc124\uc815</li> <li>\ucd9c\ub825: STDOUT\uc73c\ub85c \uacb0\uacfc \ubc18\ud658</li> <li>\ub3d9\uc791: <code>ADD</code>, <code>DEL</code>, <code>CHECK</code>, <code>VERSION</code> \ucee4\ub9e8\ub4dc \uc9c0\uc6d0</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#2-daemon","title":"2. Daemon (\ub370\ubaac\uc14b)","text":"<p>\ud074\ub7ec\uc2a4\ud130 \uc804\uccb4 \ub77c\uc6b0\ud305\uc744 \uad00\ub9ac\ud558\ub294 \ubc31\uadf8\ub77c\uc6b4\ub4dc \ud504\ub85c\uc138\uc2a4\uc785\ub2c8\ub2e4.</p> <ul> <li>\ubc30\ud3ec: DaemonSet\uc73c\ub85c \uac01 \ub178\ub4dc\uc5d0 \uc2e4\ud589</li> <li>\uc5ed\ud560:</li> <li>\ub178\ub4dc \uac04 \ub77c\uc6b0\ud305 \ud14c\uc774\ube14 \uad00\ub9ac</li> <li>IPAM (IP \uc8fc\uc18c \ud560\ub2f9)</li> <li>NetworkPolicy \uc801\uc6a9</li> <li>\ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub85c\uae45</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#13-cni","title":"1.3 CNI \ud50c\ub7ec\uadf8\uc778 \ud638\ucd9c \ud750\ub984","text":"<pre><code># 1. Pod \uc0dd\uc131 \uc694\uccad\nkubectl apply -f pod.yaml\n\n# 2. Scheduler\uac00 Node \ud560\ub2f9\n# 3. kubelet\uc774 Container Runtime (containerd) \ud638\ucd9c\n# 4. Container Runtime\uc774 CNI \ud50c\ub7ec\uadf8\uc778 \ud638\ucd9c\n\n# CNI \ud50c\ub7ec\uadf8\uc778 \ud638\ucd9c \uc608\uc2dc (kubelet -&gt; CNI)\nCNI_COMMAND=ADD \\\nCNI_CONTAINERID=abc123 \\\nCNI_NETNS=/var/run/netns/pod1 \\\nCNI_IFNAME=eth0 \\\nCNI_PATH=/opt/cni/bin \\\n/opt/cni/bin/cilium &lt; /etc/cni/net.d/10-cilium.conf\n\n# 5. CNI Executable\uc774 \ub124\ud2b8\uc6cc\ud06c \uc124\uc815\n#    - veth pair \uc0dd\uc131 (Pod &lt;-&gt; Host)\n#    - IP \uc8fc\uc18c \ud560\ub2f9 (CNI Daemon\uc5d0 \uc694\uccad)\n#    - \ub77c\uc6b0\ud305 \uaddc\uce59 \ucd94\uac00\n\n# 6. CNI Daemon\uc774 \ud074\ub7ec\uc2a4\ud130 \uc804\uccb4 \ub77c\uc6b0\ud305 \uc5c5\ub370\uc774\ud2b8\n#    - BGP \ub77c\uc6b0\ud2b8 \uad11\uace0 (Calico)\n#    - eBPF \ub9f5 \uc5c5\ub370\uc774\ud2b8 (Cilium)\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#14-cni","title":"1.4 CNI \uc124\uc815 \ud30c\uc77c","text":"<pre><code>// /etc/cni/net.d/10-cilium.conf\n{\n  \"cniVersion\": \"1.0.0\",\n  \"name\": \"cilium\",\n  \"type\": \"cilium-cni\",\n  \"enable-debug\": false,\n  \"log-file\": \"/var/run/cilium/cilium-cni.log\",\n  \"ipam\": {\n    \"type\": \"cilium\",\n    \"podCIDR\": \"10.244.0.0/16\"\n  },\n  \"capabilities\": {\n    \"portMappings\": true,\n    \"bandwidth\": true\n  }\n}\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#part-2-cni","title":"Part 2: \uc8fc\uc694 CNI \ud50c\ub7ec\uadf8\uc778 \ube44\uad50","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#21-cni-2025","title":"2.1 CNI \ud50c\ub7ec\uadf8\uc778 \uc120\ud0dd \uac00\uc774\ub4dc (2025)","text":"\ud50c\ub7ec\uadf8\uc778 \uc7a5\uc810 \uc801\ud569\ud55c \uc0ac\uc6a9 \uc0ac\ub840 \uc131\ub2a5 Cilium eBPF \uae30\ubc18 \uace0\uc131\ub2a5, L7 \uc815\ucc45, \uad00\ucc30\uc131 \ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130, \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4, \ubcf4\uc548 \uc911\uc2dc \u2b50\u2b50\u2b50\u2b50\u2b50 Calico \uac15\ub825\ud55c NetworkPolicy, BGP \uc9c0\uc6d0 \uc5d4\ud130\ud504\ub77c\uc774\uc988 \ubcf4\uc548, On-premise \ud658\uacbd \u2b50\u2b50\u2b50\u2b50 Flannel \ub2e8\uc21c \uc124\uce58, \uac00\ubcbc\uc6c0 \uac1c\ubc1c/\ud14c\uc2a4\ud2b8 \ud658\uacbd, \uc18c\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130 \u2b50\u2b50\u2b50 Weave \uc790\ub3d9 \uba54\uc26c \ud615\uc131, \uac04\ud3b8\ud55c \uc124\uc815 \ube60\ub978 \ud504\ub85c\ud1a0\ud0c0\uc774\ud551 \u2b50\u2b50\u2b50 <p>2025 \uad8c\uc7a5: Cilium (eBPF\uc758 \uc131\ub2a5\uacfc \ubcf4\uc548 \uc774\uc810)</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#22-cilium-ebpf","title":"2.2 Cilium: eBPF \uae30\ubc18 \ub124\ud2b8\uc6cc\ud0b9","text":"<p>Cilium\uc740 eBPF(extended Berkeley Packet Filter)\ub97c \ud65c\uc6a9\ud558\uc5ec \ucee4\ub110 \uc218\uc900\uc5d0\uc11c \ub124\ud2b8\uc6cc\ud06c \ud328\ud0b7\uc744 \ucc98\ub9ac\ud569\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#ebpf","title":"eBPF \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          User Space                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 Cilium Agent \u2502 \u2500\u2500\u2500&gt; \u2502 Cilium CLI   \u2502  \u2502\n\u2502  \u2502 (DaemonSet)  \u2502      \u2502  (Hubble)    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502 BPF syscall                     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         v         Kernel Space            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502    eBPF Programs (JIT compiled)  \u2502    \u2502\n\u2502  \u2502  - XDP (eXpress Data Path)       \u2502    \u2502\n\u2502  \u2502  - TC (Traffic Control)          \u2502    \u2502\n\u2502  \u2502  - Socket operations             \u2502    \u2502\n\u2502  \u2502  - Kprobes (Kernel tracing)      \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2502                 \u2502                         \u2502\n\u2502                 v                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502\n\u2502  \u2502    eBPF Maps (Shared Data)       \u2502    \u2502\n\u2502  \u2502  - Connection tracking           \u2502    \u2502\n\u2502  \u2502  - NetworkPolicy rules           \u2502    \u2502\n\u2502  \u2502  - Service endpoints             \u2502    \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#cilium","title":"Cilium \uc8fc\uc694 \uae30\ub2a5","text":"<p>1. Kube-Proxy \ub300\uccb4 (2025 \uad8c\uc7a5)</p> <pre><code># values.yaml (Helm)\nkubeProxyReplacement: \"true\"  # kube-proxy \uc81c\uac70\nk8sServiceHost: 10.96.0.1     # API Server \uc9c1\uc811 \uc5f0\uacb0\nk8sServicePort: 443\n\n# eBPF \uae30\ubc18 \ub85c\ub4dc\ubc38\ub7f0\uc2f1 \uc7a5\uc810\n# - iptables \ubd88\ud544\uc694 (O(n) -&gt; O(1) \ub8e9\uc5c5)\n# - Direct Server Return (DSR) \uc9c0\uc6d0\n# - Maglev \uc77c\uad00\uc131 \ud574\uc2f1\n</code></pre> <p>\uc131\ub2a5 \ube44\uad50 (2025 \ubca4\uce58\ub9c8\ud06c):</p> \uba54\ud2b8\ub9ad iptables IPVS Cilium eBPF Latency (p99) 5.2ms 3.8ms 1.5ms Throughput 10 Gbps 15 Gbps 40+ Gbps CPU \uc0ac\uc6a9\ub960 \ub192\uc74c \uc911\uac04 \ub0ae\uc74c \uc11c\ube44\uc2a4 \uc218 \ud655\uc7a5\uc131 5,000 10,000 100,000+ <p>2. L7 \ud2b8\ub798\ud53d \uc81c\uc5b4 (HTTP/Kafka/gRPC)</p> <pre><code># CiliumNetworkPolicy - HTTP \uacbd\ub85c \uae30\ubc18 \uc815\ucc45\napiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: http-rule\nspec:\n  endpointSelector:\n    matchLabels:\n      app: backend\n  ingress:\n  - fromEndpoints:\n    - matchLabels:\n        app: frontend\n    toPorts:\n    - ports:\n      - port: \"80\"\n        protocol: TCP\n      rules:\n        http:\n        # GET /api/* \ub9cc \ud5c8\uc6a9\n        - method: \"GET\"\n          path: \"/api/.*\"\n        # POST /api/users\ub294 \ud2b9\uc815 \ucd9c\ucc98\ub9cc\n        - method: \"POST\"\n          path: \"/api/users\"\n          headers:\n          - \"X-API-Key: secret123\"\n</code></pre> <p>3. Hubble: \ub124\ud2b8\uc6cc\ud06c \uad00\ucc30\uc131</p> <pre><code># Hubble CLI\ub85c \uc2e4\uc2dc\uac04 \ud2b8\ub798\ud53d \ubaa8\ub2c8\ud130\ub9c1\nhubble observe --namespace default\n\n# \ucd9c\ub825 \uc608\uc2dc\nNov 24 10:15:23.456: default/frontend:12345 -&gt; default/backend:8080 (tcp) [FORWARDED]\nNov 24 10:15:23.460: default/backend:8080 -&gt; external-api:443 (https) [DENIED by policy]\n\n# \uc11c\ube44\uc2a4 \ub9f5 \uc2dc\uac01\ud654 (Hubble UI)\nhubble observe --since 1h | hubble summarize --graph\n</code></pre> <p>4. \uba40\ud2f0 \ud074\ub7ec\uc2a4\ud130 \ub124\ud2b8\uc6cc\ud0b9 (ClusterMesh)</p> <pre><code># clustermesh-config\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: cilium-config\n  namespace: kube-system\ndata:\n  cluster-name: cluster-1\n  cluster-id: \"1\"\n  enable-cluster-mesh: \"true\"\n  cluster-mesh-config: |\n    clusters:\n    - name: cluster-2\n      address: cluster2.example.com:2379\n      tls:\n        ca-file: /etc/cilium/cluster2-ca.crt\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#cilium-2025","title":"Cilium \uc124\uce58 (2025)","text":"<pre><code># Helm\uc73c\ub85c \uc124\uce58\nhelm repo add cilium https://helm.cilium.io/\nhelm repo update\n\n# \ud504\ub85c\ub355\uc158 \uc124\uc815\nhelm install cilium cilium/cilium --version 1.16.0 \\\n  --namespace kube-system \\\n  --set kubeProxyReplacement=true \\\n  --set operator.replicas=2 \\\n  --set hubble.relay.enabled=true \\\n  --set hubble.ui.enabled=true \\\n  --set prometheus.enabled=true \\\n  --set operator.prometheus.enabled=true\n\n# \uc0c1\ud0dc \ud655\uc778\ncilium status --wait\n\n# Hubble \ud65c\uc131\ud654\ncilium hubble enable --ui\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#23-calico-bgp","title":"2.3 Calico: BGP \ub77c\uc6b0\ud305 \ubc0f \ubcf4\uc548 \uc815\ucc45","text":"<p>Calico\ub294 BGP(Border Gateway Protocol)\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub178\ub4dc \uac04 \ub77c\uc6b0\ud305\uc744 \uc218\ud589\ud558\uba70, \uac15\ub825\ud55c NetworkPolicy \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#calico","title":"Calico \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Kubernetes Cluster             \u2502\n\u2502                                         \u2502\n\u2502  Node 1                 Node 2          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Felix    \u2502 \u25c4\u2500\u2500\u2500\u2500\u25ba \u2502   Felix    \u2502  \u2502\n\u2502  \u2502 (Agent)    \u2502  BGP   \u2502 (Agent)    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502         \u2502                    \u2502          \u2502\n\u2502         \u2502    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502          \u2502\n\u2502         \u2514\u2500\u2500\u2500\u25ba\u2502  BIRD    \u2502\u25c4\u2500\u2500\u2500\u2518          \u2502\n\u2502              \u2502(BGP Peer)\u2502               \u2502\n\u2502              \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518               \u2502\n\u2502                    \u2502                    \u2502\n\u2502                    v                    \u2502\n\u2502         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502         \u2502   Datastore      \u2502            \u2502\n\u2502         \u2502 (Kubernetes API  \u2502            \u2502\n\u2502         \u2502   or etcd)       \u2502            \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502\n              v\n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u2502  External     \u2502\n      \u2502  BGP Router   \u2502\n      \u2502  (ToR Switch) \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#calico_1","title":"Calico \uc8fc\uc694 \uae30\ub2a5","text":"<p>1. IP-in-IP vs VXLAN vs Native Routing</p> <pre><code># Calico IPPool \uc124\uc815\napiVersion: projectcalico.org/v3\nkind: IPPool\nmetadata:\n  name: default-ipv4-ippool\nspec:\n  cidr: 10.244.0.0/16\n\n  # \uc635\uc158 1: IP-in-IP (Overlay)\n  ipipMode: Always  # CrossSubnet | Never\n\n  # \uc635\uc158 2: VXLAN (Overlay)\n  vxlanMode: Always  # CrossSubnet | Never\n\n  # \uc635\uc158 3: Native Routing (No Encapsulation)\n  # ipipMode: Never\n  # vxlanMode: Never\n  # natOutgoing: true\n\n  blockSize: 26  # /26 \ube14\ub85d (64\uac1c IP)\n  nodeSelector: all()\n</code></pre> \ubaa8\ub4dc \uc131\ub2a5 \uc0ac\uc6a9 \uc0ac\ub840 Native \u2b50\u2b50\u2b50\u2b50\u2b50 AWS VPC, Azure VNET (\ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \ub77c\uc6b0\ud305) IP-in-IP \u2b50\u2b50\u2b50\u2b50 \uc628\ud504\ub808\ubbf8\uc2a4, \ubcf5\uc7a1\ud55c \ub124\ud2b8\uc6cc\ud06c \ud1a0\ud3f4\ub85c\uc9c0 VXLAN \u2b50\u2b50\u2b50 \ubc29\ud654\ubcbd\uc774 IP-in-IP\ub97c \ucc28\ub2e8\ud558\ub294 \ud658\uacbd <p>2. BGP \ub77c\uc6b0\ud2b8 \uad11\uace0</p> <pre><code># BGPConfiguration - \uc11c\ube44\uc2a4 IP\ub97c \uc678\ubd80\ub85c \uad11\uace0\napiVersion: projectcalico.org/v3\nkind: BGPConfiguration\nmetadata:\n  name: default\nspec:\n  logSeverityScreen: Info\n  nodeToNodeMeshEnabled: true  # \ubaa8\ub4e0 \ub178\ub4dc \uac04 Full Mesh BGP\n  asNumber: 65001              # \ud074\ub7ec\uc2a4\ud130 AS \ubc88\ud638\n  serviceLoadBalancerIPs:\n  - cidr: 203.0.113.0/24       # \uad11\uace0\ud560 LoadBalancer IP \ubc94\uc704\n  listenPort: 179\n\n  # BGP Peer \uc124\uc815 (ToR \uc2a4\uc704\uce58)\n  communities:\n  - name: bgp-large-community\n    value: 65001:1000\n</code></pre> <pre><code># BGPPeer - \uc678\ubd80 \ub77c\uc6b0\ud130 \uc5f0\uacb0\napiVersion: projectcalico.org/v3\nkind: BGPPeer\nmetadata:\n  name: tor-switch-1\nspec:\n  peerIP: 192.168.1.1          # ToR \uc2a4\uc704\uce58 IP\n  asNumber: 65000              # ToR AS \ubc88\ud638\n  nodeSelector: rack == 'rack-1'\n</code></pre> <p>3. GlobalNetworkPolicy (\ud074\ub7ec\uc2a4\ud130 \uc218\uc900)</p> <pre><code># GlobalNetworkPolicy - \ubaa8\ub4e0 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc5d0 \uc801\uc6a9\napiVersion: projectcalico.org/v3\nkind: GlobalNetworkPolicy\nmetadata:\n  name: deny-all-egress\nspec:\n  # \uc6b0\uc120\uc21c\uc704 (\ub0ae\uc744\uc218\ub85d \uc6b0\uc120)\n  order: 1000\n\n  # \ubaa8\ub4e0 Pod\uc5d0 \uc801\uc6a9\n  selector: all()\n\n  types:\n  - Egress\n\n  egress:\n  # DNS \ud5c8\uc6a9\n  - action: Allow\n    protocol: UDP\n    destination:\n      ports:\n      - 53\n      selector: k8s-app == 'kube-dns'\n\n  # Kubernetes API \uc11c\ubc84 \ud5c8\uc6a9\n  - action: Allow\n    protocol: TCP\n    destination:\n      nets:\n      - 10.96.0.1/32  # Kubernetes Service ClusterIP\n      ports:\n      - 443\n\n  # \ub098\uba38\uc9c0\ub294 \uac70\ubd80\n  - action: Deny\n</code></pre> <p>4. Zero Trust \ub124\ud2b8\uc6cc\ud0b9</p> <pre><code># \ub2e8\uacc4 1: \uae30\ubcf8 Deny (\ubaa8\ub4e0 \ud2b8\ub798\ud53d \ucc28\ub2e8)\napiVersion: projectcalico.org/v3\nkind: GlobalNetworkPolicy\nmetadata:\n  name: default-deny\nspec:\n  order: 1000\n  selector: all()\n  types:\n  - Ingress\n  - Egress\n\n---\n# \ub2e8\uacc4 2: \uba85\uc2dc\uc801 Allow (\ud544\uc694\ud55c \ud2b8\ub798\ud53d\ub9cc \ud5c8\uc6a9)\napiVersion: projectcalico.org/v3\nkind: NetworkPolicy\nmetadata:\n  name: frontend-to-backend\n  namespace: production\nspec:\n  order: 100\n  selector: app == 'backend'\n  types:\n  - Ingress\n  ingress:\n  - action: Allow\n    protocol: TCP\n    source:\n      selector: app == 'frontend'\n    destination:\n      ports:\n      - 8080\n</code></pre> <p>5. \uc9c0\ub9ac\uc801 \ucc28\ub2e8 (Geo-blocking)</p> <pre><code># GlobalNetworkSet - \uc545\uc131 IP \ubc94\uc704 \uc815\uc758\napiVersion: projectcalico.org/v3\nkind: GlobalNetworkSet\nmetadata:\n  name: blocked-countries\n  labels:\n    type: blocked-ips\nspec:\n  nets:\n  # \uc608\uc2dc: \ud2b9\uc815 \uad6d\uac00\uc758 IP \ubc94\uc704\n  - 203.0.113.0/24\n  - 198.51.100.0/24\n\n---\n# GlobalNetworkPolicy - \ucc28\ub2e8 \uc801\uc6a9\napiVersion: projectcalico.org/v3\nkind: GlobalNetworkPolicy\nmetadata:\n  name: geo-blocking\nspec:\n  order: 10\n  selector: all()\n  types:\n  - Ingress\n  ingress:\n  - action: Deny\n    protocol: TCP\n    source:\n      selector: type == 'blocked-ips'\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#calico-2025","title":"Calico \uc124\uce58 (2025)","text":"<pre><code># Operator\ub85c \uc124\uce58\nkubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.0/manifests/tigera-operator.yaml\n\n# Custom Resource \uc124\uc815\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: operator.tigera.io/v1\nkind: Installation\nmetadata:\n  name: default\nspec:\n  calicoNetwork:\n    bgp: Enabled\n    ipPools:\n    - cidr: 10.244.0.0/16\n      encapsulation: None  # Native routing\n      natOutgoing: Enabled\n      nodeSelector: all()\nEOF\n\n# \uc0c1\ud0dc \ud655\uc778\nkubectl get tigerastatus\n\n# BGP \ud53c\uc5b4 \ud655\uc778\ncalicoctl node status\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#24-flannel-overlay","title":"2.4 Flannel: \ub2e8\uc21c Overlay \ub124\ud2b8\uc6cc\ud06c","text":"<p>Flannel\uc740 \uac04\ub2e8\ud558\uace0 \uac00\ubcbc\uc6b4 Overlay \ub124\ud2b8\uc6cc\ud06c\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <pre><code># kube-flannel.yml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: kube-flannel-cfg\n  namespace: kube-flannel\ndata:\n  net-conf.json: |\n    {\n      \"Network\": \"10.244.0.0/16\",\n      \"Backend\": {\n        \"Type\": \"vxlan\",\n        \"Port\": 8472\n      }\n    }\n</code></pre> <pre><code># Flannel \uc124\uce58\nkubectl apply -f https://github.com/flannel-io/flannel/releases/latest/download/kube-flannel.yml\n</code></pre> <p>\uc0ac\uc6a9 \uc0ac\ub840: \uac1c\ubc1c \ud658\uacbd, \ud559\uc2b5 \ubaa9\uc801, \uc18c\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#part-3-networkpolicy","title":"Part 3: NetworkPolicy \uc2e4\uc804","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#31-kubernetes-networkpolicy","title":"3.1 Kubernetes NetworkPolicy","text":"<pre><code># \uc608\uc81c: 3-Tier \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uaca9\ub9ac\n---\n# Frontend: Ingress\uc5d0\uc11c\ub9cc \uc811\uadfc \ud5c8\uc6a9\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: frontend-policy\n  namespace: production\nspec:\n  podSelector:\n    matchLabels:\n      tier: frontend\n  policyTypes:\n  - Ingress\n  - Egress\n  ingress:\n  # Ingress Controller\uc5d0\uc11c\ub9cc\n  - from:\n    - namespaceSelector:\n        matchLabels:\n          name: ingress-nginx\n    ports:\n    - protocol: TCP\n      port: 80\n  egress:\n  # Backend API\ub85c\ub9cc\n  - to:\n    - podSelector:\n        matchLabels:\n          tier: backend\n    ports:\n    - protocol: TCP\n      port: 8080\n  # DNS\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          name: kube-system\n    - podSelector:\n        matchLabels:\n          k8s-app: kube-dns\n    ports:\n    - protocol: UDP\n      port: 53\n\n---\n# Backend: Frontend\uc640 Database\ub9cc \uc811\uadfc\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: backend-policy\n  namespace: production\nspec:\n  podSelector:\n    matchLabels:\n      tier: backend\n  policyTypes:\n  - Ingress\n  - Egress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          tier: frontend\n    ports:\n    - protocol: TCP\n      port: 8080\n  egress:\n  - to:\n    - podSelector:\n        matchLabels:\n          tier: database\n    ports:\n    - protocol: TCP\n      port: 5432\n  - to:\n    - namespaceSelector: {}\n      podSelector:\n        matchLabels:\n          k8s-app: kube-dns\n    ports:\n    - protocol: UDP\n      port: 53\n\n---\n# Database: Backend\uc5d0\uc11c\ub9cc \uc811\uadfc\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: database-policy\n  namespace: production\nspec:\n  podSelector:\n    matchLabels:\n      tier: database\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          tier: backend\n    ports:\n    - protocol: TCP\n      port: 5432\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#32-networkpolicy","title":"3.2 NetworkPolicy \ub514\ubc84\uae45","text":"<pre><code># 1. NetworkPolicy \ud655\uc778\nkubectl get networkpolicy -n production\n\n# 2. Pod\uc5d0 \uc801\uc6a9\ub41c \uc815\ucc45 \ud655\uc778 (Cilium)\nkubectl -n production exec -it frontend-pod -- cilium endpoint list\n\n# 3. \ud2b8\ub798\ud53d \ucc28\ub2e8 \uc6d0\uc778 \ud655\uc778 (Cilium Hubble)\nhubble observe --namespace production --verdict DROPPED\n\n# 4. \uc5f0\uacb0 \ud14c\uc2a4\ud2b8\nkubectl run test-pod --rm -it --image=nicolaka/netshoot -- /bin/bash\n# Pod \ub0b4\uc5d0\uc11c\ncurl -v http://backend-service.production.svc.cluster.local:8080\n\n# 5. Calico \uc815\ucc45 \ud655\uc778\ncalicoctl get networkpolicy -n production -o yaml\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#part-4-service-mesh","title":"Part 4: Service Mesh \ud1b5\ud569","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#41-cni-vs-service-mesh","title":"4.1 CNI vs Service Mesh","text":"\uacc4\uce35 CNI Service Mesh OSI Layer L3/L4 (Network/Transport) L7 (Application) \ucc45\uc784 Pod \uac04 \uc5f0\uacb0, IP \ub77c\uc6b0\ud305 \ud2b8\ub798\ud53d \uad00\ub9ac, \ubcf4\uc548, \uad00\ucc30\uc131 \uae30\ub2a5 NetworkPolicy, LoadBalancing Retry, Circuit Breaker, mTLS, Tracing \uad6c\ud604 Cilium, Calico, Flannel Istio, Linkerd, Consul \ubc30\ud3ec \ud074\ub7ec\uc2a4\ud130 \ud544\uc218 (CNI \uc5c6\uc73c\uba74 \ub3d9\uc791 \ubd88\uac00) \uc120\ud0dd\uc801 (\ubcf5\uc7a1\ud55c \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4\uc5d0 \ucd94\ucc9c)"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#42-istio-vs-linkerd-2025","title":"4.2 Istio vs Linkerd \ube44\uad50 (2025)","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#2025","title":"\uc131\ub2a5 \ubca4\uce58\ub9c8\ud06c (2025)","text":"\uba54\ud2b8\ub9ad Istio (Envoy) Linkerd (Rust Proxy) Latency (p99) 163ms 0ms (\ucd94\uac00 \uc9c0\uc5f0 \uac70\uc758 \uc5c6\uc74c) Latency (\ucd94\uac00) 2-3ms 0.8-1.5ms Memory (per proxy) 40-50MB ~10MB CPU \uc18c\ube44 Baseline 30-40% \ub0ae\uc74c <p>\uacb0\ub860: Linkerd\uac00 \uc131\ub2a5 \uc6b0\uc704, Istio\ub294 \uae30\ub2a5 \uc6b0\uc704</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_3","title":"\uc544\ud0a4\ud14d\ucc98 \ube44\uad50","text":"<p>Istio (Envoy Sidecar)</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Pod                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   App    \u2502  \u2502  Envoy    \u2502 \u2502\n\u2502  \u2502Container \u2502\u25c4\u2500\u2524  Sidecar  \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502              \u25b2\n         \u2502              \u2502\n         v              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Istio Control Plane      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Istiod \u2502  \u2502 Galley      \u2502 \u2502\n\u2502  \u2502(Pilot) \u2502  \u2502(Config)     \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Linkerd (Rust Micro-Proxy)</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Pod                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   App    \u2502  \u2502 linkerd2  \u2502 \u2502\n\u2502  \u2502Container \u2502\u25c4\u2500\u2524  -proxy   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502              \u25b2\n         \u2502              \u2502\n         v              \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Linkerd Control Plane       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502Controller\u2502  \u2502 Identity  \u2502 \u2502\n\u2502  \u2502(Dest API)\u2502  \u2502 (mTLS CA) \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_4","title":"\uae30\ub2a5 \ube44\uad50","text":"\uae30\ub2a5 Istio Linkerd \uc790\ub3d9 mTLS \uc124\uc815 \ud544\uc694 \u2705 \uae30\ubcf8 \ud65c\uc131\ud654 \ud2b8\ub798\ud53d \ubd84\ud560 \u2705 \uc138\ubc00\ud55c \uc81c\uc5b4 \u2705 \uae30\ubcf8 \uc9c0\uc6d0 Circuit Breaker \u2705 \u2705 Observability \u2705 (Kiali, Jaeger) \u2705 (Linkerd Viz) \uba40\ud2f0 \ud074\ub7ec\uc2a4\ud130 \u2705 (\ubcf5\uc7a1) \u2705 (\uac04\ub2e8) VM \uc9c0\uc6d0 \u2705 \u274c (Kubernetes \uc804\uc6a9) \ud559\uc2b5 \uace1\uc120 \ub192\uc74c \ub0ae\uc74c"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#43-cni-service-mesh","title":"4.3 CNI + Service Mesh \ud1b5\ud569 \ud328\ud134","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#1-cilium-istio","title":"\ud328\ud134 1: Cilium + Istio","text":"<pre><code># Cilium: L4 NetworkPolicy\napiVersion: cilium.io/v2\nkind: CiliumNetworkPolicy\nmetadata:\n  name: l4-policy\nspec:\n  endpointSelector:\n    matchLabels:\n      app: backend\n  ingress:\n  - fromEndpoints:\n    - matchLabels:\n        app: frontend\n    toPorts:\n    - ports:\n      - port: \"8080\"\n        protocol: TCP\n\n---\n# Istio: L7 \ud2b8\ub798\ud53d \uad00\ub9ac\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: backend-route\nspec:\n  hosts:\n  - backend.production.svc.cluster.local\n  http:\n  - match:\n    - headers:\n        version:\n          exact: v2\n    route:\n    - destination:\n        host: backend\n        subset: v2\n      weight: 20\n    - destination:\n        host: backend\n        subset: v1\n      weight: 80\n  - route:\n    - destination:\n        host: backend\n        subset: v1\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#2-calico-linkerd","title":"\ud328\ud134 2: Calico + Linkerd","text":"<pre><code># Calico: \uc678\ubd80 \ud2b8\ub798\ud53d \uc81c\uc5b4\napiVersion: projectcalico.org/v3\nkind: GlobalNetworkPolicy\nmetadata:\n  name: external-access\nspec:\n  order: 100\n  selector: app == 'frontend'\n  types:\n  - Egress\n  egress:\n  # \uc678\ubd80 API \ud5c8\uc6a9\n  - action: Allow\n    protocol: TCP\n    destination:\n      nets:\n      - 203.0.113.0/24\n      ports:\n      - 443\n\n---\n# Linkerd: \ud074\ub7ec\uc2a4\ud130 \ub0b4 mTLS\napiVersion: v1\nkind: Service\nmetadata:\n  name: backend\n  namespace: production\n  annotations:\n    # Linkerd\uac00 \uc790\ub3d9\uc73c\ub85c mTLS \uc801\uc6a9\n    linkerd.io/inject: enabled\nspec:\n  selector:\n    app: backend\n  ports:\n  - port: 8080\n    targetPort: 8080\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#44-ambient-mesh-sidecar-less-service-mesh","title":"4.4 Ambient Mesh (Sidecar-less Service Mesh)","text":"<p>2025\ub144 Istio\uc758 \uc0c8\ub85c\uc6b4 \uc544\ud0a4\ud14d\ucc98\ub85c, Sidecar \uc5c6\uc774 Service Mesh \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <pre><code>Traditional Sidecar             Ambient Mesh\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Pod            \u2502            \u2502  Pod            \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2510 \u2502            \u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502 \u2502App \u2502 \u2502Envoy\u2502 \u2502            \u2502 \u2502    App     \u2502  \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2518 \u2502            \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                       \u2502\n                                       v\n                               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                               \u2502  ztunnel (Node) \u2502\n                               \u2502  (mTLS, L4)     \u2502\n                               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                       \u2502\n                                       v\n                               \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                               \u2502  waypoint       \u2502\n                               \u2502  (L7 policies)  \u2502\n                               \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <pre><code># Ambient Mesh \ud65c\uc131\ud654\napiVersion: v1\nkind: Namespace\nmetadata:\n  name: production\n  labels:\n    istio.io/dataplane-mode: ambient  # Ambient \ubaa8\ub4dc\n\n---\n# L7 \uc815\ucc45\uc774 \ud544\uc694\ud55c \uacbd\uc6b0\ub9cc waypoint \ubc30\ud3ec\napiVersion: gateway.networking.k8s.io/v1beta1\nkind: Gateway\nmetadata:\n  name: backend-waypoint\n  namespace: production\nspec:\n  gatewayClassName: istio-waypoint\n  listeners:\n  - name: http\n    port: 15008\n    protocol: HTTP\n</code></pre> <p>Ambient Mesh \uc7a5\uc810: - \ub9ac\uc18c\uc2a4 \uc624\ubc84\ud5e4\ub4dc \uac10\uc18c (Sidecar \ubd88\ud544\uc694) - \ub354 \ube60\ub978 \ubc30\ud3ec \ubc0f \uc5c5\uadf8\ub808\uc774\ub4dc - L4 \ubcf4\uc548\uc740 \uae30\ubcf8 \uc81c\uacf5, L7\uc740 \ud544\uc694\uc2dc\ub9cc \ubc30\ud3ec</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_5","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#1-cilium-hubble","title":"\uc2e4\uc2b5 1: Cilium \uc124\uce58 \ubc0f Hubble\ub85c \ud2b8\ub798\ud53d \uad00\ucc30","text":"<pre><code># 1. Kind \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131 (CNI \ube44\ud65c\uc131\ud654)\ncat &lt;&lt;EOF | kind create cluster --config -\nkind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnetworking:\n  disableDefaultCNI: true\n  podSubnet: \"10.244.0.0/16\"\nnodes:\n\n- role: control-plane\n- role: worker\n- role: worker\nEOF\n\n# 2. Cilium \uc124\uce58\ncilium install --version 1.16.0\n\n# 3. \uc0c1\ud0dc \ud655\uc778\ncilium status --wait\n\n# 4. \uc5f0\uacb0 \ud14c\uc2a4\ud2b8\ncilium connectivity test\n\n# 5. Hubble \ud65c\uc131\ud654\ncilium hubble enable --ui\n\n# 6. Hubble UI \uc811\uadfc\ncilium hubble ui\n\n# 7. \uc0d8\ud50c \uc571 \ubc30\ud3ec\nkubectl create namespace demo\nkubectl -n demo create deployment nginx --image=nginx\nkubectl -n demo create deployment curl --image=curlimages/curl:latest -- sleep infinity\n\n# 8. \ud2b8\ub798\ud53d \uc0dd\uc131\nkubectl -n demo exec -it deploy/curl -- sh\n# \ucee8\ud14c\uc774\ub108 \ub0b4\uc5d0\uc11c\nwhile true; do curl -s http://nginx; sleep 1; done\n\n# 9. Hubble\ub85c \uad00\ucc30\nhubble observe --namespace demo --follow\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#2-calico-networkpolicy-zero-trust","title":"\uc2e4\uc2b5 2: Calico NetworkPolicy\ub85c Zero Trust \uad6c\ud604","text":"<pre><code># 1. Calico \uc124\uce58 (\uc2e4\uc2b5 1\uc758 Kind \ud074\ub7ec\uc2a4\ud130 \uc7ac\uc0ac\uc6a9)\nkubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.30.0/manifests/tigera-operator.yaml\n\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: operator.tigera.io/v1\nkind: Installation\nmetadata:\n  name: default\nspec:\n  calicoNetwork:\n    ipPools:\n    - cidr: 10.244.0.0/16\n      encapsulation: VXLAN\nEOF\n\n# 2. 3-Tier \uc571 \ubc30\ud3ec\nkubectl create namespace production\n\n# Database\nkubectl -n production create deployment postgres \\\n  --image=postgres:15 \\\n  --port=5432\n\nkubectl -n production expose deployment postgres --port=5432\n\n# Backend\nkubectl -n production create deployment backend \\\n  --image=your-backend-app:latest \\\n  --port=8080\n\nkubectl -n production expose deployment backend --port=8080\n\n# Frontend\nkubectl -n production create deployment frontend \\\n  --image=your-frontend-app:latest \\\n  --port=80\n\nkubectl -n production expose deployment frontend --port=80 --type=LoadBalancer\n\n# 3. \uae30\ubcf8 Deny \uc815\ucc45 \uc801\uc6a9\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny\n  namespace: production\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\nEOF\n\n# 4. \uc5f0\uacb0 \ud14c\uc2a4\ud2b8 (\uc2e4\ud328\ud574\uc57c \uc815\uc0c1)\nkubectl -n production exec -it deploy/frontend -- curl http://backend:8080\n\n# 5. \uba85\uc2dc\uc801 Allow \uc815\ucc45 \uc801\uc6a9 (Part 3.1 \uc608\uc81c \uc0ac\uc6a9)\n\n# 6. \uc5f0\uacb0 \ud14c\uc2a4\ud2b8 (\uc131\uacf5)\nkubectl -n production exec -it deploy/frontend -- curl http://backend:8080\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#3-linkerd-mtls","title":"\uc2e4\uc2b5 3: Linkerd \uc124\uce58 \ubc0f mTLS \uac80\uc99d","text":"<pre><code># 1. Linkerd CLI \uc124\uce58\ncurl --proto '=https' --tlsv1.2 -sSfL https://run.linkerd.io/install-edge | sh\nexport PATH=$PATH:$HOME/.linkerd2/bin\n\n# 2. \uc0ac\uc804 \ud655\uc778\nlinkerd check --pre\n\n# 3. Linkerd \uc124\uce58\nlinkerd install --crds | kubectl apply -f -\nlinkerd install | kubectl apply -f -\n\n# 4. \uc0c1\ud0dc \ud655\uc778\nlinkerd check\n\n# 5. \uc0d8\ud50c \uc571\uc5d0 Linkerd \uc8fc\uc785\nkubectl create namespace demo\nkubectl -n demo create deployment nginx --image=nginx\nkubectl -n demo create deployment curl --image=curlimages/curl:latest -- sleep infinity\n\n# Linkerd \uc8fc\uc785\nkubectl get deploy -n demo -o yaml | linkerd inject - | kubectl apply -f -\n\n# 6. mTLS \ud655\uc778\nlinkerd -n demo tap deploy/nginx\n\n# \ucd9c\ub825\uc5d0\uc11c \"tls=true\" \ud655\uc778:\n# req id=1:1 proxy=in  src=10.244.1.5:45678 dst=10.244.1.6:80 tls=true\n\n# 7. Linkerd Viz \uc124\uce58 (\ub300\uc2dc\ubcf4\ub4dc)\nlinkerd viz install | kubectl apply -f -\nlinkerd viz dashboard\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_6","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#cni_2","title":"CNI \ud50c\ub7ec\uadf8\uc778 \ud638\ucd9c \uc2dc\ubbac\ub808\uc774\uc158","text":"<pre><code>// cni-simulator.go\npackage main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n    \"os\"\n\n    \"github.com/containernetworking/cni/pkg/skel\"\n    \"github.com/containernetworking/cni/pkg/types\"\n    \"github.com/containernetworking/cni/pkg/version\"\n)\n\n// NetConf\ub294 CNI \uc124\uc815 \uad6c\uc870\uccb4\ntype NetConf struct {\n    types.NetConf\n    BridgeName string `json:\"bridge\"`\n    IPMasq     bool   `json:\"ipMasq\"`\n}\n\nfunc cmdAdd(args *skel.CmdArgs) error {\n    // 1. \ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \ud30c\uc2f1\n    conf := &amp;NetConf{}\n    if err := json.Unmarshal(args.StdinData, conf); err != nil {\n        return fmt.Errorf(\"failed to parse network config: %v\", err)\n    }\n\n    // 2. IPAM \ud50c\ub7ec\uadf8\uc778 \ud638\ucd9c\ud558\uc5ec IP \ud560\ub2f9\n    ipamResult, err := callIPAM(conf, args)\n    if err != nil {\n        return fmt.Errorf(\"IPAM failed: %v\", err)\n    }\n\n    // 3. veth pair \uc0dd\uc131\n    hostVeth, containerVeth, err := createVethPair(args.ContainerID)\n    if err != nil {\n        return fmt.Errorf(\"failed to create veth pair: %v\", err)\n    }\n\n    // 4. Container \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc5d0 \uc778\ud130\ud398\uc774\uc2a4 \ucd94\uac00\n    if err := moveToNetNS(containerVeth, args.Netns); err != nil {\n        return fmt.Errorf(\"failed to move veth to netns: %v\", err)\n    }\n\n    // 5. IP \uc8fc\uc18c \ud560\ub2f9\n    if err := assignIP(containerVeth, ipamResult); err != nil {\n        return fmt.Errorf(\"failed to assign IP: %v\", err)\n    }\n\n    // 6. \ub77c\uc6b0\ud305 \uaddc\uce59 \ucd94\uac00\n    if err := addRoutes(args.Netns, ipamResult); err != nil {\n        return fmt.Errorf(\"failed to add routes: %v\", err)\n    }\n\n    // 7. \uacb0\uacfc \ubc18\ud658\n    return types.PrintResult(ipamResult, conf.CNIVersion)\n}\n\nfunc cmdDel(args *skel.CmdArgs) error {\n    // 1. \ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \ud30c\uc2f1\n    conf := &amp;NetConf{}\n    if err := json.Unmarshal(args.StdinData, conf); err != nil {\n        return fmt.Errorf(\"failed to parse network config: %v\", err)\n    }\n\n    // 2. IPAM IP \ud574\uc81c\n    if err := releaseIPAM(conf, args); err != nil {\n        return fmt.Errorf(\"IPAM release failed: %v\", err)\n    }\n\n    // 3. veth \uc0ad\uc81c (netns \uc0ad\uc81c \uc2dc \uc790\ub3d9)\n    return nil\n}\n\nfunc cmdCheck(args *skel.CmdArgs) error {\n    // \ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \uac80\uc99d\n    return nil\n}\n\nfunc main() {\n    skel.PluginMain(cmdAdd, cmdCheck, cmdDel, version.All, \"my-cni-plugin\")\n}\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#networkpolicy","title":"NetworkPolicy \uac80\uc99d \uc2a4\ud06c\ub9bd\ud2b8","text":"<pre><code>#!/usr/bin/env python3\n# netpol-validator.py\n\nimport subprocess\nimport json\nfrom typing import List, Dict\n\ndef get_network_policies(namespace: str) -&gt; List[Dict]:\n    \"\"\"\ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc758 \ubaa8\ub4e0 NetworkPolicy \uac00\uc838\uc624\uae30\"\"\"\n    cmd = [\"kubectl\", \"get\", \"networkpolicy\", \"-n\", namespace, \"-o\", \"json\"]\n    result = subprocess.run(cmd, capture_output=True, text=True)\n    data = json.loads(result.stdout)\n    return data.get(\"items\", [])\n\ndef get_pods(namespace: str) -&gt; List[Dict]:\n    \"\"\"\ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc758 \ubaa8\ub4e0 Pod \uac00\uc838\uc624\uae30\"\"\"\n    cmd = [\"kubectl\", \"get\", \"pods\", \"-n\", namespace, \"-o\", \"json\"]\n    result = subprocess.run(cmd, capture_output=True, text=True)\n    data = json.loads(result.stdout)\n    return data.get(\"items\", [])\n\ndef matches_selector(pod_labels: Dict, selector: Dict) -&gt; bool:\n    \"\"\"Pod \ub77c\ubca8\uc774 selector\uc640 \ub9e4\uce58\ub418\ub294\uc9c0 \ud655\uc778\"\"\"\n    if not selector:\n        return True\n\n    match_labels = selector.get(\"matchLabels\", {})\n    for key, value in match_labels.items():\n        if pod_labels.get(key) != value:\n            return False\n    return True\n\ndef validate_connectivity(namespace: str):\n    \"\"\"NetworkPolicy\uc5d0 \ub530\ub978 \uc5f0\uacb0\uc131 \uac80\uc99d\"\"\"\n    policies = get_network_policies(namespace)\n    pods = get_pods(namespace)\n\n    print(f\"\\n=== NetworkPolicy \uac80\uc99d: {namespace} ===\\n\")\n\n    for policy in policies:\n        policy_name = policy[\"metadata\"][\"name\"]\n        pod_selector = policy[\"spec\"].get(\"podSelector\", {})\n\n        print(f\"Policy: {policy_name}\")\n        print(f\"\uc801\uc6a9 \ub300\uc0c1 Pod: {pod_selector}\")\n\n        # \uc815\ucc45\uc774 \uc801\uc6a9\ub418\ub294 Pod \ucc3e\uae30\n        affected_pods = []\n        for pod in pods:\n            pod_name = pod[\"metadata\"][\"name\"]\n            pod_labels = pod[\"metadata\"].get(\"labels\", {})\n\n            if matches_selector(pod_labels, pod_selector):\n                affected_pods.append(pod_name)\n\n        print(f\"  - \uc601\ud5a5\ubc1b\ub294 Pod: {', '.join(affected_pods) if affected_pods else 'None'}\")\n\n        # Ingress \uaddc\uce59 \uac80\uc99d\n        if \"ingress\" in policy[\"spec\"]:\n            print(\"  - Ingress \uaddc\uce59:\")\n            for rule in policy[\"spec\"][\"ingress\"]:\n                from_rules = rule.get(\"from\", [])\n                ports = rule.get(\"ports\", [])\n\n                if not from_rules:\n                    print(\"    * \ubaa8\ub4e0 \uc18c\uc2a4\uc5d0\uc11c \ud5c8\uc6a9\")\n                else:\n                    for from_rule in from_rules:\n                        if \"podSelector\" in from_rule:\n                            print(f\"    * Pod: {from_rule['podSelector']}\")\n                        if \"namespaceSelector\" in from_rule:\n                            print(f\"    * Namespace: {from_rule['namespaceSelector']}\")\n\n                for port in ports:\n                    print(f\"    * Port: {port['port']}/{port.get('protocol', 'TCP')}\")\n\n        # Egress \uaddc\uce59 \uac80\uc99d\n        if \"egress\" in policy[\"spec\"]:\n            print(\"  - Egress \uaddc\uce59:\")\n            for rule in policy[\"spec\"][\"egress\"]:\n                to_rules = rule.get(\"to\", [])\n                ports = rule.get(\"ports\", [])\n\n                if not to_rules:\n                    print(\"    * \ubaa8\ub4e0 \ubaa9\uc801\uc9c0 \ud5c8\uc6a9\")\n                else:\n                    for to_rule in to_rules:\n                        if \"podSelector\" in to_rule:\n                            print(f\"    * Pod: {to_rule['podSelector']}\")\n                        if \"namespaceSelector\" in to_rule:\n                            print(f\"    * Namespace: {to_rule['namespaceSelector']}\")\n\n                for port in ports:\n                    print(f\"    * Port: {port['port']}/{port.get('protocol', 'TCP')}\")\n\n        print()\n\nif __name__ == \"__main__\":\n    import sys\n\n    if len(sys.argv) &lt; 2:\n        print(\"Usage: netpol-validator.py &lt;namespace&gt;\")\n        sys.exit(1)\n\n    namespace = sys.argv[1]\n    validate_connectivity(namespace)\n</code></pre> <p>\uc2e4\ud589:</p> <pre><code>chmod +x netpol-validator.py\n./netpol-validator.py production\n</code></pre>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_7","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#2025_1","title":"\uacf5\uc2dd \ubb38\uc11c (2025)","text":"<ul> <li>Kubernetes Network Plugins</li> <li>CNI Specification</li> <li>Cilium Documentation</li> <li>Calico Documentation</li> <li>Istio Documentation</li> <li>Linkerd Documentation</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#cni_3","title":"CNI \uac00\uc774\ub4dc","text":"<ul> <li>Kubernetes CNI: The Ultimate Guide (2025)</li> <li>Tigera: Kubernetes CNI Explained</li> <li>The Kubernetes Networking Guide - CNI</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#cilium-ebpf","title":"Cilium &amp; eBPF","text":"<ul> <li>Cilium GitHub</li> <li>Unlocking cloud native security with Cilium and eBPF</li> <li>Azure CNI powered by Cilium with eBPF Host Routing</li> <li>Cilium Kubernetes Guide</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#calico-networkpolicy","title":"Calico &amp; NetworkPolicy","text":"<ul> <li>Calico GitHub</li> <li>Advertising Kubernetes Service IPs with Calico and BGP</li> <li>Calico: Open-source Kubernetes networking and security</li> <li>Implementing Kubernetes Network Policies with Calico</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#service-mesh","title":"Service Mesh","text":"<ul> <li>Service Mesh Comparison (2025)</li> <li>Istio vs Linkerd: Service Mesh Showdown</li> <li>AKS Service Mesh Best Practices (2025)</li> <li>Service Mesh in Java: Istio and Linkerd Integration</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_8","title":"\uc131\ub2a5 \ubc0f \ubca4\uce58\ub9c8\ud06c","text":"<ul> <li>Kubernetes network performance with Cilium and eBPF</li> <li>eBPF technology impact on networking performance</li> <li>K8s Service Mesh Comparison</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_9","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#essential","title":"\uae30\ubcf8 (Essential)","text":"<ul> <li> CNI \uc2a4\ud399\uacfc \ud50c\ub7ec\uadf8\uc778 \uad6c\uc870 \uc774\ud574</li> <li> Cilium, Calico, Flannel \ucc28\uc774\uc810 \uc124\uba85 \uac00\ub2a5</li> <li> Kubernetes NetworkPolicy \uc791\uc131 \ubc0f \uc801\uc6a9</li> <li> Pod \uac04 \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ubb38\uc81c \ub514\ubc84\uae45</li> <li> Service \ud0c0\uc785 (ClusterIP, NodePort, LoadBalancer) \uc774\ud574</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#intermediate","title":"\uc911\uae09 (Intermediate)","text":"<ul> <li> eBPF \uae30\ubc18 \ub124\ud2b8\uc6cc\ud0b9\uc758 \uc7a5\uc810 \uc774\ud574</li> <li> Cilium\uc73c\ub85c kube-proxy \ub300\uccb4</li> <li> Calico BGP \uc124\uc815 \ubc0f \uc678\ubd80 \ub77c\uc6b0\ud130 \uc5f0\ub3d9</li> <li> GlobalNetworkPolicy\ub85c \ud074\ub7ec\uc2a4\ud130 \uc218\uc900 \ubcf4\uc548 \uc815\ucc45 \uad6c\ud604</li> <li> Hubble\ub85c \ub124\ud2b8\uc6cc\ud06c \ud2b8\ub798\ud53d \uad00\ucc30</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#advanced","title":"\uace0\uae09 (Advanced)","text":"<ul> <li> \uba40\ud2f0 \ud074\ub7ec\uc2a4\ud130 \ub124\ud2b8\uc6cc\ud0b9 (ClusterMesh) \uad6c\uc131</li> <li> L7 NetworkPolicy (HTTP/gRPC) \uc791\uc131</li> <li> Service Mesh (Istio/Linkerd) \uc124\uce58 \ubc0f \uc124\uc815</li> <li> CNI\uc640 Service Mesh \ud1b5\ud569 \ud328\ud134 \uad6c\ud604</li> <li> Ambient Mesh (Sidecar-less) \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#production-ready","title":"\ud504\ub85c\ub355\uc158 (Production-Ready)","text":"<ul> <li> Zero Trust \ub124\ud2b8\uc6cc\ud0b9 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> <li> \uc9c0\ub9ac\uc801 \ucc28\ub2e8 \ubc0f Egress \ud2b8\ub798\ud53d \uc81c\uc5b4</li> <li> CNI \ud50c\ub7ec\uadf8\uc778 \uc131\ub2a5 \ud29c\ub2dd \ubc0f \ubca4\uce58\ub9c8\ud06c</li> <li> NetworkPolicy \uc790\ub3d9\ud654 (GitOps)</li> <li> \uba40\ud2f0 \ud14c\ub10c\ud2b8 \ud658\uacbd\uc5d0\uc11c \ub124\ud2b8\uc6cc\ud06c \uaca9\ub9ac \uc804\ub7b5 \uc218\ub9bd</li> </ul>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_10","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":""},{"location":"computing-service/Ch7.Cloud_Network_CNI/#computing-service","title":"Computing Service \uc644\ub8cc!","text":"<p>\ucd95\ud558\ud569\ub2c8\ub2e4! Computing Service \uc139\uc158\uc758 7\uac1c Chapter\ub97c \ubaa8\ub450 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4: 1. \u2705 OpenStack 2. \u2705 \uac00\uc0c1\ud654 \uae30\uc220 3. \u2705 \uc2a4\ucf00\uc904\ub9c1 4. \u2705 Cloud Native \ucef4\ud4e8\ud305 5. \u2705 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \uc124\uacc4 6. \u2705 Kubernetes Operator 7. \u2705 Cloud Network CNI</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#networking-service","title":"Networking Service (\ubcf4\ub958)","text":"<p>\uc0ac\uc6a9\uc790 \uc694\uccad\uc5d0 \ub530\ub77c Networking Service \uc139\uc158\uc740 \ud604\uc7ac \ubcf4\ub958 \uc0c1\ud0dc\uc785\ub2c8\ub2e4. Computing Service \ud559\uc2b5\uc744 \uba3c\uc800 \uc644\ub8cc\ud558\uace0, \ucd94\ud6c4 \ud544\uc694\uc2dc Networking Service \ud559\uc2b5\uc744 \uc9c4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"computing-service/Ch7.Cloud_Network_CNI/#_11","title":"\ucd94\uac00 \ud559\uc2b5 \ub9ac\uc18c\uc2a4","text":"<ul> <li>CNCF Landscape - Networking</li> <li>Kubernetes Networking Special Interest Group</li> <li>eBPF Documentation</li> <li>Cilium Lab Exercises</li> </ul> <p>\uc791\uc131\uc77c: 2025-11-24 \ub300\uc0c1: Computing Service \uc5d4\uc9c0\ub2c8\uc5b4, Networking Service \uc5d4\uc9c0\ub2c8\uc5b4 \ub09c\uc774\ub3c4: Intermediate to Advanced \uc608\uc0c1 \ud559\uc2b5 \uc2dc\uac04: 14-18\uc2dc\uac04 (\uc2e4\uc2b5 \ud3ec\ud568)</p>"},{"location":"iam-storage-service/","title":"IAM/Storage \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>KakaoCloud IAM/Storage \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \ud3ec\uc9c0\uc158\uc744 \uc704\ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/#_1","title":"\ud3ec\uc9c0\uc158 \uac1c\uc694","text":"<p>KakaoCloud\uc758 \ud575\uc2ec\uc778 IaaS IAM \ubc0f Storage \uc11c\ube44\uc2a4\ub97c \uac1c\ubc1c\ud569\ub2c8\ub2e4.</p> <ul> <li>\ud074\ub77c\uc6b0\ub4dc \uc778\uc99d/\uc778\uac00 \uc2dc\uc2a4\ud15c(IAM) \uc124\uacc4 \ubc0f \uac1c\ubc1c</li> <li>OAuth2/OIDC \uae30\ubc18 \ud604\ub300\uc801\uc778 \uc778\uc99d \uc2dc\uc2a4\ud15c \uad6c\ud604</li> <li>\ubd84\uc0b0 \uc2a4\ud1a0\ub9ac\uc9c0 \uc2dc\uc2a4\ud15c(Swift, Ceph) \uc6b4\uc601 \ubc0f \ucd5c\uc801\ud654</li> <li>\ub300\uc6a9\ub7c9 \uc624\ube0c\uc81d\ud2b8 \uc2a4\ud1a0\ub9ac\uc9c0 \ubc0f \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0 \uc11c\ube44\uc2a4 \uc81c\uacf5</li> <li>\uba40\ud2f0 \ud14c\ub10c\ud2b8 \ud658\uacbd\uc5d0\uc11c \ubcf4\uc548\uacfc \uaca9\ub9ac \ubcf4\uc7a5</li> <li>Storage lifecycle \uc815\ucc45\uc744 \ud1b5\ud55c \ube44\uc6a9 \ucd5c\uc801\ud654</li> </ul>"},{"location":"iam-storage-service/#_2","title":"\ud544\uc218 \uc5ed\ub7c9","text":""},{"location":"iam-storage-service/#prerequisites","title":"\uacf5\ud1b5 \uc2a4\ud0ac (Prerequisites)","text":"<p>IAM/Storage \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790\ub294 \ub2e4\uc74c \uacf5\ud1b5 \uc5ed\ub7c9\uc744 \uac16\ucd94\uc5b4\uc57c \ud569\ub2c8\ub2e4:</p> <ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc \ucc38\uace0</li> <li>Linux \uc2dc\uc2a4\ud15c \uc6b4\uc601</li> <li>Go \uc5b8\uc5b4 (Primary), Python (Secondary)</li> <li>Cloud Native \uae30\ucd08</li> <li>DevOps \ud30c\uc774\ud504\ub77c\uc778</li> <li>\uc2dc\uc2a4\ud15c \uc124\uacc4</li> </ul>"},{"location":"iam-storage-service/#iam-identity-access-management-6","title":"IAM (Identity &amp; Access Management) - 6\uac1c \ucc55\ud130","text":""},{"location":"iam-storage-service/#1-openstack-keystone","title":"1. OpenStack Keystone","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OpenStack Keystone\uc744 \ud65c\uc6a9\ud55c \ud074\ub77c\uc6b0\ub4dc IAM \uc2dc\uc2a4\ud15c \uac1c\ubc1c</li> <li>\uba40\ud2f0 \ud14c\ub10c\ud2b8 \uc778\uc99d/\uc778\uac00 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Keystone \uc544\ud0a4\ud14d\ucc98</li> <li>Identity, Resource, Assignment, Token, Catalog \uc11c\ube44\uc2a4</li> <li>Fernet/JWS/JWT \ud1a0\ud070 \ud3ec\ub9f7</li> <li>Domain, Project, User, Role \uacc4\uce35 \uad6c\uc870</li> <li> Identity \ubc31\uc5d4\ub4dc</li> <li>SQL \ubc31\uc5d4\ub4dc</li> <li>LDAP/Active Directory \ud1b5\ud569</li> <li>Federation (SAML, OIDC)</li> <li> \uc815\ucc45 \uad00\ub9ac</li> <li>policy.json \uc124\uc815</li> <li>RBAC \uc815\ucc45 \uc5d4\uc9c4</li> <li>\ucee4\uc2a4\ud140 \uc815\ucc45 \uac1c\ubc1c</li> <li> Keystone API v3</li> <li>\ud1a0\ud070 \ubc1c\uae09 \ubc0f \uac80\uc99d</li> <li>\uc11c\ube44\uc2a4 \uce74\ud0c8\ub85c\uadf8 \uad00\ub9ac</li> <li>\ud504\ub85c\uc81d\ud2b8/\ub3c4\uba54\uc778 \uad00\ub9ac</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Keystone \uae30\ubc18 \uba40\ud2f0 \ud14c\ub10c\ud2b8 IAM \uc2dc\uc2a4\ud15c \uad6c\ucd95</li> <li>LDAP Federation \uad6c\uc131</li> <li>\ucee4\uc2a4\ud140 \uc778\uc99d \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> </ul>"},{"location":"iam-storage-service/#2-oauth-20-oidc-jwt","title":"2. OAuth 2.0 / OIDC / JWT","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OAuth 2.0 / OIDC \ud504\ub85c\ud1a0\ucf5c \uad6c\ud604</li> <li>JWT \uae30\ubc18 \ud1a0\ud070 \uc778\uc99d \uc2dc\uc2a4\ud15c \uac1c\ubc1c</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OAuth 2.0 \ud750\ub984</li> <li>Authorization Code Flow</li> <li>Client Credentials Flow</li> <li>Refresh Token Rotation</li> <li>PKCE (Proof Key for Code Exchange)</li> <li> OpenID Connect (OIDC)</li> <li>ID Token \uad6c\uc870</li> <li>UserInfo Endpoint</li> <li>Discovery \uba54\ucee4\ub2c8\uc998</li> <li> JWT (JSON Web Token)</li> <li>JWT \uad6c\uc870 (Header, Payload, Signature)</li> <li>\uc11c\uba85 \uc54c\uace0\ub9ac\uc998 (RS256, ES256)</li> <li>\ud1a0\ud070 \uac80\uc99d \ubc0f \ub9cc\ub8cc \ucc98\ub9ac</li> <li> Go \uad6c\ud604</li> <li>go-oidc \ub77c\uc774\ube0c\ub7ec\ub9ac</li> <li>golang-jwt \ud65c\uc6a9</li> <li>\ud1a0\ud070 \ubbf8\ub4e4\uc6e8\uc5b4 \uac1c\ubc1c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>OAuth 2.0 Authorization Server \uad6c\ud604</li> <li>OIDC Provider \uac1c\ubc1c</li> <li>JWT \uae30\ubc18 API \uc778\uc99d \uc2dc\uc2a4\ud15c</li> </ul>"},{"location":"iam-storage-service/#3-rbac-abac","title":"3. RBAC &amp; ABAC","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>RBAC/ABAC \uc811\uadfc \uc81c\uc5b4 \ubaa8\ub378 \uc124\uacc4</li> <li>Casbin\uc744 \ud65c\uc6a9\ud55c \uc815\ucc45 \uc5d4\uc9c4 \uad6c\ud604</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> RBAC (Role-Based Access Control)</li> <li>Role, Permission \ubaa8\ub378\ub9c1</li> <li>\uacc4\uce35\uc801 \uc5ed\ud560 \uad6c\uc870</li> <li>\ub3d9\uc801 \uc5ed\ud560 \ud560\ub2f9</li> <li> ABAC (Attribute-Based Access Control)</li> <li>Subject, Resource, Action, Environment \uc18d\uc131</li> <li>\uc815\ucc45 \ud3c9\uac00 \uc5d4\uc9c4</li> <li>\ubcf5\ud569 \uc870\uac74 \ucc98\ub9ac</li> <li> RBAC vs ABAC \ube44\uad50</li> <li>\uc0ac\uc6a9 \uc0ac\ub840\ubcc4 \uc801\ud569\uc131</li> <li>\uc131\ub2a5 \ubc0f \ud655\uc7a5\uc131 \uace0\ub824\uc0ac\ud56d</li> <li> Casbin \uc815\ucc45 \ud504\ub808\uc784\uc6cc\ud06c</li> <li>\ubaa8\ub378 \uc815\uc758 (PERM, ACL)</li> <li>\uc815\ucc45 \ud30c\uc77c \uad00\ub9ac</li> <li>Go \ud1b5\ud569</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Casbin \uae30\ubc18 \uba40\ud2f0 \ud14c\ub10c\ud2b8 \uad8c\ud55c \uad00\ub9ac \uc2dc\uc2a4\ud15c</li> <li>ABAC \uc815\ucc45 \uc5d4\uc9c4 \uac1c\ubc1c</li> <li>\uc5ed\ud560 \uacc4\uce35 \uad6c\uc870 \uc124\uacc4</li> </ul>"},{"location":"iam-storage-service/#4-policy-engine-opa","title":"4. Policy Engine (OPA)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Open Policy Agent(OPA)\ub97c \ud65c\uc6a9\ud55c \uc815\ucc45 \uae30\ubc18 \uc811\uadfc \uc81c\uc5b4</li> <li>Rego \uc5b8\uc5b4\ub85c \uc815\ucc45 \uc791\uc131 \ubc0f \ud14c\uc2a4\ud2b8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OPA \uc544\ud0a4\ud14d\ucc98</li> <li>Policy Decision Point (PDP)</li> <li>Policy Enforcement Point (PEP)</li> <li>Policy Information Point (PIP)</li> <li> Rego \uc815\ucc45 \uc5b8\uc5b4</li> <li>\uaddc\uce59 \uc791\uc131</li> <li>\ub370\uc774\ud130 \ucffc\ub9ac</li> <li>\ud568\uc218 \uc815\uc758</li> <li> OPA \ud1b5\ud569 \ud328\ud134</li> <li>Kubernetes Admission Control</li> <li>API Gateway \ud1b5\ud569</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc778\uac00</li> <li> \uc815\ucc45 \ud14c\uc2a4\ud2b8 \ubc0f \ub514\ubc84\uae45</li> <li>OPA Test Framework</li> <li>Policy Bundle \uad00\ub9ac</li> <li>\uc131\ub2a5 \ucd5c\uc801\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>OPA \uae30\ubc18 Kubernetes Admission Controller</li> <li>API \uc778\uac00 \uc815\ucc45 \uac1c\ubc1c</li> <li>\uba40\ud2f0 \ud14c\ub10c\ud2b8 \ub9ac\uc18c\uc2a4 \uaca9\ub9ac \uc815\ucc45</li> </ul>"},{"location":"iam-storage-service/#5-secrets-management-vault","title":"5. Secrets Management (Vault)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>HashiCorp Vault\ub97c \ud65c\uc6a9\ud55c \uc2dc\ud06c\ub9bf \uad00\ub9ac</li> <li>\ub3d9\uc801 \uc2dc\ud06c\ub9bf \uc0dd\uc131 \ubc0f \uc554\ud638\ud654 \uc11c\ube44\uc2a4 \uad6c\ud604</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Vault \uc544\ud0a4\ud14d\ucc98</li> <li>Storage Backend (Consul, etcd)</li> <li>Seal/Unseal \uba54\ucee4\ub2c8\uc998</li> <li>HA \uad6c\uc131</li> <li> Secrets Engines</li> <li>KV (Key-Value) v2</li> <li>Database (\ub3d9\uc801 \uc790\uaca9\uc99d\uba85)</li> <li>PKI (\uc778\uc99d\uc11c \ubc1c\uae09)</li> <li>Transit (\uc554\ud638\ud654 as a Service)</li> <li> \uc778\uc99d \uba54\uc11c\ub4dc</li> <li>Kubernetes Auth</li> <li>AppRole</li> <li>JWT/OIDC</li> <li> Vault Agent</li> <li>\uc790\ub3d9 \ud1a0\ud070 \uac31\uc2e0</li> <li>\ud15c\ud50c\ub9bf \ub80c\ub354\ub9c1</li> <li>Sidecar \uc778\uc81d\uc158</li> <li> Go SDK \ud1b5\ud569</li> <li>vault/api \ud328\ud0a4\uc9c0</li> <li>\ub3d9\uc801 \uc2dc\ud06c\ub9bf \uad00\ub9ac</li> <li>\uc554\ud638\ud654/\ubcf5\ud638\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Vault \uae30\ubc18 \uc2dc\ud06c\ub9bf \uad00\ub9ac \uc2dc\uc2a4\ud15c</li> <li>\ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub3d9\uc801 \uc790\uaca9\uc99d\uba85</li> <li>PKI \uc778\uc99d\uc11c \uc790\ub3d9\ud654</li> </ul>"},{"location":"iam-storage-service/#6-service-mesh-security","title":"6. Service Mesh Security","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>mTLS\ub97c \ud65c\uc6a9\ud55c \uc11c\ube44\uc2a4 \uac04 \uc778\uc99d</li> <li>SPIFFE/SPIRE \uae30\ubc18 Identity \uad00\ub9ac</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> mTLS (mutual TLS)</li> <li>\uc778\uc99d\uc11c \uae30\ubc18 \uc778\uc99d</li> <li>\uc790\ub3d9 \uc778\uc99d\uc11c \ub85c\ud14c\uc774\uc158</li> <li>Envoy proxy \ud1b5\ud569</li> <li> SPIFFE (Secure Production Identity Framework for Everyone)</li> <li>SPIFFE ID \uad6c\uc870</li> <li>SVID (SPIFFE Verifiable Identity Document)</li> <li>Trust Bundle \uad00\ub9ac</li> <li> SPIRE (SPIFFE Runtime Environment)</li> <li>Workload API</li> <li>Attestation \uba54\ucee4\ub2c8\uc998</li> <li>Federation</li> <li> Zero Trust \ub124\ud2b8\uc6cc\ud0b9</li> <li>\uc11c\ube44\uc2a4 \uac04 \uc778\uc99d</li> <li>\ucd5c\uc18c \uad8c\ud55c \uc6d0\uce59</li> <li>\ud2b8\ub798\ud53d \uc554\ud638\ud654</li> <li> Go gRPC mTLS</li> <li>\uc778\uc99d\uc11c \ub85c\ub529</li> <li>TLS \uc124\uc815</li> <li>\ud074\ub77c\uc774\uc5b8\ud2b8/\uc11c\ubc84 \uad6c\ud604</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>SPIRE \uae30\ubc18 \uc11c\ube44\uc2a4 Identity \uad00\ub9ac</li> <li>mTLS gRPC \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Istio \ubcf4\uc548 \uc815\ucc45 \uad6c\uc131</li> </ul>"},{"location":"iam-storage-service/#storage-6","title":"Storage - 6\uac1c \ucc55\ud130","text":""},{"location":"iam-storage-service/#7-openstack-swift","title":"7. OpenStack Swift","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OpenStack Swift \uc624\ube0c\uc81d\ud2b8 \uc2a4\ud1a0\ub9ac\uc9c0 \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>\ub300\uaddc\ubaa8 \ubd84\uc0b0 \uc2a4\ud1a0\ub9ac\uc9c0 \uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Swift \uc544\ud0a4\ud14d\ucc98</li> <li>Proxy Server</li> <li>Account/Container/Object Server</li> <li>Ring\uacfc \uc77c\uad00\ub41c \ud574\uc2f1</li> <li> \ub370\uc774\ud130 \ubcf5\uc81c \ubc0f \ub0b4\uad6c\uc131</li> <li>Replication</li> <li>Erasure Coding</li> <li>Consistency \ubaa8\ub378</li> <li> Swift API</li> <li>\uc624\ube0c\uc81d\ud2b8 \uc5c5\ub85c\ub4dc/\ub2e4\uc6b4\ub85c\ub4dc</li> <li>Container ACL</li> <li>Large Object Support (SLO, DLO)</li> <li> \ubbf8\ub4e4\uc6e8\uc5b4 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5</li> <li>Custom Middleware \uac1c\ubc1c</li> <li>\uc778\uc99d/\uc778\uac00 \ud1b5\ud569</li> <li> \uc131\ub2a5 \ud29c\ub2dd</li> <li>\ub124\ud2b8\uc6cc\ud06c \ucd5c\uc801\ud654</li> <li>\ub514\uc2a4\ud06c I/O \ud29c\ub2dd</li> <li>\uce90\uc2f1 \uc804\ub7b5</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Swift \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95</li> <li>\ucee4\uc2a4\ud140 \ubbf8\ub4e4\uc6e8\uc5b4 \uac1c\ubc1c</li> <li>\uc131\ub2a5 \ubca4\uce58\ub9c8\ud0b9</li> </ul>"},{"location":"iam-storage-service/#8-object-storage-s3-api","title":"8. Object Storage &amp; S3 API","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>S3 \ud638\ud658 API \uad6c\ud604</li> <li>MinIO\ub97c \ud65c\uc6a9\ud55c \uc624\ube0c\uc81d\ud2b8 \uc2a4\ud1a0\ub9ac\uc9c0 \uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> S3 API \ud638\ud658\uc131</li> <li>Bucket/Object \uc791\uc5c5</li> <li>Multipart Upload</li> <li>Presigned URL</li> <li>Versioning</li> <li> MinIO \uc544\ud0a4\ud14d\ucc98</li> <li>\ubd84\uc0b0 \ubaa8\ub4dc</li> <li>Erasure Coding</li> <li>BitRot Protection</li> <li> \ubc84\ud0b7 \uc815\ucc45 \ubc0f CORS</li> <li>IAM \uc815\ucc45</li> <li>Bucket Policy</li> <li>CORS \uc124\uc815</li> <li> Go SDK</li> <li>aws-sdk-go-v2</li> <li>minio-go</li> <li>\ud074\ub77c\uc774\uc5b8\ud2b8 \uad6c\ud604</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>MinIO \ubd84\uc0b0 \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95</li> <li>S3 \ud638\ud658 \uc2a4\ud1a0\ub9ac\uc9c0 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Lifecycle \uc815\ucc45 \uad6c\ud604</li> </ul>"},{"location":"iam-storage-service/#9-ceph","title":"9. Ceph \uc544\ud0a4\ud14d\ucc98","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Ceph \ubd84\uc0b0 \uc2a4\ud1a0\ub9ac\uc9c0 \uc2dc\uc2a4\ud15c \uc774\ud574</li> <li>CRUSH \uc54c\uace0\ub9ac\uc998 \ubc0f \ub370\uc774\ud130 \ubc30\uce58</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Ceph \ucef4\ud3ec\ub10c\ud2b8</li> <li>MON (Monitor)</li> <li>OSD (Object Storage Daemon)</li> <li>MDS (Metadata Server)</li> <li>MGR (Manager)</li> <li>RGW (RADOS Gateway)</li> <li> RADOS (Reliable Autonomic Distributed Object Store)</li> <li>CRUSH \uc54c\uace0\ub9ac\uc998</li> <li>Placement Group (PG)</li> <li>Pool \uad00\ub9ac</li> <li> Ceph \uc2a4\ud1a0\ub9ac\uc9c0 \ud0c0\uc785</li> <li>RBD (RADOS Block Device)</li> <li>CephFS (File System)</li> <li>RGW (Object Storage)</li> <li> \ub370\uc774\ud130 \ubcf4\ud638</li> <li>Replication</li> <li>Erasure Coding</li> <li>Scrubbing</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Ceph \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95</li> <li>CRUSH Map \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5</li> <li>RBD/CephFS/RGW \uc124\uc815</li> </ul>"},{"location":"iam-storage-service/#10-ceph","title":"10. Ceph \uc6b4\uc601 &amp; \uc131\ub2a5","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Ceph \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601 \ubc0f \ubaa8\ub2c8\ud130\ub9c1</li> <li>\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec</li> <li>cephadm \ud65c\uc6a9</li> <li>Rook Operator (Kubernetes)</li> <li>\ub178\ub4dc \ucd94\uac00/\uc81c\uac70</li> <li> \ubaa8\ub2c8\ud130\ub9c1</li> <li>Prometheus/Grafana \ud1b5\ud569</li> <li>Ceph Dashboard</li> <li>\uc131\ub2a5 \uba54\ud2b8\ub9ad</li> <li> \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>BlueStore \ud29c\ub2dd</li> <li>Network \ucd5c\uc801\ud654 (public/cluster \ubd84\ub9ac)</li> <li>OSD \ucd5c\uc801\ud654</li> <li> \ud2b8\ub7ec\ube14\uc288\ud305</li> <li>OSD \ubcf5\uad6c</li> <li>PG \ubd88\uade0\ud615 \ud574\uacb0</li> <li>\ub124\ud2b8\uc6cc\ud06c \ubb38\uc81c \uc9c4\ub2e8</li> <li> Erasure Coding vs Replication</li> <li>\uc131\ub2a5 \ube44\uad50</li> <li>\ube44\uc6a9 \ubd84\uc11d</li> <li>\uc0ac\uc6a9 \uc0ac\ub840</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Ceph \uc131\ub2a5 \ubca4\uce58\ub9c8\ud0b9</li> <li>Prometheus \ubaa8\ub2c8\ud130\ub9c1 \uad6c\ucd95</li> <li>OSD \uc7a5\uc560 \ubcf5\uad6c \uc2dc\ub098\ub9ac\uc624</li> </ul>"},{"location":"iam-storage-service/#11-block-storage-cinder","title":"11. Block Storage (Cinder)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OpenStack Cinder \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0 \uc2ec\ud654</li> <li>\ub2e4\uc591\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc \ud1b5\ud569</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Cinder \uc544\ud0a4\ud14d\ucc98</li> <li>cinder-api, cinder-scheduler</li> <li>cinder-volume</li> <li>Volume Driver \ubaa8\ub378</li> <li> \ubcfc\ub968 \ub4dc\ub77c\uc774\ubc84</li> <li>LVM Driver</li> <li>Ceph RBD Driver</li> <li>\ucee4\uc2a4\ud140 \ub4dc\ub77c\uc774\ubc84 \uac1c\ubc1c</li> <li> \ubcfc\ub968 \ud0c0\uc785 \ubc0f QoS</li> <li>Volume Type \uc124\uc815</li> <li>QoS Spec</li> <li>\uc131\ub2a5 \uc81c\ud55c</li> <li> \uc2a4\ub0c5\uc0f7 \ubc0f \ubc31\uc5c5</li> <li>\uc2a4\ub0c5\uc0f7 \uc804\ub7b5</li> <li>\ubc31\uc5c5 \uc11c\ube44\uc2a4</li> <li>\ubcfc\ub968 \ub9c8\uc774\uadf8\ub808\uc774\uc158</li> <li> Multi-backend \uad6c\uc131</li> <li>\uc5ec\ub7ec \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc \uad00\ub9ac</li> <li>Volume Type \uae30\ubc18 \uc2a4\ucf00\uc904\ub9c1</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Cinder + Ceph \ud1b5\ud569</li> <li>\ucee4\uc2a4\ud140 \ubcfc\ub968 \ub4dc\ub77c\uc774\ubc84 \uac1c\ubc1c</li> <li>QoS \uc815\ucc45 \uad6c\ud604</li> </ul>"},{"location":"iam-storage-service/#12-storage-lifecycle-optimization","title":"12. Storage Lifecycle &amp; Optimization","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\uc2a4\ud1a0\ub9ac\uc9c0 \uacc4\uce35\ud654 \ubc0f \ub77c\uc774\ud504\uc0ac\uc774\ud074 \uad00\ub9ac</li> <li>\ube44\uc6a9 \ucd5c\uc801\ud654 \ubc0f \uc6a9\ub7c9 \uacc4\ud68d</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Storage Tiering</li> <li>Hot/Warm/Cold/Archive \uacc4\uce35</li> <li>\uc790\ub3d9 \ud2f0\uc5b4\ub9c1 \uc815\ucc45</li> <li>\ub370\uc774\ud130 \uc774\ub3d9 \uc804\ub7b5</li> <li> Lifecycle \uc815\ucc45</li> <li>\uc790\ub3d9 \uc0ad\uc81c \uaddc\uce59</li> <li>Versioning \uad00\ub9ac</li> <li>Transition \uc815\ucc45</li> <li> \uc555\ucd95 \ubc0f \uc911\ubcf5 \uc81c\uac70</li> <li>Inline Compression</li> <li>Deduplication</li> <li>\uacf5\uac04 \uc808\uc57d \uae30\ubc95</li> <li> \uc52c \ud504\ub85c\ube44\uc800\ub2dd (Thin Provisioning)</li> <li>Over-provisioning</li> <li>\uc6a9\ub7c9 \ubaa8\ub2c8\ud130\ub9c1</li> <li> \uce90\uc2dc \uacc4\uce35</li> <li>Write-back vs Write-through</li> <li>Cache Tiering</li> <li>SSD \uce90\uc2f1</li> <li> \ube44\uc6a9 \ucd5c\uc801\ud654</li> <li>TCO \ubd84\uc11d</li> <li>\uc6a9\ub7c9 \uacc4\ud68d</li> <li>\ub370\uc774\ud130 \ub9c8\uc774\uadf8\ub808\uc774\uc158</li> <li> \uc6a9\ub7c9 \uacc4\ud68d \ubc0f \uc608\uce21</li> <li>\uc131\uc7a5 \ucd94\uc138 \ubd84\uc11d</li> <li>Capacity Forecasting</li> <li>\ud655\uc7a5 \uacc4\ud68d</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Lifecycle \uc815\ucc45 \uc790\ub3d9\ud654</li> <li>Storage Tiering \uad6c\ud604</li> <li>\ube44\uc6a9 \ucd5c\uc801\ud654 \uc2dc\ubbac\ub808\uc774\uc158</li> </ul>"},{"location":"iam-storage-service/#_3","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"iam-storage-service/#phase-1-iam-1-2","title":"Phase 1: IAM \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>OpenStack Keystone \uc774\ud574</li> <li>OAuth 2.0 / OIDC \uad6c\ud604</li> <li>RBAC/ABAC \uc124\uacc4</li> </ol>"},{"location":"iam-storage-service/#phase-2-iam-1-2","title":"Phase 2: IAM \uace0\uae09 (1-2\uac1c\uc6d4)","text":"<ol> <li>OPA \uc815\ucc45 \uc5d4\uc9c4</li> <li>Vault Secrets Management</li> <li>Service Mesh Security</li> </ol>"},{"location":"iam-storage-service/#phase-3-storage-1-2","title":"Phase 3: Storage \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>OpenStack Swift</li> <li>S3 API &amp; MinIO</li> <li>Ceph \uc544\ud0a4\ud14d\ucc98</li> </ol>"},{"location":"iam-storage-service/#phase-4-storage-1-2","title":"Phase 4: Storage \uc6b4\uc601 (1-2\uac1c\uc6d4)","text":"<ol> <li>Ceph \uc6b4\uc601 &amp; \uc131\ub2a5</li> <li>Cinder \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0</li> <li>Storage Lifecycle</li> </ol>"},{"location":"iam-storage-service/#_4","title":"\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc","text":""},{"location":"iam-storage-service/#_5","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>OpenStack Keystone Documentation</li> <li>OAuth 2.0 RFC 6749</li> <li>Open Policy Agent</li> <li>HashiCorp Vault</li> <li>SPIFFE/SPIRE</li> <li>OpenStack Swift</li> <li>MinIO Documentation</li> <li>Ceph Documentation</li> </ul>"},{"location":"iam-storage-service/#go","title":"Go \ub77c\uc774\ube0c\ub7ec\ub9ac","text":"<ul> <li>go-oidc</li> <li>golang-jwt</li> <li>casbin</li> <li>vault/api</li> <li>aws-sdk-go-v2</li> <li>minio-go</li> </ul>"},{"location":"iam-storage-service/#_6","title":"\ud504\ub85c\uc81d\ud2b8 \uc544\uc774\ub514\uc5b4","text":""},{"location":"iam-storage-service/#iam","title":"IAM \ud504\ub85c\uc81d\ud2b8","text":"<ol> <li>\uba40\ud2f0 \ud14c\ub10c\ud2b8 IAM \ud50c\ub7ab\ud3fc</li> <li>Keystone \uae30\ubc18 \uc778\uc99d/\uc778\uac00</li> <li>OAuth 2.0 / OIDC \ud1b5\ud569</li> <li> <p>OPA \uc815\ucc45 \uc5d4\uc9c4</p> </li> <li> <p>Zero Trust \uc544\ud0a4\ud14d\ucc98</p> </li> <li>SPIFFE/SPIRE Identity</li> <li>mTLS \uc11c\ube44\uc2a4 \uc778\uc99d</li> <li>\ub3d9\uc801 \uc811\uadfc \uc81c\uc5b4</li> </ol>"},{"location":"iam-storage-service/#storage","title":"Storage \ud504\ub85c\uc81d\ud2b8","text":"<ol> <li>\ud558\uc774\ube0c\ub9ac\ub4dc \uc624\ube0c\uc81d\ud2b8 \uc2a4\ud1a0\ub9ac\uc9c0</li> <li>Swift + S3 API \ud638\ud658</li> <li>Multi-backend \uc9c0\uc6d0</li> <li> <p>Lifecycle \uc790\ub3d9\ud654</p> </li> <li> <p>\uace0\uac00\uc6a9\uc131 \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0</p> </li> <li>Ceph RBD \uae30\ubc18</li> <li>QoS \uc815\ucc45</li> <li>\uc790\ub3d9 \ubcf5\uad6c</li> </ol>"},{"location":"iam-storage-service/#_7","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"iam-storage-service/#iam_1","title":"IAM \uc5ed\ub7c9","text":"<ul> <li> Keystone \uae30\ubc18 \uba40\ud2f0 \ud14c\ub10c\ud2b8 IAM \uad6c\ud604</li> <li> OAuth 2.0 / OIDC Provider \uac1c\ubc1c</li> <li> RBAC/ABAC \uc815\ucc45 \uc5d4\uc9c4 \uc124\uacc4</li> <li> OPA Rego \uc815\ucc45 \uc791\uc131</li> <li> Vault \uae30\ubc18 \uc2dc\ud06c\ub9bf \uad00\ub9ac</li> <li> mTLS \uc11c\ube44\uc2a4 \uc778\uc99d \uad6c\ud604</li> <li> SPIFFE/SPIRE Identity \uad00\ub9ac</li> </ul>"},{"location":"iam-storage-service/#storage_1","title":"Storage \uc5ed\ub7c9","text":"<ul> <li> Swift \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95 \ubc0f \uc6b4\uc601</li> <li> S3 \ud638\ud658 API \uac1c\ubc1c</li> <li> MinIO \ubd84\uc0b0 \uc2a4\ud1a0\ub9ac\uc9c0 \uc6b4\uc601</li> <li> Ceph \ud074\ub7ec\uc2a4\ud130 \uc124\uacc4 \ubc0f \ubc30\ud3ec</li> <li> Ceph \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li> Cinder \uba40\ud2f0 \ubc31\uc5d4\ub4dc \uad6c\uc131</li> <li> Storage Lifecycle \uc815\ucc45 \uc790\ub3d9\ud654</li> </ul>"},{"location":"iam-storage-service/#go_1","title":"Go \uac1c\ubc1c \uc5ed\ub7c9","text":"<ul> <li> Go \uae30\ubc18 \uc778\uc99d/\uc778\uac00 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li> gRPC + mTLS \uad6c\ud604</li> <li> Kubernetes Operator \ud328\ud134</li> <li> Go SDK \ud65c\uc6a9 (Vault, MinIO, Ceph)</li> </ul>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/","title":"Ch1. OpenStack Keystone","text":"<p>OpenStack Identity Service - \uba40\ud2f0 \ud14c\ub10c\ud2b8 IAM \uc2dc\uc2a4\ud15c (2025)</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_1","title":"\ubaa9\ucc28","text":"<ul> <li>Keystone \uac1c\uc694</li> <li>Keystone \uc544\ud0a4\ud14d\ucc98</li> <li>\ud1a0\ud070 \uad00\ub9ac</li> <li>Identity \ubc31\uc5d4\ub4dc</li> <li>Federation</li> <li>\uc815\ucc45 \uad00\ub9ac</li> <li>\uc2e4\uc2b5 \uac00\uc774\ub4dc</li> </ul>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#keystone","title":"Keystone \uac1c\uc694","text":"<p>OpenStack Keystone\uc740 OpenStack \ud074\ub77c\uc6b0\ub4dc\uc758 **Identity Service**\ub85c, \uc778\uc99d(Authentication)\uacfc \uc778\uac00(Authorization)\ub97c \ub2f4\ub2f9\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_2","title":"\uc8fc\uc694 \uae30\ub2a5","text":"<ul> <li>\uc778\uc99d (Authentication): \uc0ac\uc6a9\uc790, \uc11c\ube44\uc2a4 \uc778\uc99d</li> <li>\uc11c\ube44\uc2a4 \uce74\ud0c8\ub85c\uadf8 (Service Catalog): API \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \uad00\ub9ac</li> <li>\uc778\uac00 (Authorization): \uc5ed\ud560 \uae30\ubc18 \uc811\uadfc \uc81c\uc5b4 (RBAC)</li> <li>\uba40\ud2f0 \ud14c\ub10c\uc2dc (Multi-Tenancy): \ub3c4\uba54\uc778, \ud504\ub85c\uc81d\ud2b8, \uc0ac\uc6a9\uc790 \uacc4\uce35 \uad6c\uc870</li> <li>\ud1a0\ud070 \uad00\ub9ac (Token Management): Fernet, JWT \ud1a0\ud070 \ubc1c\uae09 \ubc0f \uac80\uc99d</li> <li>Federation: \uc678\ubd80 IdP (SAML, OIDC) \uc5f0\ub3d9</li> </ul>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#keystone_1","title":"Keystone \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_3","title":"\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Keystone API                         \u2502\n\u2502                    (WSGI/uWSGI)                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502                      \u2502                  \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502 Identity \u2502        \u2502  Resource   \u2502    \u2502  Token     \u2502\n    \u2502 Service  \u2502        \u2502  Service    \u2502    \u2502  Service   \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                     \u2502                  \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502 SQL/LDAP \u2502        \u2502     SQL     \u2502    \u2502  Fernet    \u2502\n    \u2502 Backend  \u2502        \u2502   Backend   \u2502    \u2502  /JWS      \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_4","title":"\uc11c\ube44\uc2a4 \uad6c\uc131","text":"\uc11c\ube44\uc2a4 \uc5ed\ud560 \uc8fc\uc694 \uae30\ub2a5 Identity \uc0ac\uc6a9\uc790/\uadf8\ub8f9 \uad00\ub9ac \uc778\uc99d, \uc0ac\uc6a9\uc790 CRUD Resource \ud504\ub85c\uc81d\ud2b8/\ub3c4\uba54\uc778 \uad00\ub9ac \ub9ac\uc18c\uc2a4 \uacc4\uce35 \uad6c\uc870 Assignment \uc5ed\ud560 \ud560\ub2f9 \uc0ac\uc6a9\uc790-\ud504\ub85c\uc81d\ud2b8-\uc5ed\ud560 \ub9e4\ud551 Token \ud1a0\ud070 \ubc1c\uae09/\uac80\uc99d Fernet/JWS \ud1a0\ud070 \uad00\ub9ac Catalog \uc11c\ube44\uc2a4 \uce74\ud0c8\ub85c\uadf8 API \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ub4f1\ub85d Policy \uc815\ucc45 \uc5d4\uc9c4 RBAC \uc815\ucc45 \ud3c9\uac00 Federation \uc678\ubd80 IdP \uc5f0\ub3d9 SAML/OIDC \ud1b5\ud569"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#-","title":"\ub3c4\uba54\uc778-\ud504\ub85c\uc81d\ud2b8-\uc0ac\uc6a9\uc790 \uacc4\uce35","text":"<pre><code>Domain (\uc870\uc9c1)\n  \u251c\u2500\u2500 Project (\ud504\ub85c\uc81d\ud2b8/\ud14c\ub10c\ud2b8)\n  \u2502   \u251c\u2500\u2500 User (\uc0ac\uc6a9\uc790)\n  \u2502   \u2502   \u2514\u2500\u2500 Role (\uc5ed\ud560)\n  \u2502   \u2514\u2500\u2500 Group (\uadf8\ub8f9)\n  \u2502       \u2514\u2500\u2500 Role (\uc5ed\ud560)\n  \u2514\u2500\u2500 Project (\ud504\ub85c\uc81d\ud2b8/\ud14c\ub10c\ud2b8)\n      \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_5","title":"\ud1a0\ud070 \uad00\ub9ac","text":"<p>Keystone\uc740 \ub2e4\uc591\ud55c \ud1a0\ud070 \ud3ec\ub9f7\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#fernet","title":"Fernet \ud1a0\ud070 (\uae30\ubcf8, \uad8c\uc7a5)","text":"<p>\ud2b9\uc9d5: - \uacbd\ub7c9: 180-240 \ubc14\uc774\ud2b8 - \ube44\uc601\uad6c\uc801: DB \uc800\uc7a5 \ubd88\ud544\uc694 - \ub300\uce6d \uc554\ud638\ud654: AES256 \uc554\ud638\ud654, SHA256 HMAC \uc11c\uba85 - \ud0a4 \ub85c\ud14c\uc774\uc158: \uc790\ub3d9 \ud0a4 \uc21c\ud658 \uc9c0\uc6d0</p> <p>\uad6c\uc870:</p> <pre><code>Fernet Token = Base64(Version | Timestamp | IV | Ciphertext | HMAC)\n</code></pre> <p>\uc7a5\uc810: - \ub0ae\uc740 DB \ubd80\ud558 - \ube60\ub978 \uac80\uc99d \uc18d\ub3c4 - \uac04\ub2e8\ud55c \uc6b4\uc601</p> <p>\ub2e8\uc810: - \ud0a4 \uacf5\uc720 \ud544\uc694 (\uba40\ud2f0 \ub178\ub4dc) - \ud1a0\ud070 \ud06c\uae30\uac00 UUID\ubcf4\ub2e4 \ud07c</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#jws-jwt","title":"JWS (JWT) \ud1a0\ud070","text":"<p>\ud2b9\uc9d5: - \ube44\ub300\uce6d \uc554\ud638\ud654: RS256/ES256 (\uad8c\uc7a5: ES256) - \ube44\uc601\uad6c\uc801: DB \uc800\uc7a5 \ubd88\ud544\uc694 - \ub514\ucf54\ub529 \uac00\ub2a5: \ud1a0\ud070 \ud398\uc774\ub85c\ub4dc \ud655\uc778 \uac00\ub2a5 - \ud0a4 \uacf5\uc720 \ubd88\ud544\uc694: Public key\ub9cc \ubc30\ud3ec</p> <p>\uad6c\uc870:</p> <pre><code>{\n  \"header\": {\n    \"alg\": \"ES256\",\n    \"typ\": \"JWT\"\n  },\n  \"payload\": {\n    \"exp\": 1703980800,\n    \"iat\": 1703977200,\n    \"methods\": [\"password\"],\n    \"user\": {...},\n    \"project\": {...}\n  },\n  \"signature\": \"...\"\n}\n</code></pre> <p>\uc7a5\uc810: - \ud0a4 \uacf5\uc720 \ubd88\ud544\uc694 - \ud45c\uc900 JWT \ud3ec\ub9f7</p> <p>\ub2e8\uc810: - \ud1a0\ud070 \ud06c\uae30\uac00 \ud07c (400-600 \ubc14\uc774\ud2b8) - \ud398\uc774\ub85c\ub4dc \ub178\ucd9c (\uc554\ud638\ud654 \uc544\ub2d8)</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#2024-2025","title":"\ud1a0\ud070 \ube44\uad50 (2024-2025)","text":"\ud2b9\uc9d5 Fernet JWS \ud06c\uae30 180-240B 400-600B \uc554\ud638\ud654 \ub300\uce6d (AES256) \ube44\ub300\uce6d (ES256) DB \ubd88\ud544\uc694 \ubd88\ud544\uc694 \ud0a4 \uacf5\uc720 \ud544\uc694 Public Key\ub9cc \uc131\ub2a5 \ube60\ub984 \uc911\uac04 \ubcf4\uc548 \ub192\uc74c (\uc554\ud638\ud654) \uc911\uac04 (\uc11c\uba85\ub9cc) \uc0ac\uc6a9 \uc0ac\ub840 \ub300\ubd80\ubd84 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#go-keystone","title":"Go\ub85c Keystone \ud1a0\ud070 \uac80\uc99d","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n\n    \"github.com/gophercloud/gophercloud\"\n    \"github.com/gophercloud/gophercloud/openstack\"\n    \"github.com/gophercloud/gophercloud/openstack/identity/v3/tokens\"\n)\n\nfunc validateToken(authURL, token string) error {\n    // Keystone \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0dd\uc131\n    provider, err := openstack.NewClient(authURL)\n    if err != nil {\n        return fmt.Errorf(\"failed to create client: %w\", err)\n    }\n\n    // \uad00\ub9ac\uc790 \ud1a0\ud070\uc73c\ub85c \uc778\uc99d\n    provider.TokenID = token\n\n    // \ud1a0\ud070 \uac80\uc99d\n    client, err := openstack.NewIdentityV3(provider, gophercloud.EndpointOpts{})\n    if err != nil {\n        return fmt.Errorf(\"failed to create identity client: %w\", err)\n    }\n\n    result := tokens.Get(context.Background(), client, token)\n    user, err := result.ExtractUser()\n    if err != nil {\n        return fmt.Errorf(\"invalid token: %w\", err)\n    }\n\n    fmt.Printf(\"Token valid for user: %s (ID: %s)\\n\", user.Name, user.ID)\n    return nil\n}\n\nfunc main() {\n    authURL := \"https://keystone.example.com:5000/v3\"\n    token := \"gAAAAABl...\"\n\n    if err := validateToken(authURL, token); err != nil {\n        log.Fatal(err)\n    }\n}\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#identity","title":"Identity \ubc31\uc5d4\ub4dc","text":"<p>Keystone\uc740 \ub2e4\uc591\ud55c Identity \ubc31\uc5d4\ub4dc\ub97c \uc9c0\uc6d0\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#sql","title":"SQL \ubc31\uc5d4\ub4dc (\uae30\ubcf8)","text":"<p>\uc124\uc815 (/etc/keystone/keystone.conf):</p> <pre><code>[identity]\ndriver = sql\n\n[database]\nconnection = mysql+pymysql://keystone:password@localhost/keystone\n</code></pre> <p>\ud2b9\uc9d5: - \uc644\uc804\ud55c CRUD \uc9c0\uc6d0 - \ube44\ubc00\ubc88\ud638 \uc9c1\uc811 \uad00\ub9ac - \uae30\ubcf8 \uad8c\uc7a5 \ubc29\uc2dd</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#ldap","title":"LDAP \ubc31\uc5d4\ub4dc","text":"<p>\uc124\uc815:</p> <pre><code>[identity]\ndriver = ldap\n\n[ldap]\nurl = ldap://ldap.example.com\nuser = cn=admin,dc=example,dc=com\npassword = secret\nsuffix = dc=example,dc=com\nuser_tree_dn = ou=Users,dc=example,dc=com\nuser_objectclass = inetOrgPerson\nuser_id_attribute = uid\nuser_name_attribute = cn\n</code></pre> <p>\ud2b9\uc9d5: - \uae30\uc874 LDAP/AD \ud1b5\ud569 - Read-only \uad8c\uc7a5 - Keystone\uc740 \uc778\uc99d\ub9cc, LDAP\uac00 \uc0ac\uc6a9\uc790 \uad00\ub9ac</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_6","title":"\ud558\uc774\ube0c\ub9ac\ub4dc \ubc31\uc5d4\ub4dc","text":"<p>SQL + LDAP \uc870\ud569:</p> <pre><code>[identity]\ndriver = sql\n\n[assignment]\ndriver = sql\n\n[ldap]\n# LDAP\uc740 \uc778\uc99d\uc6a9\uc73c\ub85c\ub9cc \uc0ac\uc6a9\nurl = ldap://ldap.example.com\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#federation","title":"Federation","text":"<p>\uc678\ubd80 Identity Provider(IdP)\uc640 \uc5f0\ub3d9\ud558\uc5ec Single Sign-On(SSO)\uc744 \uad6c\ud604\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_7","title":"\uc9c0\uc6d0 \ud504\ub85c\ud1a0\ucf5c","text":"\ud504\ub85c\ud1a0\ucf5c Apache \ubaa8\ub4c8 \uc0ac\uc6a9 \uc0ac\ub840 SAML 2.0 mod_shib, mod_auth_mellon \uc5d4\ud130\ud504\ub77c\uc774\uc988 SSO OpenID Connect mod_auth_openidc Google, Azure AD"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#oidc-federation","title":"OIDC Federation \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User    \u2502\u2500(1)\u2500\u2500\u2500\u2500&gt;\u2502   Apache    \u2502\u2500(2)\u2500\u2500\u2500\u2500&gt;\u2502  Keycloak\u2502\n\u2502 Browser  \u2502&lt;\u2500(6)\u2500\u2500\u2500\u2500\u2502 mod_auth_   \u2502&lt;\u2500(3)\u2500\u2500\u2500\u2500\u2502  (IdP)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2502  openidc    \u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                           (4)\n                     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                     \u2502  Keystone   \u2502\n                     \u2502  (Federated)\u2502\n                     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\ud50c\ub85c\uc6b0: 1. \uc0ac\uc6a9\uc790\uac00 Keystone\uc5d0 \uc811\uadfc 2. Apache\uac00 IdP\ub85c \ub9ac\ub514\ub809\uc158 3. IdP\uac00 \uc0ac\uc6a9\uc790 \uc778\uc99d \ud6c4 \ud1a0\ud070 \ubc18\ud658 4. Apache\uac00 Keystone\uc5d0 federated \ud1a0\ud070 \uc694\uccad 5. Keystone\uc774 unscoped \ud1a0\ud070 \ubc1c\uae09 6. \uc0ac\uc6a9\uc790\uac00 \ud504\ub85c\uc81d\ud2b8 scope\ub85c \ud1a0\ud070 \uad50\ud658</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#oidc","title":"OIDC \uc124\uc815 \uc608\uc2dc","text":"<p>/etc/httpd/conf.d/keystone-oidc.conf:</p> <pre><code>LoadModule auth_openidc_module modules/mod_auth_openidc.so\n\n&lt;Location /v3/OS-FEDERATION/identity_providers/keycloak/protocols/openid/auth&gt;\n  Require valid-user\n  AuthType openid-connect\n\n  OIDCProviderMetadataURL https://keycloak.example.com/auth/realms/master/.well-known/openid-configuration\n  OIDCClientID keystone\n  OIDCClientSecret secret\n  OIDCRedirectURI https://keystone.example.com/v3/OS-FEDERATION/identity_providers/keycloak/protocols/openid/auth\n\n  OIDCCryptoPassphrase random-secret\n  OIDCResponseType code\n  OIDCScope \"openid email profile\"\n&lt;/Location&gt;\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#go-federated","title":"Go\ub85c Federated \uc778\uc99d","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n\n    \"github.com/gophercloud/gophercloud\"\n    \"github.com/gophercloud/gophercloud/openstack\"\n    \"github.com/gophercloud/gophercloud/openstack/identity/v3/tokens\"\n)\n\nfunc federatedAuth(authURL, idpID, protocol, accessToken string) (*tokens.Token, error) {\n    // Federated \uc778\uc99d \uc635\uc158\n    opts := gophercloud.AuthOptions{\n        IdentityEndpoint: authURL,\n        TokenID:          accessToken,\n    }\n\n    provider, err := openstack.NewClient(authURL)\n    if err != nil {\n        return nil, err\n    }\n\n    // Federated \ud1a0\ud070 \ubc1c\uae09 (unscoped)\n    unscopedToken, err := tokens.Create(context.Background(), provider, &amp;opts).Extract()\n    if err != nil {\n        return nil, fmt.Errorf(\"failed to get unscoped token: %w\", err)\n    }\n\n    // \ud504\ub85c\uc81d\ud2b8 scope \ud1a0\ud070\uc73c\ub85c \uad50\ud658\n    scopedOpts := gophercloud.AuthOptions{\n        IdentityEndpoint: authURL,\n        TokenID:          unscopedToken.ID,\n        Scope: &amp;gophercloud.AuthScope{\n            ProjectName: \"demo\",\n            DomainName:  \"Default\",\n        },\n    }\n\n    scopedToken, err := tokens.Create(context.Background(), provider, &amp;scopedOpts).Extract()\n    if err != nil {\n        return nil, fmt.Errorf(\"failed to scope token: %w\", err)\n    }\n\n    return scopedToken, nil\n}\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_8","title":"\uc815\ucc45 \uad00\ub9ac","text":"<p>Keystone\uc740 <code>policy.json</code> (\ub610\ub294 <code>policy.yaml</code>)\uc744 \ud1b5\ud574 RBAC \uc815\ucc45\uc744 \uc815\uc758\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_9","title":"\uae30\ubcf8 \uc5ed\ud560","text":"\uc5ed\ud560 \uad8c\ud55c \uc124\uba85 admin \uc804\uccb4 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uad00\ub9ac member \uc77d\uae30/\uc4f0\uae30 \ud504\ub85c\uc81d\ud2b8 \ub9ac\uc18c\uc2a4 \uad00\ub9ac reader \uc77d\uae30 \uc77d\uae30 \uc804\uc6a9"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#policy","title":"Policy \ud30c\uc77c \uc608\uc2dc","text":"<p>/etc/keystone/policy.yaml:</p> <pre><code># \uad00\ub9ac\uc790\ub9cc \uc0ac\uc6a9\uc790 \uc0dd\uc131 \uac00\ub2a5\n\"identity:create_user\": \"role:admin\"\n\n# \ud504\ub85c\uc81d\ud2b8 \uba64\ubc84\ub294 \uc790\uc2e0\uc758 \uc815\ubcf4 \uc77d\uae30 \uac00\ub2a5\n\"identity:get_user\": \"rule:admin_or_owner\"\n\n# admin_or_owner \uaddc\uce59 \uc815\uc758\n\"admin_or_owner\": \"role:admin or user_id:%(user_id)s\"\n\n# \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131\uc740 \ub3c4\uba54\uc778 admin\ub9cc\n\"identity:create_project\": \"role:admin and domain_id:%(target.project.domain_id)s\"\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#go","title":"\ucee4\uc2a4\ud140 \uc815\ucc45 \uc5d4\uc9c4 (Go)","text":"<pre><code>package main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n)\n\ntype PolicyRule struct {\n    Resource string `json:\"resource\"`\n    Action   string `json:\"action\"`\n    Rule     string `json:\"rule\"`\n}\n\ntype PolicyEngine struct {\n    rules map[string]string\n}\n\nfunc NewPolicyEngine(policyJSON []byte) (*PolicyEngine, error) {\n    var rules map[string]string\n    if err := json.Unmarshal(policyJSON, &amp;rules); err != nil {\n        return nil, err\n    }\n\n    return &amp;PolicyEngine{rules: rules}, nil\n}\n\nfunc (p *PolicyEngine) Enforce(action string, context map[string]interface{}) (bool, error) {\n    rule, exists := p.rules[action]\n    if !exists {\n        return false, fmt.Errorf(\"no rule for action: %s\", action)\n    }\n\n    // \uac04\ub2e8\ud55c \uaddc\uce59 \ud3c9\uac00 (\uc2e4\uc81c\ub85c\ub294 \ub354 \ubcf5\uc7a1\ud55c \ud30c\uc11c \ud544\uc694)\n    switch rule {\n    case \"role:admin\":\n        role, ok := context[\"role\"].(string)\n        return ok &amp;&amp; role == \"admin\", nil\n    case \"rule:admin_or_owner\":\n        role, _ := context[\"role\"].(string)\n        userID, _ := context[\"user_id\"].(string)\n        targetUserID, _ := context[\"target_user_id\"].(string)\n        return role == \"admin\" || userID == targetUserID, nil\n    default:\n        return false, nil\n    }\n}\n\nfunc main() {\n    policyJSON := []byte(`{\n        \"identity:create_user\": \"role:admin\",\n        \"identity:get_user\": \"rule:admin_or_owner\"\n    }`)\n\n    engine, _ := NewPolicyEngine(policyJSON)\n\n    // \ud14c\uc2a4\ud2b8\n    context := map[string]interface{}{\n        \"role\":           \"member\",\n        \"user_id\":        \"user-123\",\n        \"target_user_id\": \"user-123\",\n    }\n\n    allowed, _ := engine.Enforce(\"identity:get_user\", context)\n    fmt.Printf(\"Allowed: %v\\n\", allowed) // true (owner)\n}\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_10","title":"\uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#1-keystone-devstack","title":"\uc2e4\uc2b5 1: Keystone \uc124\uce58 \ubc0f \uc124\uc815 (DevStack)","text":"<pre><code># 1. DevStack \ud074\ub860\ngit clone https://opendev.org/openstack/devstack\ncd devstack\n\n# 2. local.conf \uc0dd\uc131\ncat &gt; local.conf &lt;&lt;EOF\n[[local|localrc]]\nADMIN_PASSWORD=secret\nDATABASE_PASSWORD=secret\nRABBIT_PASSWORD=secret\nSERVICE_PASSWORD=secret\n\n# Keystone\ub9cc \uc124\uce58\ndisable_all_services\nenable_service key mysql\nEOF\n\n# 3. \uc124\uce58\n./stack.sh\n\n# 4. \ud658\uacbd \ubcc0\uc218 \uc124\uc815\nsource openrc admin admin\n\n# 5. Keystone \ub3d9\uc791 \ud655\uc778\nopenstack token issue\nopenstack user list\nopenstack project list\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#2","title":"\uc2e4\uc2b5 2: \uba40\ud2f0 \ud14c\ub10c\ud2b8 \uad6c\uc131","text":"<pre><code># 1. \ub3c4\uba54\uc778 \uc0dd\uc131\nopenstack domain create company-a\nopenstack domain create company-b\n\n# 2. \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131\nopenstack project create --domain company-a project-dev\nopenstack project create --domain company-a project-prod\nopenstack project create --domain company-b project-main\n\n# 3. \uc0ac\uc6a9\uc790 \uc0dd\uc131\nopenstack user create --domain company-a --password secret alice\nopenstack user create --domain company-a --password secret bob\nopenstack user create --domain company-b --password secret charlie\n\n# 4. \uc5ed\ud560 \ud560\ub2f9\nopenstack role add --project project-dev --user alice member\nopenstack role add --project project-prod --user bob admin\nopenstack role add --project project-main --user charlie member\n\n# 5. \ud655\uc778\nopenstack role assignment list --user alice --names\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#3-fernet","title":"\uc2e4\uc2b5 3: Fernet \ud1a0\ud070 \uc124\uc815","text":"<pre><code># 1. Fernet \ud0a4 \uc0dd\uc131\nkeystone-manage fernet_setup --keystone-user keystone --keystone-group keystone\n\n# 2. \ud0a4 \ud655\uc778\nls -la /etc/keystone/fernet-keys/\n\n# 3. \ud0a4 \ub85c\ud14c\uc774\uc158\nkeystone-manage fernet_rotate --keystone-user keystone --keystone-group keystone\n\n# 4. \ud1a0\ud070 \ubc1c\uae09 \ud14c\uc2a4\ud2b8\nopenstack token issue\n\n# 5. \ud1a0\ud070 \ud06c\uae30 \ud655\uc778 (Fernet\uc740 ~200 bytes)\nopenstack token issue -f value -c id | wc -c\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#4-ldap","title":"\uc2e4\uc2b5 4: LDAP \ubc31\uc5d4\ub4dc \ud1b5\ud569","text":"<pre><code># 1. LDAP \uc11c\ubc84 \uc900\ube44 (\ud14c\uc2a4\ud2b8\uc6a9)\ndocker run -d -p 389:389 -p 636:636 \\\n  --name openldap \\\n  -e LDAP_ORGANISATION=\"Example Inc\" \\\n  -e LDAP_DOMAIN=\"example.com\" \\\n  -e LDAP_ADMIN_PASSWORD=\"admin\" \\\n  osixia/openldap:latest\n\n# 2. Keystone \uc124\uc815 \uc218\uc815\ncat &gt;&gt; /etc/keystone/keystone.conf &lt;&lt;EOF\n[identity]\ndriver = ldap\n\n[ldap]\nurl = ldap://localhost:389\nuser = cn=admin,dc=example,dc=com\npassword = admin\nsuffix = dc=example,dc=com\nuser_tree_dn = ou=users,dc=example,dc=com\nuser_objectclass = inetOrgPerson\nEOF\n\n# 3. Keystone \uc7ac\uc2dc\uc791\nsystemctl restart devstack@keystone\n\n# 4. LDAP \uc0ac\uc6a9\uc790 \ud655\uc778\nopenstack user list\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#5-go","title":"\uc2e4\uc2b5 5: Go \ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c","text":"<pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n\n    \"github.com/gophercloud/gophercloud\"\n    \"github.com/gophercloud/gophercloud/openstack\"\n    \"github.com/gophercloud/gophercloud/openstack/identity/v3/projects\"\n    \"github.com/gophercloud/gophercloud/openstack/identity/v3/users\"\n)\n\nfunc main() {\n    // 1. \uc778\uc99d \uc635\uc158\n    opts := gophercloud.AuthOptions{\n        IdentityEndpoint: \"http://localhost:5000/v3\",\n        Username:         \"admin\",\n        Password:         \"secret\",\n        DomainName:       \"Default\",\n        Scope: &amp;gophercloud.AuthScope{\n            ProjectName: \"admin\",\n            DomainName:  \"Default\",\n        },\n    }\n\n    // 2. \uc778\uc99d\n    provider, err := openstack.AuthenticatedClient(context.Background(), opts)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    // 3. Identity \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0dd\uc131\n    client, err := openstack.NewIdentityV3(provider, gophercloud.EndpointOpts{})\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    // 4. \uc0ac\uc6a9\uc790 \ubaa9\ub85d\n    listOpts := users.ListOpts{}\n    allPages, err := users.List(client, listOpts).AllPages(context.Background())\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    allUsers, err := users.ExtractUsers(allPages)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    fmt.Println(\"Users:\")\n    for _, user := range allUsers {\n        fmt.Printf(\"- %s (ID: %s)\\n\", user.Name, user.ID)\n    }\n\n    // 5. \ud504\ub85c\uc81d\ud2b8 \ubaa9\ub85d\n    projectPages, err := projects.List(client, projects.ListOpts{}).AllPages(context.Background())\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    allProjects, err := projects.ExtractProjects(projectPages)\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    fmt.Println(\"\\nProjects:\")\n    for _, project := range allProjects {\n        fmt.Printf(\"- %s (ID: %s, Domain: %s)\\n\",\n            project.Name, project.ID, project.DomainID)\n    }\n}\n</code></pre> <p>\uc2e4\ud589:</p> <pre><code>go mod init keystone-demo\ngo get github.com/gophercloud/gophercloud\ngo run main.go\n</code></pre>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_11","title":"\ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_12","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>Keystone Documentation</li> <li>Keystone Tokens Overview</li> <li>Token Provider</li> <li>Configuring Federation</li> </ul>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#go_1","title":"Go \ub77c\uc774\ube0c\ub7ec\ub9ac","text":"<ul> <li>gophercloud/gophercloud</li> <li>gophercloud/gophercloud/openstack/identity/v3</li> </ul>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_13","title":"\ucd94\uac00 \ud559\uc2b5","text":"<ul> <li>OpenStack Security Guide - Identity</li> <li>Keystone Federation Introduction</li> </ul>"},{"location":"iam-storage-service/Ch1.OpenStack_Keystone/#_14","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Keystone \uc544\ud0a4\ud14d\ucc98 \uc774\ud574 (Identity, Resource, Token, Catalog)</li> <li> Fernet vs JWS \ud1a0\ud070 \ucc28\uc774\uc810 \ud30c\uc545</li> <li> Domain-Project-User \uacc4\uce35 \uad6c\uc870 \uc774\ud574</li> <li> SQL vs LDAP \ubc31\uc5d4\ub4dc \ube44\uad50</li> <li> Federation (SAML/OIDC) \ud50c\ub85c\uc6b0 \uc774\ud574</li> <li> Policy \ud30c\uc77c \uc791\uc131 \ubc0f RBAC \uc815\ucc45 \uc124\uacc4</li> <li> Go\ub85c Keystone \ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> <li> Fernet \ud0a4 \ub85c\ud14c\uc774\uc158 \uc2e4\uc2b5</li> <li> \uba40\ud2f0 \ud14c\ub10c\ud2b8 \ud658\uacbd \uad6c\uc131</li> <li> LDAP \ud1b5\ud569 \uad6c\ud604</li> </ul> <p>\ub2e4\uc74c \ucc55\ud130: Ch2. OAuth 2.0 / OIDC / JWT\uc5d0\uc11c \ud604\ub300\uc801\uc778 \uc778\uc99d \ud504\ub85c\ud1a0\ucf5c\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p> <p>Sources: - Keystone Tokens Overview - Token Provider Documentation - JSON Web Tokens Spec - Configuring Keystone Federation - Federation Introduction</p>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/","title":"Ch10. Ceph \uc6b4\uc601 &amp; \uc131\ub2a5","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_2","title":"\uac1c\uc694","text":"<p>Ceph \ud074\ub7ec\uc2a4\ud130\ub97c \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601**\ud558\uae30 \uc704\ud574\uc11c\ub294 \uccb4\uacc4\uc801\uc778 \ubaa8\ub2c8\ud130\ub9c1, \uc131\ub2a5 \ucd5c\uc801\ud654, \uc7a5\uc560 \ub300\uc751 \ub2a5\ub825\uc774 \ud544\uc218\uc785\ub2c8\ub2e4. \uc774 \ucc55\ud130\uc5d0\uc11c\ub294 **cephadm/Rook\uc744 \ud1b5\ud55c \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec, Prometheus/Grafana \uae30\ubc18 \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd, FIO/rados bench\ub97c \ud65c\uc6a9\ud55c \uc131\ub2a5 \ubca4\uce58\ub9c8\ud0b9, BlueStore \ud29c\ub2dd, OSD \uc7a5\uc560 \uc2dc \ubcf5\uad6c \uba54\ucee4\ub2c8\uc998, **\uc77c\ubc18\uc801\uc778 \ud2b8\ub7ec\ube14\uc288\ud305 \uc2dc\ub098\ub9ac\uc624**\ub97c \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Ceph\ub294 cephadm orchestrator**\ub97c \uae30\ubcf8 \ubc30\ud3ec \ub3c4\uad6c\ub85c \uc0ac\uc6a9\ud558\uba70, Kubernetes \ud658\uacbd\uc5d0\uc11c\ub294 **Rook operator**\ub97c \ud1b5\ud574 Cloud Native \ubc29\uc2dd\uc73c\ub85c \uad00\ub9ac\ub429\ub2c8\ub2e4. **mClock \uc2a4\ucf00\uc904\ub7ec**\ub97c \ud1b5\ud55c \ubcf5\uad6c/\ubc31\ud544 \uc791\uc5c5 \uc2a4\ub85c\ud2c0\ub9c1, **BlueStore \ucd5c\uc801\ud654**\ub85c 20% \uc131\ub2a5 \ud5a5\uc0c1, **Prometheus \ub124\uc774\ud2f0\ube0c \uba54\ud2b8\ub9ad \uc9c0\uc6d0 \ub4f1 \uc5d4\ud130\ud504\ub77c\uc774\uc988 \uc6b4\uc601\uc5d0 \ucd5c\uc801\ud654\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_3","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>\ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec: cephadm/Rook\uc744 \uc0ac\uc6a9\ud55c \ud504\ub85c\ub355\uc158 \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95</li> <li>\ubaa8\ub2c8\ud130\ub9c1 \uad6c\uc131: Prometheus + Grafana + Alertmanager \uc2a4\ud0dd \ubc30\ud3ec \ubc0f \uc6b4\uc601</li> <li>\uc131\ub2a5 \ubca4\uce58\ub9c8\ud0b9: FIO, rados bench\ub85c \ud074\ub7ec\uc2a4\ud130 \uc131\ub2a5 \uce21\uc815 \ubc0f \ubd84\uc11d</li> <li>\uc131\ub2a5 \ud29c\ub2dd: BlueStore, \ub124\ud2b8\uc6cc\ud06c, PG \uc218 \ucd5c\uc801\ud654</li> <li>\ud2b8\ub7ec\ube14\uc288\ud305: PG \uc0c1\ud0dc \uc774\ud574, OSD \uc7a5\uc560 \ubcf5\uad6c, \uc77c\ubc18\uc801\uc778 \ubb38\uc81c \ud574\uacb0</li> </ol>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#1-ceph-2025","title":"1. Ceph \ubc30\ud3ec \ubc29\ubc95 (2025)","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#11-cephadm","title":"1.1 cephadm (\uae30\ubcf8 \ubc30\ud3ec \ub3c4\uad6c)","text":"<p>**cephadm**\uc740 Ceph Octopus (15.x) \uc774\ud6c4 **\uacf5\uc2dd \uae30\ubcf8 \ubc30\ud3ec \ub3c4\uad6c**\ub85c, \ubaa8\ub4e0 Ceph \ub370\ubaac\uc744 **\ucee8\ud14c\uc774\ub108**\ub85c \uc2e4\ud589\ud569\ub2c8\ub2e4:</p> <pre><code>graph TB\n    subgraph \"cephadm Orchestrator\"\n        CLI[ceph CLI / Dashboard]\n        Orchestrator[Ceph Orchestrator Module]\n\n        subgraph \"\uac01 \ud638\uc2a4\ud2b8\"\n            Cephadm[cephadm Agent]\n\n            subgraph \"Containers (Podman/Docker)\"\n                MONContainer[MON Container]\n                OSDContainer[OSD Container]\n                MGRContainer[MGR Container]\n            end\n        end\n    end\n\n    CLI --&gt; Orchestrator\n    Orchestrator -.SSH.-&gt; Cephadm\n    Cephadm --&gt; MONContainer\n    Cephadm --&gt; OSDContainer\n    Cephadm --&gt; MGRContainer</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>\ucee8\ud14c\uc774\ub108 \uae30\ubc18: Podman(\uae30\ubcf8) \ub610\ub294 Docker\ub85c \ubaa8\ub4e0 \ub370\ubaac \uc2e4\ud589</li> <li>\uc120\uc5b8\uc801 \uad00\ub9ac: <code>ceph orch apply</code> \uba85\ub839\uc73c\ub85c desired state \uc815\uc758</li> <li>\uc790\ub3d9 \uc5c5\uadf8\ub808\uc774\ub4dc: <code>ceph orch upgrade</code> \uba85\ub839\uc73c\ub85c rolling upgrade</li> <li>SSH \uae30\ubc18: cephadm\uc774 SSH\ub85c \uac01 \ub178\ub4dc\uc5d0 \uc811\uc18d\ud558\uc5ec \ucee8\ud14c\uc774\ub108 \uad00\ub9ac</li> </ul> <p>\uc7a5\uc810:</p> <ul> <li>\uc6b4\uc601 \uccb4\uc81c \ud328\ud0a4\uc9c0 \uc758\uc874\uc131 \uc5c6\uc74c (\ucee8\ud14c\uc774\ub108\uc5d0 \ubaa8\ub4e0 \uc758\uc874\uc131 \ud3ec\ud568)</li> <li>\uac04\ub2e8\ud55c \ubc30\ud3ec \ubc0f \uc5c5\uadf8\ub808\uc774\ub4dc</li> <li>Bare-metal, VM \ud658\uacbd \ubaa8\ub450 \uc9c0\uc6d0</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#12-rook-kubernetes-operator","title":"1.2 Rook (Kubernetes Operator)","text":"<p>**Rook**\uc740 Kubernetes \ud658\uacbd\uc5d0\uc11c Ceph\ub97c **\ub124\uc774\ud2f0\ube0c \ubc29\uc2dd**\uc73c\ub85c \ubc30\ud3ec/\uad00\ub9ac\ud558\ub294 operator\uc785\ub2c8\ub2e4:</p> <pre><code>graph TB\n    subgraph \"Kubernetes Cluster\"\n        RookOperator[Rook Operator&lt;br/&gt;CephCluster CRD \uad00\ub9ac]\n\n        subgraph \"Namespace: rook-ceph\"\n            MONPod[MON Pod]\n            OSDPod[OSD Pod]\n            MGRPod[MGR Pod]\n            MDSPod[MDS Pod]\n            RGWPod[RGW Pod]\n        end\n\n        subgraph \"Monitoring\"\n            PrometheusOp[Prometheus Operator]\n            ServiceMonitor[ServiceMonitor CRD]\n        end\n    end\n\n    RookOperator --&gt; MONPod\n    RookOperator --&gt; OSDPod\n    RookOperator --&gt; MGRPod\n\n    PrometheusOp --&gt; ServiceMonitor\n    ServiceMonitor -.scrape.-&gt; MGRPod</code></pre> <p>CephCluster CRD \uc608\uc2dc:</p> <pre><code>apiVersion: ceph.rook.io/v1\nkind: CephCluster\nmetadata:\n  name: rook-ceph\n  namespace: rook-ceph\nspec:\n  cephVersion:\n    image: quay.io/ceph/ceph:v18.2.0  # Reef\n  dataDirHostPath: /var/lib/rook\n  mon:\n    count: 3\n    allowMultiplePerNode: false\n  storage:\n    useAllNodes: true\n    useAllDevices: false\n    deviceFilter: \"^sd[b-d]\"  # sdb, sdc, sdd\ub9cc \uc0ac\uc6a9\n  dashboard:\n    enabled: true\n  monitoring:\n    enabled: true  # Prometheus ServiceMonitor \uc790\ub3d9 \uc0dd\uc131\n</code></pre> <p>\uc7a5\uc810:</p> <ul> <li>Kubernetes \ub124\uc774\ud2f0\ube0c (kubectl\ub85c \uad00\ub9ac)</li> <li>\uc790\ub3d9 \ubaa8\ub2c8\ud130\ub9c1 \ud1b5\ud569 (Prometheus Operator)</li> <li>Persistent Volume \ud504\ub85c\ube44\uc800\ub2dd (StorageClass, CSI)</li> <li>GitOps \uce5c\ud654\uc801 (ArgoCD, Flux)</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#2","title":"2. \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#21","title":"2.1 \uc544\ud0a4\ud14d\ucc98","text":"<p>Ceph\ub294 **Prometheus \ub124\uc774\ud2f0\ube0c \uba54\ud2b8\ub9ad**\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4:</p> <pre><code>graph LR\n    subgraph \"Ceph Cluster\"\n        MGR[MGR Daemon&lt;br/&gt;Prometheus Module]\n        NodeExporter[Node Exporter&lt;br/&gt;\uc2dc\uc2a4\ud15c \uba54\ud2b8\ub9ad]\n        CephExporter[Ceph Exporter&lt;br/&gt;\uc0c1\uc138 \uc131\ub2a5 \uce74\uc6b4\ud130]\n    end\n\n    subgraph \"Monitoring Stack\"\n        Prometheus[Prometheus&lt;br/&gt;\uba54\ud2b8\ub9ad \uc218\uc9d1/\uc800\uc7a5]\n        Alertmanager[Alertmanager&lt;br/&gt;\uc54c\ub9bc \ub77c\uc6b0\ud305]\n        Grafana[Grafana&lt;br/&gt;\uc2dc\uac01\ud654]\n    end\n\n    MGR -.9283:metrics.-&gt; Prometheus\n    NodeExporter -.9100.-&gt; Prometheus\n    CephExporter -.9926.-&gt; Prometheus\n\n    Prometheus --&gt; Alertmanager\n    Prometheus --&gt; Grafana</code></pre> <p>\uc8fc\uc694 \uba54\ud2b8\ub9ad:</p> \uba54\ud2b8\ub9ad \uc124\uba85 \uc608\uc2dc ceph_health_status \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc (0=OK, 1=WARN, 2=ERR) <code>ceph_health_status 0</code> ceph_osd_up OSD UP \uc0c1\ud0dc (0=down, 1=up) <code>ceph_osd_up{osd=\"0\"} 1</code> ceph_osd_in OSD IN \uc0c1\ud0dc (0=out, 1=in) <code>ceph_osd_in{osd=\"0\"} 1</code> ceph_pool_bytes_used Pool \uc0ac\uc6a9\ub7c9 (bytes) <code>ceph_pool_bytes_used{pool=\"rbd\"} 1073741824</code> ceph_pool_objects Pool \uac1d\uccb4 \uc218 <code>ceph_pool_objects{pool=\"rbd\"} 100</code> ceph_osd_op_r_latency_sum OSD \uc77d\uae30 \ub808\uc774\ud134\uc2dc \ud569\uacc4 (ms) <code>ceph_osd_op_r_latency_sum{osd=\"0\"} 1234.56</code> ceph_osd_op_r_latency_count OSD \uc77d\uae30 \uc791\uc5c5 \uc218 <code>ceph_osd_op_r_latency_count{osd=\"0\"} 1000</code> ceph_osd_op_w_latency_sum OSD \uc4f0\uae30 \ub808\uc774\ud134\uc2dc \ud569\uacc4 (ms) <code>ceph_osd_op_w_latency_sum{osd=\"0\"} 5678.90</code>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#22-cephadm","title":"2.2 \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \ubc30\ud3ec (cephadm)","text":"<pre><code># Monitoring stack \ud65c\uc131\ud654 (\uae30\ubcf8\uac12: \ud65c\uc131\ud654)\nsudo ceph orch apply prometheus --placement=\"ceph1\"\nsudo ceph orch apply grafana --placement=\"ceph1\"\nsudo ceph orch apply alertmanager --placement=\"ceph1\"\nsudo ceph orch apply node-exporter --placement=\"*\"  # \ubaa8\ub4e0 \ub178\ub4dc\n\n# Prometheus Module \ud65c\uc131\ud654\nsudo ceph mgr module enable prometheus\n\n# Grafana \uc811\uc18d \uc815\ubcf4\nsudo ceph dashboard ac-user-show admin\n# Grafana: https://ceph1:3000 (admin / &lt;password&gt;)\n</code></pre> <p>Rook\uc5d0\uc11c\ub294 \uc790\ub3d9 \ubc30\ud3ec:</p> <ul> <li><code>monitoring.enabled: true</code> \uc124\uc815 \uc2dc ServiceMonitor \uc790\ub3d9 \uc0dd\uc131</li> <li>Prometheus Operator\uac00 \uba54\ud2b8\ub9ad \uc790\ub3d9 \uc218\uc9d1</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#3","title":"3. \uc131\ub2a5 \ubca4\uce58\ub9c8\ud0b9","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#31","title":"3.1 \ubca4\uce58\ub9c8\ud0b9 \ub3c4\uad6c","text":"\ub3c4\uad6c \uc6a9\ub3c4 \uce21\uc815 \ub300\uc0c1 rados bench RADOS \ub808\uc774\uc5b4 \ud14c\uc2a4\ud2b8 Pool \uc131\ub2a5 (\uac1d\uccb4 \uc4f0\uae30/\uc77d\uae30) FIO \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0 \ud14c\uc2a4\ud2b8 RBD \uc131\ub2a5 (IOPS, \ub300\uc5ed\ud3ed, \ub808\uc774\ud134\uc2dc) rbd bench RBD \uc774\ubbf8\uc9c0 \ud14c\uc2a4\ud2b8 RBD \uc774\ubbf8\uc9c0 \uc131\ub2a5 COSBench/GOSBench \uac1d\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0 \ud14c\uc2a4\ud2b8 RGW S3 API \uc131\ub2a5"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#32-rados-bench","title":"3.2 rados bench \uc0ac\uc6a9\ubc95","text":"<p>\uc21c\ucc28 \uc4f0\uae30 \ud14c\uc2a4\ud2b8:</p> <pre><code># 10\ucd08 \ub3d9\uc548 4MB \uac1d\uccb4 \uc4f0\uae30 (\ud074\ub7ec\uc2a4\ud130 \ubd80\ud558 \ud655\uc778\uc6a9)\nsudo rados bench -p test-pool 10 write --no-cleanup\n\n# \ucd9c\ub825 \uc608\uc2dc:\n# Total time run:         10.5 sec\n# Total writes made:      250\n# Write size:             4194304\n# Object size:            4194304\n# Bandwidth (MB/sec):     95.2\n# Average IOPS:           23.8\n# Average Latency(s):     0.42\n</code></pre> <p>\uc21c\ucc28 \uc77d\uae30 \ud14c\uc2a4\ud2b8:</p> <pre><code># --no-cleanup\uc73c\ub85c \ub0a8\uaca8\uc9c4 \uac1d\uccb4 \uc77d\uae30\nsudo rados bench -p test-pool 10 seq\n\n# \ucd9c\ub825 \uc608\uc2dc:\n# Total time run:         5.2 sec\n# Total reads made:       250\n# Read size:              4194304\n# Bandwidth (MB/sec):     192.3\n# Average IOPS:           48.1\n# Average Latency(s):     0.21\n</code></pre> <p>\ub79c\ub364 \uc77d\uae30 \ud14c\uc2a4\ud2b8:</p> <pre><code>sudo rados bench -p test-pool 10 rand\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#33-fio-rbd","title":"3.3 FIO \ubca4\uce58\ub9c8\ud0b9 (RBD)","text":"<p>4K \ub79c\ub364 \uc4f0\uae30 (IOPS \uce21\uc815):</p> <pre><code>fio --name=rbd-randwrite \\\n    --rw=randwrite \\\n    --direct=1 \\\n    --ioengine=libaio \\\n    --bs=4k \\\n    --iodepth=32 \\\n    --numjobs=4 \\\n    --size=5G \\\n    --runtime=60 \\\n    --group_reporting=1 \\\n    --filename=/dev/rbd0\n</code></pre> <p>128K \uc21c\ucc28 \uc77d\uae30 (\ub300\uc5ed\ud3ed \uce21\uc815):</p> <pre><code>fio --name=rbd-seqread \\\n    --rw=read \\\n    --direct=1 \\\n    --ioengine=libaio \\\n    --bs=128k \\\n    --iodepth=64 \\\n    --numjobs=4 \\\n    --size=10G \\\n    --runtime=60 \\\n    --group_reporting=1 \\\n    --filename=/dev/rbd0\n</code></pre> <p>\ube14\ub85d \ud06c\uae30\ubcc4 \ud14c\uc2a4\ud2b8:</p> <pre><code># 4k, 8k, 16k, 32k, 64k, 128k, 256k, 512k, 1m, 4m\nfor bs in 4k 8k 16k 32k 64k 128k 256k 512k 1m 4m; do\n    fio --name=rbd-test-$bs --rw=randwrite --bs=$bs --iodepth=32 \\\n        --numjobs=4 --size=1G --runtime=30 --filename=/dev/rbd0\ndone\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#4","title":"4. \uc131\ub2a5 \ud29c\ub2dd","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#41-bluestore","title":"4.1 BlueStore \ud29c\ub2dd","text":"<p>\uba54\ubaa8\ub9ac \uc124\uc815 (\uac00\uc7a5 \uc911\uc694):</p> <pre><code># ceph.conf \ub610\ub294 \ub7f0\ud0c0\uc784 \uc124\uc815\n[osd]\nosd_memory_target = 8589934592  # 8GB (\ucd5c\uc18c\uac12, 16GB \uad8c\uc7a5)\n</code></pre> <p>RocksDB \ud29c\ub2dd:</p> <pre><code>[osd]\nbluestore_rocksdb_options = \"compression=kNoCompression,max_open_files=1024\"\n</code></pre> <p>\ub370\uc774\ud130\ubca0\uc774\uc2a4/WAL \ubd84\ub9ac (NVMe \uc0ac\uc6a9 \uc2dc):</p> <pre><code># OSD \uc0dd\uc131 \uc2dc DB/WAL \ub514\ubc14\uc774\uc2a4 \uc9c0\uc815\nsudo ceph orch daemon add osd ceph1:\\\n    --data-devices=/dev/sdb \\\n    --db-devices=/dev/nvme0n1 \\\n    --wal-devices=/dev/nvme0n1\n</code></pre> <p>\ud6a8\uacfc:</p> <ul> <li>\uba54\ud0c0\ub370\uc774\ud130\ub97c NVMe\uc5d0 \ubc30\uce58 \u2192 \ub808\uc774\ud134\uc2dc 50% \uac10\uc18c</li> <li>HDD \ub370\uc774\ud130 + NVMe \uba54\ud0c0\ub370\uc774\ud130 \uc870\ud569\uc73c\ub85c \ube44\uc6a9 \ucd5c\uc801\ud654</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#42","title":"4.2 \ub124\ud2b8\uc6cc\ud06c \ucd5c\uc801\ud654","text":"<p>10GbE \uc774\uc0c1 \uad8c\uc7a5:</p> <pre><code># Jumbo Frame \ud65c\uc131\ud654 (MTU 9000)\nsudo ip link set eth0 mtu 9000\n\n# /etc/sysctl.conf\nnet.ipv4.tcp_rmem = 4096 87380 134217728\nnet.ipv4.tcp_wmem = 4096 65536 134217728\nnet.core.rmem_max = 134217728\nnet.core.wmem_max = 134217728\nnet.ipv4.tcp_congestion_control = bbr  # BBR congestion control\n</code></pre> <p>Public/Cluster \ub124\ud2b8\uc6cc\ud06c \ubd84\ub9ac:</p> <pre><code># ceph.conf\n[global]\npublic_network = 192.168.1.0/24   # \ud074\ub77c\uc774\uc5b8\ud2b8 \ud2b8\ub798\ud53d\ncluster_network = 10.0.0.0/24     # OSD \uac04 \ubcf5\uc81c \ud2b8\ub798\ud53d\n</code></pre> <p>\ud6a8\uacfc:</p> <ul> <li>\ubcf5\uc81c \ud2b8\ub798\ud53d\uacfc \ud074\ub77c\uc774\uc5b8\ud2b8 \ud2b8\ub798\ud53d \uaca9\ub9ac \u2192 \ub124\ud2b8\uc6cc\ud06c \ubcd1\ubaa9 \uc81c\uac70</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#43-pg","title":"4.3 PG \uc218 \ucd5c\uc801\ud654","text":"<p>\uc801\uc808\ud55c PG \uc218 \uacc4\uc0b0 (Ch9 \ucc38\uc870):</p> <pre><code>PG \uc218 = (Total_OSDs \u00d7 mon_target_pg_per_osd) / pool_size\n\n\uc608\uc2dc: 30 OSD, size=3, mon_target_pg_per_osd=200\nPG \uc218 = (30 \u00d7 200) / 3 = 2000 \u2192 2048 (2\uc758 \uac70\ub4ed\uc81c\uacf1)\n</code></pre> <p>PG \uc218 \uc870\uc815 (\uc8fc\uc758: \ubd80\ud558 \ubc1c\uc0dd):</p> <pre><code># PG \uc218 \uc99d\uac00\nsudo ceph osd pool set my-pool pg_num 2048\nsudo ceph osd pool set my-pool pgp_num 2048\n\n# PG Autoscaler \ud65c\uc131\ud654 (\uc790\ub3d9 \uc870\uc815)\nsudo ceph osd pool set my-pool pg_autoscale_mode on\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#5-osd","title":"5. OSD \uc7a5\uc560 \ubcf5\uad6c \uba54\ucee4\ub2c8\uc998","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#51-osd","title":"5.1 OSD \uc7a5\uc560 \uc2dc \ud750\ub984","text":"<pre><code>sequenceDiagram\n    participant OSD1 as OSD 1 (Primary)\n    participant OSD2 as OSD 2 (Replica)\n    participant MON\n    participant Client\n\n    OSD2-&gt;&gt;MON: Heartbeat \ub204\ub77d (10\ucd08 \uc774\uc0c1)\n    MON-&gt;&gt;MON: OSD 2\ub97c down\uc73c\ub85c \ud45c\uc2dc\n    MON--&gt;&gt;Client: OSD Map \uc5c5\ub370\uc774\ud2b8 (osd.2 down)\n\n    Note over OSD2: OSD 2\uac00 300\ucd08(mon_osd_down_out_interval) \ub3d9\uc548 down\n\n    MON-&gt;&gt;MON: OSD 2\ub97c out\uc73c\ub85c \ud45c\uc2dc\n    MON--&gt;&gt;OSD1: PG \uc7ac\ub9e4\ud551 (osd.2 \u2192 osd.3)\n\n    OSD1-&gt;&gt;OSD1: Recovery \uc2dc\uc791 (degraded \u2192 active+clean)\n    OSD1-&gt;&gt;OSD3: \ub370\uc774\ud130 \ubcf5\uc81c\n\n    Note over OSD1,OSD3: Recovery \uc644\ub8cc\n    OSD1--&gt;&gt;MON: PG active+clean</code></pre> <p>\uc8fc\uc694 \ud0c0\uc774\uba38:</p> <ul> <li>mon_osd_heartbeat_grace: 10\ucd08 (OSD\ub97c down\uc73c\ub85c \ud45c\uc2dc\ud558\ub294 \uc2dc\uac04)</li> <li>mon_osd_down_out_interval: 300\ucd08 (OSD\ub97c out\uc73c\ub85c \ud45c\uc2dc\ud558\ub294 \uc2dc\uac04, \ubcf5\uad6c \uc2dc\uc791)</li> <li>osd_recovery_max_active: 3 (OSD\ub2f9 \ub3d9\uc2dc \ubcf5\uad6c PG \uc218)</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#52-mclock-2025","title":"5.2 mClock \uc2a4\ub85c\ud2c0\ub9c1 (2025)","text":"<p>**mClock \uc2a4\ucf00\uc904\ub7ec**\ub294 \ubcf5\uad6c/\ubc31\ud544 \uc791\uc5c5\uc744 **\ud074\ub77c\uc774\uc5b8\ud2b8 I/O\ubcf4\ub2e4 \ub0ae\uc740 \uc6b0\uc120\uc21c\uc704**\ub85c \ucc98\ub9ac\ud569\ub2c8\ub2e4:</p> <pre><code># Recovery \uc2a4\ub85c\ud2c0\ub9c1 \uc124\uc815\nsudo ceph config set osd osd_recovery_max_active 3\nsudo ceph config set osd osd_recovery_max_single_start 1\nsudo ceph config set osd osd_max_backfills 1\n\n# mClock \ud504\ub85c\ud30c\uc77c (high_client_ops: \ud074\ub77c\uc774\uc5b8\ud2b8 \uc6b0\uc120)\nsudo ceph config set osd osd_mclock_profile high_client_ops\n</code></pre> <p>\ud6a8\uacfc:</p> <ul> <li>\ubcf5\uad6c \uc911\uc5d0\ub3c4 \ud074\ub77c\uc774\uc5b8\ud2b8 I/O \uc131\ub2a5 \uc720\uc9c0</li> <li>\ubcf5\uad6c \uc2dc\uac04\uc740 \uae38\uc5b4\uc9c0\uc9c0\ub9cc \uc11c\ube44\uc2a4 \uc601\ud5a5 \ucd5c\uc18c\ud654</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#6","title":"6. \ud2b8\ub7ec\ube14\uc288\ud305","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#61-pg","title":"6.1 PG \uc0c1\ud0dc \ud574\uc11d","text":"\uc0c1\ud0dc \uc758\ubbf8 \uc870\uce58 active+clean \uc815\uc0c1 \uc5c6\uc74c peering OSD \uac04 \ub3d9\uae30\ud654 \uc911 \ub300\uae30 (\uc218 \ubd84 \uc774\ub0b4 \ud574\uacb0) degraded \ubcf5\uc81c\ubcf8 \ubd80\uc871 OSD \ubcf5\uad6c \ub300\uae30 recovering \ubcf5\uad6c \uc9c4\ud589 \uc911 \uc9c4\ud589 \uc0c1\ud669 \ubaa8\ub2c8\ud130\ub9c1 backfilling PG \ub370\uc774\ud130 \uc774\ub3d9 \uc911 \uc9c4\ud589 \uc0c1\ud669 \ubaa8\ub2c8\ud130\ub9c1 backfill_toofull OSD \uc6a9\ub7c9 \ubd80\uc871\uc73c\ub85c \ubc31\ud544 \ubd88\uac00 OSD \ucd94\uac00 \ub610\ub294 \ub370\uc774\ud130 \uc0ad\uc81c incomplete PG \ubcf5\uad6c \ubd88\uac00 (\ub370\uc774\ud130 \uc190\uc2e4) \ub370\uc774\ud130 \uc190\uc2e4 \uac00\ub2a5, \ub85c\uadf8 \ud655\uc778 stale MON\uc774 PG \uc0c1\ud0dc\ub97c \ubc1b\uc9c0 \ubabb\ud568 OSD \uc7ac\uc2dc\uc791"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#62","title":"6.2 \uc77c\ubc18\uc801\uc778 \ubb38\uc81c\uc640 \ud574\uacb0","text":"<p>\ubb38\uc81c 1: OSD Full</p> <pre><code># \uc99d\uc0c1\n$ sudo ceph health\nHEALTH_ERR 1 full osd(s)\n\n# \uc6d0\uc778\n$ sudo ceph osd df\nID  CLASS  WEIGHT   REWEIGHT  SIZE     RAW USE  DATA     OMAP  META   AVAIL    %USE\n 0    ssd  1.00000   1.00000  100 GiB   96 GiB  90 GiB   0 B  6 GiB  4.0 GiB  96.00  # FULL!\n\n# \ud574\uacb0\n# 1. \uc784\uc2dc: full ratio \uc99d\uac00 (\ube44\ucd94\ucc9c)\nsudo ceph osd set-full-ratio 0.97\n\n# 2. \uadfc\ubcf8\uc801: OSD \ucd94\uac00 \ub610\ub294 \ub370\uc774\ud130 \uc0ad\uc81c\nsudo ceph orch daemon add osd ceph4:/dev/sdb\n</code></pre> <p>\ubb38\uc81c 2: Slow Ops</p> <pre><code># \uc99d\uc0c1\n$ sudo ceph health detail\nHEALTH_WARN 10 slow ops, oldest one blocked for 30 sec\n\n# \uc6d0\uc778 \ud655\uc778\n$ sudo ceph daemon osd.0 dump_historic_ops\n\n# \uc77c\ubc18\uc801\uc778 \uc6d0\uc778:\n# - \ub514\uc2a4\ud06c \uc131\ub2a5 \uc800\ud558 (SMART \uac80\uc0ac)\n# - \ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0\n# - CPU/\uba54\ubaa8\ub9ac \ubd80\uc871\n\n# \ud574\uacb0\n# SMART \uac80\uc0ac\nsudo smartctl -a /dev/sdb\n\n# OSD \ud504\ub85c\uc138\uc2a4 \uc7ac\uc2dc\uc791\nsudo systemctl restart ceph-osd@0\n</code></pre> <p>\ubb38\uc81c 3: Clock Skew</p> <pre><code># \uc99d\uc0c1\nHEALTH_WARN clock skew detected on mon.ceph2, mon.ceph3\n\n# \uc6d0\uc778: NTP \ub3d9\uae30\ud654 \uc2e4\ud328\n\n# \ud574\uacb0\nsudo systemctl restart chronyd  # \ub610\ub294 ntpd\nsudo chronyc sources\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#lab-1-monitoring-stack-prometheus-grafana","title":"Lab 1: Monitoring Stack \ubc30\ud3ec (Prometheus + Grafana)","text":"<p>\ubaa9\ud45c: cephadm\uc73c\ub85c \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \ubc30\ud3ec \ubc0f Grafana \ub300\uc2dc\ubcf4\ub4dc \ud655\uc778</p> <p>\ub2e8\uacc4:</p> <ol> <li>Monitoring Stack \ubc30\ud3ec:</li> </ol> <pre><code># Prometheus \ubc30\ud3ec\nsudo ceph orch apply prometheus --placement=\"ceph1\"\n\n# Grafana \ubc30\ud3ec\nsudo ceph orch apply grafana --placement=\"ceph1\"\n\n# Alertmanager \ubc30\ud3ec\nsudo ceph orch apply alertmanager --placement=\"ceph1\"\n\n# Node Exporter (\ubaa8\ub4e0 \ub178\ub4dc)\nsudo ceph orch apply node-exporter --placement=\"*\"\n\n# \ubc30\ud3ec \ud655\uc778\nsudo ceph orch ls\n</code></pre> <ol> <li>Prometheus Module \ud65c\uc131\ud654:</li> </ol> <pre><code># Prometheus Module \ud65c\uc131\ud654\nsudo ceph mgr module enable prometheus\n\n# \uba54\ud2b8\ub9ad \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ud655\uc778\ncurl http://ceph1:9283/metrics | grep ceph_health_status\n</code></pre> <ol> <li>Grafana \uc811\uc18d:</li> </ol> <pre><code># Grafana \ucd08\uae30 \ube44\ubc00\ubc88\ud638 \ud655\uc778\nsudo ceph dashboard ac-user-show admin\n\n# \ube0c\ub77c\uc6b0\uc800\ub85c \uc811\uc18d: https://ceph1:3000\n# \ub85c\uadf8\uc778: admin / &lt;password&gt;\n\n# \ub300\uc2dc\ubcf4\ub4dc \ud655\uc778\n# - Ceph Cluster\n# - OSD Overview\n# - Pool Overview\n# - RBD Overview\n</code></pre> <ol> <li>\ucee4\uc2a4\ud140 \ucffc\ub9ac:</li> </ol> <p>Prometheus\uc5d0\uc11c PromQL\ub85c \uba54\ud2b8\ub9ad \uc870\ud68c:</p> <pre><code># \ud074\ub7ec\uc2a4\ud130 \uc804\uccb4 IOPS\nsum(rate(ceph_osd_op_r_latency_count[5m])) + sum(rate(ceph_osd_op_w_latency_count[5m]))\n\n# OSD\ubcc4 \ud3c9\uade0 \uc4f0\uae30 \ub808\uc774\ud134\uc2dc (ms)\nrate(ceph_osd_op_w_latency_sum[5m]) / rate(ceph_osd_op_w_latency_count[5m])\n\n# Pool \uc0ac\uc6a9\ub960 (%)\n(ceph_pool_bytes_used / ceph_pool_max_avail) * 100\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#lab-2-fio-rados-bench","title":"Lab 2: \uc131\ub2a5 \ubca4\uce58\ub9c8\ud0b9 (FIO, rados bench)","text":"<p>\ubaa9\ud45c: \ud074\ub7ec\uc2a4\ud130 \uc131\ub2a5 \uce21\uc815 \ubc0f \uacb0\uacfc \ubd84\uc11d</p> <p>\ub2e8\uacc4:</p> <ol> <li>rados bench \uc2e4\ud589:</li> </ol> <pre><code># \ud14c\uc2a4\ud2b8 Pool \uc0dd\uc131\nsudo ceph osd pool create bench-pool 128 replicated\nsudo ceph osd pool application enable bench-pool rbd\n\n# \uce90\uc2dc \ud074\ub9ac\uc5b4 (\uc815\ud655\ud55c \uce21\uc815)\necho 3 | sudo tee /proc/sys/vm/drop_caches &amp;&amp; sudo sync\n\n# \uc21c\ucc28 \uc4f0\uae30 \ud14c\uc2a4\ud2b8 (60\ucd08)\nsudo rados bench -p bench-pool 60 write --no-cleanup\n\n# \uc21c\ucc28 \uc77d\uae30 \ud14c\uc2a4\ud2b8\nsudo rados bench -p bench-pool 60 seq\n\n# \ub79c\ub364 \uc77d\uae30 \ud14c\uc2a4\ud2b8\nsudo rados bench -p bench-pool 60 rand\n\n# \uc815\ub9ac\nsudo rados -p bench-pool cleanup\n</code></pre> <ol> <li>RBD + FIO \ud14c\uc2a4\ud2b8:</li> </ol> <pre><code># RBD \uc774\ubbf8\uc9c0 \uc0dd\uc131\nsudo rbd create --size 50G bench-pool/fio-test\n\n# RBD \ub9f5\ud551\nsudo rbd map bench-pool/fio-test\n# /dev/rbd0\n\n# 4K \ub79c\ub364 \uc4f0\uae30 (IOPS)\nfio --name=4k-randwrite --ioengine=libaio --direct=1 \\\n    --rw=randwrite --bs=4k --iodepth=32 --numjobs=4 \\\n    --size=10G --runtime=60 --group_reporting=1 \\\n    --filename=/dev/rbd0\n\n# 128K \uc21c\ucc28 \uc77d\uae30 (\ub300\uc5ed\ud3ed)\nfio --name=128k-seqread --ioengine=libaio --direct=1 \\\n    --rw=read --bs=128k --iodepth=64 --numjobs=4 \\\n    --size=10G --runtime=60 --group_reporting=1 \\\n    --filename=/dev/rbd0\n\n# Mixed workload (70% read, 30% write)\nfio --name=mixed-workload --ioengine=libaio --direct=1 \\\n    --rw=randrw --rwmixread=70 --bs=8k --iodepth=32 --numjobs=4 \\\n    --size=10G --runtime=60 --group_reporting=1 \\\n    --filename=/dev/rbd0\n</code></pre> <ol> <li>\uacb0\uacfc \ubd84\uc11d:</li> </ol> <p>FIO \ucd9c\ub825 \uc608\uc2dc: <pre><code>IOPS=12345, BW=48.2MiB/s (50.5MB/s)\nlat (usec): min=100, max=5000, avg=1042.35, stdev=234.56\n</code></pre></p> <p>\ud574\uc11d:</p> <ul> <li>IOPS: \ucd08\ub2f9 I/O \uc791\uc5c5 \uc218 (\ub192\uc744\uc218\ub85d \uc88b\uc74c)</li> <li>BW (Bandwidth): \ub300\uc5ed\ud3ed (MiB/s \ub610\ub294 MB/s)</li> <li>lat (Latency): \ub808\uc774\ud134\uc2dc (\ub0ae\uc744\uc218\ub85d \uc88b\uc74c, avg/stdev \ud655\uc778)</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#lab-3-bluestore","title":"Lab 3: BlueStore \ud29c\ub2dd","text":"<p>\ubaa9\ud45c: BlueStore \ud30c\ub77c\ubbf8\ud130 \ud29c\ub2dd\uc73c\ub85c \uc131\ub2a5 \ud5a5\uc0c1</p> <p>\ub2e8\uacc4:</p> <ol> <li>\ud604\uc7ac \uc124\uc815 \ud655\uc778:</li> </ol> <pre><code># OSD \uba54\ubaa8\ub9ac \ud0c0\uac9f \ud655\uc778\nsudo ceph config show osd.0 | grep osd_memory_target\n\n# BlueStore \uc124\uc815 \ud655\uc778\nsudo ceph config show osd.0 | grep bluestore\n</code></pre> <ol> <li>\uba54\ubaa8\ub9ac \ud0c0\uac9f \uc99d\uac00 (\uac00\uc7a5 \ud070 \uc601\ud5a5):</li> </ol> <pre><code># \ubaa8\ub4e0 OSD\uc5d0 16GB \uba54\ubaa8\ub9ac \ud560\ub2f9 (\uae30\ubcf8 4GB \u2192 16GB)\nsudo ceph config set osd osd_memory_target 17179869184\n\n# OSD \uc7ac\uc2dc\uc791 (rolling restart)\nfor i in 0 1 2; do\n    sudo systemctl restart ceph-osd@$i\n    sleep 60  # \ubcf5\uad6c \ub300\uae30\ndone\n</code></pre> <ol> <li>\ubca4\uce58\ub9c8\ud06c \ube44\uad50:</li> </ol> <pre><code># \ud29c\ub2dd \uc804 \ubca4\uce58\ub9c8\ud06c\nfio --name=before-tuning --rw=randwrite --bs=4k --iodepth=32 \\\n    --runtime=60 --filename=/dev/rbd0 | tee before.txt\n\n# \ud29c\ub2dd \ud6c4 \ubca4\uce58\ub9c8\ud06c (\uba54\ubaa8\ub9ac \uc99d\uac00 \ud6c4)\nfio --name=after-tuning --rw=randwrite --bs=4k --iodepth=32 \\\n    --runtime=60 --filename=/dev/rbd0 | tee after.txt\n\n# \uacb0\uacfc \ube44\uad50\ngrep \"IOPS=\" before.txt after.txt\n</code></pre> <ol> <li>DB/WAL \ubd84\ub9ac (NVMe \uc788\ub294 \uacbd\uc6b0):</li> </ol> <pre><code># \uc0c8 OSD \uc0dd\uc131 \uc2dc NVMe\uc5d0 DB/WAL \ubc30\uce58\nsudo ceph orch daemon add osd ceph1: \\\n    --data-devices=/dev/sdb \\\n    --db-devices=/dev/nvme0n1 \\\n    --wal-devices=/dev/nvme0n1\n\n# \uae30\uc874 OSD\ub294 \uc7ac\uc0dd\uc131 \ud544\uc694 (\ub370\uc774\ud130 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud544\uc694)\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#lab-4-osd","title":"Lab 4: OSD \uc7a5\uc560 \uc2dc\ubbac\ub808\uc774\uc158 &amp; \ubcf5\uad6c","text":"<p>\ubaa9\ud45c: OSD \uc7a5\uc560 \uc2dc \uc790\ub3d9 \ubcf5\uad6c \uacfc\uc815 \uad00\ucc30</p> <p>\ub2e8\uacc4:</p> <ol> <li>\ucd08\uae30 \uc0c1\ud0dc \ud655\uc778:</li> </ol> <pre><code># \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc\nsudo ceph -s\n\n# PG \uc0c1\ud0dc\nsudo ceph pg stat\n</code></pre> <ol> <li>OSD \uc7a5\uc560 \uc2dc\ubbac\ub808\uc774\uc158:</li> </ol> <pre><code># OSD 2 \uc911\uc9c0\nsudo systemctl stop ceph-osd@2\n\n# \uc0c1\ud0dc \ubcc0\ud654 \uad00\ucc30 (10\ucd08 \ud6c4 down, 300\ucd08 \ud6c4 out)\nwatch -n 5 'sudo ceph osd tree'\n\n# PG \uc0c1\ud0dc \ubcc0\ud654\nwatch -n 5 'sudo ceph pg stat'\n# \ucd9c\ub825: XX active+clean, YY active+degraded\n</code></pre> <ol> <li>\ubcf5\uad6c \uc9c4\ud589 \uc0c1\ud669 \ubaa8\ub2c8\ud130\ub9c1:</li> </ol> <pre><code># Recovery \uc9c4\ud589\ub960\nsudo ceph -w\n# \ucd9c\ub825 \uc608\uc2dc:\n# recovery: 1024/3072 objects degraded (33.3%)\n# 10 MiB/s, 1000 objects/s\n\n# PG\ubcc4 \uc0c1\ud0dc\nsudo ceph pg dump | grep recovering\n</code></pre> <ol> <li>OSD \ubcf5\uad6c:</li> </ol> <pre><code># OSD \uc7ac\uc2dc\uc791\nsudo systemctl start ceph-osd@2\n\n# \ubcf5\uad6c \uc644\ub8cc \ub300\uae30\nsudo ceph -w\n# \ubaa8\ub4e0 PG\uac00 active+clean\uc774 \ub420 \ub54c\uae4c\uc9c0 \ub300\uae30\n\n# \ucd5c\uc885 \uc0c1\ud0dc \ud655\uc778\nsudo ceph -s\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#lab-5","title":"Lab 5: \uc77c\ubc18\uc801\uc778 \ubb38\uc81c \ud2b8\ub7ec\ube14\uc288\ud305","text":"<p>\ubaa9\ud45c: \uc2e4\uc81c \ubb38\uc81c \uc2dc\ub098\ub9ac\uc624 \ud574\uacb0 \uc2e4\uc2b5</p> <p>\uc2dc\ub098\ub9ac\uc624 1: PG Stuck in Peering</p> <pre><code># PG \uc0c1\ud0dc \ud655\uc778\nsudo ceph pg dump pgs | grep peering\n\n# PG \ucffc\ub9ac (\uc0c1\uc138 \uc815\ubcf4)\nsudo ceph pg 1.a query | jq '.state'\n\n# \ud574\uacb0: OSD \uc7ac\uc2dc\uc791\nsudo systemctl restart ceph-osd@&lt;primary_osd&gt;\n\n# \uc5ec\uc804\ud788 \ud574\uacb0 \uc548 \ub418\uba74: MON \uc7ac\uc2dc\uc791\nsudo systemctl restart ceph-mon@ceph1\n</code></pre> <p>\uc2dc\ub098\ub9ac\uc624 2: Slow Ops</p> <pre><code># Slow ops \ud655\uc778\nsudo ceph health detail\n# HEALTH_WARN 5 slow ops\n\n# \uc6d0\uc778 \ubd84\uc11d\nsudo ceph daemon osd.0 dump_ops_in_flight\nsudo ceph daemon osd.0 dump_historic_ops | jq '.ops[] | select(.duration &gt; 30)'\n\n# \ub514\uc2a4\ud06c \uc131\ub2a5 \ud655\uc778\nsudo smartctl -a /dev/sdb | grep -i error\nsudo iostat -x 1 10  # I/O \uc9c0\uc5f0 \ud655\uc778\n\n# \ub124\ud2b8\uc6cc\ud06c \ud655\uc778\nping -c 10 ceph2\n</code></pre> <p>\uc2dc\ub098\ub9ac\uc624 3: \uc6a9\ub7c9 \ubd80\uc871</p> <pre><code># \uc6a9\ub7c9 \ud655\uc778\nsudo ceph df\n\n# \uac00\uc7a5 \ub9ce\uc774 \uc0ac\uc6a9\ud558\ub294 Pool \ud655\uc778\nsudo ceph osd pool ls detail | grep size\n\n# \ud574\uacb0 1: \ubd88\ud544\uc694\ud55c \ub370\uc774\ud130 \uc0ad\uc81c\nsudo rbd ls &lt;pool&gt;\nsudo rbd rm &lt;pool&gt;/&lt;image&gt;\n\n# \ud574\uacb0 2: OSD \ucd94\uac00\nsudo ceph orch daemon add osd ceph4:/dev/sdb\n\n# \ud574\uacb0 3: \uc784\uc2dc\ub85c full ratio \uc99d\uac00 (\ube44\ucd94\ucc9c)\nsudo ceph osd set-full-ratio 0.97\n</code></pre>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>Monitoring Overview: https://docs.ceph.com/en/latest/monitoring/</li> <li>Monitoring Services (cephadm): https://docs.ceph.com/en/latest/cephadm/services/monitoring/</li> <li>Prometheus Module: https://docs.ceph.com/en/latest/mgr/prometheus/</li> <li>Monitoring OSDs and PGs: https://docs.ceph.com/en/reef/rados/operations/monitoring-osd-pg/</li> <li>Health Checks: https://docs.ceph.com/en/reef/rados/operations/health-checks/</li> <li>Troubleshooting PGs: https://docs.ceph.com/en/reef/rados/troubleshooting/troubleshooting-pg/</li> <li>Troubleshooting OSDs: https://docs.ceph.com/en/latest/rados/troubleshooting/troubleshooting-osd/</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#rook","title":"Rook \ubb38\uc11c","text":"<ul> <li>Rook Ceph Monitoring: https://rook.io/docs/rook/latest/Storage-Configuration/Monitoring/ceph-monitoring/</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_7","title":"\ubca4\uce58\ub9c8\ud0b9 &amp; \uc131\ub2a5 \ud29c\ub2dd","text":"<ul> <li>How to Benchmark Ceph Storage Performance: https://openmetal.io/resources/blog/how-to-benchmark-ceph-storage-performance/</li> <li>Ceph Performance Benchmark and Optimization (croit): https://www.croit.io/blog/ceph-performance-benchmark-and-optimization</li> <li>How to Tune Ceph for Block Storage Performance: https://openmetal.io/resources/blog/how-to-tune-ceph-for-block-storage-performance/</li> <li>BlueStore Default vs. Tuned Performance: https://ceph.io/community/bluestore-default-vs-tuned-performance-comparison/</li> <li>Ceph All-Flash/NVMe Performance: https://croit.io/blog/ceph-performance-test-and-optimization</li> <li>Tuning Ceph Performance (4sysops): https://4sysops.com/archives/tuning-ceph-performance/</li> <li>Comprehensive Guide to Tuning Rook-Ceph: https://www.cloudraft.io/blog/rook-ceph-performance-tuning</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#red-hat-suse","title":"Red Hat &amp; SUSE \ubb38\uc11c","text":"<ul> <li>Red Hat Ceph Performance Benchmark (RHCS 5): https://docs.redhat.com/en/documentation/red_hat_ceph_storage/5/html/administration_guide/ceph-performance-benchmarking</li> <li>Red Hat Troubleshooting Ceph OSDs: https://docs.redhat.com/en/documentation/red_hat_ceph_storage/6/html/troubleshooting_guide/troubleshooting-ceph-osds</li> <li>SUSE Troubleshooting Ceph Health Status: https://documentation.suse.com/ses/7.1/html/ses-all/bp-troubleshooting-status.html</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_8","title":"\ube14\ub85c\uadf8 &amp; \uc544\ud2f0\ud074","text":"<ul> <li>Monitoring Ceph with Prometheus (Sysdig): https://www.sysdig.com/blog/monitoring-ceph-prometheus</li> <li>Ceph Stretch Clusters Part 3: Handling Failures (2025): https://ceph.io/en/news/blog/2025/stretch-cluuuuuuuuusters-part3/</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_9","title":"\ub3c4\uad6c","text":"<ul> <li>Ceph Benchmarking Tool (CBT): https://github.com/ceph/cbt</li> <li>Benchmark Ceph Cluster (Ceph Wiki): https://tracker.ceph.com/projects/ceph/wiki/Benchmark_Ceph_Cluster_Performance</li> </ul>"},{"location":"iam-storage-service/Ch10.Ceph_%EC%9A%B4%EC%98%81_%EC%84%B1%EB%8A%A5/#_10","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\uc644\ub8cc\ud55c \ud56d\ubaa9\uc5d0 \uccb4\ud06c\ud558\uc138\uc694:</p> <ul> <li> cephadm\uacfc Rook\uc758 \ucc28\uc774\ub97c \uc774\ud574\ud558\uace0 \uc801\uc808\ud55c \ubc30\ud3ec \ubc29\ubc95\uc744 \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4</li> <li> Prometheus + Grafana \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd\uc744 \ubc30\ud3ec\ud558\uace0 \uc6b4\uc601\ud560 \uc218 \uc788\ub2e4</li> <li> Prometheus \uba54\ud2b8\ub9ad\uc744 \uc774\ud574\ud558\uace0 PromQL \ucffc\ub9ac\ub97c \uc791\uc131\ud560 \uc218 \uc788\ub2e4</li> <li> rados bench\uc640 FIO\ub85c \ud074\ub7ec\uc2a4\ud130 \uc131\ub2a5\uc744 \uce21\uc815\ud558\uace0 \uacb0\uacfc\ub97c \ubd84\uc11d\ud560 \uc218 \uc788\ub2e4</li> <li> BlueStore \uba54\ubaa8\ub9ac \ud0c0\uac9f, DB/WAL \ubd84\ub9ac \ub4f1 \uc131\ub2a5 \ud29c\ub2dd\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub2e4</li> <li> OSD \uc7a5\uc560 \uc2dc \uc790\ub3d9 \ubcf5\uad6c \uba54\ucee4\ub2c8\uc998\uc744 \uc774\ud574\ud558\uace0 \ubcf5\uad6c \uacfc\uc815\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud560 \uc218 \uc788\ub2e4</li> <li> PG \uc0c1\ud0dc(active, clean, degraded, recovering, backfilling)\ub97c \ud574\uc11d\ud560 \uc218 \uc788\ub2e4</li> <li> mClock \uc2a4\ub85c\ud2c0\ub9c1\uc744 \ud1b5\ud574 \ubcf5\uad6c \uc791\uc5c5\uc774 \ud074\ub77c\uc774\uc5b8\ud2b8 I/O\uc5d0 \ubbf8\uce58\ub294 \uc601\ud5a5\uc744 \uc81c\uc5b4\ud560 \uc218 \uc788\ub2e4</li> <li> Slow ops, Clock skew, OSD full \ub4f1 \uc77c\ubc18\uc801\uc778 \ubb38\uc81c\ub97c \ud574\uacb0\ud560 \uc218 \uc788\ub2e4</li> <li> Ceph \ud074\ub7ec\uc2a4\ud130\uc758 \uc6a9\ub7c9 \uc784\uacc4\uac12(85%/90%/95%)\uc744 \uc774\ud574\ud558\uace0 \uad00\ub9ac\ud560 \uc218 \uc788\ub2e4</li> </ul> <p>\ub2e4\uc74c \ucc55\ud130: Ch11. Block Storage (Cinder)\uc5d0\uc11c OpenStack Cinder \uc544\ud0a4\ud14d\ucc98, Volume Driver, QoS, Multi-backend\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/","title":"Ch11. Block Storage (Cinder)","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_2","title":"\uac1c\uc694","text":"<p>OpenStack Cinder**\ub294 \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0 \uc11c\ube44\uc2a4\ub85c, \uac00\uc0c1 \uba38\uc2e0(VM)\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc788\ub294 **\uc601\uad6c \ube14\ub85d \ub514\ubc14\uc774\uc2a4(Persistent Block Device)**\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. Cinder\ub294 \ub2e4\uc591\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc(Ceph RBD, LVM, NetApp, EMC \ub4f1)\ub97c \ucd94\uc0c1\ud654\ud558\uc5ec **\ud1b5\ud569\ub41c API**\ub85c \ubcfc\ub968 \uad00\ub9ac\ub97c \uc81c\uacf5\ud558\uba70, **QoS, \uc2a4\ub0c5\uc0f7, \ubc31\uc5c5, \ubcfc\ub968 \ub9c8\uc774\uadf8\ub808\uc774\uc158, \ubcfc\ub968 \uc554\ud638\ud654 \ub4f1 \uc5d4\ud130\ud504\ub77c\uc774\uc988 \uae30\ub2a5\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Cinder\ub294 Kubernetes Operator \uae30\ubc18 \ubc30\ud3ec, Active-Active HA (Ceph RBD \ubc31\uc5d4\ub4dc), IOPS/\ub300\uc5ed\ud3ed QoS \uc81c\uc5b4 (Rocky 13.0.0+), \uc99d\ubd84 \ubc31\uc5c5, \uba40\ud2f0 \ubc31\uc5d4\ub4dc \uad00\ub9ac**\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. Ceph RBD\uc640\uc758 \ud1b5\ud569\uc774 \uac00\uc7a5 \uc77c\ubc18\uc801\uc774\uba70, **Copy-on-Write(CoW) \ud074\ub860, \uc52c \ud504\ub85c\ube44\uc800\ub2dd, **\uc2a4\ub0c5\uc0f7 \uc9c0\uc6d0**\uc73c\ub85c \ud6a8\uc728\uc801\uc778 \uc2a4\ud1a0\ub9ac\uc9c0 \ud65c\uc6a9\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_3","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>Cinder \uc544\ud0a4\ud14d\ucc98 \uc774\ud574: API, Scheduler, Volume, Backup \ucef4\ud3ec\ub10c\ud2b8 \uc5ed\ud560 \uc124\uba85</li> <li>Volume Driver \uc124\uc815: Ceph RBD, LVM \ubc31\uc5d4\ub4dc \uad6c\uc131</li> <li>QoS \uc124\uc815: Volume Type\uacfc QoS Spec\uc73c\ub85c IOPS/\ub300\uc5ed\ud3ed \uc81c\uc5b4</li> <li>Multi-backend \uad6c\uc131: \uc5ec\ub7ec \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc \ub3d9\uc2dc \uc6b4\uc601</li> <li>\ubcfc\ub968 \uc6b4\uc601: \ub9c8\uc774\uadf8\ub808\uc774\uc158, \uc2a4\ub0c5\uc0f7, \ubc31\uc5c5/\ubcf5\uc6d0 \uc218\ud589</li> </ol>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#1-cinder","title":"1. Cinder \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#11","title":"1.1 \ucef4\ud3ec\ub10c\ud2b8 \uad6c\uc870","text":"<pre><code>graph TB\n    subgraph \"OpenStack Services\"\n        Nova[Nova Compute]\n        CLI[OpenStack CLI]\n        Horizon[Horizon Dashboard]\n    end\n\n    subgraph \"Cinder Components\"\n        API[cinder-api&lt;br/&gt;RESTful API]\n        Scheduler[cinder-scheduler&lt;br/&gt;\ubc31\uc5d4\ub4dc \uc120\ud0dd]\n        Volume[cinder-volume&lt;br/&gt;\ubcfc\ub968 \uad00\ub9ac]\n        Backup[cinder-backup&lt;br/&gt;\ubc31\uc5c5 \uad00\ub9ac]\n    end\n\n    subgraph \"Message Queue\"\n        RabbitMQ[RabbitMQ / Kafka]\n    end\n\n    subgraph \"Database\"\n        DB[(MySQL / PostgreSQL)]\n    end\n\n    subgraph \"Storage Backends\"\n        Ceph[Ceph RBD]\n        LVM[LVM + iSCSI]\n        NetApp[NetApp]\n    end\n\n    CLI --&gt; API\n    Horizon --&gt; API\n    Nova --&gt; API\n\n    API --&gt; RabbitMQ\n    Scheduler --&gt; RabbitMQ\n    Volume --&gt; RabbitMQ\n    Backup --&gt; RabbitMQ\n\n    API --&gt; DB\n    Scheduler --&gt; DB\n    Volume --&gt; DB\n    Backup --&gt; DB\n\n    Volume --&gt; Ceph\n    Volume --&gt; LVM\n    Volume --&gt; NetApp\n    Backup --&gt; Ceph</code></pre> <p>\ucef4\ud3ec\ub10c\ud2b8 \uc5ed\ud560:</p> \ucef4\ud3ec\ub10c\ud2b8 \uc5ed\ud560 \ubc30\ud3ec \uc218 cinder-api RESTful API \uc81c\uacf5, \uc694\uccad \uac80\uc99d \uc5ec\ub7ec \uac1c (HA) cinder-scheduler \ubcfc\ub968 \uc0dd\uc131 \uc694\uccad \uc2dc \uc801\uc808\ud55c \ubc31\uc5d4\ub4dc \uc120\ud0dd \uc5ec\ub7ec \uac1c (HA) cinder-volume \uc2e4\uc81c \ubcfc\ub968 CRUD, \uc2a4\ub0c5\uc0f7, \ud074\ub860 \uc218\ud589 \ubc31\uc5d4\ub4dc\ub2f9 1\uac1c \uc774\uc0c1 (Active-Active \uac00\ub2a5) cinder-backup \ubcfc\ub968 \ubc31\uc5c5/\ubcf5\uc6d0 (Swift, Ceph, NFS\ub85c) \uc5ec\ub7ec \uac1c (HA)"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#12","title":"1.2 \ubcfc\ub968 \uc0dd\uc131 \ud750\ub984","text":"<pre><code>sequenceDiagram\n    participant User\n    participant API\n    participant Scheduler\n    participant Volume\n    participant Ceph\n\n    User-&gt;&gt;API: POST /v3/volumes (size=10GB, type=ceph-ssd)\n    API-&gt;&gt;DB: \ubcfc\ub968 \ub808\ucf54\ub4dc \uc0dd\uc131 (status=creating)\n    API-&gt;&gt;RabbitMQ: create_volume \uba54\uc2dc\uc9c0\n\n    RabbitMQ-&gt;&gt;Scheduler: create_volume \uba54\uc2dc\uc9c0 \uc804\ub2ec\n    Scheduler-&gt;&gt;Scheduler: \ud544\ud130/\uac00\uc911\uce58 \uc801\uc6a9\n    Scheduler-&gt;&gt;Scheduler: \ubc31\uc5d4\ub4dc \uc120\ud0dd (ceph-rbd-1)\n    Scheduler-&gt;&gt;RabbitMQ: create_volume_on_backend(ceph-rbd-1)\n\n    RabbitMQ-&gt;&gt;Volume: create_volume \uba54\uc2dc\uc9c0 \uc804\ub2ec\n    Volume-&gt;&gt;Ceph: rbd create pool/volume-id --size 10G\n    Ceph--&gt;&gt;Volume: \uc131\uacf5\n\n    Volume-&gt;&gt;DB: status=available \uc5c5\ub370\uc774\ud2b8\n    Volume--&gt;&gt;API: \uc644\ub8cc\n    API--&gt;&gt;User: \ubcfc\ub968 \uc815\ubcf4 \ubc18\ud658</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#2-storage-backend","title":"2. Storage Backend \uc124\uc815","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#21-backend-isolation-model-2025","title":"2.1 Backend Isolation Model (2025)","text":"<p>Kubernetes \ud658\uacbd\uc5d0\uc11c Cinder Operator\ub294 **Backend Isolation Model**\uc744 \uad6c\ud604\ud569\ub2c8\ub2e4:</p> <pre><code>apiVersion: cinder.openstack.org/v1beta1\nkind: CinderVolume\nmetadata:\n  name: cinder-volume-ceph\n  namespace: openstack\nspec:\n  replicas: 3  # Active-Active (Ceph RBD\ub9cc \uc9c0\uc6d0)\n  storageBackend:\n    name: ceph-rbd\n    type: rbd\n    config:\n      rbd_pool: volumes\n      rbd_user: cinder\n      rbd_secret_uuid: \"abc-123-def\"\n      rbd_ceph_conf: /etc/ceph/ceph.conf\n      rbd_flatten_volume_from_snapshot: false\n      rbd_max_clone_depth: 5\n      rbd_store_chunk_size: 4  # 4MB\n</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>\uac01 \ubc31\uc5d4\ub4dc\uac00 \ub3c5\ub9bd\uc801\uc778 **StatefulSet**\uc73c\ub85c \ubc30\ud3ec</li> <li>\ud55c \ubc31\uc5d4\ub4dc\uc758 \uc7a5\uc560\uac00 \ub2e4\ub978 \ubc31\uc5d4\ub4dc\uc5d0 \uc601\ud5a5 \uc5c6\uc74c</li> <li>\ubc31\uc5d4\ub4dc\ubcc4 \ub3c5\ub9bd\uc801\uc778 \uc2a4\ucf00\uc77c\ub9c1/\uc5c5\uadf8\ub808\uc774\ub4dc</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#22-ceph-rbd-backend","title":"2.2 Ceph RBD Backend","text":"<p>cinder.conf \uc124\uc815:</p> <pre><code>[DEFAULT]\nenabled_backends = ceph-rbd-ssd, ceph-rbd-hdd\n\n[ceph-rbd-ssd]\nvolume_driver = cinder.volume.drivers.rbd.RBDDriver\nvolume_backend_name = ceph-rbd-ssd\nrbd_pool = volumes-ssd\nrbd_ceph_conf = /etc/ceph/ceph.conf\nrbd_user = cinder\nrbd_secret_uuid = abc-123-def-456\nrbd_flatten_volume_from_snapshot = false\nrbd_max_clone_depth = 5\nrbd_store_chunk_size = 4\n\n[ceph-rbd-hdd]\nvolume_driver = cinder.volume.drivers.rbd.RBDDriver\nvolume_backend_name = ceph-rbd-hdd\nrbd_pool = volumes-hdd\nrbd_ceph_conf = /etc/ceph/ceph.conf\nrbd_user = cinder\nrbd_secret_uuid = abc-123-def-456\n</code></pre> <p>\uc8fc\uc694 \ud30c\ub77c\ubbf8\ud130:</p> <ul> <li>rbd_pool: Ceph Pool \uc774\ub984 (volumes, volumes-ssd \ub4f1)</li> <li>rbd_user: Ceph \uc778\uc99d \uc0ac\uc6a9\uc790 (keyring \ud544\uc694)</li> <li>rbd_flatten_volume_from_snapshot: false\ub85c \uc124\uc815 \uc2dc CoW \ud074\ub860 \uc0ac\uc6a9 (\ube60\ub978 \uc0dd\uc131)</li> <li>rbd_max_clone_depth: CoW \ud074\ub860 \uccb4\uc778 \ucd5c\ub300 \uae4a\uc774 (5 \uad8c\uc7a5)</li> <li>rbd_store_chunk_size: \uac1d\uccb4 \ud06c\uae30 (MB, \uae30\ubcf8\uac12 4MB)</li> </ul> <p>Ceph \uc778\uc99d \uc124\uc815:</p> <pre><code># Ceph\uc5d0\uc11c Cinder\uc6a9 \uc0ac\uc6a9\uc790 \uc0dd\uc131\nsudo ceph auth get-or-create client.cinder \\\n    mon 'allow r' \\\n    osd 'allow class-read object_prefix rbd_children, allow rwx pool=volumes, allow rwx pool=vms, allow rx pool=images' \\\n    -o /etc/ceph/ceph.client.cinder.keyring\n\n# Nova Compute \ub178\ub4dc\uc5d0\uc11c\ub3c4 \ud544\uc694 (VM attach\ub97c \uc704\ud574)\nsudo ceph auth get-or-create client.cinder-backup \\\n    mon 'allow r' \\\n    osd 'allow class-read object_prefix rbd_children, allow rwx pool=backups' \\\n    -o /etc/ceph/ceph.client.cinder-backup.keyring\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#23-lvm-backend","title":"2.3 LVM Backend","text":"<p>cinder.conf \uc124\uc815:</p> <pre><code>[lvm-backend]\nvolume_driver = cinder.volume.drivers.lvm.LVMVolumeDriver\nvolume_backend_name = lvm-backend\nvolume_group = cinder-volumes\ntarget_protocol = iscsi\ntarget_helper = lioadm\niscsi_ip_address = 192.168.1.10\n</code></pre> <p>LVM \ubcfc\ub968 \uadf8\ub8f9 \uc0dd\uc131:</p> <pre><code># \ubb3c\ub9ac \ubcfc\ub968 \uc0dd\uc131\nsudo pvcreate /dev/sdb\n\n# \ubcfc\ub968 \uadf8\ub8f9 \uc0dd\uc131\nsudo vgcreate cinder-volumes /dev/sdb\n\n# \ud655\uc778\nsudo vgdisplay cinder-volumes\n</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>Local \uc2a4\ud1a0\ub9ac\uc9c0: \uac01 \ub178\ub4dc\uc758 \ub85c\uceec \ub514\uc2a4\ud06c \uc0ac\uc6a9</li> <li>iSCSI \ub178\ucd9c: LVM \ubcfc\ub968\uc744 iSCSI \ud0c0\uac9f\uc73c\ub85c \ub178\ucd9c</li> <li>\uc131\ub2a5: SSD \ub85c\uceec \ub514\uc2a4\ud06c \uc0ac\uc6a9 \uc2dc \ub192\uc740 IOPS</li> <li>\ub2e8\uc810: \ub178\ub4dc \uac04 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc5b4\ub824\uc6c0 (\ub370\uc774\ud130 \ubcf5\uc0ac \ud544\uc694)</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#3-volume-types-qos","title":"3. Volume Types &amp; QoS","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#31-volume-type","title":"3.1 Volume Type","text":"<p>**Volume Type**\uc740 \ubcfc\ub968\uc758 \ud2b9\uc131\uc744 \uc815\uc758\ud558\ub294 \ud15c\ud50c\ub9bf\uc785\ub2c8\ub2e4:</p> <pre><code># Volume Type \uc0dd\uc131\nopenstack volume type create \\\n    --description \"Ceph SSD Storage\" \\\n    --property volume_backend_name=ceph-rbd-ssd \\\n    ceph-ssd\n\nopenstack volume type create \\\n    --description \"Ceph HDD Storage\" \\\n    --property volume_backend_name=ceph-rbd-hdd \\\n    ceph-hdd\n\n# Volume Type \ubaa9\ub85d\nopenstack volume type list\n</code></pre> <p>Extra-specs (\ubc31\uc5d4\ub4dc\ubcc4 \uc138\ubd80 \uc124\uc815):</p> <pre><code># Ceph RBD \uc2a4\ud2b8\ub77c\uc774\ud551 \uc124\uc815\nopenstack volume type set ceph-ssd \\\n    --property rbd_stripe_unit=4194304 \\\n    --property rbd_stripe_count=2\n\n# LVM thin provisioning \ud65c\uc131\ud654\nopenstack volume type set lvm-thin \\\n    --property lvm_type=thin\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#32-qos-specification","title":"3.2 QoS Specification","text":"<p>**QoS Spec**\uc744 \ud1b5\ud574 **IOPS/\ub300\uc5ed\ud3ed \uc81c\ud55c**\uc744 \uc124\uc815\ud569\ub2c8\ub2e4 (Rocky 13.0.0+):</p> <pre><code># QoS Spec \uc0dd\uc131 (IOPS \uc81c\ud55c)\nopenstack volume qos create \\\n    --consumer front-end \\\n    --property read_iops_sec=1000 \\\n    --property write_iops_sec=800 \\\n    --property total_iops_sec=1500 \\\n    standard-qos\n\n# QoS Spec \uc0dd\uc131 (\ub300\uc5ed\ud3ed \uc81c\ud55c)\nopenstack volume qos create \\\n    --consumer front-end \\\n    --property read_bytes_sec=104857600 \\   # 100 MB/s\n    --property write_bytes_sec=52428800 \\   # 50 MB/s\n    --property total_bytes_sec=157286400 \\  # 150 MB/s\n    bandwidth-qos\n\n# Burst \uc9c0\uc6d0 (\uc77c\uc2dc\uc801\uc73c\ub85c \ub192\uc740 IOPS \ud5c8\uc6a9)\nopenstack volume qos create \\\n    --consumer front-end \\\n    --property total_iops_sec=1000 \\\n    --property total_iops_sec_max=5000 \\    # Burst IOPS\n    --property total_iops_sec_max_length=60 \\  # Burst \uc9c0\uc18d \uc2dc\uac04 (\ucd08)\n    burst-qos\n\n# Volume Type\uc5d0 QoS \uc5f0\uacb0\nopenstack volume qos associate standard-qos ceph-ssd\n</code></pre> <p>QoS \ud30c\ub77c\ubbf8\ud130:</p> \ud30c\ub77c\ubbf8\ud130 \uc124\uba85 \ub2e8\uc704 read_iops_sec \uc77d\uae30 IOPS \uc81c\ud55c ops/sec write_iops_sec \uc4f0\uae30 IOPS \uc81c\ud55c ops/sec total_iops_sec \uc804\uccb4 IOPS \uc81c\ud55c ops/sec read_bytes_sec \uc77d\uae30 \ub300\uc5ed\ud3ed \uc81c\ud55c bytes/sec write_bytes_sec \uc4f0\uae30 \ub300\uc5ed\ud3ed \uc81c\ud55c bytes/sec total_bytes_sec \uc804\uccb4 \ub300\uc5ed\ud3ed \uc81c\ud55c bytes/sec total_iops_sec_max Burst IOPS ops/sec total_iops_sec_max_length Burst \uc9c0\uc18d \uc2dc\uac04 seconds <p>consumer \ud0c0\uc785:</p> <ul> <li>front-end: Hypervisor(Compute)\uc5d0\uc11c \uc801\uc6a9 (\uad8c\uc7a5)</li> <li>back-end: \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc\uc5d0\uc11c \uc801\uc6a9 (\ubc31\uc5d4\ub4dc \uc9c0\uc6d0 \ud544\uc694)</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#4-active-active-ha","title":"4. Active-Active HA","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#41-active-active-ceph-rbd","title":"4.1 Active-Active \uad6c\uc131 (Ceph RBD\ub9cc \uc9c0\uc6d0)","text":"<p>cinder.conf:</p> <pre><code>[DEFAULT]\nenabled_backends = ceph-rbd-ssd\ncluster_name = cinder-cluster-1  # \ud074\ub7ec\uc2a4\ud130 \uc774\ub984 (etcd \ub124\uc784\uc2a4\ud398\uc774\uc2a4)\n\n[coordination]\nbackend_url = etcd3+http://etcd1:2379,etcd2:2379,etcd3:2379\n\n[ceph-rbd-ssd]\nvolume_driver = cinder.volume.drivers.rbd.RBDDriver\nvolume_backend_name = ceph-rbd-ssd\n# ... (\uae30\ud0c0 RBD \uc124\uc815)\n</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>\ubd84\uc0b0 \ub77d: etcd\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec cinder-volume \uc778\uc2a4\ud134\uc2a4\uac00 \ub3d9\uc2dc\uc5d0 \uc2e4\ud589</li> <li>Ceph RBD \uc804\uc6a9: LVM, iSCSI \ubc31\uc5d4\ub4dc\ub294 Active-Passive\ub9cc \uc9c0\uc6d0</li> <li>\uc131\ub2a5: \uc5ec\ub7ec \ubcfc\ub968 \uc791\uc5c5\uc744 \ubcd1\ub82c \ucc98\ub9ac \uac00\ub2a5</li> </ul> <p>\uc81c\uc57d \uc0ac\ud56d:</p> <ul> <li>\ubaa8\ub4e0 \ubc31\uc5d4\ub4dc\uac00 Active-Active\ub97c \uc9c0\uc6d0\ud574\uc57c \ud568 (\ud63c\ud569 \ubd88\uac00)</li> <li>etcd \ud074\ub7ec\uc2a4\ud130 \ud544\uc694 (3-5 \ub178\ub4dc \uad8c\uc7a5)</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#5","title":"5. \ubcfc\ub968 \uc6b4\uc601","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#51","title":"5.1 \ubcfc\ub968 \ub9c8\uc774\uadf8\ub808\uc774\uc158","text":"<p>\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc720\ud615:</p> <ol> <li>Storage-assisted Migration (\ubc31\uc5d4\ub4dc \uc9c0\uc6d0): \ubc31\uc5d4\ub4dc\uac00 \uc9c1\uc811 \ub9c8\uc774\uadf8\ub808\uc774\uc158 (\ube60\ub984, Ceph\ub294 \ubbf8\uc9c0\uc6d0)</li> <li>Host-assisted Migration: Cinder\uac00 \ub370\uc774\ud130 \ubcf5\uc0ac (\ub290\ub9bc, \ubaa8\ub4e0 \ubc31\uc5d4\ub4dc \uc9c0\uc6d0)</li> </ol> <p>\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uba85\ub839:</p> <pre><code># \ubcfc\ub968\uc744 \ub2e4\ub978 \ubc31\uc5d4\ub4dc\ub85c \ub9c8\uc774\uadf8\ub808\uc774\uc158\nopenstack volume migrate \\\n    --host ceph-rbd-hdd@ceph-rbd-hdd#ceph-rbd-hdd \\\n    &lt;volume-id&gt;\n\n# \uc9c4\ud589 \uc0c1\ud669 \ud655\uc778\nopenstack volume show &lt;volume-id&gt; | grep migration_status\n</code></pre> <p>\uc5f0\uacb0\ub41c \ubcfc\ub968 \ub9c8\uc774\uadf8\ub808\uc774\uc158:</p> <pre><code># VM\uc5d0 \uc5f0\uacb0\ub41c \ubcfc\ub968\ub3c4 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uac00\ub2a5 (libvirt\ub9cc \uc9c0\uc6d0)\nopenstack server migrate --live &lt;host&gt; &lt;server-id&gt;\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#52","title":"5.2 \uc2a4\ub0c5\uc0f7","text":"<p>Ceph RBD \uc2a4\ub0c5\uc0f7 (CoW, \uc989\uc2dc \uc0dd\uc131):</p> <pre><code># \uc2a4\ub0c5\uc0f7 \uc0dd\uc131\nopenstack volume snapshot create \\\n    --volume &lt;volume-id&gt; \\\n    --name my-snapshot\n\n# \uc2a4\ub0c5\uc0f7\uc5d0\uc11c \ubcfc\ub968 \uc0dd\uc131 (CoW \ud074\ub860)\nopenstack volume create \\\n    --snapshot my-snapshot \\\n    --size 10 \\\n    my-cloned-volume\n\n# Ceph\uc5d0\uc11c \ud655\uc778\nsudo rbd ls volumes\nsudo rbd snap ls volumes/volume-abc123\n</code></pre> <p>CoW \ud074\ub860 \uccb4\uc778:</p> <pre><code>\ubcfc\ub968 A\n  \u251c\u2500 \uc2a4\ub0c5\uc0f7 A-1\n  \u2502   \u2514\u2500 \ubcfc\ub968 B (\ud074\ub860)\n  \u2502       \u251c\u2500 \uc2a4\ub0c5\uc0f7 B-1\n  \u2502       \u2502   \u2514\u2500 \ubcfc\ub968 C (\ud074\ub860)\n  \u2502       \u2514\u2500 \uc2a4\ub0c5\uc0f7 B-2\n  \u2514\u2500 \uc2a4\ub0c5\uc0f7 A-2\n</code></pre> <p>rbd_max_clone_depth \uc81c\ud55c\uc73c\ub85c \uccb4\uc778 \uae4a\uc774 \uc81c\uc5b4 \u2192 \uae4a\uc774 \ucd08\uacfc \uc2dc \uc790\ub3d9 flatten</p>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#53","title":"5.3 \ubc31\uc5c5 &amp; \ubcf5\uc6d0","text":"<p>\ubc31\uc5c5 \ubc31\uc5d4\ub4dc: Swift, Ceph, NFS \uc9c0\uc6d0</p> <p>cinder-backup.conf:</p> <pre><code>[DEFAULT]\nbackup_driver = cinder.backup.drivers.ceph\n\n[ceph]\nbackup_ceph_conf = /etc/ceph/ceph.conf\nbackup_ceph_user = cinder-backup\nbackup_ceph_pool = backups\nbackup_ceph_chunk_size = 134217728  # 128MB\nbackup_ceph_stripe_unit = 0\nbackup_ceph_stripe_count = 0\n</code></pre> <p>\ubc31\uc5c5/\ubcf5\uc6d0:</p> <pre><code># \uc804\uccb4 \ubc31\uc5c5\nopenstack volume backup create --name backup-1 &lt;volume-id&gt;\n\n# \uc99d\ubd84 \ubc31\uc5c5 (\uc774\uc804 \ubc31\uc5c5 \uc774\ud6c4 \ubcc0\uacbd\uc0ac\ud56d\ub9cc)\nopenstack volume backup create \\\n    --name backup-2 \\\n    --incremental \\\n    &lt;volume-id&gt;\n\n# \ubcf5\uc6d0\nopenstack volume backup restore &lt;backup-id&gt; &lt;volume-id&gt;\n</code></pre> <p>\ubc31\uc5c5 vs \uc2a4\ub0c5\uc0f7:</p> \ud2b9\uc131 \uc2a4\ub0c5\uc0f7 \ubc31\uc5c5 \uc704\uce58 \ub3d9\uc77c Pool (\ubcfc\ub968\uacfc \ud568\uaed8) \ubcc4\ub3c4 Repository (Swift, Ceph backups pool) \ubaa9\uc801 \ube60\ub978 \ub864\ubc31, \ud074\ub860 \uc0dd\uc131 \uc7a5\uae30 \ubcf4\uad00, \uc7ac\ud574 \ubcf5\uad6c \uc99d\ubd84 \uc9c0\uc6d0 \u274c \u2705 (NFS, Ceph, Swift) \uc18d\ub3c4 \ube60\ub984 (CoW) \ub290\ub9bc (\ub370\uc774\ud130 \ubcf5\uc0ac) \uc6a9\ub7c9 \ucc28\uc774\ub9cc \uc800\uc7a5 (CoW) \uc804\uccb4 \ub610\ub294 \uc99d\ubd84 \uc800\uc7a5"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#lab-1-cinder-ceph-backend","title":"Lab 1: Cinder \uc124\uce58 (Ceph Backend)","text":"<p>\ubaa9\ud45c: Ceph RBD \ubc31\uc5d4\ub4dc\ub85c Cinder \uad6c\uc131</p> <p>\ud658\uacbd:</p> <ul> <li>OpenStack: DevStack \ub610\ub294 Kolla-Ansible</li> <li>Ceph \ud074\ub7ec\uc2a4\ud130 (Ch9, Ch10 \ucc38\uc870)</li> </ul> <p>\ub2e8\uacc4:</p> <ol> <li>Ceph Pool \uc0dd\uc131:</li> </ol> <pre><code># Volumes Pool \uc0dd\uc131\nsudo ceph osd pool create volumes 128 replicated\nsudo ceph osd pool application enable volumes rbd\n\n# Backups Pool \uc0dd\uc131\nsudo ceph osd pool create backups 64 replicated\nsudo ceph osd pool application enable backups rbd\n\n# Images Pool (Glance\uc6a9, \uc120\ud0dd)\nsudo ceph osd pool create images 64 replicated\nsudo ceph osd pool application enable images rbd\n</code></pre> <ol> <li>Ceph \uc778\uc99d \uc124\uc815:</li> </ol> <pre><code># Cinder \uc0ac\uc6a9\uc790 \uc0dd\uc131\nsudo ceph auth get-or-create client.cinder \\\n    mon 'profile rbd' \\\n    osd 'profile rbd pool=volumes, profile rbd pool=vms' \\\n    mgr 'profile rbd pool=volumes, profile rbd pool=vms' \\\n    -o /etc/ceph/ceph.client.cinder.keyring\n\n# Cinder-Backup \uc0ac\uc6a9\uc790 \uc0dd\uc131\nsudo ceph auth get-or-create client.cinder-backup \\\n    mon 'profile rbd' \\\n    osd 'profile rbd pool=backups' \\\n    mgr 'profile rbd pool=backups' \\\n    -o /etc/ceph/ceph.client.cinder-backup.keyring\n\n# Nova \uc0ac\uc6a9\uc790 \uc0dd\uc131 (VM attach\uc6a9)\nsudo ceph auth get-or-create client.nova \\\n    mon 'profile rbd' \\\n    osd 'profile rbd pool=volumes, profile rbd pool=vms' \\\n    mgr 'profile rbd pool=volumes, profile rbd pool=vms' \\\n    -o /etc/ceph/ceph.client.nova.keyring\n</code></pre> <ol> <li>Cinder \uc124\uc815 (<code>/etc/cinder/cinder.conf</code>):</li> </ol> <pre><code>[DEFAULT]\nenabled_backends = ceph-rbd\nglance_api_version = 2\n\n[ceph-rbd]\nvolume_driver = cinder.volume.drivers.rbd.RBDDriver\nvolume_backend_name = ceph-rbd\nrbd_pool = volumes\nrbd_ceph_conf = /etc/ceph/ceph.conf\nrbd_user = cinder\nrbd_secret_uuid = &lt;libvirt-secret-uuid&gt;  # \uc544\ub798\uc5d0\uc11c \uc0dd\uc131\nrbd_flatten_volume_from_snapshot = false\nrbd_max_clone_depth = 5\n</code></pre> <ol> <li>Libvirt Secret \uc0dd\uc131 (Nova Compute \ub178\ub4dc):</li> </ol> <pre><code># Secret UUID \uc0dd\uc131\nuuidgen\n# \uc608\uc2dc: 457eb676-33da-42ec-9a8c-9293d545c337\n\n# Secret XML \ud30c\uc77c \uc0dd\uc131\ncat &gt; secret.xml &lt;&lt;EOF\n&lt;secret ephemeral='no' private='no'&gt;\n  &lt;uuid&gt;457eb676-33da-42ec-9a8c-9293d545c337&lt;/uuid&gt;\n  &lt;usage type='ceph'&gt;\n    &lt;name&gt;client.cinder secret&lt;/name&gt;\n  &lt;/usage&gt;\n&lt;/secret&gt;\nEOF\n\n# Libvirt\uc5d0 Secret \ub4f1\ub85d\nsudo virsh secret-define --file secret.xml\n\n# Secret \uac12 \uc124\uc815 (Ceph key)\nsudo virsh secret-set-value --secret 457eb676-33da-42ec-9a8c-9293d545c337 \\\n    --base64 $(sudo ceph auth get-key client.cinder)\n</code></pre> <ol> <li>Cinder \uc11c\ube44\uc2a4 \uc7ac\uc2dc\uc791:</li> </ol> <pre><code>sudo systemctl restart cinder-volume cinder-scheduler cinder-api\n</code></pre> <ol> <li>\ud655\uc778:</li> </ol> <pre><code># \ubcfc\ub968 \uc0dd\uc131\nopenstack volume create --size 1 test-volume\n\n# Ceph\uc5d0\uc11c \ud655\uc778\nsudo rbd ls volumes\nsudo rbd info volumes/volume-&lt;id&gt;\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#lab-2-volume-types-qos","title":"Lab 2: Volume Types &amp; QoS \uc124\uc815","text":"<p>\ubaa9\ud45c: \uc131\ub2a5 \uc81c\ud55c\uc774 \uc788\ub294 Volume Type \uc0dd\uc131</p> <p>\ub2e8\uacc4:</p> <ol> <li>Volume Type \uc0dd\uc131:</li> </ol> <pre><code># Standard Tier (\uc81c\ud55c \uc5c6\uc74c)\nopenstack volume type create \\\n    --property volume_backend_name=ceph-rbd \\\n    standard\n\n# Performance Tier (QoS \uc801\uc6a9)\nopenstack volume type create \\\n    --property volume_backend_name=ceph-rbd \\\n    performance\n\n# Economy Tier (\ub0ae\uc740 QoS)\nopenstack volume type create \\\n    --property volume_backend_name=ceph-rbd \\\n    economy\n</code></pre> <ol> <li>QoS Spec \uc0dd\uc131:</li> </ol> <pre><code># High Performance QoS (10000 IOPS)\nopenstack volume qos create \\\n    --consumer front-end \\\n    --property total_iops_sec=10000 \\\n    --property total_bytes_sec=1073741824 \\  # 1 GB/s\n    high-performance\n\n# Standard QoS (2000 IOPS)\nopenstack volume qos create \\\n    --consumer front-end \\\n    --property total_iops_sec=2000 \\\n    --property total_bytes_sec=209715200 \\  # 200 MB/s\n    standard-qos\n\n# Economy QoS (500 IOPS)\nopenstack volume qos create \\\n    --consumer front-end \\\n    --property total_iops_sec=500 \\\n    --property total_bytes_sec=52428800 \\  # 50 MB/s\n    economy-qos\n</code></pre> <ol> <li>QoS \uc5f0\uacb0:</li> </ol> <pre><code>openstack volume qos associate high-performance performance\nopenstack volume qos associate standard-qos standard\nopenstack volume qos associate economy-qos economy\n</code></pre> <ol> <li>\ud14c\uc2a4\ud2b8:</li> </ol> <pre><code># Economy \ubcfc\ub968 \uc0dd\uc131\nopenstack volume create --size 10 --type economy test-economy\n\n# VM\uc5d0 \uc5f0\uacb0\nopenstack server add volume &lt;server-id&gt; test-economy\n\n# VM \ub0b4\ubd80\uc5d0\uc11c FIO \ud14c\uc2a4\ud2b8\nsudo fio --name=test --rw=randwrite --bs=4k --iodepth=32 \\\n    --numjobs=4 --size=1G --runtime=60 --filename=/dev/vdb\n\n# \ucd9c\ub825\uc5d0\uc11c IOPS \ud655\uc778 (500 IOPS\uc5d0 \uc81c\ud55c\ub418\uc5b4\uc57c \ud568)\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#lab-3-multi-backend","title":"Lab 3: Multi-backend \uad6c\uc131","text":"<p>\ubaa9\ud45c: SSD Pool\uacfc HDD Pool\uc744 \ubcc4\ub3c4 \ubc31\uc5d4\ub4dc\ub85c \uad6c\uc131</p> <p>\ub2e8\uacc4:</p> <ol> <li>Ceph Pool \uc0dd\uc131:</li> </ol> <pre><code># SSD Pool (CRUSH Rule\ub85c SSD OSD\ub9cc \uc0ac\uc6a9)\nsudo ceph osd pool create volumes-ssd 128 replicated\nsudo ceph osd pool set volumes-ssd crush_rule ssd-rule  # Ch9 \ucc38\uc870\nsudo ceph osd pool application enable volumes-ssd rbd\n\n# HDD Pool\nsudo ceph osd pool create volumes-hdd 128 replicated\nsudo ceph osd pool application enable volumes-hdd rbd\n</code></pre> <ol> <li>cinder.conf \uc5c5\ub370\uc774\ud2b8:</li> </ol> <pre><code>[DEFAULT]\nenabled_backends = ceph-ssd, ceph-hdd\n\n[ceph-ssd]\nvolume_driver = cinder.volume.drivers.rbd.RBDDriver\nvolume_backend_name = ceph-ssd\nrbd_pool = volumes-ssd\nrbd_ceph_conf = /etc/ceph/ceph.conf\nrbd_user = cinder\n\n[ceph-hdd]\nvolume_driver = cinder.volume.drivers.rbd.RBDDriver\nvolume_backend_name = ceph-hdd\nrbd_pool = volumes-hdd\nrbd_ceph_conf = /etc/ceph/ceph.conf\nrbd_user = cinder\n</code></pre> <ol> <li>Volume Type \uc0dd\uc131:</li> </ol> <pre><code>openstack volume type create \\\n    --property volume_backend_name=ceph-ssd \\\n    ssd\n\nopenstack volume type create \\\n    --property volume_backend_name=ceph-hdd \\\n    hdd\n</code></pre> <ol> <li>\uc0ac\uc6a9:</li> </ol> <pre><code># SSD \ubcfc\ub968\nopenstack volume create --size 10 --type ssd my-ssd-volume\n\n# HDD \ubcfc\ub968\nopenstack volume create --size 100 --type hdd my-hdd-volume\n\n# \ubc31\uc5d4\ub4dc \ud655\uc778\nopenstack volume show my-ssd-volume | grep os-vol-host-attr\n# os-vol-host-attr:host | ceph-controller@ceph-ssd#ceph-ssd\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#lab-4","title":"Lab 4: \ubcfc\ub968 \ub9c8\uc774\uadf8\ub808\uc774\uc158","text":"<p>\ubaa9\ud45c: HDD \ubc31\uc5d4\ub4dc\uc5d0\uc11c SSD \ubc31\uc5d4\ub4dc\ub85c \ubcfc\ub968 \ub9c8\uc774\uadf8\ub808\uc774\uc158</p> <p>\ub2e8\uacc4:</p> <ol> <li>\ucd08\uae30 \ubcfc\ub968 \uc0dd\uc131:</li> </ol> <pre><code># HDD \ubcfc\ub968 \uc0dd\uc131\nopenstack volume create --size 10 --type hdd migrate-test\n\n# VM\uc5d0 \uc5f0\uacb0 (\uc120\ud0dd)\nopenstack server add volume test-vm migrate-test\n</code></pre> <ol> <li>\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc2e4\ud589:</li> </ol> <pre><code># \ub9c8\uc774\uadf8\ub808\uc774\uc158 (Host-assisted, \uc5f0\uacb0 \ud574\uc81c \ud544\uc694)\nopenstack server remove volume test-vm migrate-test\n\nopenstack volume migrate \\\n    --host ceph-controller@ceph-ssd#ceph-ssd \\\n    migrate-test\n\n# \uc9c4\ud589 \uc0c1\ud669 \ud655\uc778\nwatch -n 5 'openstack volume show migrate-test | grep migration_status'\n</code></pre> <ol> <li>Ceph\uc5d0\uc11c \ud655\uc778:</li> </ol> <pre><code># HDD Pool (\ubcf5\uc0ac \uc9c4\ud589 \uc911)\nsudo rbd ls volumes-hdd\n\n# SSD Pool (\ubcf5\uc0ac \uc644\ub8cc \ud6c4)\nsudo rbd ls volumes-ssd\n</code></pre> <ol> <li>\uc644\ub8cc \ud6c4:</li> </ol> <pre><code># Volume Type\uc774 \uc790\ub3d9\uc73c\ub85c \ubcc0\uacbd\ub418\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uc218\ub3d9 \ubcc0\uacbd\nopenstack volume set --type ssd migrate-test\n\n# VM\uc5d0 \ub2e4\uc2dc \uc5f0\uacb0\nopenstack server add volume test-vm migrate-test\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#lab-5","title":"Lab 5: \ubc31\uc5c5 &amp; \ubcf5\uc6d0","text":"<p>\ubaa9\ud45c: Ceph \ubc31\uc5d4\ub4dc\ub85c \uc99d\ubd84 \ubc31\uc5c5 \uc218\ud589</p> <p>\ub2e8\uacc4:</p> <ol> <li>\ud14c\uc2a4\ud2b8 \ubcfc\ub968 \uc0dd\uc131 \ubc0f \ub370\uc774\ud130 \uc4f0\uae30:</li> </ol> <pre><code># \ubcfc\ub968 \uc0dd\uc131\nopenstack volume create --size 5 backup-test\n\n# VM\uc5d0 \uc5f0\uacb0\nopenstack server add volume test-vm backup-test\n\n# VM \ub0b4\ubd80\uc5d0\uc11c \ub370\uc774\ud130 \uc4f0\uae30\nssh user@test-vm\nsudo mkfs.ext4 /dev/vdb\nsudo mount /dev/vdb /mnt\necho \"Initial data\" | sudo tee /mnt/file1.txt\nsudo umount /mnt\nexit\n</code></pre> <ol> <li>\uc804\uccb4 \ubc31\uc5c5:</li> </ol> <pre><code># \ubc31\uc5c5 (VM\uc5d0\uc11c \ubd84\ub9ac \ud544\uc694)\nopenstack server remove volume test-vm backup-test\n\nopenstack volume backup create \\\n    --name backup-full-1 \\\n    backup-test\n\n# \uc9c4\ud589 \uc0c1\ud669\nwatch -n 5 'openstack volume backup show backup-full-1 | grep status'\n\n# Ceph\uc5d0\uc11c \ud655\uc778\nsudo rbd ls backups\n</code></pre> <ol> <li>\ub370\uc774\ud130 \ubcc0\uacbd \ubc0f \uc99d\ubd84 \ubc31\uc5c5:</li> </ol> <pre><code># \ub2e4\uc2dc \uc5f0\uacb0\ud558\uc5ec \ub370\uc774\ud130 \ucd94\uac00\nopenstack server add volume test-vm backup-test\n\nssh user@test-vm\nsudo mount /dev/vdb /mnt\necho \"Updated data\" | sudo tee /mnt/file2.txt\nsudo umount /mnt\nexit\n\n# \uc99d\ubd84 \ubc31\uc5c5\nopenstack server remove volume test-vm backup-test\n\nopenstack volume backup create \\\n    --name backup-incremental-1 \\\n    --incremental \\\n    backup-test\n\n# \ubc31\uc5c5 \ubaa9\ub85d (\uc99d\ubd84 \ubc31\uc5c5\uc740 parent\ub97c \uac00\ub9ac\ud0b4)\nopenstack volume backup list\n</code></pre> <ol> <li>\ubcf5\uc6d0:</li> </ol> <pre><code># \uc0c8 \ubcfc\ub968\uc73c\ub85c \ubcf5\uc6d0\nopenstack volume create --size 5 restored-volume\n\nopenstack volume backup restore \\\n    backup-incremental-1 \\\n    restored-volume\n\n# VM\uc5d0 \uc5f0\uacb0\ud558\uc5ec \ud655\uc778\nopenstack server add volume test-vm restored-volume\n\nssh user@test-vm\nsudo mount /dev/vdc /mnt\nls /mnt\ncat /mnt/file1.txt  # Initial data\ncat /mnt/file2.txt  # Updated data\n</code></pre>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>Cinder Documentation (2025.1): https://docs.openstack.org/cinder/2025.1/</li> <li>Ceph RBD Driver: https://docs.openstack.org/cinder/2025.1/configuration/block-storage/drivers/ceph-rbd-volume-driver.html</li> <li>Basic Volume QoS: https://docs.openstack.org/cinder/latest/admin/basic-volume-qos.html</li> <li>High Availability: https://docs.openstack.org/cinder/latest/contributor/high_availability.html</li> <li>Migrate Volumes: https://docs.openstack.org/cinder/latest/admin/volume-migration.html</li> <li>Backup and Restore: https://docs.openstack.org/cinder/latest/admin/volume-backups.html</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#operator-deployment","title":"Operator &amp; Deployment","text":"<ul> <li>Cinder Operator Storage Backend Configuration: https://deepwiki.com/openstack-k8s-operators/cinder-operator/4.2.4-storage-backend-configuration</li> <li>Kolla-Ansible Cinder Guide: https://docs.openstack.org/kolla-ansible/2025.1/reference/storage/cinder-guide.html</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#red-hat","title":"Red Hat \ubb38\uc11c","text":"<ul> <li>Red Hat RHOSP 17.0 Storage Guide: https://docs.redhat.com/en/documentation/red_hat_openstack_platform/17.0/html/storage_guide/assembly_configuring-the-block-storage-service_osp-storage-guide</li> <li>Red Hat RHOSP 16.0 Block Storage and Volumes: https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.0/html/storage_guide/ch-cinder</li> <li>Red Hat Block Storage Backup Guide: https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/block_storage_backup_guide/using-cinder-backup</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_7","title":"\uc544\ud2f0\ud074 &amp; \ube14\ub85c\uadf8","text":"<ul> <li>NetApp Key Concepts: https://netapp.github.io/openstack-deploy-ops-guide/kilo/content/section_cinder-key-concepts.html</li> <li>NetApp Cinder Backup and Restore: https://netapp.github.io/blog/2015/03/12/cinder-backup-restore-overview/</li> </ul>"},{"location":"iam-storage-service/Ch11.Block_Storage_Cinder/#_8","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\uc644\ub8cc\ud55c \ud56d\ubaa9\uc5d0 \uccb4\ud06c\ud558\uc138\uc694:</p> <ul> <li> Cinder \ucef4\ud3ec\ub10c\ud2b8(API, Scheduler, Volume, Backup)\uc758 \uc5ed\ud560\uc744 \uc774\ud574\ud558\uace0 \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> Ceph RBD \ubc31\uc5d4\ub4dc\ub97c \uc124\uc815\ud558\uace0 \ubcfc\ub968\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\ub2e4</li> <li> Volume Type\uacfc QoS Spec\uc744 \uc0ac\uc6a9\ud558\uc5ec IOPS/\ub300\uc5ed\ud3ed\uc744 \uc81c\uc5b4\ud560 \uc218 \uc788\ub2e4</li> <li> Multi-backend \uad6c\uc131\uc73c\ub85c \uc5ec\ub7ec \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc\ub97c \ub3d9\uc2dc\uc5d0 \uc6b4\uc601\ud560 \uc218 \uc788\ub2e4</li> <li> Active-Active HA\uc758 \uac1c\ub150\uacfc \uc81c\uc57d\uc0ac\ud56d(Ceph RBD \uc804\uc6a9)\uc744 \uc774\ud574\ud588\ub2e4</li> <li> CoW \uc2a4\ub0c5\uc0f7\uacfc \ud074\ub860\uc758 \ub3d9\uc791 \uc6d0\ub9ac\ub97c \uc774\ud574\ud588\ub2e4</li> <li> \ubcfc\ub968 \ub9c8\uc774\uadf8\ub808\uc774\uc158\uc744 \uc218\ud589\ud558\uace0 \uc9c4\ud589 \uc0c1\ud669\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud560 \uc218 \uc788\ub2e4</li> <li> \uc804\uccb4 \ubc31\uc5c5\uacfc \uc99d\ubd84 \ubc31\uc5c5\uc758 \ucc28\uc774\ub97c \uc774\ud574\ud558\uace0 \uc218\ud589\ud560 \uc218 \uc788\ub2e4</li> <li> \uc2a4\ub0c5\uc0f7\uacfc \ubc31\uc5c5\uc758 \ucc28\uc774\uc810\uacfc \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624\ub97c \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> Libvirt Secret\uc744 \uc124\uc815\ud558\uc5ec Nova\uac00 Ceph RBD \ubcfc\ub968\uc744 attach\ud560 \uc218 \uc788\ub3c4\ub85d \uad6c\uc131\ud560 \uc218 \uc788\ub2e4</li> </ul> <p>\ub2e4\uc74c \ucc55\ud130: Ch12. Storage Lifecycle\uc5d0\uc11c Storage Tiering, Lifecycle \uc815\ucc45, \uc555\ucd95, \ube44\uc6a9 \ucd5c\uc801\ud654\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/","title":"Ch12. Storage Lifecycle &amp; Cost Optimization","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_2","title":"\uac1c\uc694","text":"<p>Storage Lifecycle Management**\ub294 \ub370\uc774\ud130\uc758 \uc0dd\uba85\uc8fc\uae30\uc5d0 \ub530\ub77c **\uc790\ub3d9\uc73c\ub85c \uc2a4\ud1a0\ub9ac\uc9c0 \ud2f0\uc5b4\ub97c \ubcc0\uacbd**\ud558\uc5ec **\ube44\uc6a9\uc744 \ucd5c\uc801\ud654**\ud558\ub294 \ud575\uc2ec \uc804\ub7b5\uc785\ub2c8\ub2e4. \ub370\uc774\ud130\ub294 \uc2dc\uac04\uc774 \uc9c0\ub0a8\uc5d0 \ub530\ub77c \uc811\uadfc \ube48\ub3c4\uac00 \uac10\uc18c\ud558\uba70, **Hot Data (\uc790\uc8fc \uc811\uadfc) \u2192 Warm Data (\uac00\ub054 \uc811\uadfc) \u2192 Cold Data (\uac70\uc758 \uc811\uadfc \uc548 \ud568) \u2192 Archive (\uc7a5\uae30 \ubcf4\uad00) \ub2e8\uacc4\ub97c \uac70\uce69\ub2c8\ub2e4. \uac01 \ub2e8\uacc4\uc5d0 \uc801\ud569\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \ud2f0\uc5b4(SSD, HDD, Cloud Archive, Tape)\ub97c \uc0ac\uc6a9\ud558\uc5ec **30-60% \ube44\uc6a9 \uc808\uac10**\uc744 \ub2ec\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, S3 Lifecycle Policy, MinIO Automated Tiering, Ceph RGW Storage Class, Azure Blob Lifecycle Management \ub4f1 \uc8fc\uc694 \ud50c\ub7ab\ud3fc\uc740 \uc815\ucc45 \uae30\ubc18 \uc790\ub3d9\ud654**\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. **Deduplication(\ucd5c\ub300 90% \uc6a9\ub7c9 \uc808\uac10), Compression(\ucd5c\ub300 87% \uc808\uac10), Intelligent Tiering(\uc811\uadfc \ud328\ud134 \uc790\ub3d9 \ubd84\uc11d) \ub4f1 \uace0\uae09 \uae30\ub2a5\uc73c\ub85c \ud6a8\uc728\uc131\uc744 \uadf9\ub300\ud654\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_3","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>Storage Tier \uc774\ud574: Hot, Warm, Cold, Archive \ud2f0\uc5b4\uc758 \ud2b9\uc131 \ubc0f \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624 \uc124\uba85</li> <li>Lifecycle Policy \uc791\uc131: S3/MinIO/Ceph\uc5d0\uc11c \uc790\ub3d9 \uc804\ud658 \ubc0f \ub9cc\ub8cc \uc815\ucc45 \uc124\uc815</li> <li>\ube44\uc6a9 \ucd5c\uc801\ud654: Deduplication, Compression, Tiering\uc73c\ub85c \ube44\uc6a9 \uc808\uac10</li> <li>\ubaa8\ub2c8\ud130\ub9c1: \uc2a4\ud1a0\ub9ac\uc9c0 \uc0ac\uc6a9\ub7c9 \ubc0f \ube44\uc6a9 \ucd94\uc801, \ucd5c\uc801\ud654 \uae30\ud68c \uc2dd\ubcc4</li> <li>Best Practices \uc801\uc6a9: 2025\ub144 \uc2a4\ud1a0\ub9ac\uc9c0 \ucd5c\uc801\ud654 \ubaa8\ubc94 \uc0ac\ub840 \uad6c\ud604</li> </ol>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#1-storage-tiers","title":"1. Storage Tiers","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#11-tier","title":"1.1 Tier \ubd84\ub958","text":"<pre><code>graph LR\n    subgraph \"Data Lifecycle\"\n        Hot[Hot Data&lt;br/&gt;0-30 days&lt;br/&gt;\ub192\uc740 \uc811\uadfc \ube48\ub3c4]\n        Warm[Warm Data&lt;br/&gt;30-90 days&lt;br/&gt;\uc911\uac04 \uc811\uadfc \ube48\ub3c4]\n        Cold[Cold Data&lt;br/&gt;90-365 days&lt;br/&gt;\ub0ae\uc740 \uc811\uadfc \ube48\ub3c4]\n        Archive[Archive&lt;br/&gt;&gt;365 days&lt;br/&gt;\uac70\uc758 \uc811\uadfc \uc548 \ud568]\n    end\n\n    subgraph \"Storage Media\"\n        NVMe[NVMe SSD&lt;br/&gt;$0.30/GB/mo]\n        SSD[SATA SSD&lt;br/&gt;$0.15/GB/mo]\n        HDD[HDD&lt;br/&gt;$0.05/GB/mo]\n        CloudArchive[Cloud Archive&lt;br/&gt;$0.004/GB/mo]\n        Tape[Tape&lt;br/&gt;$0.001/GB/mo]\n    end\n\n    Hot --&gt; NVMe\n    Warm --&gt; SSD\n    Cold --&gt; HDD\n    Archive --&gt; CloudArchive\n    Archive --&gt; Tape</code></pre> <p>Tier \ud2b9\uc131:</p> Tier \uc811\uadfc \ube48\ub3c4 \uc2a4\ud1a0\ub9ac\uc9c0 \ub808\uc774\ud134\uc2dc \ube44\uc6a9 (\uc608\uc2dc) \uc0ac\uc6a9 \uc0ac\ub840 Hot \ub9e4\uc77c NVMe SSD &lt; 1ms $0.30/GB/mo DB, \ud65c\uc131 VM \ub514\uc2a4\ud06c Warm \uc8fc 1-2\ud68c SATA SSD &lt; 5ms $0.15/GB/mo \ucd5c\uadfc \ub85c\uadf8, \ubd84\uc11d \ub370\uc774\ud130 Cold \uc6d4 1\ud68c \uc774\ud558 HDD 10-50ms $0.05/GB/mo \ubc31\uc5c5, \uc624\ub798\ub41c \ub85c\uadf8 Archive \uc5f0 1\ud68c \uc774\ud558 S3 Glacier / Tape \ubd84-\uc2dc\uac04 $0.001-0.004/GB/mo \uaddc\uc815 \uc900\uc218, \uc7a5\uae30 \ubcf4\uad00"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#12-aws-s3-storage-classes","title":"1.2 AWS S3 Storage Classes","text":"<p>S3 Standard \u2192 S3 Standard-IA \u2192 S3 Glacier \u2192 S3 Glacier Deep Archive:</p> <pre><code>graph TB\n    Standard[S3 Standard&lt;br/&gt;$0.023/GB]\n    IA[S3 Standard-IA&lt;br/&gt;$0.0125/GB&lt;br/&gt;30\uc77c \uc774\uc0c1]\n    Glacier[S3 Glacier Flexible&lt;br/&gt;$0.004/GB&lt;br/&gt;90\uc77c \uc774\uc0c1]\n    DeepArchive[S3 Glacier Deep Archive&lt;br/&gt;$0.00099/GB&lt;br/&gt;180\uc77c \uc774\uc0c1]\n\n    Standard --&gt;|30 days| IA\n    IA --&gt;|90 days| Glacier\n    Glacier --&gt;|180 days| DeepArchive</code></pre> <p>\ucd5c\uc18c \uc800\uc7a5 \uae30\uac04:</p> <ul> <li>S3 Standard-IA: 30\uc77c (30\uc77c \ubbf8\ub9cc \uc0ad\uc81c \uc2dc \uc804\uccb4 30\uc77c \ube44\uc6a9 \ubd80\uacfc)</li> <li>S3 Glacier Flexible: 90\uc77c</li> <li>S3 Glacier Deep Archive: 180\uc77c</li> </ul> <p>\uac80\uc0c9 \uc2dc\uac04:</p> <ul> <li>S3 Standard-IA: \uc989\uc2dc</li> <li>S3 Glacier Flexible: Expedited (1-5\ubd84), Standard (3-5\uc2dc\uac04), Bulk (5-12\uc2dc\uac04)</li> <li>S3 Glacier Deep Archive: Standard (12\uc2dc\uac04), Bulk (48\uc2dc\uac04)</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#2-lifecycle-policies","title":"2. Lifecycle Policies","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#21-lifecycle-rule","title":"2.1 Lifecycle Rule \uad6c\uc870","text":"<pre><code>&lt;LifecycleConfiguration&gt;\n  &lt;Rule&gt;\n    &lt;ID&gt;Move old logs to cold storage&lt;/ID&gt;\n    &lt;Status&gt;Enabled&lt;/Status&gt;\n    &lt;Filter&gt;\n      &lt;Prefix&gt;logs/&lt;/Prefix&gt;\n    &lt;/Filter&gt;\n\n    &lt;!-- Transition Actions --&gt;\n    &lt;Transition&gt;\n      &lt;Days&gt;30&lt;/Days&gt;\n      &lt;StorageClass&gt;STANDARD_IA&lt;/StorageClass&gt;\n    &lt;/Transition&gt;\n    &lt;Transition&gt;\n      &lt;Days&gt;90&lt;/Days&gt;\n      &lt;StorageClass&gt;GLACIER&lt;/StorageClass&gt;\n    &lt;/Transition&gt;\n\n    &lt;!-- Expiration Action --&gt;\n    &lt;Expiration&gt;\n      &lt;Days&gt;365&lt;/Days&gt;\n    &lt;/Expiration&gt;\n\n    &lt;!-- Noncurrent Version Expiration --&gt;\n    &lt;NoncurrentVersionExpiration&gt;\n      &lt;NoncurrentDays&gt;30&lt;/NoncurrentDays&gt;\n    &lt;/NoncurrentVersionExpiration&gt;\n  &lt;/Rule&gt;\n&lt;/LifecycleConfiguration&gt;\n</code></pre> <p>Rule \uad6c\uc131 \uc694\uc18c:</p> <ul> <li>Filter: Prefix \ub610\ub294 Tag \uae30\ubc18 \ud544\ud130\ub9c1</li> <li>Transition: \ub2e4\ub978 \uc2a4\ud1a0\ub9ac\uc9c0 \ud074\ub798\uc2a4\ub85c \uc774\ub3d9</li> <li>Expiration: \uac1d\uccb4 \uc0ad\uc81c</li> <li>NoncurrentVersionExpiration: \uc774\uc804 \ubc84\uc804 \uc0ad\uc81c (\ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654 \uc2dc)</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#22-minio-lifecycle-s3","title":"2.2 MinIO Lifecycle (S3 \ud638\ud658)","text":"<p>MinIO\ub294 **S3 Lifecycle \ubb38\ubc95\uacfc 100% \ud638\ud658**\ub418\uba70, \ucd94\uac00\ub85c **Remote Tiering**\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4:</p> <pre><code>{\n  \"Rules\": [\n    {\n      \"ID\": \"Transition to S3 after 30 days\",\n      \"Status\": \"Enabled\",\n      \"Filter\": {\n        \"Prefix\": \"data/\"\n      },\n      \"Transitions\": [\n        {\n          \"Days\": 30,\n          \"StorageClass\": \"S3TIER\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <p>MinIO Remote Tier \uc124\uc815:</p> <pre><code># AWS S3\ub97c Remote Tier\ub85c \ub4f1\ub85d\nmc ilm tier add minio TIER-S3 \\\n    --endpoint https://s3.amazonaws.com \\\n    --access-key &lt;AWS_ACCESS_KEY&gt; \\\n    --secret-key &lt;AWS_SECRET_KEY&gt; \\\n    --bucket my-archive-bucket \\\n    --prefix archived/\n\n# MinIO \u2192 AWS S3 tiering rule \ucd94\uac00\nmc ilm add myminio/data --transition-days 30 --transition-tier TIER-S3\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#23-ceph-rgw-storage-classes-tiering","title":"2.3 Ceph RGW Storage Classes &amp; Tiering","text":"<p>Ceph Squid \ub9b4\ub9ac\uc2a4\ubd80\ud130 **Storage Class \uae30\ubc18 Tiering**\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4:</p> <pre><code># Storage Class \uc0dd\uc131 (Cloud Tier)\nradosgw-admin zonegroup placement add \\\n    --rgw-zonegroup default \\\n    --placement-id default-placement \\\n    --storage-class GLACIER \\\n    --data-pool default.rgw.buckets.glacier\n\n# Lifecycle Policy \uc801\uc6a9\naws s3api put-bucket-lifecycle-configuration \\\n    --bucket my-bucket \\\n    --lifecycle-configuration file://lifecycle.json \\\n    --endpoint-url http://ceph-rgw:7480\n</code></pre> <p>Ceph Squid 2025 Enhancement: Policy-based Data Retrieval (Tech Preview)</p> <ul> <li>Cloud/Tape \ud2f0\uc5b4\ub85c \uc804\ud658\ub41c \uac1d\uccb4\ub97c Ceph \ud074\ub7ec\uc2a4\ud130\ub85c \uc9c1\uc811 \ub2e4\uc2dc \uac00\uc838\uc624\uae30 \uac00\ub2a5</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#3-deduplication-compression","title":"3. Deduplication &amp; Compression","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#31-deduplication","title":"3.1 Deduplication","text":"<p>**Deduplication**\uc740 **\uc911\ubcf5 \ub370\uc774\ud130\ub97c \uc81c\uac70**\ud558\uc5ec \ub2e8\uc77c \uc778\uc2a4\ud134\uc2a4\ub9cc \uc800\uc7a5\ud569\ub2c8\ub2e4:</p> <pre><code>graph LR\n    subgraph \"Before Deduplication\"\n        File1[File A&lt;br/&gt;1 GB]\n        File2[File A Copy&lt;br/&gt;1 GB]\n        File3[File A Copy 2&lt;br/&gt;1 GB]\n    end\n\n    subgraph \"After Deduplication\"\n        Unique[File A&lt;br/&gt;1 GB]\n        Ref1[Reference]\n        Ref2[Reference]\n    end\n\n    File1 --&gt; Unique\n    File2 --&gt; Ref1\n    File3 --&gt; Ref2\n\n    Ref1 -.-&gt; Unique\n    Ref2 -.-&gt; Unique\n\n    Note1[Total: 3 GB \u2192 1 GB&lt;br/&gt;67% reduction]</code></pre> <p>\ud6a8\uacfc:</p> <ul> <li>\ubc31\uc5c5: 90% \uc6a9\ub7c9 \uc808\uac10 (\ub3d9\uc77c VM \uc774\ubbf8\uc9c0 \ub9e4\uc77c \ubc31\uc5c5 \uc2dc)</li> <li>VM \uc2a4\ud1a0\ub9ac\uc9c0: 50-70% \uc808\uac10 (\ub3d9\uc77c OS \ud15c\ud50c\ub9bf \uc0ac\uc6a9)</li> <li>\ubb38\uc11c: 30-50% \uc808\uac10</li> </ul> <p>\uad6c\ud604 \ub808\ubca8:</p> <ul> <li>Block-level: ZFS, Ceph BlueStore (\uc77c\ubd80)</li> <li>File-level: NFS dedup \ud50c\ub7ec\uadf8\uc778</li> <li>Application-level: Backup software (Veeam, Commvault)</li> </ul> <p>\uc0ac\ub840 (2025):</p> <ul> <li>Concerto Cloud Services: 5.4 PB \u2192 203 TB (96% \uac10\uc18c)</li> <li>NTT-Netmagic: 35% \uc6a9\ub7c9 \uc808\uac10, \u00a3240,000/\ub144 \uc808\uc57d</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#32-compression","title":"3.2 Compression","text":"<p>**Compression**\uc740 \ub370\uc774\ud130\ub97c \ub354 \ud6a8\uc728\uc801\uc73c\ub85c \uc778\ucf54\ub529\ud558\uc5ec \ud06c\uae30\ub97c \uc904\uc785\ub2c8\ub2e4:</p> <p>\uc54c\uace0\ub9ac\uc998 \ube44\uad50:</p> \uc54c\uace0\ub9ac\uc998 \uc555\ucd95\ub960 CPU \uc0ac\uc6a9\ub7c9 \uc18d\ub3c4 \uc6a9\ub3c4 LZ4 \ub0ae\uc74c (2-3x) \ub0ae\uc74c \ub9e4\uc6b0 \ube60\ub984 \uc2e4\uc2dc\uac04 \uc555\ucd95 (Ceph, MinIO) Zstd \uc911\uac04 (3-5x) \uc911\uac04 \ube60\ub984 \ubc94\uc6a9 (Facebook \uac1c\ubc1c) Gzip \uc911\uac04 (3-4x) \uc911\uac04 \ubcf4\ud1b5 HTTP, \ub85c\uadf8 Bzip2 \ub192\uc74c (4-6x) \ub192\uc74c \ub290\ub9bc \uc544\uce74\uc774\ube0c LZMA/XZ \ub9e4\uc6b0 \ub192\uc74c (6-10x) \ub9e4\uc6b0 \ub192\uc74c \ub9e4\uc6b0 \ub290\ub9bc \uc7a5\uae30 \uc544\uce74\uc774\ube0c <p>Ceph RGW Compression:</p> <pre><code># Zone placement\uc5d0 \uc555\ucd95 \ud65c\uc131\ud654\nradosgw-admin zone placement modify \\\n    --rgw-zone default \\\n    --placement-id default-placement \\\n    --compression lz4\n\n# Storage Class\ubcc4 \uc555\ucd95 \uc124\uc815\nradosgw-admin zonegroup placement add \\\n    --rgw-zonegroup default \\\n    --placement-id default-placement \\\n    --storage-class COMPRESSED \\\n    --compression zstd \\\n    --data-pool default.rgw.buckets.compressed\n</code></pre> <p>MinIO Compression:</p> <p>MinIO\ub294 \uc11c\ubc84 \uce21 \uc555\ucd95\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc9c0\ub9cc, \ud074\ub77c\uc774\uc5b8\ud2b8 \uce21 \uc555\ucd95 \uad8c\uc7a5:</p> <pre><code>// Go SDK\uc5d0\uc11c \uc5c5\ub85c\ub4dc \uc804 \uc555\ucd95\nimport \"compress/gzip\"\n\nfile, _ := os.Open(\"data.txt\")\nvar buf bytes.Buffer\ngw := gzip.NewWriter(&amp;buf)\nio.Copy(gw, file)\ngw.Close()\n\nminioClient.PutObject(ctx, \"bucket\", \"data.txt.gz\", &amp;buf, int64(buf.Len()), minio.PutObjectOptions{\n    ContentType: \"application/gzip\",\n})\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#4-cost-optimization-strategies-2025","title":"4. Cost Optimization Strategies (2025)","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#41-intelligent-tiering","title":"4.1 Intelligent Tiering","text":"<p>AWS S3 Intelligent-Tiering: \uc811\uadfc \ud328\ud134\uc744 \uc790\ub3d9 \ubd84\uc11d\ud558\uc5ec \ud2f0\uc5b4 \uc774\ub3d9</p> <pre><code>Frequent Access Tier (\uc790\ub3d9)\n    \u2193 30\uc77c \ubbf8\uc811\uadfc\nInfrequent Access Tier (\uc790\ub3d9)\n    \u2193 90\uc77c \ubbf8\uc811\uadfc\nArchive Instant Access Tier (\uc635\uc158, \uc790\ub3d9)\n    \u2193 90\uc77c \ubbf8\uc811\uadfc\nArchive Access Tier (\uc635\uc158, \uc790\ub3d9)\n    \u2193 180\uc77c \ubbf8\uc811\uadfc\nDeep Archive Access Tier (\uc635\uc158, \uc790\ub3d9)\n</code></pre> <p>\ube44\uc6a9: $0.0025/1000 \uac1d\uccb4 + \ubaa8\ub2c8\ud130\ub9c1 $0.0025/1000 \uac1d\uccb4</p> <p>\ud6a8\uacfc: \uc608\uce21 \ubd88\uac00\ub2a5\ud55c \uc6cc\ud06c\ub85c\ub4dc\uc5d0\uc11c 30-60% \ube44\uc6a9 \uc808\uac10 (\uc218\ub3d9 \uad00\ub9ac \uc5c6\uc774)</p>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#42-best-practices","title":"4.2 \ube44\uc6a9 \uc808\uac10 Best Practices","text":"<p>1. Lifecycle \uc815\ucc45 \uc801\uc6a9:</p> <pre><code># \uc608\uc2dc: \ub85c\uadf8 \ud30c\uc77c \uc790\ub3d9 \uc815\ub9ac\n# - 30\uc77c \ud6c4 Infrequent Access\n# - 90\uc77c \ud6c4 Glacier\n# - 365\uc77c \ud6c4 \uc0ad\uc81c\n</code></pre> <p>\uc808\uac10 \ud6a8\uacfc: \ub85c\uadf8 \uc2a4\ud1a0\ub9ac\uc9c0 \ube44\uc6a9 70-80% \uac10\uc18c</p> <p>2. Versioning + Lifecycle:</p> <pre><code># \ud604\uc7ac \ubc84\uc804: \uc720\uc9c0\n# \uc774\uc804 \ubc84\uc804: 30\uc77c \ud6c4 \uc0ad\uc81c\n</code></pre> <p>\uc808\uac10 \ud6a8\uacfc: \ubc84\uc804 \uad00\ub9ac\ub85c \uc778\ud55c \ucd94\uac00 \ube44\uc6a9 60% \uac10\uc18c</p> <p>3. \uc555\ucd95 \uc801\uc6a9 (\ub85c\uadf8, \ubc31\uc5c5):</p> <pre><code># \ud14d\uc2a4\ud2b8 \ub85c\uadf8: gzip (3-4x \uc555\ucd95)\n# \ubc31\uc5c5: zstd (3-5x \uc555\ucd95)\n</code></pre> <p>\uc808\uac10 \ud6a8\uacfc: \uc2a4\ud1a0\ub9ac\uc9c0 \ube44\uc6a9 66-75% \uac10\uc18c</p> <p>4. Deduplication (\ubc31\uc5c5):</p> <pre><code># VM \ubc31\uc5c5 deduplication\n</code></pre> <p>\uc808\uac10 \ud6a8\uacfc: \ubc31\uc5c5 \uc2a4\ud1a0\ub9ac\uc9c0 80-90% \uac10\uc18c</p> <p>5. \uac1d\uccb4 \ud06c\uae30 \ucd5c\uc801\ud654:</p> <ul> <li>\uc791\uc740 \ud30c\uc77c \ubcd1\ud569: S3\ub294 \uac1d\uccb4\ub2f9 \uc694\uae08 \ubd80\uacfc \u2192 \uc791\uc740 \ud30c\uc77c \uc218\ucc9c \uac1c\ubcf4\ub2e4 \ud070 \ud30c\uc77c \ud558\ub098\uac00 \uc800\ub834</li> <li>Multipart Upload: \ub300\uc6a9\ub7c9 \ud30c\uc77c\uc740 \uba40\ud2f0\ud30c\ud2b8\ub85c \uc5c5\ub85c\ub4dc\ud558\uc5ec \uc2e4\ud328 \uc2dc \uc7ac\uc804\uc1a1 \ucd5c\uc18c\ud654</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#43","title":"4.3 \ube44\uc6a9 \ubaa8\ub2c8\ud130\ub9c1","text":"<p>\uba54\ud2b8\ub9ad \ucd94\uc801:</p> <ul> <li>Total Storage (GB): \uc804\uccb4 \uc0ac\uc6a9\ub7c9</li> <li>Storage by Tier: Hot/Warm/Cold\ubcc4 \ubd84\ud3ec</li> <li>Monthly Cost: \uc6d4\uac04 \ube44\uc6a9</li> <li>Cost per GB: GB\ub2f9 \ube44\uc6a9 (\ud6a8\uc728\uc131 \uc9c0\ud45c)</li> <li>Retrieval Cost: Cold/Archive \ud2f0\uc5b4\uc5d0\uc11c \uac00\uc838\uc624\uae30 \ube44\uc6a9</li> </ul> <p>Prometheus \uba54\ud2b8\ub9ad (\uc608\uc2dc):</p> <pre><code># \uc804\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0 \uc0ac\uc6a9\ub7c9\nsum(ceph_pool_bytes_used)\n\n# Pool\ubcc4 \uc0ac\uc6a9\ub7c9\nceph_pool_bytes_used{pool=\"volumes-ssd\"}\nceph_pool_bytes_used{pool=\"volumes-hdd\"}\n\n# \ube44\uc6a9 \ucd94\uc815 (\uac00\uc0c1 \uba54\ud2b8\ub9ad)\n(ceph_pool_bytes_used{pool=\"volumes-ssd\"} / 1024^3) * 0.30  # $0.30/GB/mo\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#lab-1-s3minio-lifecycle-policy","title":"Lab 1: S3/MinIO Lifecycle Policy \uc124\uc815","text":"<p>\ubaa9\ud45c: MinIO\uc5d0\uc11c 30\uc77c \ud6c4 \uac1d\uccb4 \uc0ad\uc81c \uc815\ucc45 \uc124\uc815</p> <p>\ub2e8\uacc4:</p> <ol> <li>MinIO \uc124\uc815:</li> </ol> <pre><code># mc alias \uc124\uc815\nmc alias set myminio https://minio.example.com ACCESS_KEY SECRET_KEY\n\n# \ubc84\ud0b7 \uc0dd\uc131\nmc mb myminio/lifecycle-test\n</code></pre> <ol> <li>Lifecycle Policy JSON \uc791\uc131 (<code>lifecycle.json</code>):</li> </ol> <pre><code>{\n  \"Rules\": [\n    {\n      \"ID\": \"Delete old objects\",\n      \"Status\": \"Enabled\",\n      \"Filter\": {\n        \"Prefix\": \"temp/\"\n      },\n      \"Expiration\": {\n        \"Days\": 30\n      }\n    },\n    {\n      \"ID\": \"Transition to S3 Glacier\",\n      \"Status\": \"Enabled\",\n      \"Filter\": {\n        \"Prefix\": \"archive/\"\n      },\n      \"Transitions\": [\n        {\n          \"Days\": 90,\n          \"StorageClass\": \"GLACIER\"\n        }\n      ],\n      \"Expiration\": {\n        \"Days\": 365\n      }\n    }\n  ]\n}\n</code></pre> <ol> <li>Policy \uc801\uc6a9:</li> </ol> <pre><code># mc ilm \uba85\ub839\uc5b4 \uc0ac\uc6a9\nmc ilm import myminio/lifecycle-test &lt; lifecycle.json\n\n# \ud655\uc778\nmc ilm ls myminio/lifecycle-test\n</code></pre> <ol> <li>\ud14c\uc2a4\ud2b8:</li> </ol> <pre><code># \ud14c\uc2a4\ud2b8 \uac1d\uccb4 \uc5c5\ub85c\ub4dc\necho \"test\" | mc pipe myminio/lifecycle-test/temp/test.txt\n\n# \uac1d\uccb4 \ud655\uc778\nmc ls myminio/lifecycle-test/temp/\n\n# 30\uc77c \ud6c4 \uc790\ub3d9 \uc0ad\uc81c (\uc2e4\uc81c \ud658\uacbd\uc5d0\uc11c\ub294 \ub300\uae30 \ud544\uc694)\n# \ud14c\uc2a4\ud2b8\ub97c \uc704\ud574 Days\ub97c 1\ub85c \uc124\uc815\ud558\uc5ec \ud655\uc778 \uac00\ub2a5\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#lab-2-ceph-rgw-storage-class-lifecycle","title":"Lab 2: Ceph RGW Storage Class &amp; Lifecycle","text":"<p>\ubaa9\ud45c: Ceph RGW\uc5d0\uc11c Storage Class \uc0dd\uc131 \ubc0f Lifecycle \uc815\ucc45 \uc801\uc6a9</p> <p>\ub2e8\uacc4:</p> <ol> <li>Storage Class \uc0dd\uc131:</li> </ol> <pre><code># STANDARD_IA Storage Class\uc6a9 Pool \uc0dd\uc131\nsudo ceph osd pool create default.rgw.buckets.ia 64 replicated\nsudo ceph osd pool application enable default.rgw.buckets.ia rgw\n\n# Storage Class \ub4f1\ub85d\nsudo radosgw-admin zonegroup placement add \\\n    --rgw-zonegroup default \\\n    --placement-id default-placement \\\n    --storage-class STANDARD_IA \\\n    --data-pool default.rgw.buckets.ia\n\n# ZoneGroup \ucee4\ubc0b\nsudo radosgw-admin period update --commit\n\n# RGW \uc7ac\uc2dc\uc791\nsudo systemctl restart ceph-radosgw@rgw.`hostname -s`\n</code></pre> <ol> <li>Lifecycle Policy \uc791\uc131 (<code>rgw-lifecycle.json</code>):</li> </ol> <pre><code>{\n  \"Rules\": [\n    {\n      \"ID\": \"Move to IA after 30 days\",\n      \"Status\": \"Enabled\",\n      \"Filter\": {\n        \"Prefix\": \"\"\n      },\n      \"Transitions\": [\n        {\n          \"Days\": 30,\n          \"StorageClass\": \"STANDARD_IA\"\n        }\n      ]\n    }\n  ]\n}\n</code></pre> <ol> <li>Policy \uc801\uc6a9 (AWS CLI \uc0ac\uc6a9):</li> </ol> <pre><code># Bucket \uc0dd\uc131\naws s3 mb s3://lifecycle-bucket --endpoint-url http://ceph-rgw:7480\n\n# Lifecycle Policy \uc801\uc6a9\naws s3api put-bucket-lifecycle-configuration \\\n    --bucket lifecycle-bucket \\\n    --lifecycle-configuration file://rgw-lifecycle.json \\\n    --endpoint-url http://ceph-rgw:7480\n\n# \ud655\uc778\naws s3api get-bucket-lifecycle-configuration \\\n    --bucket lifecycle-bucket \\\n    --endpoint-url http://ceph-rgw:7480\n</code></pre> <ol> <li>\uac1d\uccb4 Storage Class \ud655\uc778:</li> </ol> <pre><code># \uac1d\uccb4 \uc5c5\ub85c\ub4dc\naws s3 cp test.txt s3://lifecycle-bucket/ --endpoint-url http://ceph-rgw:7480\n\n# \uac1d\uccb4 \uc815\ubcf4 \ud655\uc778\naws s3api head-object \\\n    --bucket lifecycle-bucket \\\n    --key test.txt \\\n    --endpoint-url http://ceph-rgw:7480 | jq '.StorageClass'\n\n# 30\uc77c \ud6c4 (\ud14c\uc2a4\ud2b8 \ud658\uacbd\uc5d0\uc11c\ub294 \uc218\ub3d9\uc73c\ub85c \ucc98\ub9ac \ud504\ub85c\uc138\uc2a4 \ud2b8\ub9ac\uac70)\nsudo radosgw-admin lc process\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#lab-3-ceph-rgw-compression","title":"Lab 3: Ceph RGW Compression \uc124\uc815","text":"<p>\ubaa9\ud45c: Storage Class\uc5d0 \uc555\ucd95 \ud65c\uc131\ud654</p> <p>\ub2e8\uacc4:</p> <ol> <li>\uc555\ucd95 \ud65c\uc131\ud654\ub41c Storage Class \uc0dd\uc131:</li> </ol> <pre><code># Compressed Pool \uc0dd\uc131\nsudo ceph osd pool create default.rgw.buckets.compressed 64 replicated\nsudo ceph osd pool application enable default.rgw.buckets.compressed rgw\n\n# Storage Class \ub4f1\ub85d (lz4 compression)\nsudo radosgw-admin zonegroup placement add \\\n    --rgw-zonegroup default \\\n    --placement-id default-placement \\\n    --storage-class COMPRESSED \\\n    --compression lz4 \\\n    --data-pool default.rgw.buckets.compressed\n\n# \ucee4\ubc0b\nsudo radosgw-admin period update --commit\nsudo systemctl restart ceph-radosgw@rgw.`hostname -s`\n</code></pre> <ol> <li>\uac1d\uccb4 \uc5c5\ub85c\ub4dc (\uc555\ucd95\ub41c Storage Class\ub85c):</li> </ol> <pre><code># \ud14c\uc2a4\ud2b8 \ud30c\uc77c \uc0dd\uc131 (\uc555\ucd95 \uac00\ub2a5\ud55c \ud14d\uc2a4\ud2b8)\ndd if=/dev/zero of=test-compress.txt bs=1M count=10\n\n# COMPRESSED Storage Class\ub85c \uc5c5\ub85c\ub4dc\naws s3 cp test-compress.txt s3://my-bucket/ \\\n    --storage-class COMPRESSED \\\n    --endpoint-url http://ceph-rgw:7480\n\n# \uac1d\uccb4 \uc815\ubcf4 \ud655\uc778\naws s3api head-object \\\n    --bucket my-bucket \\\n    --key test-compress.txt \\\n    --endpoint-url http://ceph-rgw:7480\n</code></pre> <ol> <li>Ceph\uc5d0\uc11c \uc2e4\uc81c \uc555\ucd95 \ud655\uc778:</li> </ol> <pre><code># \uac1d\uccb4 \ud06c\uae30 \ud655\uc778 (\uc555\ucd95 \uc804)\nls -lh test-compress.txt\n# 10M\n\n# Ceph Pool\uc5d0\uc11c \uc2e4\uc81c \uc0ac\uc6a9\ub7c9 \ud655\uc778\nsudo ceph df detail | grep compressed\n# POOL                                 STORED      OBJECTS     USED        %USED\n# default.rgw.buckets.compressed       2.5 MiB     1           7.5 MiB     0.00\n\n# \uc555\ucd95\ub960 \ud655\uc778: 10MB \u2192 2.5MB (75% \uc808\uac10)\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#lab-4","title":"Lab 4: \ube44\uc6a9 \ubd84\uc11d \ubc0f \ucd5c\uc801\ud654","text":"<p>\ubaa9\ud45c: Prometheus + Grafana\ub85c \uc2a4\ud1a0\ub9ac\uc9c0 \ube44\uc6a9 \ucd94\uc801 \ubc0f \ucd5c\uc801\ud654 \uae30\ud68c \uc2dd\ubcc4</p> <p>\ub2e8\uacc4:</p> <ol> <li>\uba54\ud2b8\ub9ad \uc218\uc9d1 \uc2a4\ud06c\ub9bd\ud2b8 (<code>storage-cost-exporter.py</code>):</li> </ol> <pre><code>#!/usr/bin/env python3\nimport subprocess\nimport json\nfrom prometheus_client import start_http_server, Gauge\nimport time\n\n# Prometheus Gauges\nstorage_bytes = Gauge('storage_bytes', 'Storage usage in bytes', ['pool', 'tier'])\nstorage_cost_usd = Gauge('storage_cost_usd', 'Estimated monthly cost in USD', ['pool', 'tier'])\n\n# \ud2f0\uc5b4\ubcc4 \ube44\uc6a9 (USD/GB/month)\nTIER_COSTS = {\n    'ssd': 0.15,\n    'hdd': 0.05,\n    'archive': 0.004,\n}\n\ndef collect_ceph_metrics():\n    # ceph df \uc2e4\ud589\n    result = subprocess.run(['ceph', 'df', '-f', 'json'], capture_output=True, text=True)\n    data = json.loads(result.stdout)\n\n    for pool in data['pools']:\n        pool_name = pool['name']\n        bytes_used = pool['stats']['bytes_used']\n\n        # Pool \uc774\ub984\uc5d0\uc11c tier \ucd94\ucd9c\n        if 'ssd' in pool_name:\n            tier = 'ssd'\n        elif 'hdd' in pool_name or 'volumes' in pool_name:\n            tier = 'hdd'\n        elif 'archive' in pool_name:\n            tier = 'archive'\n        else:\n            tier = 'hdd'  # default\n\n        # \uba54\ud2b8\ub9ad \uc5c5\ub370\uc774\ud2b8\n        storage_bytes.labels(pool=pool_name, tier=tier).set(bytes_used)\n\n        # \ube44\uc6a9 \uacc4\uc0b0 (bytes \u2192 GB)\n        gb_used = bytes_used / (1024 ** 3)\n        cost = gb_used * TIER_COSTS[tier]\n        storage_cost_usd.labels(pool=pool_name, tier=tier).set(cost)\n\nif __name__ == '__main__':\n    start_http_server(9999)\n    while True:\n        collect_ceph_metrics()\n        time.sleep(60)  # 1\ubd84\ub9c8\ub2e4 \uc218\uc9d1\n</code></pre> <ol> <li>Prometheus \uc2a4\ud06c\ub7a9 \uc124\uc815 (<code>prometheus.yml</code>):</li> </ol> <pre><code>scrape_configs:\n  - job_name: 'storage-cost'\n    static_configs:\n      - targets: ['localhost:9999']\n</code></pre> <ol> <li>Grafana \ub300\uc2dc\ubcf4\ub4dc \ucffc\ub9ac:</li> </ol> <pre><code># \uc804\uccb4 \uc6d4\uac04 \ube44\uc6a9\nsum(storage_cost_usd)\n\n# Tier\ubcc4 \ube44\uc6a9\nsum by (tier) (storage_cost_usd)\n\n# GB\ub2f9 \ube44\uc6a9 (\ud6a8\uc728\uc131)\nsum(storage_cost_usd) / (sum(storage_bytes) / 1024^3)\n\n# \ucd5c\uc801\ud654 \uac00\ub2a5 \uc6a9\ub7c9 (30\uc77c \ubbf8\uc811\uadfc \ub370\uc774\ud130\ub97c HDD\ub85c \uc774\ub3d9 \uc2dc)\n(storage_bytes{tier=\"ssd\"} * 0.3) * (0.15 - 0.05) / (1024^3)\n# 30%\uac00 30\uc77c \ubbf8\uc811\uadfc \ub370\uc774\ud130\ub77c\uace0 \uac00\uc815, SSD\u2192HDD \uc774\ub3d9 \uc2dc \uc808\uac10\uc561\n</code></pre> <ol> <li>\ubd84\uc11d \ubc0f \ucd5c\uc801\ud654:</li> </ol> <pre><code># \uc2a4\ud1a0\ub9ac\uc9c0 \uc0ac\uc6a9\ub7c9 \uc694\uc57d\nsudo ceph df\n\n# Pool\ubcc4 \ube44\uc6a9 \ubd84\uc11d\n# - SSD Pool\uc774 \uc804\uccb4 \ube44\uc6a9\uc758 70%\ub97c \ucc28\uc9c0\ud558\ub294\uc9c0?\n# - HDD Pool\ub85c \uc774\ub3d9 \uac00\ub2a5\ud55c \ub370\uc774\ud130\ub294?\n\n# Lifecycle Policy \uc801\uc6a9 (Lab 1, 2 \ucc38\uc870)\n# - SSD \u2192 HDD: 30\uc77c \ud6c4\n# - HDD \u2192 Archive: 90\uc77c \ud6c4\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#lab-5","title":"Lab 5: \uc790\ub3d9\ud654\ub41c \ub370\uc774\ud130 \ub9c8\uc774\uadf8\ub808\uc774\uc158","text":"<p>\ubaa9\ud45c: Go \uc2a4\ud06c\ub9bd\ud2b8\ub85c S3 \uac1d\uccb4\uc758 \uc811\uadfc \uc2dc\uac04\uc744 \ubd84\uc11d\ud558\uc5ec \uc790\ub3d9 \ub9c8\uc774\uadf8\ub808\uc774\uc158</p> <p>\ucf54\ub4dc (<code>auto-tiering.go</code>):</p> <pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n    \"os\"\n    \"time\"\n\n    \"github.com/minio/minio-go/v7\"\n    \"github.com/minio/minio-go/v7/pkg/credentials\"\n)\n\nfunc main() {\n    minioClient, err := minio.New(os.Getenv(\"MINIO_ENDPOINT\"), &amp;minio.Options{\n        Creds:  credentials.NewStaticV4(os.Getenv(\"MINIO_ACCESS_KEY\"), os.Getenv(\"MINIO_SECRET_KEY\"), \"\"),\n        Secure: true,\n    })\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    ctx := context.Background()\n    bucketName := \"my-bucket\"\n\n    // \ubaa8\ub4e0 \uac1d\uccb4 \uc870\ud68c\n    objectCh := minioClient.ListObjects(ctx, bucketName, minio.ListObjectsOptions{\n        Recursive: true,\n    })\n\n    now := time.Now()\n    transitionThreshold := 30 * 24 * time.Hour  // 30\uc77c\n\n    for object := range objectCh {\n        if object.Err != nil {\n            log.Println(object.Err)\n            continue\n        }\n\n        // LastModified \uae30\uc900\uc73c\ub85c \uc624\ub798\ub41c \uac1d\uccb4 \ud655\uc778\n        age := now.Sub(object.LastModified)\n\n        if age &gt; transitionThreshold {\n            fmt.Printf(\"\uac1d\uccb4 %s\ub294 %d\uc77c \uc804\uc5d0 \uc218\uc815\ub428, Storage Class \ubcc0\uacbd \ud544\uc694\\n\",\n                object.Key, int(age.Hours()/24))\n\n            // MinIO\uc5d0\uc11c\ub294 Storage Class\ub97c \uc9c1\uc811 \ubcc0\uacbd\ud560 \uc218 \uc5c6\uc73c\ubbc0\ub85c\n            // Lifecycle Policy\ub97c \uad8c\uc7a5\n            // \ub610\ub294 \uac1d\uccb4\ub97c \ub2e4\uc6b4\ub85c\ub4dc \ud6c4 \ub2e4\ub978 \ud2f0\uc5b4\ub85c \uc7ac\uc5c5\ub85c\ub4dc\n\n            // \uc608\uc2dc: \uac1d\uccb4 \ubcf5\uc0ac (\uac19\uc740 \ubc84\ud0b7, \ub2e4\ub978 Storage Class)\n            // \uc2e4\uc81c\ub85c\ub294 mc ilm \uc0ac\uc6a9 \uad8c\uc7a5\n            /*\n            src := minio.CopySrcOptions{\n                Bucket: bucketName,\n                Object: object.Key,\n            }\n            dst := minio.CopyDestOptions{\n                Bucket:       bucketName,\n                Object:       object.Key,\n                StorageClass: \"GLACIER\",\n            }\n            _, err := minioClient.CopyObject(ctx, dst, src)\n            if err != nil {\n                log.Println(err)\n            }\n            */\n        }\n    }\n\n    fmt.Println(\"\\n\uad8c\uc7a5 \uc0ac\ud56d: mc ilm\uc744 \uc0ac\uc6a9\ud558\uc5ec Lifecycle Policy \uc124\uc815\")\n    fmt.Println(\"mc ilm add myminio/my-bucket --transition-days 30 --transition-tier GLACIER\")\n}\n</code></pre> <p>\uc2e4\ud589:</p> <pre><code>export MINIO_ENDPOINT=\"minio.example.com:9000\"\nexport MINIO_ACCESS_KEY=\"minioadmin\"\nexport MINIO_SECRET_KEY=\"minioadmin\"\n\ngo run auto-tiering.go\n</code></pre> <p>\ucd9c\ub825 \uc608\uc2dc:</p> <pre><code>\uac1d\uccb4 old-data/file1.txt\ub294 45\uc77c \uc804\uc5d0 \uc218\uc815\ub428, Storage Class \ubcc0\uacbd \ud544\uc694\n\uac1d\uccb4 old-data/file2.txt\ub294 60\uc77c \uc804\uc5d0 \uc218\uc815\ub428, Storage Class \ubcc0\uacbd \ud544\uc694\n\n\uad8c\uc7a5 \uc0ac\ud56d: mc ilm\uc744 \uc0ac\uc6a9\ud558\uc5ec Lifecycle Policy \uc124\uc815\nmc ilm add myminio/my-bucket --transition-days 30 --transition-tier GLACIER\n</code></pre>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>MinIO Data Lifecycle Management: https://min.io/product/automated-data-tiering-lifecycle-management</li> <li>MinIO Object Lifecycle Management: https://docs.min.io/enterprise/aistor-object-store/administration/object-lifecycle-management/</li> <li>MinIO Automatic Object Expiration: https://min.io/docs/minio/linux/administration/object-management/create-lifecycle-management-expiration-rule.html</li> <li>MinIO Transition to S3: https://min.io/docs/minio/windows/administration/object-management/transition-objects-to-s3.html</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#aws-s3","title":"AWS S3 \ubb38\uc11c","text":"<ul> <li>AWS S3 Lifecycle Examples: https://docs.aws.amazon.com/AmazonS3/latest/userguide/lifecycle-configuration-examples.html</li> <li>AWS S3 Lifecycle Management: https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#azure","title":"Azure \ubb38\uc11c","text":"<ul> <li>Azure Blob Lifecycle Management: https://learn.microsoft.com/en-us/azure/storage/blobs/lifecycle-management-overview</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#ceph","title":"Ceph \ubb38\uc11c","text":"<ul> <li>Red Hat Ceph RGW Administration: https://docs.redhat.com/en/documentation/red_hat_ceph_storage/5/html/object_gateway_guide/administration</li> <li>Ceph RGW Tiering Enhancements Part 1 (2025): https://ceph.io/en/news/blog/2025/rgw-tiering-enhancements-part1/</li> <li>Ceph RGW Tiering Enhancements Part 2 (2025): https://ceph.io/en/news/blog/2025/rgw-tiering-enhancements-part2/</li> <li>45Drives Intelligent Tiering with Ceph S3: https://knowledgebase.45drives.com/kb/kb450472-intelligent-tiering-with-lifecycle-management-on-ceph-s3/</li> <li>Implementing Ceph as S3 Object Store (PDF): https://resinfo.org/IMG/pdf/gtceph-20240523-ceph-implementing-s3.pdf</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_7","title":"\uc0b0\uc5c5 \uc790\ub8cc","text":"<ul> <li>Elasticsearch Data Tiers: https://www.elastic.co/docs/manage-data/lifecycle/data-tiers</li> <li>Aerospike Tiered Storage Guide: https://aerospike.com/blog/tiered-storage-guide/</li> <li>DataCore Auto Tiering: https://www.datacore.com/products/sansymphony/auto-tiering/</li> <li>Wasabi Cloud Tiering: https://wasabi.com/learn/what-is-cloud-tiering</li> <li>Supermicro Cold Data Storage: https://www.supermicro.com/en/glossary/cold-data-storage</li> <li>Platform3 Storage Tiering Benefits: https://platform3solutions.com/blog/storage-tiering-and-its-benefits-for-applications/</li> <li>Open-E Caching vs Auto-tiering: https://www.open-e.com/blog/caching-vs-auto-tiering-two-ways-to-accelerate-data-storage/</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_8","title":"\ube44\uc6a9 \ucd5c\uc801\ud654 \uac00\uc774\ub4dc","text":"<ul> <li>Deduplication and Compression Case Studies: https://hokstadconsulting.com/blog/deduplication-and-compression-cost-saving-case-studies</li> <li>DigitalOcean Data Storage Strategies: https://www.digitalocean.com/resources/articles/data-storage-management-strategies</li> <li>Cloud Cost Optimization 2025 (Bacancy): https://www.bacancytechnology.com/blog/cloud-storage-cost-optimization</li> <li>Cloud Cost Optimization 2025 (Group107): https://group107.com/blog/cloud-cost-optimization-strategies/</li> <li>Cloud Cost Optimization 2025 (Scalr): https://scalr.com/learning-center/cloud-cost-optimization-best-practices-for-2025-a-comprehensive-guide/</li> <li>Relief From Data Storage Costs: https://cloudtweaks.com/2025/02/relief-from-data-storage-costs/</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_9","title":"\ud559\uc220 \uc790\ub8cc","text":"<ul> <li>Cloud Storage Tier Optimization (Springer): https://link.springer.com/article/10.1007/s00607-024-01281-2</li> <li>ACM Cost Optimization Survey: https://dl.acm.org/doi/10.1145/3582883</li> </ul>"},{"location":"iam-storage-service/Ch12.Storage_Lifecycle/#_10","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\uc644\ub8cc\ud55c \ud56d\ubaa9\uc5d0 \uccb4\ud06c\ud558\uc138\uc694:</p> <ul> <li> Hot, Warm, Cold, Archive \ud2f0\uc5b4\uc758 \ud2b9\uc131\uacfc \ube44\uc6a9 \ucc28\uc774\ub97c \uc774\ud574\ud588\ub2e4</li> <li> S3/MinIO/Ceph\uc5d0\uc11c Lifecycle Policy\ub97c \uc791\uc131\ud558\uace0 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4</li> <li> Transition\uacfc Expiration \uc561\uc158\uc758 \ucc28\uc774\ub97c \uc774\ud574\ud588\ub2e4</li> <li> Deduplication\uacfc Compression\uc758 \ud6a8\uacfc \ubc0f \uc801\uc6a9 \uc2dc\ub098\ub9ac\uc624\ub97c \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> \uc555\ucd95 \uc54c\uace0\ub9ac\uc998(LZ4, Zstd, Gzip)\uc758 \ud2b8\ub808\uc774\ub4dc\uc624\ud504\ub97c \uc774\ud574\ud588\ub2e4</li> <li> Ceph RGW\uc5d0\uc11c Storage Class\ub97c \uc0dd\uc131\ud558\uace0 \uc555\ucd95\uc744 \ud65c\uc131\ud654\ud560 \uc218 \uc788\ub2e4</li> <li> AWS S3 Intelligent-Tiering\uc758 \ub3d9\uc791 \uc6d0\ub9ac\ub97c \uc774\ud574\ud588\ub2e4</li> <li> \uc2a4\ud1a0\ub9ac\uc9c0 \ube44\uc6a9 \ubaa8\ub2c8\ud130\ub9c1 \uba54\ud2b8\ub9ad\uc744 \uc124\uc815\ud558\uace0 \ubd84\uc11d\ud560 \uc218 \uc788\ub2e4</li> <li> 30-60% \ube44\uc6a9 \uc808\uac10\uc744 \uc704\ud55c \uad6c\uccb4\uc801\uc778 \ucd5c\uc801\ud654 \uc804\ub7b5\uc744 \uc218\ub9bd\ud560 \uc218 \uc788\ub2e4</li> <li> \uc2e4\uc81c \uc0ac\ub840(Concerto Cloud, NTT-Netmagic)\uc5d0\uc11c \uc5bb\uc740 \uad50\ud6c8\uc744 \uc801\uc6a9\ud560 \uc218 \uc788\ub2e4</li> </ul> <p>\uc774 \ucc55\ud130\ub85c IAM/Storage \uc11c\ube44\uc2a4 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4! 12\uac1c \ucc55\ud130\ub97c \ud1b5\ud574 IAM(Keystone, OAuth/OIDC, RBAC/ABAC, OPA, Vault, Service Mesh)\uacfc Storage(Swift, S3/MinIO, Ceph, Cinder, Lifecycle) \uae30\uc220 \uc2a4\ud0dd\uc744 \ub9c8\uc2a4\ud130\ud588\uc2b5\ub2c8\ub2e4. \ud83c\udf89</p> <p>\ub2e4\uc74c \ub2e8\uacc4: - \uac01 \ucc55\ud130\uc758 \uc2e4\uc2b5 \uac00\uc774\ub4dc\ub97c \uc9c1\uc811 \uc218\ud589\ud558\uc5ec \uc2e4\ubb34 \uacbd\ud5d8 \uc313\uae30 - KakaoCloud IAM/Storage \uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4 \ubc0f \uad6c\ud604 \ud504\ub85c\uc81d\ud2b8 \uc9c4\ud589 - \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8\ub97c \ubaa8\ub450 \uc644\ub8cc\ud558\uc5ec \uc5ed\ub7c9 \uac80\uc99d</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/","title":"Ch2. OAuth 2.1 / OIDC / JWT \uc778\uc99d \uc2dc\uc2a4\ud15c","text":""},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\ud604\ub300 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \uc778\uc99d(Authentication)\uacfc \uc778\uac00(Authorization)\ub97c \uad6c\ud604\ud558\ub294 \ud45c\uc900 \ud504\ub85c\ud1a0\ucf5c\uc778 OAuth 2.1, OpenID Connect (OIDC), **JWT (JSON Web Token)**\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_2","title":"\uc65c \uc911\uc694\ud55c\uac00?","text":"<ul> <li>OAuth 2.1: 2025\ub144 \ud604\uc7ac OAuth 2.0\uc758 \ubaa8\ub4e0 \ubcf4\uc548 \ubaa8\ubc94 \uc0ac\ub840\ub97c \ud1b5\ud569\ud55c \ucd5c\uc2e0 \ud45c\uc900</li> <li>OIDC: OAuth 2.1 \uc704\uc5d0\uc11c \ub3d9\uc791\ud558\uba70 \uc0ac\uc6a9\uc790 \uc2e0\uc6d0(Identity) \uc815\ubcf4\ub97c \uc81c\uacf5</li> <li>JWT: Stateless \uc778\uc99d\uc744 \uac00\ub2a5\ud558\uac8c \ud558\ub294 \ud1a0\ud070 \ud615\uc2dd</li> </ul> <p>KakaoCloud IAM \uc11c\ube44\uc2a4\uc5d0\uc11c\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uc2dc\ub098\ub9ac\uc624\uc5d0 \ud65c\uc6a9\ub429\ub2c8\ub2e4:</p> <ul> <li>\uc678\ubd80 IdP(Keycloak, Google, GitHub \ub4f1)\uc640\uc758 \uc5f0\ub3d9</li> <li>API Gateway\uc5d0\uc11c\uc758 \ud1a0\ud070 \uae30\ubc18 \uc778\uc99d/\uc778\uac00</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uac04 \uc11c\ube44\uc2a4 \uacc4\uc815 \uc778\uc99d</li> <li>\uba40\ud2f0 \ud14c\ub10c\ud2b8 \ud658\uacbd\uc5d0\uc11c\uc758 \uc0ac\uc6a9\uc790 \uaca9\ub9ac</li> </ul>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_3","title":"\ud559\uc2b5 \ud6c4 \uc5bb\uc744 \uc218 \uc788\ub294 \uc5ed\ub7c9","text":"<ul> <li> OAuth 2.1\uc758 Authorization Code + PKCE \ud50c\ub85c\uc6b0 \uad6c\ud604</li> <li> OIDC Provider\uc640 Relying Party \uac1c\ubc1c</li> <li> JWT \ud1a0\ud070 \uc0dd\uc131, \uac80\uc99d, \uac31\uc2e0 \ub85c\uc9c1 \uad6c\ud604</li> <li> Go \uc5b8\uc5b4\ub85c \uc548\uc804\ud55c \uc778\uc99d \uc2dc\uc2a4\ud15c \uac1c\ubc1c</li> </ul>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#1-oauth-21","title":"1. OAuth 2.1 \uac1c\uc694","text":"<p>**OAuth 2.1**\uc740 2025\ub144 \ud604\uc7ac OAuth 2.0\uc758 \ubcf4\uc548 \uac1c\uc120\uc0ac\ud56d\uc744 \ud1b5\ud569\ud55c \ucd5c\uc2e0 \ud45c\uc900\uc785\ub2c8\ub2e4. \uc644\uc804\ud55c \ud45c\uc900\uc73c\ub85c \ud655\uc815\ub418\uc5c8\uc73c\uba70, \uc8fc\uc694 Identity Provider\ub4e4\uc774 \uc774\ubbf8 \ucc44\ud0dd\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#oauth-20-21","title":"OAuth 2.0 \u2192 2.1 \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d","text":"\ud56d\ubaa9 OAuth 2.0 OAuth 2.1 PKCE \uacf5\uac1c \ud074\ub77c\uc774\uc5b8\ud2b8\ub9cc \uad8c\uc7a5 \ubaa8\ub4e0 \ud074\ub77c\uc774\uc5b8\ud2b8 \ud544\uc218 Implicit Flow \uc9c0\uc6d0 \uc81c\uac70\ub428 (\ubcf4\uc548 \ucde8\uc57d) Password Grant \uc9c0\uc6d0 \uc81c\uac70\ub428 (\uc790\uaca9 \uc99d\uba85 \ub178\ucd9c) Redirect URI \ubd80\ubd84 \uc77c\uce58 \ud5c8\uc6a9 \uc815\ud655\ud788 \uc77c\uce58 \ud544\uc218 Refresh Token \uc81c\ud55c \uc5c6\uc74c \uc1a1\uc2e0\uc790 \uc81c\uc57d \ub610\ub294 \uc77c\ud68c\uc6a9 Bearer Token in Query \ud5c8\uc6a9 \uae08\uc9c0 (\ub85c\uadf8 \ub178\ucd9c \ubc29\uc9c0)"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#pkce-proof-key-for-code-exchange","title":"PKCE (Proof Key for Code Exchange)","text":"<p>PKCE\ub294 Authorization Code \uac00\ub85c\ucc44\uae30 \uacf5\uaca9\uc744 \ubc29\uc9c0\ud569\ub2c8\ub2e4:</p> <pre><code>1. \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 code_verifier \uc0dd\uc131 (43-128\uc790 \ub79c\ub364 \ubb38\uc790\uc5f4)\n2. code_challenge = BASE64URL(SHA256(code_verifier))\n3. \uc778\uac00 \uc694\uccad \uc2dc code_challenge \ud3ec\ud568\n4. \ud1a0\ud070 \uc694\uccad \uc2dc code_verifier \ud3ec\ud568\n5. \uc11c\ubc84\uac00 SHA256(code_verifier) == code_challenge \uac80\uc99d\n</code></pre> <p>\ubcf4\uc548 \ud6a8\uacfc: PKCE \ub3c4\uc785\uc73c\ub85c Authorization Code \uac00\ub85c\ucc44\uae30 \uacf5\uaca9\uc774 **70% \uac10\uc18c**\ud588\uc2b5\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#2-openid-connect-oidc","title":"2. OpenID Connect (OIDC)","text":"<p>**OIDC**\ub294 OAuth 2.1 \uc704\uc5d0 \uad6c\ucd95\ub41c \uc778\uc99d \ub808\uc774\uc5b4\uc785\ub2c8\ub2e4:</p> <ul> <li>OAuth 2.1: \"\ub204\uac00 \ubb34\uc5c7\uc744 \ud560 \uc218 \uc788\ub294\uac00?\" (\uc778\uac00 - Authorization)</li> <li>OIDC: \"\uc0ac\uc6a9\uc790\uac00 \ub204\uad6c\uc778\uac00?\" (\uc778\uc99d - Authentication)</li> </ul>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#oidc","title":"OIDC \ud575\uc2ec \uac1c\ub150","text":"<p>ID Token: - JWT \ud615\uc2dd\uc73c\ub85c \uc0ac\uc6a9\uc790 \uc2e0\uc6d0 \uc815\ubcf4 \ud3ec\ud568 - \ud544\uc218 \ud074\ub808\uc784: <code>iss</code>, <code>sub</code>, <code>aud</code>, <code>exp</code>, <code>iat</code> - \uc11c\uba85 \uc54c\uace0\ub9ac\uc998: RS256, ES256 \uad8c\uc7a5 (HS256\uc740 \uacf5\uc720 \ube44\ubc00 \uc0ac\uc6a9\uc73c\ub85c \ube44\uad8c\uc7a5)</p> <p>UserInfo Endpoint: - ID Token\uc5d0 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \ucd94\uac00 \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc81c\uacf5 - Access Token\uc73c\ub85c \uc778\uc99d</p> <p>Discovery Document: - <code>/.well-known/openid-configuration</code> - \uc81c\uacf5\uc790\uc758 \uc5d4\ub4dc\ud3ec\uc778\ud2b8, \uc9c0\uc6d0 \uc54c\uace0\ub9ac\uc998 \ub4f1 \uba54\ud0c0\ub370\uc774\ud130</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#oidc_1","title":"OIDC \ud50c\ub85c\uc6b0","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Client\n    participant AuthServer as Authorization Server (IdP)\n    participant Resource as Protected Resource\n\n    User-&gt;&gt;Client: 1. \ub85c\uadf8\uc778 \uc694\uccad\n    Client-&gt;&gt;Client: 2. code_verifier \uc0dd\uc131&lt;br/&gt;code_challenge \uacc4\uc0b0\n    Client-&gt;&gt;AuthServer: 3. /authorize?&lt;br/&gt;response_type=code&amp;&lt;br/&gt;scope=openid profile&amp;&lt;br/&gt;code_challenge=...&amp;&lt;br/&gt;code_challenge_method=S256\n    AuthServer-&gt;&gt;User: 4. \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\n    User-&gt;&gt;AuthServer: 5. \uc790\uaca9 \uc99d\uba85 \uc785\ub825\n    AuthServer-&gt;&gt;Client: 6. 302 Redirect&lt;br/&gt;code=AUTH_CODE\n    Client-&gt;&gt;AuthServer: 7. /token&lt;br/&gt;code=AUTH_CODE&amp;&lt;br/&gt;code_verifier=...\n    AuthServer-&gt;&gt;AuthServer: 8. PKCE \uac80\uc99d&lt;br/&gt;SHA256(verifier)==challenge\n    AuthServer-&gt;&gt;Client: 9. access_token + id_token + refresh_token\n    Client-&gt;&gt;Client: 10. ID Token \uac80\uc99d&lt;br/&gt;(\uc11c\uba85, exp, aud)\n    Client-&gt;&gt;Resource: 11. API \uc694\uccad&lt;br/&gt;Authorization: Bearer {access_token}\n    Resource-&gt;&gt;Resource: 12. \ud1a0\ud070 \uac80\uc99d\n    Resource-&gt;&gt;Client: 13. \uc751\ub2f5 \ub370\uc774\ud130</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#3-jwt-json-web-token","title":"3. JWT (JSON Web Token)","text":"<p>JWT\ub294 \uc138 \ubd80\ubd84\uc73c\ub85c \uad6c\uc131\ub429\ub2c8\ub2e4:</p> <pre><code>HEADER.PAYLOAD.SIGNATURE\n</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#jwt","title":"JWT \uad6c\uc870","text":"<p>1. Header (\ud5e4\ub354): <pre><code>{\n  \"alg\": \"ES256\",\n  \"typ\": \"JWT\",\n  \"kid\": \"key-2025-01\"\n}\n</code></pre> - <code>alg</code>: \uc11c\uba85 \uc54c\uace0\ub9ac\uc998 (ES256, RS256, HS256) - <code>typ</code>: \ud1a0\ud070 \ud0c0\uc785 (JWT) - <code>kid</code>: \ud0a4 \uc2dd\ubcc4\uc790 (\uc5ec\ub7ec \ud0a4 \uc911 \uc5b4\ub5a4 \ud0a4\ub85c \uac80\uc99d\ud560\uc9c0)</p> <p>2. Payload (\ud398\uc774\ub85c\ub4dc): <pre><code>{\n  \"iss\": \"https://auth.kakaocloud.com\",\n  \"sub\": \"user-12345\",\n  \"aud\": [\"api.kakaocloud.com\"],\n  \"exp\": 1735776000,\n  \"iat\": 1735689600,\n  \"nbf\": 1735689600,\n  \"scope\": \"read write\",\n  \"tenant_id\": \"tenant-abc\"\n}\n</code></pre></p> <p>\ud45c\uc900 \ud074\ub808\uc784: - <code>iss</code> (Issuer): \ud1a0\ud070 \ubc1c\uae09\uc790 - <code>sub</code> (Subject): \ud1a0\ud070 \uc8fc\uccb4 (\uc0ac\uc6a9\uc790 ID) - <code>aud</code> (Audience): \ud1a0\ud070 \uc218\uc2e0\uc790 - <code>exp</code> (Expiration): \ub9cc\ub8cc \uc2dc\uac04 (Unix timestamp) - <code>iat</code> (Issued At): \ubc1c\uae09 \uc2dc\uac04 - <code>nbf</code> (Not Before): \ud65c\uc131\ud654 \uc2dc\uac04</p> <p>3. Signature (\uc11c\uba85): <pre><code>HMACSHA256(\n  base64UrlEncode(header) + \".\" + base64UrlEncode(payload),\n  secret\n)\n</code></pre></p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#jwt-2025","title":"JWT \uc54c\uace0\ub9ac\uc998 \uc120\ud0dd \uac00\uc774\ub4dc (2025)","text":"\uc54c\uace0\ub9ac\uc998 \ud0c0\uc785 \ud0a4 \uae38\uc774 \uc11c\uba85 \ud06c\uae30 \uc131\ub2a5 \uc6a9\ub3c4 ES256 ECDSA P-256 256-bit ~140 bytes \u26a1\u26a1\u26a1 \ube60\ub984 \uad8c\uc7a5 - \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 RS256 RSA PKCS#1 2048-bit ~256 bytes \u26a1\u26a1 \ubcf4\ud1b5 \ub808\uac70\uc2dc \ud638\ud658 \ud544\uc694 \uc2dc HS256 HMAC SHA-256 256-bit 32 bytes \u26a1\u26a1\u26a1 \uac00\uc7a5 \ube60\ub984 \ub0b4\ubd80 \uc2dc\uc2a4\ud15c (\ube44\uad8c\uc7a5) EdDSA Ed25519 256-bit 64 bytes \u26a1\u26a1\u26a1 \uac00\uc7a5 \ube60\ub984 \ubbf8\ub798 \ud45c\uc900 <p>2025 \uad8c\uc7a5\uc0ac\ud56d: - \u2705 ES256: \uac00\uc7a5 \uade0\ud615 \uc7a1\ud78c \uc120\ud0dd (\ubcf4\uc548 + \uc131\ub2a5) - \u2705 EdDSA: \ucd5c\uc2e0 \ud45c\uc900, \ud5a5\ud6c4 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uace0\ub824 - \u26a0\ufe0f RS256: \ub808\uac70\uc2dc \uc2dc\uc2a4\ud15c \ud638\ud658 \uc2dc\ub9cc \uc0ac\uc6a9 - \u274c HS256: \uacf5\uc720 \ube44\ubc00 \uc0ac\uc6a9\uc73c\ub85c \ud0a4 \uad00\ub9ac \uc5b4\ub824\uc6c0</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#lab-1-oauth-21-authorization-server-go","title":"Lab 1: OAuth 2.1 Authorization Server \uad6c\ucd95 (Go)","text":"<p>\ubaa9\ud45c: PKCE\ub97c \uc9c0\uc6d0\ud558\ub294 \uac04\ub2e8\ud55c OAuth 2.1 \uc778\uac00 \uc11c\ubc84 \uad6c\ud604</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#1","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>mkdir oauth-server &amp;&amp; cd oauth-server\ngo mod init oauth-server\n\ngo get github.com/golang-jwt/jwt/v5\ngo get github.com/google/uuid\n</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#2-authorization-server","title":"2\ub2e8\uacc4: Authorization Server \uad6c\ud604","text":"<pre><code>// main.go\npackage main\n\nimport (\n    \"crypto/sha256\"\n    \"encoding/base64\"\n    \"encoding/json\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"sync\"\n    \"time\"\n\n    \"github.com/golang-jwt/jwt/v5\"\n    \"github.com/google/uuid\"\n)\n\n// \uc778\uba54\ubaa8\ub9ac \uc800\uc7a5\uc18c\nvar (\n    clients = map[string]string{\n        \"client-123\": \"https://myapp.example.com/callback\", // client_id: redirect_uri\n    }\n\n    authCodes = sync.Map{} // code -&gt; AuthCodeData\n\n    // \uc2e4\uc81c \ud658\uacbd\uc5d0\uc11c\ub294 \ud658\uacbd\ubcc0\uc218\ub098 Vault\uc5d0\uc11c \ub85c\ub4dc\n    jwtSecret = []byte(\"your-256-bit-secret-change-in-production\")\n)\n\ntype AuthCodeData struct {\n    ClientID        string\n    RedirectURI     string\n    CodeChallenge   string\n    Scope           string\n    ExpiresAt       time.Time\n}\n\ntype TokenResponse struct {\n    AccessToken  string `json:\"access_token\"`\n    TokenType    string `json:\"token_type\"`\n    ExpiresIn    int    `json:\"expires_in\"`\n    RefreshToken string `json:\"refresh_token,omitempty\"`\n    IDToken      string `json:\"id_token,omitempty\"`\n    Scope        string `json:\"scope,omitempty\"`\n}\n\n// 1. Authorization Endpoint\nfunc authorizeHandler(w http.ResponseWriter, r *http.Request) {\n    // \ud30c\ub77c\ubbf8\ud130 \ud30c\uc2f1\n    clientID := r.URL.Query().Get(\"client_id\")\n    redirectURI := r.URL.Query().Get(\"redirect_uri\")\n    responseType := r.URL.Query().Get(\"response_type\")\n    codeChallenge := r.URL.Query().Get(\"code_challenge\")\n    codeChallengeMethod := r.URL.Query().Get(\"code_challenge_method\")\n    scope := r.URL.Query().Get(\"scope\")\n    state := r.URL.Query().Get(\"state\")\n\n    // \uac80\uc99d 1: client_id \ud655\uc778\n    registeredRedirect, ok := clients[clientID]\n    if !ok {\n        http.Error(w, \"Invalid client_id\", http.StatusBadRequest)\n        return\n    }\n\n    // \uac80\uc99d 2: redirect_uri \uc815\ud655\ud788 \uc77c\uce58 (OAuth 2.1 \uc694\uad6c\uc0ac\ud56d)\n    if redirectURI != registeredRedirect {\n        http.Error(w, \"Invalid redirect_uri\", http.StatusBadRequest)\n        return\n    }\n\n    // \uac80\uc99d 3: response_type=code\ub9cc \uc9c0\uc6d0 (Implicit \uc81c\uac70\ub428)\n    if responseType != \"code\" {\n        http.Error(w, \"Only response_type=code is supported\", http.StatusBadRequest)\n        return\n    }\n\n    // \uac80\uc99d 4: PKCE \ud544\uc218 (OAuth 2.1)\n    if codeChallenge == \"\" || codeChallengeMethod != \"S256\" {\n        http.Error(w, \"PKCE with S256 is required\", http.StatusBadRequest)\n        return\n    }\n\n    // Authorization Code \uc0dd\uc131\n    code := uuid.New().String()\n    authCodes.Store(code, AuthCodeData{\n        ClientID:      clientID,\n        RedirectURI:   redirectURI,\n        CodeChallenge: codeChallenge,\n        Scope:         scope,\n        ExpiresAt:     time.Now().Add(10 * time.Minute),\n    })\n\n    // Redirect with code\n    redirectURL := fmt.Sprintf(\"%s?code=%s&amp;state=%s\", redirectURI, code, state)\n    http.Redirect(w, r, redirectURL, http.StatusFound)\n}\n\n// 2. Token Endpoint\nfunc tokenHandler(w http.ResponseWriter, r *http.Request) {\n    if r.Method != http.MethodPost {\n        http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        return\n    }\n\n    // \ud30c\ub77c\ubbf8\ud130 \ud30c\uc2f1\n    grantType := r.FormValue(\"grant_type\")\n    code := r.FormValue(\"code\")\n    redirectURI := r.FormValue(\"redirect_uri\")\n    codeVerifier := r.FormValue(\"code_verifier\")\n    clientID := r.FormValue(\"client_id\")\n\n    // \uac80\uc99d 1: grant_type\n    if grantType != \"authorization_code\" {\n        http.Error(w, \"Invalid grant_type\", http.StatusBadRequest)\n        return\n    }\n\n    // \uac80\uc99d 2: authorization code \ud655\uc778\n    data, ok := authCodes.Load(code)\n    if !ok {\n        http.Error(w, \"Invalid authorization code\", http.StatusBadRequest)\n        return\n    }\n    authData := data.(AuthCodeData)\n\n    // \uc77c\ud68c\uc6a9 \ucf54\ub4dc (\uc0ac\uc6a9 \ud6c4 \uc989\uc2dc \uc0ad\uc81c)\n    authCodes.Delete(code)\n\n    // \uac80\uc99d 3: \ub9cc\ub8cc \uc2dc\uac04\n    if time.Now().After(authData.ExpiresAt) {\n        http.Error(w, \"Authorization code expired\", http.StatusBadRequest)\n        return\n    }\n\n    // \uac80\uc99d 4: client_id \uc77c\uce58\n    if clientID != authData.ClientID {\n        http.Error(w, \"Client ID mismatch\", http.StatusBadRequest)\n        return\n    }\n\n    // \uac80\uc99d 5: redirect_uri \uc77c\uce58\n    if redirectURI != authData.RedirectURI {\n        http.Error(w, \"Redirect URI mismatch\", http.StatusBadRequest)\n        return\n    }\n\n    // \uac80\uc99d 6: PKCE \uac80\uc99d (\ud575\uc2ec!)\n    verifierHash := sha256.Sum256([]byte(codeVerifier))\n    expectedChallenge := base64.RawURLEncoding.EncodeToString(verifierHash[:])\n    if expectedChallenge != authData.CodeChallenge {\n        http.Error(w, \"PKCE validation failed\", http.StatusBadRequest)\n        return\n    }\n\n    // Access Token \uc0dd\uc131 (JWT)\n    accessToken, err := generateAccessToken(clientID, authData.Scope)\n    if err != nil {\n        http.Error(w, \"Failed to generate token\", http.StatusInternalServerError)\n        return\n    }\n\n    // ID Token \uc0dd\uc131 (OIDC)\n    var idToken string\n    if contains(authData.Scope, \"openid\") {\n        idToken, err = generateIDToken(clientID)\n        if err != nil {\n            http.Error(w, \"Failed to generate ID token\", http.StatusInternalServerError)\n            return\n        }\n    }\n\n    // Refresh Token (\uc77c\ud68c\uc6a9)\n    refreshToken := uuid.New().String()\n\n    // \uc751\ub2f5\n    response := TokenResponse{\n        AccessToken:  accessToken,\n        TokenType:    \"Bearer\",\n        ExpiresIn:    3600,\n        RefreshToken: refreshToken,\n        IDToken:      idToken,\n        Scope:        authData.Scope,\n    }\n\n    w.Header().Set(\"Content-Type\", \"application/json\")\n    json.NewEncoder(w).Encode(response)\n}\n\n// JWT Access Token \uc0dd\uc131\nfunc generateAccessToken(clientID, scope string) (string, error) {\n    claims := jwt.MapClaims{\n        \"iss\":       \"https://auth.kakaocloud.com\",\n        \"sub\":       clientID,\n        \"aud\":       []string{\"api.kakaocloud.com\"},\n        \"exp\":       time.Now().Add(1 * time.Hour).Unix(),\n        \"iat\":       time.Now().Unix(),\n        \"scope\":     scope,\n        \"tenant_id\": \"tenant-demo\",\n    }\n\n    token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)\n    return token.SignedString(jwtSecret)\n}\n\n// OIDC ID Token \uc0dd\uc131\nfunc generateIDToken(clientID string) (string, error) {\n    claims := jwt.MapClaims{\n        \"iss\":   \"https://auth.kakaocloud.com\",\n        \"sub\":   \"user-12345\",\n        \"aud\":   clientID,\n        \"exp\":   time.Now().Add(1 * time.Hour).Unix(),\n        \"iat\":   time.Now().Unix(),\n        \"nonce\": uuid.New().String(),\n        \"email\": \"user@example.com\",\n        \"name\":  \"John Doe\",\n    }\n\n    token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)\n    return token.SignedString(jwtSecret)\n}\n\nfunc contains(s, substr string) bool {\n    return len(s) &gt; 0 &amp;&amp; len(substr) &gt; 0 &amp;&amp; (s == substr || len(s) &gt; len(substr))\n}\n\nfunc main() {\n    http.HandleFunc(\"/authorize\", authorizeHandler)\n    http.HandleFunc(\"/token\", tokenHandler)\n\n    log.Println(\"OAuth 2.1 Server running on :8080\")\n    log.Fatal(http.ListenAndServe(\":8080\", nil))\n}\n</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#3","title":"3\ub2e8\uacc4: \ud14c\uc2a4\ud2b8","text":"<pre><code># \uc11c\ubc84 \uc2e4\ud589\ngo run main.go\n\n# PKCE \ud30c\ub77c\ubbf8\ud130 \uc0dd\uc131\nCODE_VERIFIER=$(openssl rand -base64 32 | tr -d '/+=' | cut -c1-43)\nCODE_CHALLENGE=$(echo -n $CODE_VERIFIER | openssl dgst -sha256 -binary | base64 | tr -d '/+=' | tr -d '=')\n\n# 1. Authorization Code \ubc1b\uae30\ncurl \"http://localhost:8080/authorize?client_id=client-123&amp;redirect_uri=https://myapp.example.com/callback&amp;response_type=code&amp;code_challenge=$CODE_CHALLENGE&amp;code_challenge_method=S256&amp;scope=openid%20profile&amp;state=random-state\"\n\n# \uc751\ub2f5: 302 Redirect to https://myapp.example.com/callback?code=UUID&amp;state=random-state\n\n# 2. Token \uad50\ud658 (code\ub97c \uc704\uc5d0\uc11c \ubc1b\uc740 \uac12\uc73c\ub85c \uad50\uccb4)\ncurl -X POST http://localhost:8080/token \\\n  -d \"grant_type=authorization_code\" \\\n  -d \"code=YOUR_CODE_HERE\" \\\n  -d \"redirect_uri=https://myapp.example.com/callback\" \\\n  -d \"code_verifier=$CODE_VERIFIER\" \\\n  -d \"client_id=client-123\"\n</code></pre> <p>\uc608\uc0c1 \uc751\ub2f5: <pre><code>{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"token_type\": \"Bearer\",\n  \"expires_in\": 3600,\n  \"refresh_token\": \"uuid-refresh-token\",\n  \"id_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"scope\": \"openid profile\"\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#lab-2-jwt-golang-jwtjwt-v5","title":"Lab 2: JWT \ud1a0\ud070 \uac80\uc99d (golang-jwt/jwt v5)","text":"<p>\ubaa9\ud45c: golang-jwt/jwt v5\ub97c \uc0ac\uc6a9\ud55c \uc548\uc804\ud55c \ud1a0\ud070 \uac80\uc99d</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#1_1","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>mkdir jwt-validator &amp;&amp; cd jwt-validator\ngo mod init jwt-validator\ngo get github.com/golang-jwt/jwt/v5\n</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#2-jwt","title":"2\ub2e8\uacc4: JWT \uac80\uc99d \uad6c\ud604","text":"<pre><code>// main.go\npackage main\n\nimport (\n    \"errors\"\n    \"fmt\"\n    \"log\"\n    \"time\"\n\n    \"github.com/golang-jwt/jwt/v5\"\n)\n\nvar (\n    // \uc2e4\uc81c \ud658\uacbd\uc5d0\uc11c\ub294 \uacf5\uac1c\ud0a4 \uc0ac\uc6a9 (RS256, ES256)\n    jwtSecret = []byte(\"your-256-bit-secret-change-in-production\")\n\n    // \ud5c8\uc6a9\ub41c \uc11c\uba85 \uc54c\uace0\ub9ac\uc998 \uc81c\ud55c (\ubcf4\uc548 \ud544\uc218!)\n    allowedAlgs = []string{jwt.SigningMethodHS256.Name}\n)\n\n// Custom Claims \uc815\uc758\ntype CustomClaims struct {\n    Scope    string `json:\"scope\"`\n    TenantID string `json:\"tenant_id\"`\n    jwt.RegisteredClaims\n}\n\n// JWT \ud1a0\ud070 \uc0dd\uc131\nfunc generateToken(userID, scope, tenantID string) (string, error) {\n    claims := CustomClaims{\n        Scope:    scope,\n        TenantID: tenantID,\n        RegisteredClaims: jwt.RegisteredClaims{\n            Issuer:    \"https://auth.kakaocloud.com\",\n            Subject:   userID,\n            Audience:  jwt.ClaimStrings{\"api.kakaocloud.com\", \"storage.kakaocloud.com\"},\n            ExpiresAt: jwt.NewNumericDate(time.Now().Add(1 * time.Hour)),\n            IssuedAt:  jwt.NewNumericDate(time.Now()),\n            NotBefore: jwt.NewNumericDate(time.Now()),\n            ID:        \"token-uuid-12345\",\n        },\n    }\n\n    token := jwt.NewWithClaims(jwt.SigningMethodHS256, claims)\n    return token.SignedString(jwtSecret)\n}\n\n// JWT \ud1a0\ud070 \uac80\uc99d (golang-jwt v5 \ubc29\uc2dd)\nfunc validateToken(tokenString string, expectedAudience string) (*CustomClaims, error) {\n    // \ud30c\uc2f1 \uc635\uc158 \uc124\uc815 (v5 \uad8c\uc7a5 \ubc29\uc2dd)\n    token, err := jwt.ParseWithClaims(\n        tokenString,\n        &amp;CustomClaims{},\n        func(token *jwt.Token) (interface{}, error) {\n            // \uac80\uc99d 1: \uc54c\uace0\ub9ac\uc998 \ud655\uc778 (alg \ud544\ub4dc \uac80\uc99d \ud544\uc218!)\n            if !isAllowedAlgorithm(token.Method.Alg()) {\n                return nil, fmt.Errorf(\"unexpected signing method: %v\", token.Header[\"alg\"])\n            }\n            return jwtSecret, nil\n        },\n        // v5\uc758 \uc0c8\ub85c\uc6b4 \uac80\uc99d \uc635\uc158\ub4e4\n        jwt.WithAudience(expectedAudience),                // audience \uac80\uc99d\n        jwt.WithIssuer(\"https://auth.kakaocloud.com\"),     // issuer \uac80\uc99d\n        jwt.WithExpirationRequired(),                       // exp \ud544\uc218\n        jwt.WithIssuedAt(),                                 // iat \uac80\uc99d\n        jwt.WithLeeway(5*time.Second),                      // \uc2dc\uac04 \uc5ec\uc720 (clock skew)\n        jwt.WithValidMethods(allowedAlgs),                  // \ud5c8\uc6a9 \uc54c\uace0\ub9ac\uc998 \uc81c\ud55c\n    )\n\n    if err != nil {\n        return nil, fmt.Errorf(\"token validation failed: %w\", err)\n    }\n\n    // \uac80\uc99d 2: \ud1a0\ud070\uc774 \uc720\ud6a8\ud55c\uc9c0 \ud655\uc778\n    if !token.Valid {\n        return nil, errors.New(\"token is invalid\")\n    }\n\n    // \uac80\uc99d 3: Claims \ucd94\ucd9c\n    claims, ok := token.Claims.(*CustomClaims)\n    if !ok {\n        return nil, errors.New(\"failed to parse claims\")\n    }\n\n    return claims, nil\n}\n\n// \uc54c\uace0\ub9ac\uc998 \ud5c8\uc6a9 \ubaa9\ub85d \ud655\uc778\nfunc isAllowedAlgorithm(alg string) bool {\n    for _, allowed := range allowedAlgs {\n        if alg == allowed {\n            return true\n        }\n    }\n    return false\n}\n\n// \ud2b9\uc815 \uad8c\ud55c(scope) \ud655\uc778\nfunc hasScope(claims *CustomClaims, requiredScope string) bool {\n    // \uac04\ub2e8\ud55c \uad6c\ud604 (\uc2e4\uc81c\ub85c\ub294 \uacf5\ubc31\uc73c\ub85c \ubd84\ub9ac\ub41c scope \ud30c\uc2f1 \ud544\uc694)\n    return claims.Scope == requiredScope ||\n           len(claims.Scope) &gt; len(requiredScope)\n}\n\nfunc main() {\n    // 1. \ud1a0\ud070 \uc0dd\uc131\n    token, err := generateToken(\"user-12345\", \"read write\", \"tenant-abc\")\n    if err != nil {\n        log.Fatalf(\"Failed to generate token: %v\", err)\n    }\n    fmt.Println(\"Generated Token:\")\n    fmt.Println(token)\n    fmt.Println()\n\n    // 2. \ud1a0\ud070 \uac80\uc99d\n    claims, err := validateToken(token, \"api.kakaocloud.com\")\n    if err != nil {\n        log.Fatalf(\"Failed to validate token: %v\", err)\n    }\n\n    fmt.Println(\"Token is valid!\")\n    fmt.Printf(\"User ID: %s\\n\", claims.Subject)\n    fmt.Printf(\"Tenant ID: %s\\n\", claims.TenantID)\n    fmt.Printf(\"Scope: %s\\n\", claims.Scope)\n    fmt.Printf(\"Expires At: %s\\n\", claims.ExpiresAt.Time)\n    fmt.Println()\n\n    // 3. \uad8c\ud55c \ud655\uc778\n    if hasScope(claims, \"read\") {\n        fmt.Println(\"\u2713 User has 'read' permission\")\n    }\n\n    // 4. \ub9cc\ub8cc\ub41c \ud1a0\ud070 \ud14c\uc2a4\ud2b8\n    expiredToken := jwt.NewWithClaims(jwt.SigningMethodHS256, CustomClaims{\n        Scope:    \"read\",\n        TenantID: \"tenant-abc\",\n        RegisteredClaims: jwt.RegisteredClaims{\n            Issuer:    \"https://auth.kakaocloud.com\",\n            Subject:   \"user-99999\",\n            Audience:  jwt.ClaimStrings{\"api.kakaocloud.com\"},\n            ExpiresAt: jwt.NewNumericDate(time.Now().Add(-1 * time.Hour)), // \uc774\ubbf8 \ub9cc\ub8cc\ub428\n            IssuedAt:  jwt.NewNumericDate(time.Now().Add(-2 * time.Hour)),\n        },\n    })\n    expiredTokenString, _ := expiredToken.SignedString(jwtSecret)\n\n    _, err = validateToken(expiredTokenString, \"api.kakaocloud.com\")\n    if err != nil {\n        fmt.Printf(\"\u2713 Expired token correctly rejected: %v\\n\", err)\n    }\n\n    // 5. \uc798\ubabb\ub41c \uc54c\uace0\ub9ac\uc998 \ud14c\uc2a4\ud2b8\n    wrongAlgToken := jwt.NewWithClaims(jwt.SigningMethodHS512, CustomClaims{\n        RegisteredClaims: jwt.RegisteredClaims{\n            Issuer:    \"https://auth.kakaocloud.com\",\n            Subject:   \"user-88888\",\n            Audience:  jwt.ClaimStrings{\"api.kakaocloud.com\"},\n            ExpiresAt: jwt.NewNumericDate(time.Now().Add(1 * time.Hour)),\n        },\n    })\n    wrongAlgTokenString, _ := wrongAlgToken.SignedString(jwtSecret)\n\n    _, err = validateToken(wrongAlgTokenString, \"api.kakaocloud.com\")\n    if err != nil {\n        fmt.Printf(\"\u2713 Wrong algorithm token correctly rejected: %v\\n\", err)\n    }\n}\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc: <pre><code>$ go run main.go\n\nGenerated Token:\neyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzY29wZSI6InJlYWQgd3JpdGUiLCJ0ZW5hbnRfaWQiOiJ0ZW5hbnQtYWJjIiwiaXNzIjoiaHR0cHM6Ly9hdXRoLmtha2FvY2xvdWQuY29tIiwic3ViIjoidXNlci0xMjM0NSIsImF1ZCI6WyJhcGkua2FrYW9jbG91ZC5jb20iLCJzdG9yYWdlLmtha2FvY2xvdWQuY29tIl0sImV4cCI6MTczNTc3NjAwMCwiaWF0IjoxNzM1Njg5NjAwLCJuYmYiOjE3MzU2ODk2MDAsImp0aSI6InRva2VuLXV1aWQtMTIzNDUifQ.xxxxx\n\nToken is valid!\nUser ID: user-12345\nTenant ID: tenant-abc\nScope: read write\nExpires At: 2025-01-02 12:00:00 +0000 UTC\n\n\u2713 User has 'read' permission\n\u2713 Expired token correctly rejected: token validation failed: token has invalid claims: token is expired\n\u2713 Wrong algorithm token correctly rejected: token validation failed: token is unverifiable: signing method HS512 is invalid\n</code></pre></p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#lab-3-oidc-client-go-oidc-v3","title":"Lab 3: OIDC Client \uad6c\ud604 (go-oidc v3)","text":"<p>\ubaa9\ud45c: go-oidc\ub97c \uc0ac\uc6a9\ud558\uc5ec Google, Keycloak \ub4f1 \uc678\ubd80 IdP \uc5f0\ub3d9</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#1_2","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>mkdir oidc-client &amp;&amp; cd oidc-client\ngo mod init oidc-client\n\ngo get github.com/coreos/go-oidc/v3/oidc\ngo get golang.org/x/oauth2\n</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#2-oidc-relying-party","title":"2\ub2e8\uacc4: OIDC Relying Party \uad6c\ud604","text":"<pre><code>// main.go\npackage main\n\nimport (\n    \"context\"\n    \"encoding/json\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"time\"\n\n    \"github.com/coreos/go-oidc/v3/oidc\"\n    \"golang.org/x/oauth2\"\n)\n\nvar (\n    // Google OIDC (\uc2e4\uc81c \ud658\uacbd\uc5d0\uc11c\ub294 \ud658\uacbd\ubcc0\uc218\ub85c \uad00\ub9ac)\n    clientID     = \"YOUR_CLIENT_ID.apps.googleusercontent.com\"\n    clientSecret = \"YOUR_CLIENT_SECRET\"\n    redirectURL  = \"http://localhost:8081/callback\"\n\n    // OIDC Provider (\uc790\ub3d9 discovery)\n    provider *oidc.Provider\n    oauth2Config oauth2.Config\n    verifier *oidc.IDTokenVerifier\n)\n\nfunc main() {\n    ctx := context.Background()\n\n    // 1. OIDC Provider Discovery\n    var err error\n    provider, err = oidc.NewProvider(ctx, \"https://accounts.google.com\")\n    if err != nil {\n        log.Fatalf(\"Failed to create OIDC provider: %v\", err)\n    }\n\n    // 2. OAuth2 Config \uc124\uc815\n    oauth2Config = oauth2.Config{\n        ClientID:     clientID,\n        ClientSecret: clientSecret,\n        RedirectURL:  redirectURL,\n        Endpoint:     provider.Endpoint(),\n        Scopes:       []string{oidc.ScopeOpenID, \"profile\", \"email\"},\n    }\n\n    // 3. ID Token Verifier \uc124\uc815\n    verifier = provider.Verifier(&amp;oidc.Config{\n        ClientID: clientID,\n    })\n\n    // \ub77c\uc6b0\ud2b8 \uc124\uc815\n    http.HandleFunc(\"/\", handleMain)\n    http.HandleFunc(\"/login\", handleLogin)\n    http.HandleFunc(\"/callback\", handleCallback)\n\n    log.Println(\"OIDC Client running on http://localhost:8081\")\n    log.Fatal(http.ListenAndServe(\":8081\", nil))\n}\n\n// \uba54\uc778 \ud398\uc774\uc9c0\nfunc handleMain(w http.ResponseWriter, r *http.Request) {\n    html := `\n    &lt;html&gt;\n        &lt;body&gt;\n            &lt;h1&gt;OIDC Client Demo&lt;/h1&gt;\n            &lt;a href=\"/login\"&gt;Login with Google&lt;/a&gt;\n        &lt;/body&gt;\n    &lt;/html&gt;\n    `\n    w.Header().Set(\"Content-Type\", \"text/html\")\n    w.Write([]byte(html))\n}\n\n// \ub85c\uadf8\uc778 \uc2dc\uc791 (Authorization Code Flow + PKCE)\nfunc handleLogin(w http.ResponseWriter, r *http.Request) {\n    // PKCE \ud30c\ub77c\ubbf8\ud130\ub294 oauth2 \ub77c\uc774\ube0c\ub7ec\ub9ac\uac00 \uc790\ub3d9 \ucc98\ub9ac\n    // oauth2.S256ChallengeOption \uc0ac\uc6a9\n    authURL := oauth2Config.AuthCodeURL(\n        \"state-random-string\", // state (CSRF \ubc29\uc9c0)\n        oauth2.S256ChallengeOption(), // PKCE \uc790\ub3d9 \uc0dd\uc131\n    )\n    http.Redirect(w, r, authURL, http.StatusFound)\n}\n\n// OAuth2 Callback\nfunc handleCallback(w http.ResponseWriter, r *http.Request) {\n    ctx := context.Background()\n\n    // 1. State \uac80\uc99d (CSRF \ubc29\uc9c0)\n    state := r.URL.Query().Get(\"state\")\n    if state != \"state-random-string\" {\n        http.Error(w, \"Invalid state parameter\", http.StatusBadRequest)\n        return\n    }\n\n    // 2. Authorization Code \uad50\ud658\n    code := r.URL.Query().Get(\"code\")\n    oauth2Token, err := oauth2Config.Exchange(\n        ctx,\n        code,\n        oauth2.VerifierOption(\"\"), // PKCE code_verifier (\uc790\ub3d9 \uad00\ub9ac)\n    )\n    if err != nil {\n        http.Error(w, fmt.Sprintf(\"Failed to exchange token: %v\", err), http.StatusInternalServerError)\n        return\n    }\n\n    // 3. ID Token \ucd94\ucd9c\n    rawIDToken, ok := oauth2Token.Extra(\"id_token\").(string)\n    if !ok {\n        http.Error(w, \"No id_token in response\", http.StatusInternalServerError)\n        return\n    }\n\n    // 4. ID Token \uac80\uc99d\n    idToken, err := verifier.Verify(ctx, rawIDToken)\n    if err != nil {\n        http.Error(w, fmt.Sprintf(\"Failed to verify ID token: %v\", err), http.StatusInternalServerError)\n        return\n    }\n\n    // 5. Claims \ucd94\ucd9c\n    var claims struct {\n        Email         string `json:\"email\"`\n        EmailVerified bool   `json:\"email_verified\"`\n        Name          string `json:\"name\"`\n        Picture       string `json:\"picture\"`\n    }\n    if err := idToken.Claims(&amp;claims); err != nil {\n        http.Error(w, fmt.Sprintf(\"Failed to parse claims: %v\", err), http.StatusInternalServerError)\n        return\n    }\n\n    // 6. UserInfo Endpoint \ud638\ucd9c (\ucd94\uac00 \uc815\ubcf4)\n    userInfo, err := provider.UserInfo(ctx, oauth2.StaticTokenSource(oauth2Token))\n    if err != nil {\n        log.Printf(\"Failed to get userinfo: %v\", err)\n    }\n\n    // \uacb0\uacfc \ucd9c\ub825\n    resp := map[string]interface{}{\n        \"access_token\": oauth2Token.AccessToken,\n        \"token_type\":   oauth2Token.TokenType,\n        \"expires_at\":   oauth2Token.Expiry,\n        \"id_token_claims\": map[string]interface{}{\n            \"subject\":        idToken.Subject,\n            \"issuer\":         idToken.Issuer,\n            \"email\":          claims.Email,\n            \"email_verified\": claims.EmailVerified,\n            \"name\":           claims.Name,\n            \"picture\":        claims.Picture,\n        },\n    }\n\n    if userInfo != nil {\n        var userInfoClaims map[string]interface{}\n        userInfo.Claims(&amp;userInfoClaims)\n        resp[\"userinfo\"] = userInfoClaims\n    }\n\n    w.Header().Set(\"Content-Type\", \"application/json\")\n    json.NewEncoder(w).Encode(resp)\n}\n</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#3-google-oauth2","title":"3\ub2e8\uacc4: Google OAuth2 \uc124\uc815","text":"<ol> <li>Google Cloud Console \uc811\uc18d</li> <li>\ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131 \u2192 \"APIs &amp; Services\" \u2192 \"Credentials\"</li> <li>\"OAuth 2.0 Client IDs\" \uc0dd\uc131</li> <li>Application type: Web application</li> <li>Authorized redirect URIs: <code>http://localhost:8081/callback</code></li> <li>Client ID\uc640 Client Secret \ubcf5\uc0ac</li> </ol>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#4","title":"4\ub2e8\uacc4: \ud14c\uc2a4\ud2b8","text":"<pre><code># \ucf54\ub4dc\uc5d0 Client ID/Secret \uc785\ub825 \ud6c4 \uc2e4\ud589\ngo run main.go\n\n# \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c http://localhost:8081 \uc811\uc18d\n# \"Login with Google\" \ud074\ub9ad \u2192 Google \ub85c\uadf8\uc778 \u2192 Callback \uc751\ub2f5 \ud655\uc778\n</code></pre> <p>\uc608\uc0c1 \uc751\ub2f5: <pre><code>{\n  \"access_token\": \"ya29.a0AfH6SMBx...\",\n  \"token_type\": \"Bearer\",\n  \"expires_at\": \"2025-01-02T12:00:00Z\",\n  \"id_token_claims\": {\n    \"subject\": \"1234567890\",\n    \"issuer\": \"https://accounts.google.com\",\n    \"email\": \"user@gmail.com\",\n    \"email_verified\": true,\n    \"name\": \"John Doe\",\n    \"picture\": \"https://lh3.googleusercontent.com/...\"\n  },\n  \"userinfo\": {\n    \"sub\": \"1234567890\",\n    \"email\": \"user@gmail.com\",\n    \"email_verified\": true,\n    \"name\": \"John Doe\",\n    \"picture\": \"https://lh3.googleusercontent.com/...\",\n    \"given_name\": \"John\",\n    \"family_name\": \"Doe\",\n    \"locale\": \"en\"\n  }\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#lab-4-refresh-token-rotation","title":"Lab 4: Refresh Token Rotation (\uc77c\ud68c\uc6a9 \ud1a0\ud070)","text":"<p>\ubaa9\ud45c: OAuth 2.1\uc758 \ubcf4\uc548 \uac15\ud654 \uc694\uad6c\uc0ac\ud56d\uc778 Refresh Token Rotation \uad6c\ud604</p> <pre><code>// refresh_token.go\npackage main\n\nimport (\n    \"crypto/rand\"\n    \"encoding/base64\"\n    \"fmt\"\n    \"sync\"\n    \"time\"\n)\n\n// Refresh Token \uc800\uc7a5\uc18c\ntype RefreshTokenStore struct {\n    tokens map[string]RefreshTokenData\n    mu     sync.RWMutex\n}\n\ntype RefreshTokenData struct {\n    UserID       string\n    ClientID     string\n    Scope        string\n    ExpiresAt    time.Time\n    TokenFamily  string // Rotation \uac10\uc9c0\uc6a9\n    Used         bool   // \uc77c\ud68c\uc6a9\n}\n\nfunc NewRefreshTokenStore() *RefreshTokenStore {\n    return &amp;RefreshTokenStore{\n        tokens: make(map[string]RefreshTokenData),\n    }\n}\n\n// Refresh Token \ubc1c\uae09\nfunc (s *RefreshTokenStore) Issue(userID, clientID, scope, tokenFamily string) (string, error) {\n    // \uc554\ud638\ud559\uc801\uc73c\ub85c \uc548\uc804\ud55c \ub79c\ub364 \uc0dd\uc131\n    b := make([]byte, 32)\n    if _, err := rand.Read(b); err != nil {\n        return \"\", err\n    }\n    token := base64.URLEncoding.EncodeToString(b)\n\n    s.mu.Lock()\n    defer s.mu.Unlock()\n\n    s.tokens[token] = RefreshTokenData{\n        UserID:      userID,\n        ClientID:    clientID,\n        Scope:       scope,\n        ExpiresAt:   time.Now().Add(30 * 24 * time.Hour), // 30\uc77c\n        TokenFamily: tokenFamily,\n        Used:        false,\n    }\n\n    return token, nil\n}\n\n// Refresh Token \uc0ac\uc6a9 (\uc77c\ud68c\uc6a9 + Rotation)\nfunc (s *RefreshTokenStore) UseAndRotate(token, clientID string) (newToken string, data RefreshTokenData, err error) {\n    s.mu.Lock()\n    defer s.mu.Unlock()\n\n    // 1. \ud1a0\ud070 \uc874\uc7ac \ud655\uc778\n    data, ok := s.tokens[token]\n    if !ok {\n        return \"\", RefreshTokenData{}, fmt.Errorf(\"invalid refresh token\")\n    }\n\n    // 2. \uc774\ubbf8 \uc0ac\uc6a9\ub41c \ud1a0\ud070 \uac10\uc9c0 (\ud1a0\ud070 \uc7ac\uc0ac\uc6a9 \uacf5\uaca9 \ubc29\uc5b4)\n    if data.Used {\n        // \ubcf4\uc548 \uc704\ud611: \uac19\uc740 family\uc758 \ubaa8\ub4e0 \ud1a0\ud070 \ubb34\ud6a8\ud654\n        s.revokeTokenFamily(data.TokenFamily)\n        return \"\", RefreshTokenData{}, fmt.Errorf(\"refresh token reuse detected - all tokens revoked\")\n    }\n\n    // 3. Client ID \ud655\uc778\n    if data.ClientID != clientID {\n        return \"\", RefreshTokenData{}, fmt.Errorf(\"client ID mismatch\")\n    }\n\n    // 4. \ub9cc\ub8cc \ud655\uc778\n    if time.Now().After(data.ExpiresAt) {\n        delete(s.tokens, token)\n        return \"\", RefreshTokenData{}, fmt.Errorf(\"refresh token expired\")\n    }\n\n    // 5. \ud604\uc7ac \ud1a0\ud070 \ubb34\ud6a8\ud654 (\uc77c\ud68c\uc6a9)\n    data.Used = true\n    s.tokens[token] = data\n\n    // 6. \uc0c8 Refresh Token \ubc1c\uae09 (Rotation)\n    b := make([]byte, 32)\n    if _, err := rand.Read(b); err != nil {\n        return \"\", RefreshTokenData{}, err\n    }\n    newToken = base64.URLEncoding.EncodeToString(b)\n\n    s.tokens[newToken] = RefreshTokenData{\n        UserID:      data.UserID,\n        ClientID:    data.ClientID,\n        Scope:       data.Scope,\n        ExpiresAt:   time.Now().Add(30 * 24 * time.Hour),\n        TokenFamily: data.TokenFamily, // \uac19\uc740 family \uc720\uc9c0\n        Used:        false,\n    }\n\n    // 7. \uc77c\uc815 \uc2dc\uac04 \ud6c4 \uc0ac\uc6a9\ub41c \ud1a0\ud070 \uc0ad\uc81c (grace period)\n    go func() {\n        time.Sleep(5 * time.Minute)\n        s.mu.Lock()\n        delete(s.tokens, token)\n        s.mu.Unlock()\n    }()\n\n    return newToken, data, nil\n}\n\n// Token Family \uc804\uccb4 \ubb34\ud6a8\ud654 (\uc7ac\uc0ac\uc6a9 \uacf5\uaca9 \uac10\uc9c0 \uc2dc)\nfunc (s *RefreshTokenStore) revokeTokenFamily(tokenFamily string) {\n    for token, data := range s.tokens {\n        if data.TokenFamily == tokenFamily {\n            delete(s.tokens, token)\n        }\n    }\n    fmt.Printf(\"\ud83d\udea8 Security Alert: Token family %s revoked due to reuse\\n\", tokenFamily)\n}\n\n// \ud14c\uc2a4\ud2b8\nfunc main() {\n    store := NewRefreshTokenStore()\n    tokenFamily := \"family-uuid-12345\"\n\n    // 1. \ucd08\uae30 Refresh Token \ubc1c\uae09\n    rt1, _ := store.Issue(\"user-123\", \"client-abc\", \"read write\", tokenFamily)\n    fmt.Printf(\"Initial Refresh Token: %s\\n\\n\", rt1)\n\n    // 2. \uc815\uc0c1 \uc0ac\uc6a9 (Rotation)\n    rt2, data, err := store.UseAndRotate(rt1, \"client-abc\")\n    if err != nil {\n        fmt.Printf(\"Error: %v\\n\", err)\n        return\n    }\n    fmt.Printf(\"\u2713 Token rotated successfully\\n\")\n    fmt.Printf(\"New Refresh Token: %s\\n\", rt2)\n    fmt.Printf(\"User: %s, Scope: %s\\n\\n\", data.UserID, data.Scope)\n\n    // 3. \uc7ac\uc0ac\uc6a9 \uacf5\uaca9 \uc2dc\ub3c4 (\uac19\uc740 \ud1a0\ud070 \uc7ac\uc0ac\uc6a9)\n    _, _, err = store.UseAndRotate(rt1, \"client-abc\")\n    if err != nil {\n        fmt.Printf(\"\u2713 Reuse attack detected: %v\\n\\n\", err)\n    }\n\n    // 4. \uc0c8 \ud1a0\ud070\ub3c4 \ubb34\ud6a8\ud654\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\n    _, _, err = store.UseAndRotate(rt2, \"client-abc\")\n    if err != nil {\n        fmt.Printf(\"\u2713 Token family revoked: %v\\n\", err)\n    }\n}\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc: <pre><code>Initial Refresh Token: abc123...\n\n\u2713 Token rotated successfully\nNew Refresh Token: def456...\nUser: user-123, Scope: read write\n\n\ud83d\udea8 Security Alert: Token family family-uuid-12345 revoked due to reuse\n\u2713 Reuse attack detected: refresh token reuse detected - all tokens revoked\n\n\u2713 Token family revoked: invalid refresh token\n</code></pre></p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#lab-5-dpop-demonstrating-proof-of-possession","title":"Lab 5: DPoP (Demonstrating Proof-of-Possession)","text":"<p>\ubaa9\ud45c: \ud1a0\ud070 \ud0c8\ucde8 \uacf5\uaca9\uc744 \ubc29\uc5b4\ud558\ub294 DPoP \uad6c\ud604 (2025 \ucd5c\uc2e0 \ubcf4\uc548 \uae30\ubc95)</p> <p>DPoP\ub294 Access Token\uc744 \ud2b9\uc815 \ud074\ub77c\uc774\uc5b8\ud2b8\uc758 \ud0a4\uc5d0 \ubc14\uc778\ub529\ud558\uc5ec, \ud1a0\ud070\uc744 \ud0c8\ucde8\ub2f9\ud574\ub3c4 \ub2e4\ub978 \uacf3\uc5d0\uc11c \uc0ac\uc6a9 \ubd88\uac00\ub2a5\ud558\uac8c \ub9cc\ub4ed\ub2c8\ub2e4.</p> <pre><code>// dpop.go\npackage main\n\nimport (\n    \"crypto/ecdsa\"\n    \"crypto/elliptic\"\n    \"crypto/rand\"\n    \"crypto/sha256\"\n    \"encoding/base64\"\n    \"encoding/json\"\n    \"fmt\"\n    \"time\"\n\n    \"github.com/golang-jwt/jwt/v5\"\n)\n\n// DPoP Proof JWT \uc0dd\uc131\nfunc createDPoPProof(privateKey *ecdsa.PrivateKey, httpMethod, httpURL, accessToken string) (string, error) {\n    // DPoP Proof Header\n    header := map[string]interface{}{\n        \"typ\": \"dpop+jwt\",\n        \"alg\": \"ES256\",\n        \"jwk\": map[string]interface{}{\n            \"kty\": \"EC\",\n            \"crv\": \"P-256\",\n            \"x\":   base64.RawURLEncoding.EncodeToString(privateKey.PublicKey.X.Bytes()),\n            \"y\":   base64.RawURLEncoding.EncodeToString(privateKey.PublicKey.Y.Bytes()),\n        },\n    }\n\n    // Access Token\uc758 \ud574\uc2dc (ath claim)\n    ath := \"\"\n    if accessToken != \"\" {\n        hash := sha256.Sum256([]byte(accessToken))\n        ath = base64.RawURLEncoding.EncodeToString(hash[:])\n    }\n\n    // DPoP Proof Claims\n    claims := jwt.MapClaims{\n        \"jti\": \"dpop-jti-12345\",\n        \"htm\": httpMethod,\n        \"htu\": httpURL,\n        \"iat\": time.Now().Unix(),\n        \"ath\": ath,\n    }\n\n    // JWT \uc0dd\uc131 (ES256)\n    token := jwt.NewWithClaims(jwt.SigningMethodES256, claims)\n    token.Header = header\n\n    return token.SignedString(privateKey)\n}\n\n// DPoP Proof \uac80\uc99d\nfunc verifyDPoPProof(dpopProof, expectedMethod, expectedURL, accessToken string) error {\n    // JWT \ud30c\uc2f1\n    token, err := jwt.Parse(dpopProof, func(token *jwt.Token) (interface{}, error) {\n        // \uc54c\uace0\ub9ac\uc998 \ud655\uc778\n        if token.Method.Alg() != jwt.SigningMethodES256.Alg() {\n            return nil, fmt.Errorf(\"unexpected signing method: %v\", token.Method.Alg())\n        }\n\n        // JWK\uc5d0\uc11c \uacf5\uac1c\ud0a4 \ucd94\ucd9c\n        jwk, ok := token.Header[\"jwk\"].(map[string]interface{})\n        if !ok {\n            return nil, fmt.Errorf(\"jwk header missing\")\n        }\n\n        // \uacf5\uac1c\ud0a4 \uc7ac\uad6c\uc131 (\uc2e4\uc81c \uad6c\ud604 \ud544\uc694)\n        // \uc5ec\uae30\uc11c\ub294 \uac04\ub7b5\ud654\n        return nil, fmt.Errorf(\"public key extraction not implemented\")\n    })\n\n    if err != nil {\n        return err\n    }\n\n    claims, ok := token.Claims.(jwt.MapClaims)\n    if !ok {\n        return fmt.Errorf(\"invalid claims\")\n    }\n\n    // htm \uac80\uc99d\n    if claims[\"htm\"] != expectedMethod {\n        return fmt.Errorf(\"htm mismatch\")\n    }\n\n    // htu \uac80\uc99d\n    if claims[\"htu\"] != expectedURL {\n        return fmt.Errorf(\"htu mismatch\")\n    }\n\n    // ath \uac80\uc99d (Access Token \ud574\uc2dc)\n    if accessToken != \"\" {\n        hash := sha256.Sum256([]byte(accessToken))\n        expectedAth := base64.RawURLEncoding.EncodeToString(hash[:])\n        if claims[\"ath\"] != expectedAth {\n            return fmt.Errorf(\"ath mismatch\")\n        }\n    }\n\n    return nil\n}\n\nfunc main() {\n    // 1. \ud074\ub77c\uc774\uc5b8\ud2b8 \ud0a4 \uc30d \uc0dd\uc131 (ES256)\n    privateKey, err := ecdsa.GenerateKey(elliptic.P256(), rand.Reader)\n    if err != nil {\n        panic(err)\n    }\n\n    // 2. DPoP Proof \uc0dd\uc131\n    dpopProof, err := createDPoPProof(\n        privateKey,\n        \"POST\",\n        \"https://api.kakaocloud.com/v1/storage\",\n        \"access-token-12345\",\n    )\n    if err != nil {\n        panic(err)\n    }\n\n    fmt.Println(\"DPoP Proof:\")\n    fmt.Println(dpopProof)\n    fmt.Println()\n\n    // 3. HTTP \uc694\uccad \uc608\uc2dc\n    fmt.Println(\"HTTP Request Example:\")\n    fmt.Println(\"POST /v1/storage HTTP/1.1\")\n    fmt.Println(\"Host: api.kakaocloud.com\")\n    fmt.Println(\"Authorization: DPoP access-token-12345\")\n    fmt.Printf(\"DPoP: %s\\n\", dpopProof)\n    fmt.Println()\n\n    // DPoP \uc0ac\uc6a9 \uc2dc \uc7a5\uc810\n    fmt.Println(\"\ud83d\udd12 DPoP Benefits:\")\n    fmt.Println(\"- Access Token\uc774 \ud0c8\ucde8\ub418\uc5b4\ub3c4, DPoP Proof \uc5c6\uc774\ub294 \uc0ac\uc6a9 \ubd88\uac00\")\n    fmt.Println(\"- \uac01 \uc694\uccad\ub9c8\ub2e4 \uc0c8\ub85c\uc6b4 DPoP Proof \uc0dd\uc131 (jti, iat \ubcc0\uacbd)\")\n    fmt.Println(\"- Replay \uacf5\uaca9 \ubc29\uc5b4\")\n}\n</code></pre>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>OAuth 2.1 / OIDC: - OAuth 2.1 Specification - OAuth 2.1 vs 2.0: What developers need to know - OAuth 2.1 and Modern Authentication Patterns - PKCE for OAuth 2.0 - What is PKCE? Flow Examples - Microsoft OAuth 2.0 Authorization Code Flow - OAuth 2.0 vs OIDC Best Practices 2025 - OAuth 2.1 vs OpenID Connect in 2025</p> <p>JWT: - golang-jwt/jwt GitHub - golang-jwt/jwt v5 Documentation - Token Parsing and Validation Guide - Implementing JWT Authentication in Go - JWT with Go Tutorial</p> <p>go-oidc: - go-oidc GitHub - go-oidc v3 Documentation - go-oidc README</p>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_7","title":"\ucd94\ucc9c \ud29c\ud1a0\ub9ac\uc5bc","text":"<ul> <li>Secure Express with OAuth 2.0, OIDC, PKCE</li> <li>OAuth 2.0 Security Best Practices: PKCE</li> </ul>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_8","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> OAuth 2.1\uc758 \uc8fc\uc694 \ubcc0\uacbd\uc0ac\ud56d \uc774\ud574 (PKCE \ud544\uc218, Implicit \uc81c\uac70)</li> <li> PKCE \ud50c\ub85c\uc6b0 \uc9c1\uc811 \uad6c\ud604</li> <li> JWT \ud1a0\ud070 \uc0dd\uc131 \ubc0f \uac80\uc99d (golang-jwt/jwt v5)</li> <li> ES256, RS256 \uc54c\uace0\ub9ac\uc998 \ube44\uad50 \ubc0f \uc120\ud0dd \uae30\uc900 \uc774\ud574</li> <li> go-oidc\ub85c \uc678\ubd80 IdP \uc5f0\ub3d9 (Google, Keycloak)</li> <li> Refresh Token Rotation \uad6c\ud604</li> <li> DPoP (Proof-of-Possession) \uac1c\ub150 \ud559\uc2b5</li> <li> \ud1a0\ud070 \uc7ac\uc0ac\uc6a9 \uacf5\uaca9 \uac10\uc9c0 \ubc0f \ub300\uc751 \uba54\ucee4\ub2c8\uc998 \uad6c\ud604</li> <li> \ud504\ub85c\ub355\uc158 \ud658\uacbd \ubcf4\uc548 \uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc791\uc131</li> </ul>"},{"location":"iam-storage-service/Ch2.OAuth_OIDC_JWT/#_9","title":"\ud83c\udfaf \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch3\uc5d0\uc11c\ub294 RBAC (Role-Based Access Control)**\uc640 **ABAC (Attribute-Based Access Control)**\uc744 \ud559\uc2b5\ud558\uace0, Go\uc758 **Casbin \ub77c\uc774\ube0c\ub7ec\ub9ac\ub97c \uc0ac\uc6a9\ud55c \uc815\ucc45 \uc5d4\uc9c4 \uad6c\ud604\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>Preview: - \uc5ed\ud560 \uae30\ubc18 \uad8c\ud55c \uad00\ub9ac (RBAC) \uc124\uacc4 - \uc18d\uc131 \uae30\ubc18 \uc811\uadfc \uc81c\uc5b4 (ABAC) \uad6c\ud604 - Casbin \uc815\ucc45 \ubaa8\ub378 \ubc0f Matcher \uc791\uc131 - \ub3d9\uc801 \uc5ed\ud560 \ud560\ub2f9 \ubc0f \uacc4\uce35 \uad6c\uc870</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/","title":"Ch3. RBAC &amp; ABAC \uc811\uadfc \uc81c\uc5b4 \ubaa8\ub378","text":""},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\ud604\ub300 \ud074\ub77c\uc6b0\ub4dc \uc11c\ube44\uc2a4\uc5d0\uc11c \ub204\uac00(Who) \ubb34\uc5c7\uc744(What) \ud560 \uc218 \uc788\ub294\uc9c0 \uacb0\uc815\ud558\ub294 \uc811\uadfc \uc81c\uc5b4 \uba54\ucee4\ub2c8\uc998\uc778 **RBAC (Role-Based Access Control)**\uc640 **ABAC (Attribute-Based Access Control)**\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_2","title":"\uc65c \uc911\uc694\ud55c\uac00?","text":"<p>KakaoCloud IAM \uc11c\ube44\uc2a4\uc5d0\uc11c\ub294 \uc218\ucc9c \uba85\uc758 \uc0ac\uc6a9\uc790\uc640 \uc218\ubc31 \uac1c\uc758 \ud504\ub85c\uc81d\ud2b8(\ud14c\ub10c\ud2b8)\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4. \ud6a8\uacfc\uc801\uc778 \uc811\uadfc \uc81c\uc5b4 \uc5c6\uc774\ub294:</p> <ul> <li>\u274c \uad8c\ud55c \uacfc\ub2e4 \ubd80\uc5ec (Over-privileged access)</li> <li>\u274c \uad8c\ud55c \uad00\ub9ac \ubcf5\uc7a1\ub3c4 \uc99d\uac00</li> <li>\u274c \ucef4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc704\ubc18 (GDPR, HIPAA \ub4f1)</li> <li>\u274c \ubcf4\uc548 \uc0ac\uace0 \ubc1c\uc0dd (\ub370\uc774\ud130 \uc720\ucd9c, \ubb34\ub2e8 \uc811\uadfc)</li> </ul> <p>2025\ub144 \ud604\uc7ac \ub300\ubd80\ubd84\uc758 \uae30\uc5c5\uc740 RBAC + ABAC \ud558\uc774\ube0c\ub9ac\ub4dc \ubaa8\ub378**\uc744 \ucc44\ud0dd\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4: - **RBAC: \uace0\uc218\uc900 \uc5ed\ud560 \uae30\ubc18 \uad8c\ud55c (Admin, Developer, Viewer) - ABAC: \uc138\ubc00\ud55c \ucee8\ud14d\uc2a4\ud2b8 \uae30\ubc18 \uc81c\uc5b4 (\uc2dc\uac04, \uc704\uce58, \ub9ac\uc18c\uc2a4 \ubbfc\uac10\ub3c4)</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_3","title":"\ud559\uc2b5 \ud6c4 \uc5bb\uc744 \uc218 \uc788\ub294 \uc5ed\ub7c9","text":"<ul> <li> RBAC \uc5ed\ud560 \uacc4\uce35 \uad6c\uc870 \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li> ABAC \uc815\ucc45 \ubaa8\ub378 \uc124\uacc4 \ubc0f \uc18d\uc131 \uc815\uc758</li> <li> Go\uc758 Casbin \ub77c\uc774\ube0c\ub7ec\ub9ac\ub85c \uc815\ucc45 \uc5d4\uc9c4 \uac1c\ubc1c</li> <li> \ud558\uc774\ube0c\ub9ac\ub4dc RBAC+ABAC \ubaa8\ub378 \uad6c\ud604</li> <li> Zero Trust \ud658\uacbd\uc5d0\uc11c\uc758 \ub3d9\uc801 \uad8c\ud55c \ud3c9\uac00</li> </ul>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#1-rbac-role-based-access-control","title":"1. RBAC (Role-Based Access Control)","text":"<p>**RBAC**\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc5ed\ud560(Role)\uc744 \ud560\ub2f9\ud558\uace0, \uc5ed\ud560\uc5d0 \uad8c\ud55c(Permission)\uc744 \ubd80\uc5ec\ud558\ub294 \ubaa8\ub378\uc785\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#rbac","title":"RBAC \uad6c\uc131 \uc694\uc18c","text":"<pre><code>User \u2192 Role \u2192 Permission \u2192 Resource\n</code></pre> <ul> <li>User: \uc8fc\uccb4 (\uc0ac\uc6a9\uc790, \uc11c\ube44\uc2a4 \uacc4\uc815)</li> <li>Role: \uc5ed\ud560 (Admin, Developer, Viewer)</li> <li>Permission: \uad8c\ud55c (read, write, delete)</li> <li>Resource: \ub300\uc0c1 (\ud30c\uc77c, API \uc5d4\ub4dc\ud3ec\uc778\ud2b8, \ub370\uc774\ud130\ubca0\uc774\uc2a4)</li> </ul>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#rbac-kakaocloud","title":"RBAC \uc5ed\ud560 \uacc4\uce35 \uc608\uc2dc (KakaoCloud)","text":"<pre><code>graph TD\n    SuperAdmin[Super Admin&lt;br/&gt;\uc804\uccb4 \uc2dc\uc2a4\ud15c \uad00\ub9ac]\n    TenantAdmin[Tenant Admin&lt;br/&gt;\ud504\ub85c\uc81d\ud2b8 \uad00\ub9ac]\n    ProjectOwner[Project Owner&lt;br/&gt;\ub9ac\uc18c\uc2a4 \uc0dd\uc131/\uc0ad\uc81c]\n    Developer[Developer&lt;br/&gt;\uc77d\uae30/\uc4f0\uae30]\n    Viewer[Viewer&lt;br/&gt;\uc77d\uae30 \uc804\uc6a9]\n\n    SuperAdmin --&gt; TenantAdmin\n    TenantAdmin --&gt; ProjectOwner\n    ProjectOwner --&gt; Developer\n    Developer --&gt; Viewer\n\n    style SuperAdmin fill:#ff6b6b\n    style TenantAdmin fill:#ffa500\n    style ProjectOwner fill:#ffd700\n    style Developer fill:#87ceeb\n    style Viewer fill:#90ee90</code></pre> <p>\uc0c1\uc18d \uaddc\uce59: \uc0c1\uc704 \uc5ed\ud560\uc740 \ud558\uc704 \uc5ed\ud560\uc758 \ubaa8\ub4e0 \uad8c\ud55c\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#rbac-vs","title":"RBAC \uc7a5\uc810 vs \ub2e8\uc810","text":"\uc7a5\uc810 \ub2e8\uc810 \u2705 \ub2e8\uc21c\ud558\uace0 \uc774\ud574\ud558\uae30 \uc26c\uc6c0 \u274c \uc5ed\ud560 \ud3ed\ubc1c \ubb38\uc81c (Role Explosion) \u2705 \uad6c\ud604 \ubc0f \uad00\ub9ac \uc6a9\uc774 \u274c \ub3d9\uc801 \ucee8\ud14d\uc2a4\ud2b8 \ucc98\ub9ac \ubd88\uac00 \u2705 \uac10\uc0ac \ucd94\uc801 \uac04\ub2e8 \u274c \uc138\ubc00\ud55c \uc81c\uc5b4 \uc5b4\ub824\uc6c0 \u2705 \uc548\uc815\uc801\uc778 \uc870\uc9c1 \uad6c\uc870\uc5d0 \uc801\ud569 \u274c \uc608\uc678 \ucc98\ub9ac \ubcf5\uc7a1 <p>\uc5ed\ud560 \ud3ed\ubc1c \uc608\uc2dc: <pre><code>Admin\nAdmin_ReadOnly\nAdmin_Finance\nAdmin_Finance_ReadOnly\nDeveloper\nDeveloper_Backend\nDeveloper_Frontend\nDeveloper_Backend_Senior\n...\n</code></pre> \u2192 \uc5ed\ud560\uc774 \ubb34\ud55c\ud788 \uc99d\uac00\ud558\ub294 \ubb38\uc81c!</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#2-abac-attribute-based-access-control","title":"2. ABAC (Attribute-Based Access Control)","text":"<p>**ABAC**\ub294 \uc0ac\uc6a9\uc790, \ub9ac\uc18c\uc2a4, \ud658\uacbd\uc758 **\uc18d\uc131(Attribute)**\uc744 \uae30\ubc18\uc73c\ub85c \ub3d9\uc801\uc73c\ub85c \uad8c\ud55c\uc744 \ud3c9\uac00\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#abac","title":"ABAC \uad6c\uc131 \uc694\uc18c","text":"<pre><code>if (user.department == \"Engineering\" AND\n    resource.classification == \"Public\" AND\n    environment.time BETWEEN 9am-6pm AND\n    environment.location IN [\"Office\", \"VPN\"])\nthen ALLOW\n</code></pre> <p>\uc18d\uc131 \uc720\ud615:</p> <ol> <li>Subject Attributes (\uc8fc\uccb4 \uc18d\uc131):</li> <li><code>user.id</code>, <code>user.role</code>, <code>user.department</code>, <code>user.clearance_level</code></li> <li> <p><code>user.employment_type</code> (\uc815\uaddc\uc9c1, \uacc4\uc57d\uc9c1)</p> </li> <li> <p>Resource Attributes (\ub9ac\uc18c\uc2a4 \uc18d\uc131):</p> </li> <li><code>resource.owner</code>, <code>resource.project_id</code>, <code>resource.classification</code></li> <li> <p><code>resource.creation_date</code>, <code>resource.sensitivity</code></p> </li> <li> <p>Action Attributes (\ub3d9\uc791 \uc18d\uc131):</p> </li> <li><code>action.type</code> (read, write, delete, execute)</li> <li> <p><code>action.scope</code> (single, bulk)</p> </li> <li> <p>Environment Attributes (\ud658\uacbd \uc18d\uc131):</p> </li> <li><code>environment.time</code>, <code>environment.location</code>, <code>environment.ip_address</code></li> <li><code>environment.device_trust_level</code>, <code>environment.network_type</code></li> </ol>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#abac_1","title":"ABAC \ud3c9\uac00 \ud750\ub984","text":"<pre><code>graph LR\n    Request[Access Request] --&gt; PDP[Policy Decision Point]\n    PDP --&gt; PIP[Policy Information Point]\n    PIP --&gt; |Fetch Attributes|DB[(Attribute Store)]\n    PDP --&gt; |Evaluate Policy|Decision{Allow/Deny}\n    Decision --&gt; |Allow|PEP[Policy Enforcement Point]\n    Decision --&gt; |Deny|Reject[Reject]\n    PEP --&gt; Resource[Access Resource]\n\n    style PDP fill:#4ecdc4\n    style PEP fill:#95e1d3\n    style Decision fill:#ffd166</code></pre>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#abac-vs","title":"ABAC \uc7a5\uc810 vs \ub2e8\uc810","text":"\uc7a5\uc810 \ub2e8\uc810 \u2705 \uc138\ubc00\ud55c \uc81c\uc5b4 (Fine-grained) \u274c \ucd08\uae30 \uc124\uc815 \ubcf5\uc7a1 \u2705 \ub3d9\uc801 \ucee8\ud14d\uc2a4\ud2b8 \uc9c0\uc6d0 \u274c \uc131\ub2a5 \uc624\ubc84\ud5e4\ub4dc \u2705 \uc5ed\ud560 \ud3ed\ubc1c \ubc29\uc9c0 \u274c \ub514\ubc84\uae45 \uc5b4\ub824\uc6c0 \u2705 Zero Trust\uc5d0 \uc801\ud569 \u274c \uc804\ubb38 \uc9c0\uc2dd \ud544\uc694"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#3-rbac-vs-abac-2025","title":"3. RBAC vs ABAC \ube44\uad50 (2025\ub144 \uad00\uc810)","text":"\ud56d\ubaa9 RBAC ABAC \ubcf5\uc7a1\ub3c4 \ub0ae\uc74c \ub192\uc74c \uc138\ubc00\ud568 \ub0ae\uc74c \ub9e4\uc6b0 \ub192\uc74c \uad6c\ud604 \uc2dc\uac04 \ube60\ub984 (1-2\uc8fc) \ub290\ub9bc (1-2\uac1c\uc6d4) \uad00\ub9ac \ube44\uc6a9 \ub0ae\uc74c \ub192\uc74c \ub3d9\uc801 \uc81c\uc5b4 \ubd88\uac00\ub2a5 \uac00\ub2a5 Zero Trust \ubd80\uc801\ud569 \uc801\ud569 \uc0ac\uc6a9 \uc0ac\ub840 \uc548\uc815\uc801 \uc870\uc9c1 \uad6c\uc870 \uaddc\uc81c \uc900\uc218, \ubbfc\uac10 \ub370\uc774\ud130 \uc131\ub2a5 \u26a1\u26a1\u26a1 \ube60\ub984 \u26a1\u26a1 \ubcf4\ud1b5 (\uc18d\uc131 \uc870\ud68c \ud544\uc694) <p>2025 \uad8c\uc7a5\uc0ac\ud56d (\ud558\uc774\ube0c\ub9ac\ub4dc \ubaa8\ub378): <pre><code>RBAC (\uae30\ubcf8 \uc5ed\ud560 \uc815\uc758) + ABAC (\uc138\ubc00\ud55c \uc81c\uc5b4)\n</code></pre></p> <p>\uc608\uc2dc: - RBAC: <code>Developer</code> \uc5ed\ud560 \ud560\ub2f9 \u2192 \ubaa8\ub4e0 \uac1c\ubc1c \ub9ac\uc18c\uc2a4 \uc811\uadfc - ABAC: \"\ub2e8, \uadfc\ubb34 \uc2dc\uac04(9am-6pm)\uc5d0\ub9cc\" + \"\uc790\uc2e0\uc774 \uc18c\uc720\ud55c \ud504\ub85c\uc81d\ud2b8\ub9cc\" + \"VPN \uc5f0\uacb0 \uc2dc\uc5d0\ub9cc\"</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#4-casbin","title":"4. Casbin \uc815\ucc45 \uc5d4\uc9c4","text":"<p>**Casbin**\uc740 Go\ub85c \uc791\uc131\ub41c \uac15\ub825\ud55c \uc624\ud508\uc18c\uc2a4 \uc811\uadfc \uc81c\uc5b4 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4.</p> <p>\uc9c0\uc6d0 \ubaa8\ub378: - ACL, RBAC, ABAC, ReBAC, PBAC, LBAC, Priority, RESTful \ub4f1</p> <p>\uc8fc\uc694 \ud2b9\uc9d5: - \u2705 \uc815\ucc45\uc744 \ucf54\ub4dc\uc640 \ubd84\ub9ac (\uc678\ubd80 \ud30c\uc77c, DB \uc800\uc7a5) - \u2705 \ub2e4\uc591\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \ubc31\uc5d4\ub4dc (MySQL, PostgreSQL, Redis, MongoDB, S3 \ub4f1) - \u2705 \uc628\ub77c\uc778 \uc5d0\ub514\ud130 \uc81c\uacf5 (casbin.org/editor) - \u2705 Management API + RBAC API</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#casbin","title":"Casbin \uad6c\uc131 \uc694\uc18c","text":"<p>1. Model (\ubaa8\ub378 \uc815\uc758) - <code>model.conf</code>: <pre><code>[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) &amp;&amp; r.obj == p.obj &amp;&amp; r.act == p.act\n</code></pre></p> <p>2. Policy (\uc815\ucc45 \ub370\uc774\ud130) - <code>policy.csv</code>: <pre><code>p, alice, data1, read\np, bob, data2, write\ng, alice, admin\n</code></pre></p> <p>3. Enforcer (\uc2e4\ud589 \uc5d4\uc9c4): <pre><code>e, _ := casbin.NewEnforcer(\"model.conf\", \"policy.csv\")\nallowed, _ := e.Enforce(\"alice\", \"data1\", \"read\")\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#lab-1-rbac-casbin","title":"Lab 1: RBAC \uad6c\ud604 (Casbin)","text":"<p>\ubaa9\ud45c: Casbin\uc744 \uc0ac\uc6a9\ud55c \uacc4\uce35\uc801 RBAC \uc2dc\uc2a4\ud15c \uad6c\ucd95</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#1","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>mkdir rbac-demo &amp;&amp; cd rbac-demo\ngo mod init rbac-demo\ngo get github.com/casbin/casbin/v2\n</code></pre>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#2-rbac","title":"2\ub2e8\uacc4: RBAC \ubaa8\ub378 \uc815\uc758","text":"<p><code>model.conf</code>: <pre><code>[request_definition]\n# sub: \uc8fc\uccb4 (\uc0ac\uc6a9\uc790), obj: \uac1d\uccb4 (\ub9ac\uc18c\uc2a4), act: \ub3d9\uc791\nr = sub, obj, act\n\n[policy_definition]\n# \uc815\ucc45 \uaddc\uce59: \ub204\uac00(sub) \ubb34\uc5c7\uc744(obj) \uc5b4\ub5bb\uac8c(act) \ud560 \uc218 \uc788\ub294\uac00\np = sub, obj, act\n\n[role_definition]\n# \uc5ed\ud560 \uacc4\uce35: g(\uc0ac\uc6a9\uc790, \uc5ed\ud560) \ub610\ub294 g(\uc5ed\ud560, \uc0c1\uc704\uc5ed\ud560)\ng = _, _\n\n[policy_effect]\n# \ud5c8\uc6a9 \uc815\ucc45\uc774 \ud558\ub098\ub77c\ub3c4 \uc788\uc73c\uba74 Allow\ne = some(where (p.eft == allow))\n\n[matchers]\n# \ub9e4\uce6d \uaddc\uce59: \uc0ac\uc6a9\uc790\uac00 \ud574\ub2f9 \uc5ed\ud560\uc744 \uac00\uc9c0\uace0 \uc788\uace0, \ub9ac\uc18c\uc2a4\uc640 \ub3d9\uc791\uc774 \uc77c\uce58\ud558\uba74 \ud5c8\uc6a9\nm = g(r.sub, p.sub) &amp;&amp; r.obj == p.obj &amp;&amp; r.act == p.act\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#3","title":"3\ub2e8\uacc4: \uc815\ucc45 \ub370\uc774\ud130 \uc815\uc758","text":"<p><code>policy.csv</code>: <pre><code># \uc5ed\ud560\ubcc4 \uad8c\ud55c (p, role, resource, action)\np, admin, /api/*, *\np, developer, /api/projects, read\np, developer, /api/projects, write\np, viewer, /api/projects, read\n\n# \uc0ac\uc6a9\uc790 \uc5ed\ud560 \ud560\ub2f9 (g, user, role)\ng, alice, admin\ng, bob, developer\ng, charlie, viewer\n\n# \uc5ed\ud560 \uacc4\uce35 (g, child_role, parent_role)\ng, developer, viewer\n</code></pre></p> <p>\ud574\uc11d: - <code>admin</code>: \ubaa8\ub4e0 API \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc5d0 \ub300\ud574 \ubaa8\ub4e0 \ub3d9\uc791 \uac00\ub2a5 - <code>developer</code>: <code>/api/projects</code>\uc5d0 \ub300\ud574 read, write \uac00\ub2a5 - <code>viewer</code>: <code>/api/projects</code>\uc5d0 \ub300\ud574 read\ub9cc \uac00\ub2a5 - <code>developer</code> \uc5ed\ud560\uc740 <code>viewer</code>\uc758 \ubaa8\ub4e0 \uad8c\ud55c\uc744 \uc0c1\uc18d</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#4-go","title":"4\ub2e8\uacc4: Go \ucf54\ub4dc \uad6c\ud604","text":"<pre><code>// main.go\npackage main\n\nimport (\n    \"fmt\"\n    \"log\"\n\n    \"github.com/casbin/casbin/v2\"\n)\n\nfunc main() {\n    // 1. Enforcer \uc0dd\uc131\n    e, err := casbin.NewEnforcer(\"model.conf\", \"policy.csv\")\n    if err != nil {\n        log.Fatalf(\"Failed to create enforcer: %v\", err)\n    }\n\n    // 2. \uad8c\ud55c \uac80\uc0ac\n    testCases := []struct {\n        user     string\n        resource string\n        action   string\n    }{\n        {\"alice\", \"/api/users\", \"delete\"},        // admin\n        {\"bob\", \"/api/projects\", \"write\"},        // developer\n        {\"bob\", \"/api/projects\", \"read\"},         // developer (\uc0c1\uc18d\ub41c \uad8c\ud55c)\n        {\"charlie\", \"/api/projects\", \"read\"},     // viewer\n        {\"charlie\", \"/api/projects\", \"write\"},    // \uac70\ubd80\ub418\uc5b4\uc57c \ud568\n        {\"bob\", \"/api/users\", \"read\"},            // \uac70\ubd80\ub418\uc5b4\uc57c \ud568\n    }\n\n    fmt.Println(\"=== RBAC Authorization Tests ===\\n\")\n    for _, tc := range testCases {\n        allowed, err := e.Enforce(tc.user, tc.resource, tc.action)\n        if err != nil {\n            log.Printf(\"Error checking %s: %v\", tc.user, err)\n            continue\n        }\n\n        result := \"\u2713 ALLOW\"\n        if !allowed {\n            result = \"\u2717 DENY\"\n        }\n        fmt.Printf(\"%s | User: %s | Resource: %s | Action: %s\\n\",\n            result, tc.user, tc.resource, tc.action)\n    }\n\n    // 3. \ub3d9\uc801\uc73c\ub85c \uc815\ucc45 \ucd94\uac00\n    fmt.Println(\"\\n=== Dynamic Policy Management ===\\n\")\n\n    // \uc0c8 \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc5ed\ud560 \ud560\ub2f9\n    added, err := e.AddGroupingPolicy(\"david\", \"developer\")\n    if err == nil &amp;&amp; added {\n        fmt.Println(\"\u2713 Assigned 'developer' role to david\")\n    }\n\n    // \uac80\uc99d\n    allowed, _ := e.Enforce(\"david\", \"/api/projects\", \"write\")\n    if allowed {\n        fmt.Println(\"\u2713 david can now write to /api/projects\")\n    }\n\n    // \uc5ed\ud560 \uc81c\uac70\n    removed, err := e.RemoveGroupingPolicy(\"david\", \"developer\")\n    if err == nil &amp;&amp; removed {\n        fmt.Println(\"\u2713 Removed 'developer' role from david\")\n    }\n\n    // 4. \uc0ac\uc6a9\uc790\uc758 \ubaa8\ub4e0 \uc5ed\ud560 \uc870\ud68c\n    fmt.Println(\"\\n=== User Roles ===\\n\")\n    roles := e.GetRolesForUser(\"bob\")\n    fmt.Printf(\"bob's roles: %v\\n\", roles)\n\n    // \uc5ed\ud560\uc758 \ubaa8\ub4e0 \uc0ac\uc6a9\uc790 \uc870\ud68c\n    users := e.GetUsersForRole(\"developer\")\n    fmt.Printf(\"Users with 'developer' role: %v\\n\", users)\n\n    // 5. \uc5ed\ud560\uc758 \ubaa8\ub4e0 \uad8c\ud55c \uc870\ud68c\n    fmt.Println(\"\\n=== Role Permissions ===\\n\")\n    permissions := e.GetPermissionsForUser(\"developer\")\n    fmt.Printf(\"'developer' role permissions:\\n\")\n    for _, perm := range permissions {\n        fmt.Printf(\"  - Resource: %s, Action: %s\\n\", perm[1], perm[2])\n    }\n\n    // 6. \uc815\ucc45 \uc800\uc7a5 (\ubcc0\uacbd \uc0ac\ud56d \uc720\uc9c0)\n    err = e.SavePolicy()\n    if err != nil {\n        log.Printf(\"Failed to save policy: %v\", err)\n    } else {\n        fmt.Println(\"\\n\u2713 Policy saved successfully\")\n    }\n}\n</code></pre>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#5","title":"5\ub2e8\uacc4: \uc2e4\ud589 \ubc0f \uacb0\uacfc","text":"<pre><code>$ go run main.go\n\n=== RBAC Authorization Tests ===\n\n\u2713 ALLOW | User: alice | Resource: /api/users | Action: delete\n\u2713 ALLOW | User: bob | Resource: /api/projects | Action: write\n\u2713 ALLOW | User: bob | Resource: /api/projects | Action: read\n\u2713 ALLOW | User: charlie | Resource: /api/projects | Action: read\n\u2717 DENY | User: charlie | Resource: /api/projects | Action: write\n\u2717 DENY | User: bob | Resource: /api/users | Action: read\n\n=== Dynamic Policy Management ===\n\n\u2713 Assigned 'developer' role to david\n\u2713 david can now write to /api/projects\n\u2713 Removed 'developer' role from david\n\n=== User Roles ===\n\nbob's roles: [developer]\nUsers with 'developer' role: [bob]\n\n=== Role Permissions ===\n\n'developer' role permissions:\n  - Resource: /api/projects, Action: read\n  - Resource: /api/projects, Action: write\n\n\u2713 Policy saved successfully\n</code></pre>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#lab-2-abac-casbin","title":"Lab 2: ABAC \uad6c\ud604 (Casbin)","text":"<p>\ubaa9\ud45c: \uc18d\uc131 \uae30\ubc18\uc758 \uc138\ubc00\ud55c \uc811\uadfc \uc81c\uc5b4 \uad6c\ud604</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#1-abac","title":"1\ub2e8\uacc4: ABAC \ubaa8\ub378 \uc815\uc758","text":"<p><code>abac_model.conf</code>: <pre><code>[request_definition]\n# sub: \uc0ac\uc6a9\uc790 \uac1d\uccb4, obj: \ub9ac\uc18c\uc2a4 \uac1d\uccb4, act: \ub3d9\uc791\nr = sub, obj, act\n\n[policy_definition]\np = sub_rule, obj_rule, act\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\n# ABAC \ub9e4\ucc98: \uc18d\uc131 \uae30\ubc18 \ud3c9\uac00\nm = eval(p.sub_rule) &amp;&amp; eval(p.obj_rule) &amp;&amp; r.act == p.act\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#2-abac","title":"2\ub2e8\uacc4: ABAC \uc815\ucc45 \ub370\uc774\ud130","text":"<p><code>abac_policy.csv</code>: <pre><code># \uc815\ucc45: (\uc8fc\uccb4 \uaddc\uce59, \uac1d\uccb4 \uaddc\uce59, \ub3d9\uc791)\n# \"\uc790\uc2e0\uc758 \ub9ac\uc18c\uc2a4\ub9cc \uc77d\uae30 \uac00\ub2a5\"\np, r.sub.ID == r.obj.Owner, r.obj.Status == \"Active\", read\n\n# \"Admin\uc740 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uc77d\uae30 \uac00\ub2a5\"\np, r.sub.Role == \"Admin\", , read\n\n# \"\uadfc\ubb34 \uc2dc\uac04(9-18\uc2dc)\uc5d0\ub9cc \uc4f0\uae30 \uac00\ub2a5\"\np, r.sub.Role == \"Developer\" &amp;&amp; r.sub.WorkingHours == true, r.obj.Classification != \"Confidential\", write\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#3-go","title":"3\ub2e8\uacc4: Go \uad6c\uc870\uccb4 \ubc0f \ucf54\ub4dc","text":"<pre><code>// abac.go\npackage main\n\nimport (\n    \"fmt\"\n    \"log\"\n    \"time\"\n\n    \"github.com/casbin/casbin/v2\"\n)\n\n// \uc8fc\uccb4 (\uc0ac\uc6a9\uc790)\ntype Subject struct {\n    ID           string\n    Name         string\n    Role         string\n    Department   string\n    WorkingHours bool\n}\n\n// \uac1d\uccb4 (\ub9ac\uc18c\uc2a4)\ntype Resource struct {\n    ID             string\n    Owner          string\n    Classification string // Public, Internal, Confidential\n    Status         string // Active, Archived\n    ProjectID      string\n}\n\n// \uc8fc\uccb4\ub97c Casbin\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ud615\ud0dc\ub85c \ubcc0\ud658\nfunc (s Subject) ToCasbinObj() map[string]interface{} {\n    return map[string]interface{}{\n        \"ID\":           s.ID,\n        \"Name\":         s.Name,\n        \"Role\":         s.Role,\n        \"Department\":   s.Department,\n        \"WorkingHours\": s.WorkingHours,\n    }\n}\n\n// \ub9ac\uc18c\uc2a4\ub97c Casbin\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \ud615\ud0dc\ub85c \ubcc0\ud658\nfunc (r Resource) ToCasbinObj() map[string]interface{} {\n    return map[string]interface{}{\n        \"ID\":             r.ID,\n        \"Owner\":          r.Owner,\n        \"Classification\": r.Classification,\n        \"Status\":         r.Status,\n        \"ProjectID\":      r.ProjectID,\n    }\n}\n\n// \ud604\uc7ac \uc2dc\uac04\uc774 \uadfc\ubb34 \uc2dc\uac04\uc778\uc9c0 \ud655\uc778\nfunc isWorkingHours() bool {\n    hour := time.Now().Hour()\n    return hour &gt;= 9 &amp;&amp; hour &lt; 18\n}\n\nfunc main() {\n    // Enforcer \uc0dd\uc131\n    e, err := casbin.NewEnforcer(\"abac_model.conf\", \"abac_policy.csv\")\n    if err != nil {\n        log.Fatalf(\"Failed to create enforcer: %v\", err)\n    }\n\n    // \ud14c\uc2a4\ud2b8 \ub370\uc774\ud130\n    alice := Subject{\n        ID:           \"user-001\",\n        Name:         \"Alice\",\n        Role:         \"Developer\",\n        Department:   \"Engineering\",\n        WorkingHours: isWorkingHours(),\n    }\n\n    bob := Subject{\n        ID:           \"user-002\",\n        Name:         \"Bob\",\n        Role:         \"Admin\",\n        Department:   \"Operations\",\n        WorkingHours: true,\n    }\n\n    resource1 := Resource{\n        ID:             \"res-001\",\n        Owner:          \"user-001\", // Alice \uc18c\uc720\n        Classification: \"Public\",\n        Status:         \"Active\",\n        ProjectID:      \"project-A\",\n    }\n\n    resource2 := Resource{\n        ID:             \"res-002\",\n        Owner:          \"user-003\", // \ub2e4\ub978 \uc0ac\ub78c \uc18c\uc720\n        Classification: \"Confidential\",\n        Status:         \"Active\",\n        ProjectID:      \"project-B\",\n    }\n\n    resource3 := Resource{\n        ID:             \"res-003\",\n        Owner:          \"user-001\",\n        Classification: \"Internal\",\n        Status:         \"Archived\",\n        ProjectID:      \"project-A\",\n    }\n\n    fmt.Println(\"=== ABAC Authorization Tests ===\\n\")\n    fmt.Printf(\"Current Time: %s (Working Hours: %v)\\n\\n\", time.Now().Format(\"15:04\"), alice.WorkingHours)\n\n    // \ud14c\uc2a4\ud2b8 \ucf00\uc774\uc2a4\n    testCases := []struct {\n        subject  Subject\n        resource Resource\n        action   string\n        expected string\n    }{\n        {alice, resource1, \"read\", \"\uc790\uc2e0\uc758 \ub9ac\uc18c\uc2a4 \uc77d\uae30\"},\n        {alice, resource1, \"write\", \"\uadfc\ubb34\uc2dc\uac04 &amp; Public \ub9ac\uc18c\uc2a4 \uc4f0\uae30\"},\n        {alice, resource2, \"read\", \"\ud0c0\uc778\uc758 \ub9ac\uc18c\uc2a4 \uc77d\uae30 (\uac70\ubd80)\"},\n        {alice, resource2, \"write\", \"Confidential \ub9ac\uc18c\uc2a4 \uc4f0\uae30 (\uac70\ubd80)\"},\n        {bob, resource2, \"read\", \"Admin\uc758 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uc77d\uae30\"},\n        {alice, resource3, \"read\", \"Archived \ub9ac\uc18c\uc2a4 \uc77d\uae30 (\uac70\ubd80)\"},\n    }\n\n    for _, tc := range testCases {\n        allowed, err := e.Enforce(tc.subject.ToCasbinObj(), tc.resource.ToCasbinObj(), tc.action)\n        if err != nil {\n            log.Printf(\"Error: %v\", err)\n            continue\n        }\n\n        result := \"\u2713 ALLOW\"\n        if !allowed {\n            result = \"\u2717 DENY\"\n        }\n\n        fmt.Printf(\"%s | %s (%s) | %s | %s | %s\\n\",\n            result,\n            tc.subject.Name,\n            tc.subject.Role,\n            tc.action,\n            tc.resource.ID,\n            tc.expected,\n        )\n    }\n\n    // \ucee4\uc2a4\ud140 \ud568\uc218 \ub4f1\ub85d (\ubcf5\uc7a1\ud55c \ub85c\uc9c1)\n    fmt.Println(\"\\n=== Custom Function Example ===\\n\")\n\n    e.AddFunction(\"timeInRange\", func(args ...interface{}) (interface{}, error) {\n        start := args[0].(int)\n        end := args[1].(int)\n        current := time.Now().Hour()\n        return current &gt;= start &amp;&amp; current &lt; end, nil\n    })\n\n    // \uc0c8\ub85c\uc6b4 \uc815\ucc45 \ucd94\uac00\n    _, err = e.AddPolicy(\n        \"r.sub.Role == \\\"Developer\\\" &amp;&amp; timeInRange(9, 18)\",\n        \"r.obj.Classification == \\\"Public\\\"\",\n        \"delete\",\n    )\n    if err == nil {\n        fmt.Println(\"\u2713 Added time-based policy\")\n    }\n\n    // \uac80\uc99d\n    allowed, _ := e.Enforce(alice.ToCasbinObj(), resource1.ToCasbinObj(), \"delete\")\n    if allowed {\n        fmt.Printf(\"\u2713 Alice can delete public resources during working hours (current: %d:00)\\n\", time.Now().Hour())\n    } else {\n        fmt.Printf(\"\u2717 Alice cannot delete resources (current: %d:00)\\n\", time.Now().Hour())\n    }\n}\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc: <pre><code>=== ABAC Authorization Tests ===\n\nCurrent Time: 14:30 (Working Hours: true)\n\n\u2713 ALLOW | Alice (Developer) | read | res-001 | \uc790\uc2e0\uc758 \ub9ac\uc18c\uc2a4 \uc77d\uae30\n\u2713 ALLOW | Alice (Developer) | write | res-001 | \uadfc\ubb34\uc2dc\uac04 &amp; Public \ub9ac\uc18c\uc2a4 \uc4f0\uae30\n\u2717 DENY | Alice (Developer) | read | res-002 | \ud0c0\uc778\uc758 \ub9ac\uc18c\uc2a4 \uc77d\uae30 (\uac70\ubd80)\n\u2717 DENY | Alice (Developer) | write | res-002 | Confidential \ub9ac\uc18c\uc2a4 \uc4f0\uae30 (\uac70\ubd80)\n\u2713 ALLOW | Bob (Admin) | read | res-002 | Admin\uc758 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uc77d\uae30\n\u2717 DENY | Alice (Developer) | read | res-003 | Archived \ub9ac\uc18c\uc2a4 \uc77d\uae30 (\uac70\ubd80)\n\n=== Custom Function Example ===\n\n\u2713 Added time-based policy\n\u2713 Alice can delete public resources during working hours (current: 14:00)\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#lab-3-rbac-abac","title":"Lab 3: \ud558\uc774\ube0c\ub9ac\ub4dc RBAC + ABAC","text":"<p>\ubaa9\ud45c: RBAC\uc758 \ub2e8\uc21c\ud568 + ABAC\uc758 \uc138\ubc00\ud568\uc744 \uacb0\ud569</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_5","title":"\ubaa8\ub378 \uc815\uc758","text":"<p><code>hybrid_model.conf</code>: <pre><code>[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act, eft\n\n[role_definition]\ng = _, _\n\n[policy_effect]\n# \uba85\uc2dc\uc801 \uac70\ubd80(deny)\uac00 \uc788\uc73c\uba74 \uac70\ubd80, \uc5c6\uc73c\uba74 \ud5c8\uc6a9 \uc815\ucc45 \ud655\uc778\ne = some(where (p.eft == allow)) &amp;&amp; !some(where (p.eft == deny))\n\n[matchers]\n# RBAC (\uc5ed\ud560 \uae30\ubc18) + ABAC (\uc18d\uc131 \uae30\ubc18)\nm = g(r.sub, p.sub) &amp;&amp; r.obj == p.obj &amp;&amp; r.act == p.act || \\\n    eval(p.sub) &amp;&amp; eval(p.obj) &amp;&amp; r.act == p.act\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_6","title":"\ud558\uc774\ube0c\ub9ac\ub4dc \uc815\ucc45","text":"<p><code>hybrid_policy.csv</code>: <pre><code># === RBAC \uc815\ucc45 ===\n# \uc5ed\ud560 \uc815\uc758\np, admin, *, *, allow\np, developer, /api/projects/*, read, allow\np, developer, /api/projects/*, write, allow\n\n# \uc0ac\uc6a9\uc790 \uc5ed\ud560\ng, alice, developer\n\n# === ABAC \uc815\ucc45 (\uc138\ubc00\ud55c \uc81c\uc5b4) ===\n# \"\uc790\uc2e0\uc758 \ub9ac\uc18c\uc2a4\uac00 \uc544\ub2c8\uba74 \uac70\ubd80\"\np, r.sub.ID != r.obj.Owner, , write, deny\n\n# \"\uadfc\ubb34 \uc2dc\uac04 \uc678 \uc4f0\uae30 \uac70\ubd80\"\np, r.sub.WorkingHours == false, , write, deny\n\n# \"Confidential \ub9ac\uc18c\uc2a4\ub294 Admin\ub9cc \uc811\uadfc\"\np, r.sub.Role != \"Admin\", r.obj.Classification == \"Confidential\", *, deny\n</code></pre></p> <p>\ud574\uc11d: 1. RBAC \ub808\uc774\uc5b4: <code>developer</code> \uc5ed\ud560\uc740 <code>/api/projects/*</code>\uc5d0 read/write \uac00\ub2a5 2. ABAC \ub808\uc774\uc5b4:    - \uc790\uc2e0\uc758 \ub9ac\uc18c\uc2a4\uac00 \uc544\ub2c8\uba74 write \uac70\ubd80    - \uadfc\ubb34 \uc2dc\uac04 \uc678\uc5d0\ub294 write \uac70\ubd80    - Confidential \ub9ac\uc18c\uc2a4\ub294 Admin\ub9cc \uc811\uadfc</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#go","title":"Go \uad6c\ud604","text":"<pre><code>// hybrid.go\npackage main\n\nimport (\n    \"fmt\"\n    \"log\"\n\n    \"github.com/casbin/casbin/v2\"\n)\n\nfunc main() {\n    e, err := casbin.NewEnforcer(\"hybrid_model.conf\", \"hybrid_policy.csv\")\n    if err != nil {\n        log.Fatalf(\"Failed to create enforcer: %v\", err)\n    }\n\n    // Alice (Developer, \uadfc\ubb34 \uc2dc\uac04 \uc911)\n    alice := map[string]interface{}{\n        \"ID\":           \"user-001\",\n        \"Role\":         \"Developer\",\n        \"WorkingHours\": true,\n    }\n\n    // \ub9ac\uc18c\uc2a4\n    ownResource := map[string]interface{}{\n        \"ID\":             \"res-001\",\n        \"Owner\":          \"user-001\",\n        \"Classification\": \"Public\",\n    }\n\n    othersResource := map[string]interface{}{\n        \"ID\":             \"res-002\",\n        \"Owner\":          \"user-999\",\n        \"Classification\": \"Internal\",\n    }\n\n    confidentialResource := map[string]interface{}{\n        \"ID\":             \"res-003\",\n        \"Owner\":          \"user-001\",\n        \"Classification\": \"Confidential\",\n    }\n\n    fmt.Println(\"=== Hybrid RBAC + ABAC Tests ===\\n\")\n\n    // 1. \uc790\uc2e0\uc758 Public \ub9ac\uc18c\uc2a4 \uc4f0\uae30: ALLOW (RBAC + ABAC \ubaa8\ub450 \ud1b5\uacfc)\n    allowed, _ := e.Enforce(alice, ownResource, \"write\")\n    fmt.Printf(\"1. Write own public resource: %v (RBAC \u2713 + ABAC \u2713)\\n\", allowed)\n\n    // 2. \ud0c0\uc778\uc758 \ub9ac\uc18c\uc2a4 \uc4f0\uae30: DENY (ABAC\uc5d0\uc11c \uac70\ubd80)\n    allowed, _ = e.Enforce(alice, othersResource, \"write\")\n    fmt.Printf(\"2. Write others' resource: %v (RBAC \u2713 but ABAC \u2717)\\n\", allowed)\n\n    // 3. Confidential \ub9ac\uc18c\uc2a4 \uc77d\uae30: DENY (ABAC\uc5d0\uc11c \uac70\ubd80)\n    allowed, _ = e.Enforce(alice, confidentialResource, \"read\")\n    fmt.Printf(\"3. Read confidential resource: %v (ABAC \u2717)\\n\", allowed)\n\n    // 4. \uadfc\ubb34 \uc2dc\uac04 \uc678 \uc4f0\uae30\n    aliceAfterHours := map[string]interface{}{\n        \"ID\":           \"user-001\",\n        \"Role\":         \"Developer\",\n        \"WorkingHours\": false,\n    }\n    allowed, _ = e.Enforce(aliceAfterHours, ownResource, \"write\")\n    fmt.Printf(\"4. Write after working hours: %v (ABAC \u2717)\\n\", allowed)\n}\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc: <pre><code>=== Hybrid RBAC + ABAC Tests ===\n\n1. Write own public resource: true (RBAC \u2713 + ABAC \u2713)\n2. Write others' resource: false (RBAC \u2713 but ABAC \u2717)\n3. Read confidential resource: false (ABAC \u2717)\n4. Write after working hours: false (ABAC \u2717)\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#lab-4-http-api-casbin","title":"Lab 4: HTTP API \uc11c\ubc84\uc5d0 Casbin \ud1b5\ud569","text":"<p>\ubaa9\ud45c: RESTful API \uc11c\ubc84\uc5d0\uc11c Casbin\uc73c\ub85c \uad8c\ud55c \uac80\uc0ac</p> <pre><code>// api_server.go\npackage main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"strings\"\n\n    \"github.com/casbin/casbin/v2\"\n)\n\nvar enforcer *casbin.Enforcer\n\n// Casbin Middleware\nfunc authMiddleware(next http.HandlerFunc) http.HandlerFunc {\n    return func(w http.ResponseWriter, r *http.Request) {\n        // 1. \uc0ac\uc6a9\uc790 \uc778\uc99d (JWT \ud1a0\ud070\uc5d0\uc11c \ucd94\ucd9c \uac00\uc815)\n        user := r.Header.Get(\"X-User-ID\")\n        if user == \"\" {\n            http.Error(w, \"Unauthorized: No user ID\", http.StatusUnauthorized)\n            return\n        }\n\n        // 2. Casbin \uad8c\ud55c \uac80\uc0ac\n        allowed, err := enforcer.Enforce(user, r.URL.Path, r.Method)\n        if err != nil {\n            http.Error(w, \"Authorization error\", http.StatusInternalServerError)\n            return\n        }\n\n        if !allowed {\n            http.Error(w, fmt.Sprintf(\"Forbidden: %s cannot %s %s\", user, r.Method, r.URL.Path),\n                http.StatusForbidden)\n            return\n        }\n\n        // 3. \uad8c\ud55c \ud1b5\uacfc \u2192 \ub2e4\uc74c \ud578\ub4e4\ub7ec \uc2e4\ud589\n        next(w, r)\n    }\n}\n\n// API \ud578\ub4e4\ub7ec\ub4e4\nfunc listProjects(w http.ResponseWriter, r *http.Request) {\n    projects := []string{\"project-A\", \"project-B\", \"project-C\"}\n    json.NewEncoder(w).Encode(map[string]interface{}{\n        \"projects\": projects,\n    })\n}\n\nfunc createProject(w http.ResponseWriter, r *http.Request) {\n    w.WriteHeader(http.StatusCreated)\n    json.NewEncoder(w).Encode(map[string]string{\n        \"message\": \"Project created successfully\",\n    })\n}\n\nfunc deleteProject(w http.ResponseWriter, r *http.Request) {\n    json.NewEncoder(w).Encode(map[string]string{\n        \"message\": \"Project deleted successfully\",\n    })\n}\n\nfunc main() {\n    // Casbin \ucd08\uae30\ud654\n    var err error\n    enforcer, err = casbin.NewEnforcer(\"api_model.conf\", \"api_policy.csv\")\n    if err != nil {\n        log.Fatalf(\"Failed to create enforcer: %v\", err)\n    }\n\n    // \ub77c\uc6b0\ud2b8 \ub4f1\ub85d\n    http.HandleFunc(\"/api/projects\", authMiddleware(func(w http.ResponseWriter, r *http.Request) {\n        switch r.Method {\n        case http.MethodGet:\n            listProjects(w, r)\n        case http.MethodPost:\n            createProject(w, r)\n        default:\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    }))\n\n    http.HandleFunc(\"/api/projects/\", authMiddleware(func(w http.ResponseWriter, r *http.Request) {\n        if r.Method == http.MethodDelete {\n            deleteProject(w, r)\n        } else {\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    }))\n\n    log.Println(\"API Server running on :8080\")\n    log.Println(\"Test with: curl -H 'X-User-ID: alice' http://localhost:8080/api/projects\")\n    log.Fatal(http.ListenAndServe(\":8080\", nil))\n}\n</code></pre> <p>API \ubaa8\ub378 (<code>api_model.conf</code>): <pre><code>[request_definition]\nr = sub, obj, act\n\n[policy_definition]\np = sub, obj, act\n\n[role_definition]\ng = _, _\n\n[policy_effect]\ne = some(where (p.eft == allow))\n\n[matchers]\nm = g(r.sub, p.sub) &amp;&amp; keyMatch2(r.obj, p.obj) &amp;&amp; regexMatch(r.act, p.act)\n</code></pre></p> <p>API \uc815\ucc45 (<code>api_policy.csv</code>): <pre><code># \uc5ed\ud560 \uad8c\ud55c\np, admin, /api/*, (GET)|(POST)|(PUT)|(DELETE)\np, developer, /api/projects, (GET)|(POST)\np, viewer, /api/projects, GET\n\n# \uc0ac\uc6a9\uc790 \uc5ed\ud560\ng, alice, developer\ng, bob, viewer\ng, admin_user, admin\n</code></pre></p> <p>\ud14c\uc2a4\ud2b8: <pre><code># \uc11c\ubc84 \uc2e4\ud589\ngo run api_server.go\n\n# Alice (developer): GET \uc131\uacf5\ncurl -H \"X-User-ID: alice\" http://localhost:8080/api/projects\n# \u2192 {\"projects\":[\"project-A\",\"project-B\",\"project-C\"]}\n\n# Alice: POST \uc131\uacf5\ncurl -X POST -H \"X-User-ID: alice\" http://localhost:8080/api/projects\n# \u2192 {\"message\":\"Project created successfully\"}\n\n# Bob (viewer): GET \uc131\uacf5\ncurl -H \"X-User-ID: bob\" http://localhost:8080/api/projects\n# \u2192 {\"projects\":[\"project-A\",\"project-B\",\"project-C\"]}\n\n# Bob: DELETE \uc2e4\ud328\ncurl -X DELETE -H \"X-User-ID: bob\" http://localhost:8080/api/projects/123\n# \u2192 Forbidden: bob cannot DELETE /api/projects/123\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#lab-5-postgresql","title":"Lab 5: PostgreSQL \uae30\ubc18 \uc815\ucc45 \uc800\uc7a5\uc18c","text":"<p>\ubaa9\ud45c: \uc815\ucc45\uc744 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0 \uc800\uc7a5\ud558\uc5ec \ub3d9\uc801 \uad00\ub9ac</p> <pre><code>go get github.com/casbin/casbin/v2\ngo get github.com/casbin/pg-adapter\ngo get github.com/lib/pq\n</code></pre> <pre><code>// db_policy.go\npackage main\n\nimport (\n    \"fmt\"\n    \"log\"\n\n    \"github.com/casbin/casbin/v2\"\n    pgadapter \"github.com/casbin/pg-adapter\"\n)\n\nfunc main() {\n    // PostgreSQL \uc5f0\uacb0\n    adapter, err := pgadapter.NewAdapter(\n        \"postgres://user:password@localhost:5432/casbin_db?sslmode=disable\",\n        \"casbin_rule\", // \ud14c\uc774\ube14 \uc774\ub984\n    )\n    if err != nil {\n        log.Fatalf(\"Failed to create adapter: %v\", err)\n    }\n\n    // Enforcer \uc0dd\uc131 (DB \uae30\ubc18)\n    e, err := casbin.NewEnforcer(\"model.conf\", adapter)\n    if err != nil {\n        log.Fatalf(\"Failed to create enforcer: %v\", err)\n    }\n\n    // \uc815\ucc45 \uc790\ub3d9 \ub85c\ub4dc\n    err = e.LoadPolicy()\n    if err != nil {\n        log.Fatalf(\"Failed to load policy: %v\", err)\n    }\n\n    fmt.Println(\"=== DB-based Policy Management ===\\n\")\n\n    // 1. \uc815\ucc45 \ucd94\uac00\n    added, _ := e.AddPolicy(\"david\", \"/api/storage\", \"read\")\n    if added {\n        fmt.Println(\"\u2713 Added policy: david can read /api/storage\")\n    }\n\n    // 2. \uc5ed\ud560 \ud560\ub2f9\n    e.AddGroupingPolicy(\"david\", \"developer\")\n    fmt.Println(\"\u2713 Assigned 'developer' role to david\")\n\n    // 3. \uc815\ucc45 \uc800\uc7a5 (DB\uc5d0 \uc601\uad6c \uc800\uc7a5)\n    err = e.SavePolicy()\n    if err != nil {\n        log.Fatalf(\"Failed to save policy: %v\", err)\n    }\n    fmt.Println(\"\u2713 Policy saved to database\")\n\n    // 4. \uac80\uc99d\n    allowed, _ := e.Enforce(\"david\", \"/api/storage\", \"read\")\n    fmt.Printf(\"\\nCan david read /api/storage? %v\\n\", allowed)\n\n    // 5. \ubaa8\ub4e0 \uc815\ucc45 \uc870\ud68c\n    policies := e.GetPolicy()\n    fmt.Println(\"\\nAll policies in database:\")\n    for _, p := range policies {\n        fmt.Printf(\"  %v\\n\", p)\n    }\n}\n</code></pre> <p>PostgreSQL \uc2a4\ud0a4\ub9c8 (\uc790\ub3d9 \uc0dd\uc131\ub428): <pre><code>CREATE TABLE casbin_rule (\n    id SERIAL PRIMARY KEY,\n    ptype VARCHAR(100),\n    v0 VARCHAR(100),\n    v1 VARCHAR(100),\n    v2 VARCHAR(100),\n    v3 VARCHAR(100),\n    v4 VARCHAR(100),\n    v5 VARCHAR(100)\n);\n</code></pre></p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_7","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_8","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>RBAC vs ABAC: - RBAC vs ABAC Comparison - Splunk - RBAC vs ABAC vs PBAC - Oso 2025 - RBAC vs ABAC Best Practices - AWS Access Control Types - Role-Based Access Control Best Practices 2025 - RBAC vs ABAC - Okta - RBAC vs ABAC - OLOID - RBAC Implementation Best Practices - Kiteworks - RBAC vs ABAC vs ACL vs PBAC vs DAC - StrongDM - RBAC vs ABAC - OneLogin</p> <p>Casbin: - Casbin Official Website - Casbin GitHub - Casbin v2 Documentation - Casbin Tutorials - Casbin Online Editor - Basic HTTP Authorization with Casbin - Building RBAC in Go - Aserto - HTTP Authorization with Casbin, Redis, PostgreSQL</p> <p>ABAC Implementation: - ABAC Enterprise Implementation - Permify - ABAC with OPA - Medium - ABAC Basics - GeeksforGeeks - How to Implement ABAC - Permit.io - NIST ABAC Project - Golang ABAC Demo - GitHub - ABAC Complete Guide - Zluri - What is ABAC? - CrowdStrike</p>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_9","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> RBAC \uc5ed\ud560 \uacc4\uce35 \uad6c\uc870 \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li> Casbin\uc73c\ub85c RBAC \uc2dc\uc2a4\ud15c \uad6c\ucd95</li> <li> ABAC \uc815\ucc45 \ubaa8\ub378 \uc791\uc131 \ubc0f \uc18d\uc131 \uc815\uc758</li> <li> RBAC vs ABAC \uc7a5\ub2e8\uc810 \ube44\uad50 \uc774\ud574</li> <li> \ud558\uc774\ube0c\ub9ac\ub4dc RBAC+ABAC \ubaa8\ub378 \uad6c\ud604</li> <li> HTTP API \uc11c\ubc84\uc5d0 Casbin \ubbf8\ub4e4\uc6e8\uc5b4 \ud1b5\ud569</li> <li> PostgreSQL \uae30\ubc18 \uc815\ucc45 \uc800\uc7a5\uc18c \uad6c\ucd95</li> <li> Casbin \uc628\ub77c\uc778 \uc5d0\ub514\ud130 \ud65c\uc6a9</li> <li> Zero Trust \ud658\uacbd\uc5d0\uc11c\uc758 \ub3d9\uc801 \uad8c\ud55c \ud3c9\uac00 \uad6c\ud604</li> <li> \uc5ed\ud560 \ud3ed\ubc1c \ubb38\uc81c \ud574\uacb0 \uc804\ub7b5 \uc218\ub9bd</li> </ul>"},{"location":"iam-storage-service/Ch3.RBAC_ABAC/#_10","title":"\ud83c\udfaf \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch4\uc5d0\uc11c\ub294 **Open Policy Agent (OPA)**\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4. OPA\ub294 Rego \uc5b8\uc5b4\ub85c \uc815\ucc45\uc744 \ucf54\ub4dc\ub85c \uc791\uc131\ud558\ub294 Policy-as-Code \uc811\uadfc\ubc95\uc744 \uc81c\uacf5\ud558\uba70, Kubernetes Admission Control, API Gateway \uc778\uac00 \ub4f1 \ub2e4\uc591\ud55c \ud658\uacbd\uc5d0\uc11c \ud65c\uc6a9\ub429\ub2c8\ub2e4.</p> <p>Preview: - OPA \uc544\ud0a4\ud14d\ucc98 \ubc0f Rego \uc5b8\uc5b4 - Kubernetes Admission Control with OPA - API Gateway \uc778\uac00 \uc815\ucc45 - OPA Bundle \uad00\ub9ac \ubc0f \ubc30\ud3ec</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/","title":"Ch4. Policy Engine - Open Policy Agent (OPA)","text":""},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":"<p>Open Policy Agent (OPA)**\ub294 \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \ud658\uacbd\uc5d0\uc11c \uc815\ucc45\uc744 \ucf54\ub4dc\ub85c \uad00\ub9ac\ud558\ub294 **Policy-as-Code \uc811\uadfc\ubc95\uc758 \ud45c\uc900 \ub3c4\uad6c\uc785\ub2c8\ub2e4. CNCF (Cloud Native Computing Foundation) \ud504\ub85c\uc81d\ud2b8\ub85c, 2025\ub144 \ud604\uc7ac \uac00\uc7a5 \ub110\ub9ac \uc0ac\uc6a9\ub418\ub294 \uc815\ucc45 \uc5d4\uc9c4\uc785\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_2","title":"\uc65c \uc911\uc694\ud55c\uac00?","text":"<p>\uae30\uc874\uc758 \ud558\ub4dc\ucf54\ub529\ub41c \uc815\ucc45 \ub85c\uc9c1\uc740 \ub2e4\uc74c\uacfc \uac19\uc740 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>\u274c \uc815\ucc45 \ubcc0\uacbd \uc2dc \ucf54\ub4dc \uc218\uc815 \ubc0f \uc7ac\ubc30\ud3ec \ud544\uc694</li> <li>\u274c \uc11c\ube44\uc2a4\ub9c8\ub2e4 \ub2e4\ub978 \uc815\ucc45 \uad6c\ud604 (\uc77c\uad00\uc131 \ubd80\uc871)</li> <li>\u274c \uc815\ucc45 \uac10\uc0ac \ubc0f \ucef4\ud50c\ub77c\uc774\uc5b8\uc2a4 \ucd94\uc801 \uc5b4\ub824\uc6c0</li> <li>\u274c \uac1c\ubc1c\uc790\uac00 \ube44\uc988\ub2c8\uc2a4 \uc815\ucc45\uae4c\uc9c0 \uad00\ub9ac</li> </ul> <p>OPA\uc758 \ud574\uacb0\ucc45: - \u2705 \uc815\ucc45\uc744 \ucf54\ub4dc\uc640 \ubd84\ub9ac (Decoupling) - \u2705 Rego \uc5b8\uc5b4\ub85c \uc120\uc5b8\uc801 \uc815\ucc45 \uc791\uc131 - \u2705 \ub2e4\uc591\ud55c \ud658\uacbd\uc5d0\uc11c \uc7ac\uc0ac\uc6a9 (Kubernetes, API Gateway, DB \ub4f1) - \u2705 Git\uc73c\ub85c \uc815\ucc45 \ubc84\uc804 \uad00\ub9ac \ubc0f CI/CD</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#kakaocloud","title":"KakaoCloud\uc5d0\uc11c\uc758 \ud65c\uc6a9 \uc0ac\ub840","text":"<ul> <li>Kubernetes Admission Control: Pod \uc0dd\uc131 \uc2dc \ubcf4\uc548 \uc815\ucc45 \uac80\uc99d (privileged \uae08\uc9c0, \ub9ac\uc18c\uc2a4 \uc81c\ud55c \ub4f1)</li> <li>API Gateway \uc778\uac00: RESTful API \uc694\uccad\uc5d0 \ub300\ud55c \uc138\ubc00\ud55c \uad8c\ud55c \uc81c\uc5b4</li> <li>Terraform Plan \uac80\uc99d: IaC \ucf54\ub4dc\uac00 \ubcf4\uc548 \uc815\ucc45 \uc900\uc218\ud558\ub294\uc9c0 \uc0ac\uc804 \uac80\uc99d</li> <li>Service Mesh Authorization: Envoy/Istio\uc5d0\uc11c \uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 \uc81c\uc5b4</li> </ul>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_3","title":"\ud559\uc2b5 \ud6c4 \uc5bb\uc744 \uc218 \uc788\ub294 \uc5ed\ub7c9","text":"<ul> <li> Rego \uc5b8\uc5b4\ub85c \uc815\ucc45 \uc791\uc131 \ubc0f \ud14c\uc2a4\ud2b8</li> <li> OPA\ub97c Kubernetes Gatekeeper\ub85c \ubc30\ud3ec</li> <li> Go \uc11c\ube44\uc2a4\uc5d0 OPA SDK \ud1b5\ud569</li> <li> OPA Bundle\uc744 OCI \uc774\ubbf8\uc9c0\ub85c \ubc30\ud3ec</li> <li> Policy-as-Code CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> </ul>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#1-opa","title":"1. OPA \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>graph LR\n    App[Application/Service] --&gt;|Query| OPA[OPA Engine]\n    OPA --&gt;|Load| Policy[(Policy&lt;br/&gt;Rego)]\n    OPA --&gt;|Fetch| Data[(Data&lt;br/&gt;JSON)]\n    OPA --&gt;|Decision| App\n\n    Bundle[Bundle Server] --&gt;|Pull| OPA\n    Git[Git Repo] --&gt;|Build| Bundle\n\n    style OPA fill:#00d9ff\n    style Policy fill:#ffd700\n    style Data fill:#90ee90</code></pre> <p>\ud575\uc2ec \uad6c\uc131 \uc694\uc18c:</p> <ol> <li>OPA Engine: \uc815\ucc45 \ud3c9\uac00 \uc5d4\uc9c4 (Go\ub85c \uc791\uc131)</li> <li>Policy (Rego): \uc815\ucc45 \ub85c\uc9c1 \uc815\uc758</li> <li>Data (JSON): \uc815\ucc45 \ud3c9\uac00\uc5d0 \ud544\uc694\ud55c \ub370\uc774\ud130</li> <li>Query: \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc758\uc0ac\uacb0\uc815 \uc694\uccad</li> <li>Decision: \uc815\ucc45 \ud3c9\uac00 \uacb0\uacfc (allow/deny, \uac12 \ubc18\ud658 \ub4f1)</li> </ol>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#opa","title":"OPA\uc758 \ub3d9\uc791 \ubc29\uc2dd","text":"<pre><code>1. \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \u2192 OPA\uc5d0 Query \uc804\uc1a1\n   \uc608: \"User alice\uac00 /api/projects\ub97c POST \ud560 \uc218 \uc788\ub294\uac00?\"\n\n2. OPA \u2192 Rego \uc815\ucc45 \ud3c9\uac00\n   \uc815\ucc45: package authz\n         allow { input.method == \"POST\" &amp;&amp; input.user.role == \"admin\" }\n\n3. OPA \u2192 \uacb0\uacfc \ubc18\ud658\n   {\"result\": true} \ub610\ub294 {\"result\": false}\n\n4. \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \u2192 \uacb0\uacfc\uc5d0 \ub530\ub77c \ud5c8\uc6a9/\uac70\ubd80\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#2-rego","title":"2. Rego \uc5b8\uc5b4","text":"<p>**Rego**\ub294 OPA\uc758 \uc815\ucc45 \uc5b8\uc5b4\ub85c, \uc120\uc5b8\uc801\uc774\uace0 \ucffc\ub9ac \uae30\ubc18\uc785\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#rego","title":"Rego \uae30\ubcf8 \ubb38\ubc95","text":"<p>1. \ud328\ud0a4\uc9c0 \uc120\uc5b8: <pre><code>package authz\n\n# \ubaa8\ub4e0 \uc815\ucc45\uc740 \ud328\ud0a4\uc9c0\ub85c \uc2dc\uc791\n</code></pre></p> <p>2. Rule \uc815\uc758: <pre><code># Boolean Rule\nallow {\n    input.method == \"GET\"\n    input.user.role == \"viewer\"\n}\n\n# \uc5ec\ub7ec \uc870\uac74\uc774 \ubaa8\ub450 \ucc38\uc774\uba74 allow = true\n</code></pre></p> <p>3. \ub370\uc774\ud130 \uc811\uadfc: <pre><code># Input: \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \uc804\ub2ec\ud55c \ub370\uc774\ud130\ninput.user.name\n\n# Data: OPA\uc5d0 \ubbf8\ub9ac \ub85c\ub4dc\ub41c \ub370\uc774\ud130\ndata.roles[\"admin\"]\n\n# \uc678\ubd80 \ub370\uc774\ud130 \uc608\uc2dc:\n# {\n#   \"roles\": {\n#     \"admin\": [\"read\", \"write\", \"delete\"],\n#     \"developer\": [\"read\", \"write\"]\n#   }\n# }\n</code></pre></p> <p>4. Comprehensions (\ubc18\ubcf5): <pre><code># \ubc30\uc5f4 \uc0dd\uc131\nuser_names = [name | some user in data.users; name := user.name]\n\n# \uc870\uac74\ubd80 \ud544\ud130\ub9c1\nadmin_users = [user | some user in data.users; user.role == \"admin\"]\n</code></pre></p> <p>5. Functions: <pre><code># \ucee4\uc2a4\ud140 \ud568\uc218 \uc815\uc758\nis_admin(user) {\n    user.role == \"admin\"\n}\n\n# \ud568\uc218 \uc0ac\uc6a9\nallow {\n    is_admin(input.user)\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#rego_1","title":"Rego \uc8fc\uc694 \uc5f0\uc0b0\uc790","text":"\uc5f0\uc0b0\uc790 \uc124\uba85 \uc608\uc2dc <code>==</code> \uac19\uc74c <code>input.method == \"GET\"</code> <code>!=</code> \ub2e4\ub984 <code>input.user != \"guest\"</code> <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code> \ube44\uad50 <code>input.age &gt;= 18</code> <code>=</code> \ud560\ub2f9 (Unification) <code>user := input.user</code> <code>:=</code> \ub85c\uceec \ubcc0\uc218 \ud560\ub2f9 <code>result := count(users)</code> <code>some</code> \ubc18\ubcf5\uc790 <code>some i in array</code> <code>not</code> \ubd80\uc815 <code>not input.guest_mode</code>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#rego_2","title":"\uace0\uae09 Rego \ud328\ud134","text":"<p>1. Default \uac12 \uc124\uc815: <pre><code># allow\uac00 \uc815\uc758\ub418\uc9c0 \uc54a\uc73c\uba74 \uae30\ubcf8\uac12 false\ndefault allow = false\n\nallow {\n    input.user.role == \"admin\"\n}\n</code></pre></p> <p>2. \ub2e4\uc911 Rule (OR \ub85c\uc9c1): <pre><code># \uc5ec\ub7ec rule \uc911 \ud558\ub098\ub77c\ub3c4 \ucc38\uc774\uba74 allow = true\nallow {\n    input.user.role == \"admin\"\n}\n\nallow {\n    input.user.id == input.resource.owner\n}\n\nallow {\n    input.user.department == \"Security\"\n}\n</code></pre></p> <p>3. Partial Rules (\uac1d\uccb4 \uc0dd\uc131): <pre><code># \ud5c8\uc6a9\ub41c \ub3d9\uc791 \ubaa9\ub85d \uc0dd\uc131\nallowed_actions[action] {\n    some action in data.roles[input.user.role]\n}\n\n# \uacb0\uacfc: {\"allowed_actions\": [\"read\", \"write\"]}\n</code></pre></p> <p>4. \uc870\uac74\ubd80 \ub85c\uc9c1: <pre><code>allow {\n    # \uadfc\ubb34 \uc2dc\uac04 \uccb4\ud06c\n    time.parse_rfc3339_ns(\"2025-01-02T09:00:00Z\") &lt;= time.now_ns()\n    time.now_ns() &lt;= time.parse_rfc3339_ns(\"2025-01-02T18:00:00Z\")\n\n    # \uc704\uce58 \uccb4\ud06c\n    input.location in [\"Office\", \"VPN\"]\n\n    # \uc5ed\ud560 \uccb4\ud06c\n    input.user.role == \"developer\"\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#3-opa-vs-casbin","title":"3. OPA vs Casbin \ube44\uad50","text":"\ud56d\ubaa9 OPA Casbin \uc5b8\uc5b4 Rego (\uc120\uc5b8\uc801) \ubaa8\ub378 \ud30c\uc77c + CSV/DB \ud559\uc2b5 \uace1\uc120 \uc911\uac04~\ub192\uc74c \ub0ae\uc74c \ud45c\ud604\ub825 \ub9e4\uc6b0 \ub192\uc74c (Turing-complete) \uc911\uac04 (\ubaa8\ub378 \uc81c\uc57d) \uc131\ub2a5 \ube60\ub984 (\ubc00\ub9ac\ucd08) \ub9e4\uc6b0 \ube60\ub984 (\ub9c8\uc774\ud06c\ub85c\ucd08) Kubernetes \ud1b5\ud569 Gatekeeper (\ub124\uc774\ud2f0\ube0c) \uc218\ub3d9 \ud1b5\ud569 \ud544\uc694 Bundle \uad00\ub9ac OCI \uc774\ubbf8\uc9c0 \uc9c0\uc6d0 \ud30c\uc77c/DB\ub9cc \ucee4\ubba4\ub2c8\ud2f0 CNCF, \ub9e4\uc6b0 \ud65c\ubc1c \ud65c\ubc1c \uc0ac\uc6a9 \uc0ac\ub840 \ubcf5\uc7a1\ud55c \uc815\ucc45, K8s \uac04\ub2e8\ud55c RBAC/ABAC <p>\uc120\ud0dd \uae30\uc900: - Casbin: \uac04\ub2e8\ud55c RBAC/ABAC, Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub0b4\ubd80 \uad8c\ud55c \uad00\ub9ac - OPA: Kubernetes \uc815\ucc45, \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1, \uc5ec\ub7ec \uc11c\ube44\uc2a4 \uacf5\ud1b5 \uc815\ucc45</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#lab-1-opa","title":"Lab 1: OPA \uae30\ubcf8 \uc0ac\uc6a9 (\ub85c\uceec \ud658\uacbd)","text":"<p>\ubaa9\ud45c: Rego \uc815\ucc45 \uc791\uc131 \ubc0f OPA CLI\ub85c \ud3c9\uac00</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#1-opa_1","title":"1\ub2e8\uacc4: OPA \uc124\uce58","text":"<pre><code># macOS\nbrew install opa\n\n# Linux\ncurl -L -o opa https://openpolicyagent.org/downloads/latest/opa_linux_amd64\nchmod +x opa\nsudo mv opa /usr/local/bin/\n\n# \ubc84\uc804 \ud655\uc778\nopa version\n# Version: 0.60.0\n# Build Commit: c77764e\n# Build Timestamp: 2024-12-15T12:00:00Z\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#2","title":"2\ub2e8\uacc4: \uac04\ub2e8\ud55c \uc815\ucc45 \uc791\uc131","text":"<p><code>policy.rego</code>: <pre><code>package example\n\n# \uae30\ubcf8\uac12: \ubaa8\ub4e0 \uc694\uccad \uac70\ubd80\ndefault allow = false\n\n# Admin\uc740 \ubaa8\ub4e0 \ub3d9\uc791 \ud5c8\uc6a9\nallow {\n    input.user.role == \"admin\"\n}\n\n# Developer\ub294 \uc790\uc2e0\uc758 \ub9ac\uc18c\uc2a4\ub9cc read/write \uac00\ub2a5\nallow {\n    input.user.role == \"developer\"\n    input.action in [\"read\", \"write\"]\n    input.resource.owner == input.user.id\n}\n\n# Viewer\ub294 \ubaa8\ub4e0 \ub9ac\uc18c\uc2a4 \uc77d\uae30 \uac00\ub2a5\nallow {\n    input.user.role == \"viewer\"\n    input.action == \"read\"\n}\n\n# \uac70\ubd80 \uc774\uc720 \ubc18\ud658\ndeny[reason] {\n    not allow\n    reason := sprintf(\"User %s with role %s cannot %s resource owned by %s\",\n        [input.user.name, input.user.role, input.action, input.resource.owner])\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#3","title":"3\ub2e8\uacc4: \ud14c\uc2a4\ud2b8 \ub370\uc774\ud130 \uc791\uc131","text":"<p><code>input1.json</code> (Admin \uc0ac\uc6a9\uc790): <pre><code>{\n  \"user\": {\n    \"id\": \"user-001\",\n    \"name\": \"Alice\",\n    \"role\": \"admin\"\n  },\n  \"action\": \"delete\",\n  \"resource\": {\n    \"id\": \"res-123\",\n    \"owner\": \"user-999\"\n  }\n}\n</code></pre></p> <p><code>input2.json</code> (Developer - \uc790\uc2e0\uc758 \ub9ac\uc18c\uc2a4): <pre><code>{\n  \"user\": {\n    \"id\": \"user-002\",\n    \"name\": \"Bob\",\n    \"role\": \"developer\"\n  },\n  \"action\": \"write\",\n  \"resource\": {\n    \"id\": \"res-456\",\n    \"owner\": \"user-002\"\n  }\n}\n</code></pre></p> <p><code>input3.json</code> (Developer - \ud0c0\uc778\uc758 \ub9ac\uc18c\uc2a4): <pre><code>{\n  \"user\": {\n    \"id\": \"user-002\",\n    \"name\": \"Bob\",\n    \"role\": \"developer\"\n  },\n  \"action\": \"write\",\n  \"resource\": {\n    \"id\": \"res-789\",\n    \"owner\": \"user-999\"\n  }\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#4","title":"4\ub2e8\uacc4: \uc815\ucc45 \ud3c9\uac00","text":"<pre><code># Test 1: Admin - \ud5c8\uc6a9\ub418\uc5b4\uc57c \ud568\nopa eval -i input1.json -d policy.rego \"data.example.allow\"\n# {\n#   \"result\": [\n#     {\n#       \"expressions\": [\n#         {\n#           \"value\": true,\n#           \"text\": \"data.example.allow\",\n#           \"location\": {\"row\": 1, \"col\": 1}\n#         }\n#       ]\n#     }\n#   ]\n# }\n\n# Test 2: Developer (own resource) - \ud5c8\uc6a9\ub418\uc5b4\uc57c \ud568\nopa eval -i input2.json -d policy.rego \"data.example.allow\"\n# result: true\n\n# Test 3: Developer (others' resource) - \uac70\ubd80\ub418\uc5b4\uc57c \ud568\nopa eval -i input3.json -d policy.rego \"data.example.allow\"\n# result: false\n\n# \uac70\ubd80 \uc774\uc720 \ud655\uc778\nopa eval -i input3.json -d policy.rego \"data.example.deny\"\n# {\n#   \"result\": [\n#     {\n#       \"expressions\": [\n#         {\n#           \"value\": [\"User Bob with role developer cannot write resource owned by user-999\"],\n#           \"text\": \"data.example.deny\"\n#         }\n#       ]\n#     }\n#   ]\n# }\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#5-repl","title":"5\ub2e8\uacc4: \ub300\ud654\ud615 REPL \uc0ac\uc6a9","text":"<pre><code>opa run policy.rego\n\n# REPL\uc5d0\uc11c \uc9c1\uc811 \ucffc\ub9ac\n&gt; data.example.allow with input as {\"user\": {\"role\": \"admin\"}}\ntrue\n\n&gt; data.example.allow with input as {\"user\": {\"role\": \"viewer\"}, \"action\": \"read\"}\ntrue\n\n&gt; data.example.allow with input as {\"user\": {\"role\": \"viewer\"}, \"action\": \"write\"}\nfalse\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#lab-2-opa-go-sdk","title":"Lab 2: OPA\ub97c Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 \ud1b5\ud569 (SDK)","text":"<p>\ubaa9\ud45c: Go RESTful API \uc11c\ubc84\uc5d0 OPA SDK \ud1b5\ud569</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#1","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>mkdir opa-api-server &amp;&amp; cd opa-api-server\ngo mod init opa-api-server\n\ngo get github.com/open-policy-agent/opa/sdk\ngo get github.com/open-policy-agent/opa/rego\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#2_1","title":"2\ub2e8\uacc4: \uc815\ucc45 \uc791\uc131","text":"<p><code>policies/authz.rego</code>: <pre><code>package authz\n\nimport future.keywords.if\nimport future.keywords.in\n\n# \uae30\ubcf8\uac12: \uac70\ubd80\ndefault allow := false\n\n# Admin\uc740 \ubaa8\ub4e0 \uac83 \ud5c8\uc6a9\nallow if {\n    input.user.role == \"admin\"\n}\n\n# Developer\ub294 \uc790\uc2e0\uc758 \ud504\ub85c\uc81d\ud2b8\ub9cc read/write\nallow if {\n    input.user.role == \"developer\"\n    input.method in [\"GET\", \"POST\", \"PUT\"]\n    input.path[1] == \"projects\"\n    check_project_owner\n}\n\n# Viewer\ub294 \ubaa8\ub4e0 \ud504\ub85c\uc81d\ud2b8 \uc77d\uae30\ub9cc \uac00\ub2a5\nallow if {\n    input.user.role == \"viewer\"\n    input.method == \"GET\"\n    input.path[1] == \"projects\"\n}\n\n# \ud504\ub85c\uc81d\ud2b8 \uc18c\uc720\uc790 \ud655\uc778\ncheck_project_owner if {\n    input.method == \"GET\"  # \uc77d\uae30\ub294 \uc18c\uc720\uc790 \uccb4\ud06c \uc548 \ud568\n}\n\ncheck_project_owner if {\n    # \uc4f0\uae30 \uc791\uc5c5\uc740 \uc18c\uc720\uc790\ub9cc\n    input.method in [\"POST\", \"PUT\", \"DELETE\"]\n    some project in data.projects\n    project.id == input.path[2]\n    project.owner == input.user.id\n}\n\n# \uadfc\ubb34 \uc2dc\uac04 \uccb4\ud06c (\uc120\ud0dd\uc801)\nworking_hours if {\n    hour := time.clock(time.now_ns())[0]\n    hour &gt;= 9\n    hour &lt; 18\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#3-go","title":"3\ub2e8\uacc4: Go \uc11c\ubc84 \uad6c\ud604","text":"<pre><code>// main.go\npackage main\n\nimport (\n    \"context\"\n    \"encoding/json\"\n    \"fmt\"\n    \"log\"\n    \"net/http\"\n    \"strings\"\n\n    \"github.com/open-policy-agent/opa/sdk\"\n)\n\nvar opa *sdk.OPA\n\n// OPA \uc785\ub825 \uad6c\uc870\uccb4\ntype AuthzInput struct {\n    User   User     `json:\"user\"`\n    Method string   `json:\"method\"`\n    Path   []string `json:\"path\"`\n}\n\ntype User struct {\n    ID   string `json:\"id\"`\n    Name string `json:\"name\"`\n    Role string `json:\"role\"`\n}\n\n// OPA \ucd08\uae30\ud654\nfunc initOPA() error {\n    ctx := context.Background()\n\n    // OPA SDK \uc124\uc815\n    config := []byte(`{\n        \"services\": {\n            \"local\": {\n                \"url\": \"file:///policies\"\n            }\n        },\n        \"bundles\": {\n            \"authz\": {\n                \"service\": \"local\",\n                \"resource\": \"/\"\n            }\n        },\n        \"decision_logs\": {\n            \"console\": true\n        }\n    }`)\n\n    opaSDK, err := sdk.New(ctx, sdk.Options{\n        Config: strings.NewReader(string(config)),\n    })\n    if err != nil {\n        return fmt.Errorf(\"failed to create OPA SDK: %w\", err)\n    }\n\n    opa = opaSDK\n    return nil\n}\n\n// OPA \uc815\ucc45 \uac80\uc99d \ubbf8\ub4e4\uc6e8\uc5b4\nfunc authzMiddleware(next http.HandlerFunc) http.HandlerFunc {\n    return func(w http.ResponseWriter, r *http.Request) {\n        // 1. \uc0ac\uc6a9\uc790 \uc815\ubcf4 \ucd94\ucd9c (\uc2e4\uc81c\ub85c\ub294 JWT\uc5d0\uc11c)\n        userID := r.Header.Get(\"X-User-ID\")\n        userName := r.Header.Get(\"X-User-Name\")\n        userRole := r.Header.Get(\"X-User-Role\")\n\n        if userID == \"\" || userRole == \"\" {\n            http.Error(w, \"Unauthorized\", http.StatusUnauthorized)\n            return\n        }\n\n        // 2. OPA \uc785\ub825 \uc0dd\uc131\n        input := AuthzInput{\n            User: User{\n                ID:   userID,\n                Name: userName,\n                Role: userRole,\n            },\n            Method: r.Method,\n            Path:   strings.Split(strings.Trim(r.URL.Path, \"/\"), \"/\"),\n        }\n\n        // 3. OPA \uc815\ucc45 \ud3c9\uac00\n        ctx := context.Background()\n        decision, err := opa.Decision(ctx, sdk.DecisionOptions{\n            Path:  \"authz/allow\",\n            Input: input,\n        })\n\n        if err != nil {\n            log.Printf(\"OPA decision error: %v\", err)\n            http.Error(w, \"Authorization error\", http.StatusInternalServerError)\n            return\n        }\n\n        // 4. \uacb0\uacfc \ud655\uc778\n        allowed, ok := decision.Result.(bool)\n        if !ok || !allowed {\n            http.Error(w, fmt.Sprintf(\"Forbidden: %s cannot %s %s\",\n                userName, r.Method, r.URL.Path), http.StatusForbidden)\n            return\n        }\n\n        // 5. \uad8c\ud55c \ud1b5\uacfc \u2192 \ub2e4\uc74c \ud578\ub4e4\ub7ec\n        next(w, r)\n    }\n}\n\n// API \ud578\ub4e4\ub7ec\nfunc listProjects(w http.ResponseWriter, r *http.Request) {\n    projects := []map[string]string{\n        {\"id\": \"proj-1\", \"name\": \"Project Alpha\", \"owner\": \"user-001\"},\n        {\"id\": \"proj-2\", \"name\": \"Project Beta\", \"owner\": \"user-002\"},\n    }\n    json.NewEncoder(w).Encode(map[string]interface{}{\n        \"projects\": projects,\n    })\n}\n\nfunc createProject(w http.ResponseWriter, r *http.Request) {\n    w.WriteHeader(http.StatusCreated)\n    json.NewEncoder(w).Encode(map[string]string{\n        \"message\": \"Project created successfully\",\n    })\n}\n\nfunc main() {\n    // OPA \ucd08\uae30\ud654\n    if err := initOPA(); err != nil {\n        log.Fatalf(\"Failed to initialize OPA: %v\", err)\n    }\n    defer opa.Stop(context.Background())\n\n    // \ub77c\uc6b0\ud2b8 \ub4f1\ub85d\n    http.HandleFunc(\"/api/projects\", authzMiddleware(listProjects))\n    http.HandleFunc(\"/api/projects/\", authzMiddleware(func(w http.ResponseWriter, r *http.Request) {\n        if r.Method == http.MethodPost {\n            createProject(w, r)\n        } else {\n            http.Error(w, \"Method not allowed\", http.StatusMethodNotAllowed)\n        }\n    }))\n\n    log.Println(\"OPA-integrated API Server running on :8080\")\n    log.Println(\"Test with: curl -H 'X-User-ID: user-001' -H 'X-User-Role: admin' http://localhost:8080/api/projects\")\n    log.Fatal(http.ListenAndServe(\":8080\", nil))\n}\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#4_1","title":"4\ub2e8\uacc4: \ud14c\uc2a4\ud2b8","text":"<pre><code># \uc11c\ubc84 \uc2e4\ud589\ngo run main.go\n\n# Admin: \uc131\uacf5\ncurl -H \"X-User-ID: user-001\" -H \"X-User-Name: Alice\" -H \"X-User-Role: admin\" \\\n  http://localhost:8080/api/projects\n# \u2192 {\"projects\":[...]}\n\n# Developer: GET \uc131\uacf5\ncurl -H \"X-User-ID: user-002\" -H \"X-User-Name: Bob\" -H \"X-User-Role: developer\" \\\n  http://localhost:8080/api/projects\n# \u2192 {\"projects\":[...]}\n\n# Viewer: POST \uc2e4\ud328\ncurl -X POST -H \"X-User-ID: user-003\" -H \"X-User-Name: Charlie\" -H \"X-User-Role: viewer\" \\\n  http://localhost:8080/api/projects\n# \u2192 Forbidden: Charlie cannot POST /api/projects\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#lab-3-kubernetes-gatekeeper","title":"Lab 3: Kubernetes Gatekeeper\ub85c \uc815\ucc45 \uc801\uc6a9","text":"<p>\ubaa9\ud45c: OPA Gatekeeper\ub97c Kubernetes \ud074\ub7ec\uc2a4\ud130\uc5d0 \ubc30\ud3ec\ud558\uc5ec Admission Control</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#1-gatekeeper","title":"1\ub2e8\uacc4: Gatekeeper \uc124\uce58","text":"<pre><code># Helm\uc73c\ub85c \uc124\uce58 (\uad8c\uc7a5)\nhelm repo add gatekeeper https://open-policy-agent.github.io/gatekeeper/charts\nhelm install gatekeeper/gatekeeper --name-template=gatekeeper --namespace gatekeeper-system --create-namespace\n\n# \ub610\ub294 kubectl apply\ub85c \uc9c1\uc811 \uc124\uce58\nkubectl apply -f https://raw.githubusercontent.com/open-policy-agent/gatekeeper/master/deploy/gatekeeper.yaml\n\n# \uc124\uce58 \ud655\uc778\nkubectl get pods -n gatekeeper-system\n# NAME                                            READY   STATUS\n# gatekeeper-audit-xxx                            1/1     Running\n# gatekeeper-controller-manager-xxx               1/1     Running\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#2-constrainttemplate","title":"2\ub2e8\uacc4: ConstraintTemplate \uc791\uc131","text":"<p>ConstraintTemplate: \uc815\ucc45 \ud15c\ud50c\ub9bf \uc815\uc758</p> <p><code>k8s-requiredlabels-template.yaml</code>: <pre><code>apiVersion: templates.gatekeeper.sh/v1\nkind: ConstraintTemplate\nmetadata:\n  name: k8srequiredlabels\nspec:\n  crd:\n    spec:\n      names:\n        kind: K8sRequiredLabels\n      validation:\n        # \ud544\uc218 \ub808\uc774\ube14 \ubaa9\ub85d\n        openAPIV3Schema:\n          type: object\n          properties:\n            labels:\n              type: array\n              items:\n                type: string\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: |\n        package k8srequiredlabels\n\n        violation[{\"msg\": msg, \"details\": {\"missing_labels\": missing}}] {\n          provided := {label | input.review.object.metadata.labels[label]}\n          required := {label | label := input.parameters.labels[_]}\n          missing := required - provided\n          count(missing) &gt; 0\n          msg := sprintf(\"You must provide labels: %v\", [missing])\n        }\n</code></pre></p> <p>\uc801\uc6a9: <pre><code>kubectl apply -f k8s-requiredlabels-template.yaml\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#3-constraint","title":"3\ub2e8\uacc4: Constraint \uc791\uc131","text":"<p>Constraint: \uc2e4\uc81c \uc815\ucc45 \uc801\uc6a9</p> <p><code>require-app-label.yaml</code>: <pre><code>apiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sRequiredLabels\nmetadata:\n  name: require-app-label\nspec:\n  match:\n    kinds:\n      - apiGroups: [\"\"]\n        kinds: [\"Pod\"]\n    namespaces:\n      - \"default\"\n      - \"production\"\n  parameters:\n    labels:\n      - \"app\"\n      - \"env\"\n      - \"owner\"\n</code></pre></p> <p>\uc801\uc6a9: <pre><code>kubectl apply -f require-app-label.yaml\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#4_2","title":"4\ub2e8\uacc4: \ud14c\uc2a4\ud2b8","text":"<p>\uc815\ucc45 \uc704\ubc18 Pod (<code>bad-pod.yaml</code>): <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-bad\n  labels:\n    app: nginx  # env, owner \ub808\uc774\ube14 \ub204\ub77d\nspec:\n  containers:\n    - name: nginx\n      image: nginx:1.21\n</code></pre></p> <pre><code>kubectl apply -f bad-pod.yaml\n# Error from server: admission webhook \"validation.gatekeeper.sh\" denied the request:\n# [require-app-label] You must provide labels: {\"env\", \"owner\"}\n</code></pre> <p>\uc815\ucc45 \uc900\uc218 Pod (<code>good-pod.yaml</code>): <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: nginx-good\n  labels:\n    app: nginx\n    env: production\n    owner: platform-team\nspec:\n  containers:\n    - name: nginx\n      image: nginx:1.21\n</code></pre></p> <pre><code>kubectl apply -f good-pod.yaml\n# pod/nginx-good created  \u2713\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#5-","title":"5\ub2e8\uacc4: \ucd94\uac00 \uc815\ucc45 - \ucee8\ud14c\uc774\ub108 \ubcf4\uc548","text":"<p><code>k8s-block-privileged-template.yaml</code>: <pre><code>apiVersion: templates.gatekeeper.sh/v1\nkind: ConstraintTemplate\nmetadata:\n  name: k8sblockprivileged\nspec:\n  crd:\n    spec:\n      names:\n        kind: K8sBlockPrivileged\n  targets:\n    - target: admission.k8s.gatekeeper.sh\n      rego: |\n        package k8sblockprivileged\n\n        violation[{\"msg\": msg}] {\n          container := input.review.object.spec.containers[_]\n          container.securityContext.privileged\n          msg := sprintf(\"Privileged container is not allowed: %v\", [container.name])\n        }\n\n        violation[{\"msg\": msg}] {\n          container := input.review.object.spec.initContainers[_]\n          container.securityContext.privileged\n          msg := sprintf(\"Privileged init container is not allowed: %v\", [container.name])\n        }\n</code></pre></p> <p><code>block-privileged.yaml</code>: <pre><code>apiVersion: constraints.gatekeeper.sh/v1beta1\nkind: K8sBlockPrivileged\nmetadata:\n  name: block-privileged-containers\nspec:\n  match:\n    kinds:\n      - apiGroups: [\"\"]\n        kinds: [\"Pod\"]\n</code></pre></p> <pre><code>kubectl apply -f k8s-block-privileged-template.yaml\nkubectl apply -f block-privileged.yaml\n\n# \uc704\ubc18 \ud14c\uc2a4\ud2b8\nkubectl run privileged-pod --image=nginx --restart=Never --overrides='{\"spec\":{\"containers\":[{\"name\":\"nginx\",\"image\":\"nginx\",\"securityContext\":{\"privileged\":true}}]}}'\n# Error: [block-privileged-containers] Privileged container is not allowed: nginx\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#lab-4-opa-bundle-oci","title":"Lab 4: OPA Bundle\uc744 OCI \uc774\ubbf8\uc9c0\ub85c \ubc30\ud3ec","text":"<p>\ubaa9\ud45c: \uc815\ucc45\uc744 \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0\ucc98\ub7fc \uad00\ub9ac (Policy-as-Code CI/CD)</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#1-opa-cli-policy-cli","title":"1\ub2e8\uacc4: OPA CLI \ubc0f Policy CLI \uc124\uce58","text":"<pre><code># OPA \uc124\uce58 (\uc774\ubbf8 \uc124\uce58\ud588\uc73c\uba74 \uc2a4\ud0b5)\nbrew install opa\n\n# \uc815\ucc45 \ub514\ub809\ud1a0\ub9ac \uc0dd\uc131\nmkdir -p opa-bundle/policies\ncd opa-bundle\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#2_2","title":"2\ub2e8\uacc4: \uc815\ucc45 \uc791\uc131","text":"<p><code>policies/authz.rego</code>: <pre><code>package authz\n\ndefault allow := false\n\nallow {\n    input.user.role == \"admin\"\n}\n\nallow {\n    input.user.role == \"developer\"\n    input.action in [\"read\", \"write\"]\n    input.resource.project == input.user.project\n}\n</code></pre></p> <p><code>policies/authz_test.rego</code>: <pre><code>package authz\n\ntest_admin_allowed {\n    allow with input as {\n        \"user\": {\"role\": \"admin\"},\n        \"action\": \"delete\",\n        \"resource\": {\"project\": \"any\"}\n    }\n}\n\ntest_developer_own_project {\n    allow with input as {\n        \"user\": {\"role\": \"developer\", \"project\": \"proj-A\"},\n        \"action\": \"write\",\n        \"resource\": {\"project\": \"proj-A\"}\n    }\n}\n\ntest_developer_other_project {\n    not allow with input as {\n        \"user\": {\"role\": \"developer\", \"project\": \"proj-A\"},\n        \"action\": \"write\",\n        \"resource\": {\"project\": \"proj-B\"}\n    }\n}\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#3-bundle","title":"3\ub2e8\uacc4: Bundle \ube4c\ub4dc \ubc0f \ud14c\uc2a4\ud2b8","text":"<pre><code># \uc815\ucc45 \ud14c\uc2a4\ud2b8\nopa test policies/ -v\n# PASS: 3/3\n\n# Bundle \uc0dd\uc131\nopa build -b policies/ -o bundle.tar.gz\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#4-oci-docker-registry","title":"4\ub2e8\uacc4: OCI \uc774\ubbf8\uc9c0\ub85c \ud478\uc2dc (Docker Registry)","text":"<pre><code># Docker\ub85c \uac04\ub2e8\ud55c \ubc29\ubc95\n# Dockerfile\ncat &gt; Dockerfile &lt;&lt;'EOF'\nFROM scratch\nCOPY bundle.tar.gz /bundle.tar.gz\nEOF\n\ndocker build -t myregistry.example.com/opa-policies:v1.0.0 .\ndocker push myregistry.example.com/opa-policies:v1.0.0\n</code></pre> <p>\ub610\ub294 OPCR (OPA Container Registry) \uc0ac\uc6a9:</p> <pre><code># OPCR CLI \uc124\uce58\ngo install github.com/opcr-io/policy/cmd/policy@latest\n\n# OCI \ub808\uc9c0\uc2a4\ud2b8\ub9ac\uc5d0 \ud478\uc2dc\npolicy push myregistry.example.com/opa-policies:v1.0.0 bundle.tar.gz\n\n# \ub2e4\ub978 \ud658\uacbd\uc5d0\uc11c pull\npolicy pull myregistry.example.com/opa-policies:v1.0.0\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#5-opa-bundle","title":"5\ub2e8\uacc4: OPA \uc11c\ubc84\uc5d0\uc11c Bundle \uc0ac\uc6a9","text":"<p><code>config.yaml</code>: <pre><code>services:\n  registry:\n    url: https://myregistry.example.com\n    credentials:\n      bearer:\n        token: \"${REGISTRY_TOKEN}\"\n\nbundles:\n  authz:\n    service: registry\n    resource: opa-policies:v1.0.0\n    polling:\n      min_delay_seconds: 60\n      max_delay_seconds: 120\n\ndecision_logs:\n  console: true\n</code></pre></p> <pre><code># OPA \uc11c\ubc84 \uc2e4\ud589 (Bundle \uc790\ub3d9 \ub85c\ub4dc)\nopa run --server --config-file=config.yaml\n\n# \uc815\ucc45 \ucffc\ub9ac\ncurl -X POST http://localhost:8181/v1/data/authz/allow \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"input\": {\n      \"user\": {\"role\": \"admin\"},\n      \"action\": \"delete\"\n    }\n  }'\n# {\"result\": true}\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#lab-5-opa-decision-logs","title":"Lab 5: OPA Decision Logs \ubc0f \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1","text":"<p>\ubaa9\ud45c: OPA\uc758 \uc758\uc0ac\uacb0\uc815 \ub85c\uadf8\ub97c \uc218\uc9d1\ud558\uc5ec \uac10\uc0ac \ubc0f \ub514\ubc84\uae45</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#1-decision-logs","title":"1\ub2e8\uacc4: Decision Logs \uc124\uc815","text":"<p><code>config-with-logs.yaml</code>: <pre><code>services:\n  remote_log:\n    url: https://log-collector.example.com\n    headers:\n      Authorization: \"Bearer ${LOG_TOKEN}\"\n\ndecision_logs:\n  service: remote_log\n  reporting:\n    min_delay_seconds: 10\n    max_delay_seconds: 30\n  resource: /v1/logs\n\n# \ub85c\uceec \ud30c\uc77c\ub85c\ub3c4 \uac00\ub2a5\n# decision_logs:\n#   plugin: local_file\n#   local_file:\n#     path: /var/log/opa-decisions.json\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#2-decision-log","title":"2\ub2e8\uacc4: Decision Log \ud615\uc2dd","text":"<pre><code>{\n  \"labels\": {\n    \"app\": \"my-api-server\",\n    \"env\": \"production\"\n  },\n  \"decision_id\": \"uuid-12345\",\n  \"input\": {\n    \"user\": {\"role\": \"developer\"},\n    \"action\": \"write\",\n    \"resource\": {\"project\": \"proj-A\"}\n  },\n  \"result\": true,\n  \"path\": \"authz/allow\",\n  \"requested_by\": \"10.0.1.5:8080\",\n  \"timestamp\": \"2025-01-02T14:30:00.123Z\",\n  \"metrics\": {\n    \"timer_rego_query_eval_ns\": 1234567\n  }\n}\n</code></pre>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#3-prometheus","title":"3\ub2e8\uacc4: Prometheus \uba54\ud2b8\ub9ad \uc218\uc9d1","text":"<pre><code># OPA \uc11c\ubc84\ub97c Prometheus \uba54\ud2b8\ub9ad\uacfc \ud568\uaed8 \uc2e4\ud589\nopa run --server --addr=:8181 --diagnostic-addr=:8282\n\n# \uba54\ud2b8\ub9ad \ud655\uc778\ncurl http://localhost:8282/metrics\n\n# \uc8fc\uc694 \uba54\ud2b8\ub9ad:\n# - http_request_duration_seconds: HTTP \uc694\uccad \uc9c0\uc5f0 \uc2dc\uac04\n# - opa_rego_query_duration_seconds: Rego \ucffc\ub9ac \ud3c9\uac00 \uc2dc\uac04\n# - opa_http_requests_total: \ucd1d HTTP \uc694\uccad \uc218\n</code></pre> <p>Prometheus \uc2a4\ud06c\ub7a9 \uc124\uc815: <pre><code>scrape_configs:\n  - job_name: 'opa'\n    static_configs:\n      - targets: ['opa-server:8282']\n</code></pre></p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>OPA \uae30\ubcf8: - Open Policy Agent Official Website - OPA Documentation - OPA GitHub Repository - OPA Go SDK Documentation</p> <p>Kubernetes &amp; Gatekeeper: - OPA Kubernetes Integration - Kubernetes Admission Control Guide - OPA for Kubernetes Admission Control - OPA Gatekeeper - Kubernetes Blog - OPA Gatekeeper GitHub - OPA Gatekeeper Policy Library - Kubernetes with OPA &amp; Gatekeeper - Spacelift - OPA with Kubernetes Tutorial - GitGuardian - OPA and Gatekeeper in Kubernetes - Medium 2025</p> <p>Policy as Code &amp; Bundle: - Policy as Code with OPA Gatekeeper - Medium - OPA and Gatekeeper Complete Guide - Medium - Policy-as-Code for Docker and K8s - Aserto - Enforcing Policy as Code with OPA - Elastisys - GKE Pod Security Policies with Gatekeeper - Google Cloud</p> <p>Go Integration: - OPA Integration Guide - Example Go API with OPA - GitHub - HTTP API Authorization with OPA - OPA RESTful API Setup - GitHub - OPA to Externalize Authorization in Go - Enlear Academy</p>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_7","title":"\ucd94\ucc9c \ud29c\ud1a0\ub9ac\uc5bc","text":"<ul> <li>Rego Playground - \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c Rego \uc2e4\uc2b5</li> <li>OPA by Example</li> <li>Styra Academy - OPA \ubb34\ub8cc \uad50\uc721</li> </ul>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_8","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Rego \uc5b8\uc5b4 \uae30\ubcf8 \ubb38\ubc95 (rule, comprehension, function) \uc774\ud574</li> <li> OPA CLI\ub85c \uc815\ucc45 \ud3c9\uac00 \ubc0f \ud14c\uc2a4\ud2b8</li> <li> Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 OPA SDK \ud1b5\ud569</li> <li> Kubernetes Gatekeeper \uc124\uce58 \ubc0f ConstraintTemplate \uc791\uc131</li> <li> OPA Bundle\uc744 OCI \uc774\ubbf8\uc9c0\ub85c \ube4c\ub4dc \ubc0f \ubc30\ud3ec</li> <li> Decision Logs \uc218\uc9d1 \ubc0f Prometheus \uba54\ud2b8\ub9ad \ubaa8\ub2c8\ud130\ub9c1</li> <li> \ubcf5\uc7a1\ud55c \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1\uc744 Rego\ub85c \uad6c\ud604</li> <li> OPA\uc640 Casbin \ube44\uad50 \ubc0f \uc801\uc808\ud55c \ub3c4\uad6c \uc120\ud0dd</li> <li> Policy-as-Code CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li> \uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \uce90\uc2f1 \uc804\ub7b5 \uc218\ub9bd</li> </ul>"},{"location":"iam-storage-service/Ch4.Policy_Engine_OPA/#_9","title":"\ud83c\udfaf \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch5\uc5d0\uc11c\ub294 **HashiCorp Vault**\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4. Vault\ub294 \uc2dc\ud06c\ub9bf \uad00\ub9ac(Secrets Management) \ubd84\uc57c\uc758 \ud45c\uc900 \ub3c4\uad6c\ub85c, \ub3d9\uc801 \uc2dc\ud06c\ub9bf \uc0dd\uc131, \uc554\ud638\ud654 \uc11c\ube44\uc2a4, PKI \ub4f1 \ub2e4\uc591\ud55c \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <p>Preview: - Vault \uc544\ud0a4\ud14d\ucc98 \ubc0f Secrets Engine - \ub3d9\uc801 \uc2dc\ud06c\ub9bf \uc0dd\uc131 (Database, AWS \ub4f1) - Vault Agent\ub97c \ud1b5\ud55c \uc790\ub3d9 \uc2dc\ud06c\ub9bf \uc8fc\uc785 - Kubernetes Vault Integration - Encryption as a Service (Transit Engine)</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/","title":"Ch5. Secrets Management - HashiCorp Vault","text":""},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":"<p>**HashiCorp Vault**\ub294 \uc2dc\ud06c\ub9bf \uad00\ub9ac(Secrets Management) \ubd84\uc57c\uc758 \uc5c5\uacc4 \ud45c\uc900 \ub3c4\uad6c\ub85c, \uc554\ud638, API \ud0a4, \uc778\uc99d\uc11c \ub4f1 \ubbfc\uac10\ud55c \uc815\ubcf4\ub97c \uc548\uc804\ud558\uac8c \uc800\uc7a5\ud558\uace0 \uc811\uadfc\uc744 \uc81c\uc5b4\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_2","title":"\uc65c \uc911\uc694\ud55c\uac00?","text":"<p>\uc804\ud1b5\uc801\uc778 \uc2dc\ud06c\ub9bf \uad00\ub9ac \ubc29\uc2dd\uc758 \ubb38\uc81c\uc810:</p> <ul> <li>\u274c \ud558\ub4dc\ucf54\ub529: \ucf54\ub4dc\uc5d0 \uc9c1\uc811 \uc554\ud638 \uc791\uc131 (Git\uc5d0 \ub178\ucd9c \uc704\ud5d8)</li> <li>\u274c \ud658\uacbd\ubcc0\uc218: \uc5ec\uc804\ud788 \ud3c9\ubb38\uc73c\ub85c \uc800\uc7a5\ub418\uc5b4 \ud504\ub85c\uc138\uc2a4 \uba54\ubaa8\ub9ac\uc5d0\uc11c \uc720\ucd9c \uac00\ub2a5</li> <li>\u274c \uc815\uc801 \uc2dc\ud06c\ub9bf: \ud55c\ubc88 \uc0dd\uc131\ud558\uba74 \uc601\uad6c \uc0ac\uc6a9 (\ud0c8\ucde8 \uc2dc \ud53c\ud574 \ud655\ub300)</li> <li>\u274c \uc911\uc559\ud654\ub41c \uad00\ub9ac \ubd80\uc7ac: \uac01 \ud300\uc774 \uc790\uccb4 \ubc29\uc2dd\uc73c\ub85c \uad00\ub9ac (\uc77c\uad00\uc131 \ubd80\uc871)</li> </ul> <p>Vault\uc758 \ud574\uacb0\ucc45: - \u2705 \uc911\uc559 \uc9d1\uc911\uc2dd \uc2dc\ud06c\ub9bf \uc800\uc7a5\uc18c: \ub2e8\uc77c \uc9c4\uc2e4\uc758 \uc6d0\ucc9c (Single Source of Truth) - \u2705 \ub3d9\uc801 \uc2dc\ud06c\ub9bf(Dynamic Secrets): \uc694\uccad \uc2dc \uc0dd\uc131, TTL \ud6c4 \uc790\ub3d9 \uc0ad\uc81c - \u2705 \uc554\ud638\ud654 \uc11c\ube44\uc2a4(EaaS): \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \uc9c1\uc811 \uc554\ud638\ud654 \ud0a4\ub97c \uad00\ub9ac\ud558\uc9c0 \uc54a\uc74c - \u2705 \uc138\ubc00\ud55c \uc811\uadfc \uc81c\uc5b4: Policy \uae30\ubc18 \uad8c\ud55c \uad00\ub9ac - \u2705 \uac10\uc0ac \ub85c\uadf8: \ubaa8\ub4e0 \uc811\uadfc \uae30\ub85d \ucd94\uc801</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#kakaocloud","title":"KakaoCloud\uc5d0\uc11c\uc758 \ud65c\uc6a9 \uc0ac\ub840","text":"<ul> <li>\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc790\uaca9 \uc99d\uba85: PostgreSQL/MySQL \ub3d9\uc801 \uacc4\uc815 \uc0dd\uc131 (15\ubd84 TTL)</li> <li>Cloud Provider API \ud0a4: AWS/GCP \uc784\uc2dc \uc790\uaca9 \uc99d\uba85 \ubc1c\uae09</li> <li>TLS \uc778\uc99d\uc11c \uad00\ub9ac: PKI Engine\uc73c\ub85c \uc790\ub3d9 \ubc1c\uae09 \ubc0f \uac31\uc2e0</li> <li>\uc554\ud638\ud654 \ud0a4 \uad00\ub9ac: \uc0ac\uc6a9\uc790 \ub370\uc774\ud130 \uc554\ud638\ud654\ub97c Vault\uc5d0 \uc704\uc784</li> <li>Kubernetes Secret \uc8fc\uc785: Vault Agent Sidecar\ub85c \uc790\ub3d9 \uc8fc\uc785</li> </ul>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_3","title":"\ud559\uc2b5 \ud6c4 \uc5bb\uc744 \uc218 \uc788\ub294 \uc5ed\ub7c9","text":"<ul> <li> Vault \uc544\ud0a4\ud14d\ucc98 \ubc0f Secrets Engine \uc774\ud574</li> <li> \ub3d9\uc801 \uc2dc\ud06c\ub9bf \uc0dd\uc131 \ubc0f \uc790\ub3d9 \ud68c\uc804 \uad6c\ud604</li> <li> Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 Vault \ud1b5\ud569</li> <li> Kubernetes\uc5d0 Vault Agent Sidecar \ubc30\ud3ec</li> <li> Transit Engine\uc73c\ub85c Encryption as a Service \uad6c\ud604</li> </ul>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#1-vault","title":"1. Vault \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>graph TB\n    Client[Client&lt;br/&gt;App/User] --&gt;|HTTP API| Vault[Vault Server]\n    Vault --&gt; Auth[Auth Methods]\n    Vault --&gt; Policy[Policy Engine]\n    Vault --&gt; Engine[Secrets Engines]\n    Vault --&gt; Audit[Audit Devices]\n    Vault --&gt; Storage[(Storage Backend)]\n\n    Auth --&gt; |1. Authenticate|Token[Token]\n    Token --&gt; |2. Check Policy|Policy\n    Policy --&gt; |3. Allow/Deny|Engine\n    Engine --&gt; |4. Return Secret|Client\n    Audit --&gt; |Log all operations|LogStore[(Audit Logs)]\n\n    Storage --&gt; |Encrypted|Consul[(Consul)]\n    Storage --&gt; Integrated[(Integrated&lt;br/&gt;Raft)]\n    Storage --&gt; Cloud[(Cloud Storage)]\n\n    style Vault fill:#00d9ff\n    style Engine fill:#ffd700\n    style Storage fill:#90ee90</code></pre> <p>\ud575\uc2ec \uad6c\uc131 \uc694\uc18c:</p> <ol> <li>Vault Server:</li> <li>Dev Mode: \uba54\ubaa8\ub9ac \uc2a4\ud1a0\ub9ac\uc9c0, \uc790\ub3d9 unseal (\uac1c\ubc1c \uc804\uc6a9)</li> <li> <p>Production Mode: \uc601\uad6c \uc2a4\ud1a0\ub9ac\uc9c0, \uc218\ub3d9/\uc790\ub3d9 unseal</p> </li> <li> <p>Seal/Unseal:</p> </li> <li>Sealed: Vault\uac00 \uc554\ud638\ud654 \ud0a4\uc5d0 \uc811\uadfc \ubd88\uac00 (\uc7ac\uc2dc\uc791 \ud6c4 \ucd08\uae30 \uc0c1\ud0dc)</li> <li>Unsealed: \uc554\ud638\ud654 \ud0a4\uac00 \uba54\ubaa8\ub9ac\uc5d0 \ub85c\ub4dc\ub428 (\uc815\uc0c1 \uc791\ub3d9)</li> <li> <p>Unseal \ubc29\uc2dd:</p> <ul> <li>Shamir's Secret Sharing (5\uac1c \ud0a4 \uc911 3\uac1c \ud544\uc694)</li> <li>Auto-Unseal (AWS KMS, Azure Key Vault, Google Cloud KMS)</li> </ul> </li> <li> <p>Auth Methods: \uc0ac\uc6a9\uc790/\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc778\uc99d</p> </li> <li> <p>Token, Kubernetes, AWS, LDAP, GitHub, AppRole \ub4f1</p> </li> <li> <p>Secrets Engines: \uc2dc\ud06c\ub9bf \uc800\uc7a5 \ubc0f \uc0dd\uc131</p> </li> <li> <p>KV (Key-Value), Database, AWS, PKI, Transit \ub4f1</p> </li> <li> <p>Policy: \uc811\uadfc \uad8c\ud55c \uc815\uc758    <pre><code>path \"secret/data/myapp/*\" {\n  capabilities = [\"read\", \"list\"]\n}\n</code></pre></p> </li> <li> <p>Audit Devices: \ubaa8\ub4e0 \uc694\uccad/\uc751\ub2f5 \ub85c\uae45</p> </li> <li>File, Syslog, Socket</li> </ol>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#2-secrets-engines","title":"2. Secrets Engines","text":""},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#21-kv-key-value-secrets-engine","title":"2.1 KV (Key-Value) Secrets Engine","text":"<p>Version 1 vs Version 2:</p> \uae30\ub2a5 KV v1 KV v2 \ubc84\uc804 \uad00\ub9ac \uc5c6\uc74c \uc788\uc74c (\ucd5c\ub300 10\uac1c \ubc84\uc804) Soft Delete \ubd88\uac00\ub2a5 \uac00\ub2a5 (\ubcf5\uad6c \uac00\ub2a5) CAS (Check-And-Set) \uc5c6\uc74c \uc788\uc74c (\ub3d9\uc2dc\uc131 \uc81c\uc5b4) \uba54\ud0c0\ub370\uc774\ud130 \uc5c6\uc74c \uc0dd\uc131/\uc218\uc815 \uc2dc\uac04, \uc0ad\uc81c \uc5ec\ubd80 \uacbd\ub85c <code>secret/mykey</code> <code>secret/data/mykey</code> <p>KV v2 \uc0ac\uc6a9 \uc608\uc2dc: <pre><code># \uc2dc\ud06c\ub9bf \uc791\uc131\nvault kv put secret/myapp password=secret123\n\n# \uc2dc\ud06c\ub9bf \uc77d\uae30\nvault kv get secret/myapp\n\n# \ud2b9\uc815 \ubc84\uc804 \uc77d\uae30\nvault kv get -version=2 secret/myapp\n\n# \uc0ad\uc81c (soft delete)\nvault kv delete secret/myapp\n\n# \ubcf5\uad6c\nvault kv undelete -versions=1 secret/myapp\n\n# \uc601\uad6c \uc0ad\uc81c\nvault kv destroy -versions=1 secret/myapp\n</code></pre></p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#22-database-secrets-engine","title":"2.2 Database Secrets Engine","text":"<p>\ub3d9\uc801 \uc790\uaca9 \uc99d\uba85 \uc0dd\uc131 - \uc694\uccad \uc2dc DB \uacc4\uc815 \uc0dd\uc131, TTL \ud6c4 \uc790\ub3d9 \uc0ad\uc81c</p> <pre><code>sequenceDiagram\n    participant App\n    participant Vault\n    participant DB as PostgreSQL\n\n    App-&gt;&gt;Vault: GET /database/creds/myapp-role\n    Vault-&gt;&gt;DB: CREATE USER vault_user_12345&lt;br/&gt;GRANT SELECT ON myapp.*\n    DB--&gt;&gt;Vault: User created\n    Vault--&gt;&gt;App: {username: vault_user_12345, password: xxx, lease: 15m}\n\n    Note over App,DB: \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc0ac\uc6a9 (15\ubd84)\n\n    Vault-&gt;&gt;DB: DROP USER vault_user_12345\n    Note over Vault,DB: Lease \ub9cc\ub8cc \uc2dc \uc790\ub3d9 \uc0ad\uc81c</code></pre> <p>\uc7a5\uc810: - \u2705 \uc790\ub3d9 \ud68c\uc804: 15\ubd84\ub9c8\ub2e4 \uc0c8 \uacc4\uc815 \uc0dd\uc131/\uc0ad\uc81c - \u2705 \uce68\ud574 \uc601\ud5a5 \ucd5c\uc18c\ud654: \ud0c8\ucde8\ub41c \uc790\uaca9 \uc99d\uba85\uc740 15\ubd84 \ud6c4 \ubb34\ud6a8\ud654 - \u2705 \uac10\uc0ac \ucd94\uc801: \uc5b4\ub5a4 \uc0ac\uc6a9\uc790\uac00 \uc5b4\ub5a4 DB \uacc4\uc815\uc744 \uc5b8\uc81c \uc0ac\uc6a9\ud588\ub294\uc9c0 \ucd94\uc801</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#23-transit-secrets-engine","title":"2.3 Transit Secrets Engine","text":"<p>Encryption as a Service - Vault\uac00 \uc554\ud638\ud654/\ubcf5\ud638\ud654 \ub2f4\ub2f9, \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc740 \ud0a4 \uad00\ub9ac \ubd88\ud544\uc694</p> <pre><code>plaintext \u2192 [Vault Transit] \u2192 ciphertext\nciphertext \u2192 [Vault Transit] \u2192 plaintext\n</code></pre> <p>Key Rotation \ubca0\uc2a4\ud2b8 \ud504\ub799\ud2f0\uc2a4 (2025): - AES-GCM: 2^32 (\uc57d 42\uc5b5) \uc554\ud638\ud654 \uc804\uc5d0 \ud68c\uc804 \uad8c\uc7a5 (NIST 800-38D) - \uc790\ub3d9 \ubc84\uc804 \uad00\ub9ac: \uc0c8 \ud0a4 \ubc84\uc804 \uc0dd\uc131 \uc2dc \uc774\uc804 \ubc84\uc804\ub3c4 \ubcf5\ud638\ud654 \uac00\ub2a5 - min_decryption_version: \uc624\ub798\ub41c \ud0a4 \ubc84\uc804 \uc544\uce74\uc774\ube59 (\uc131\ub2a5 + \ubcf4\uc548)</p> <p>Envelope Encryption \ud328\ud134: <pre><code>1. KEK (Key Encryption Key) - Vault\uc5d0\uc11c \uad00\ub9ac\n2. DEK (Data Encryption Key) - \ub85c\uceec\uc5d0\uc11c \ub370\uc774\ud130 \uc554\ud638\ud654\n3. Encrypted DEK - Vault\ub85c \uc554\ud638\ud654\ud558\uc5ec \uc800\uc7a5\n</code></pre></p> <p>\uc774 \ubc29\uc2dd\uc758 \uc7a5\uc810: - \u2705 \ub300\uc6a9\ub7c9 \ub370\uc774\ud130 \ud6a8\uc728: \ubaa8\ub4e0 \ub370\uc774\ud130\ub97c Vault\ub85c \ubcf4\ub0b4\uc9c0 \uc54a\uc74c - \u2705 \ud0a4 \ud68c\uc804 \uac04\ub2e8: KEK\ub9cc \ud68c\uc804, \ub370\uc774\ud130 \uc7ac\uc554\ud638\ud654 \ubd88\ud544\uc694</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#24-pki-secrets-engine","title":"2.4 PKI Secrets Engine","text":"<p>\uc790\ub3d9 \uc778\uc99d\uc11c \ubc1c\uae09 \ubc0f \uad00\ub9ac</p> <pre><code># Root CA \uc0dd\uc131\nvault secrets enable pki\nvault write pki/root/generate/internal \\\n    common_name=example.com \\\n    ttl=87600h\n\n# Intermediate CA \uc0dd\uc131\nvault secrets enable -path=pki_int pki\nvault write -format=json pki_int/intermediate/generate/internal \\\n    common_name=\"example.com Intermediate CA\" \\\n    | jq -r '.data.csr' &gt; pki_intermediate.csr\n\n# \uc778\uc99d\uc11c \ubc1c\uae09\nvault write pki_int/issue/example-dot-com \\\n    common_name=www.example.com \\\n    ttl=24h\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#3-vault-10-2025","title":"3. Vault 1.0 \uc774\ud6c4 \uc8fc\uc694 \uae30\ub2a5 (2025 \ud604\uc7ac)","text":"\ubc84\uc804 \uc8fc\uc694 \uae30\ub2a5 1.0 (2018) Auto-Unseal \uc624\ud508\uc18c\uc2a4\ud654 1.5 Integrated Storage (Raft) 1.7 Key Management Secrets Engine 1.9 Vault Secrets Operator (K8s) 1.11 Event Streaming (Beta) 1.12 KMIP Secrets Engine 1.13 Automated License Utilization Reporting 1.14 OpenBao fork (2023) 1.15 Performance improvements 1.17 (2024) Enhanced OIDC, Kubernetes improvements <p>2025 \ud2b8\ub80c\ub4dc: - \u2705 Kubernetes-native integration \uac15\ud654 - \u2705 Multi-cloud auto-unseal (AWS/Azure/GCP KMS) - \u2705 Secrets Operator\ub85c K8s Secret \uc790\ub3d9 \ub3d9\uae30\ud654 - \u2705 Envelope encryption \ud328\ud134 \ud45c\uc900\ud654</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#lab-1-vault","title":"Lab 1: Vault \uc124\uce58 \ubc0f \ucd08\uae30\ud654","text":"<p>\ubaa9\ud45c: Dev \uc11c\ubc84\ub85c Vault \uae30\ubcf8 \ub3d9\uc791 \uc774\ud574</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#1-vault_1","title":"1\ub2e8\uacc4: Vault \uc124\uce58","text":"<pre><code># macOS\nbrew tap hashicorp/tap\nbrew install hashicorp/tap/vault\n\n# Linux\nwget https://releases.hashicorp.com/vault/1.17.0/vault_1.17.0_linux_amd64.zip\nunzip vault_1.17.0_linux_amd64.zip\nsudo mv vault /usr/local/bin/\n\n# \ubc84\uc804 \ud655\uc778\nvault version\n# Vault v1.17.0\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#2-dev","title":"2\ub2e8\uacc4: Dev \uc11c\ubc84 \uc2e4\ud589","text":"<pre><code># Dev \ubaa8\ub4dc (\uc778\uba54\ubaa8\ub9ac, \uc790\ub3d9 unseal, Root Token \ucd9c\ub825)\nvault server -dev\n\n# \ucd9c\ub825 \uc608\uc2dc:\n# ==&gt; Vault server configuration:\n# Root Token: hvs.xxxxxxxxxxxxx\n# Unseal Key: (not needed in dev mode)\n#\n# WARNING! dev mode is enabled!\n# The dev server stores all data in memory and is insecure.\n</code></pre> <p>**\uc0c8 \ud130\ubbf8\ub110**\uc5d0\uc11c: <pre><code># Vault \uc8fc\uc18c \uc124\uc815\nexport VAULT_ADDR='http://127.0.0.1:8200'\n\n# Root Token \uc124\uc815 (\uc704\uc5d0\uc11c \ucd9c\ub825\ub41c \uac12)\nexport VAULT_TOKEN='hvs.xxxxxxxxxxxxx'\n\n# \uc0c1\ud0dc \ud655\uc778\nvault status\n# Seal Type: shamir\n# Initialized: true\n# Sealed: false\n# Total Shares: 1\n# Threshold: 1\n# Version: 1.17.0\n</code></pre></p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#3-kv-secrets-engine","title":"3\ub2e8\uacc4: KV Secrets Engine \uc0ac\uc6a9","text":"<pre><code># \uc2dc\ud06c\ub9bf \uc791\uc131\nvault kv put secret/myapp username=admin password=secret123\n\n# \uc2dc\ud06c\ub9bf \uc77d\uae30\nvault kv get secret/myapp\n# ====== Data ======\n# Key       Value\n# ---       -----\n# password  secret123\n# username  admin\n\n# JSON \ud615\uc2dd\uc73c\ub85c \uc77d\uae30\nvault kv get -format=json secret/myapp | jq -r '.data.data.password'\n# secret123\n\n# \uc2dc\ud06c\ub9bf \ubaa9\ub85d \uc870\ud68c\nvault kv list secret/\n# Keys\n# ----\n# myapp\n\n# \uc2dc\ud06c\ub9bf \uc0ad\uc81c\nvault kv delete secret/myapp\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#lab-2-database-dynamic-secrets-postgresql","title":"Lab 2: Database Dynamic Secrets (PostgreSQL)","text":"<p>\ubaa9\ud45c: PostgreSQL \ub3d9\uc801 \uc790\uaca9 \uc99d\uba85 \uc0dd\uc131 \ubc0f \uc790\ub3d9 \ud68c\uc804</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#1-postgresql","title":"1\ub2e8\uacc4: PostgreSQL \uc900\ube44","text":"<pre><code># Docker\ub85c PostgreSQL \uc2e4\ud589\ndocker run --name postgres-vault \\\n  -e POSTGRES_PASSWORD=rootpass \\\n  -e POSTGRES_DB=myapp \\\n  -p 5432:5432 \\\n  -d postgres:15\n\n# \ucd08\uae30 \uc0ac\uc6a9\uc790 \uc0dd\uc131 (Vault\uac00 \uc0ac\uc6a9\ud560 \uad00\ub9ac\uc790 \uacc4\uc815)\ndocker exec -it postgres-vault psql -U postgres -d myapp -c \\\n  \"CREATE USER vault_admin WITH PASSWORD 'vaultpass' SUPERUSER;\"\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#2-database-secrets-engine","title":"2\ub2e8\uacc4: Database Secrets Engine \ud65c\uc131\ud654","text":"<pre><code># Database engine \ud65c\uc131\ud654\nvault secrets enable database\n\n# PostgreSQL \uc5f0\uacb0 \uc124\uc815\nvault write database/config/myapp \\\n    plugin_name=postgresql-database-plugin \\\n    allowed_roles=\"myapp-role\" \\\n    connection_url=\"postgresql://{{username}}:{{password}}@localhost:5432/myapp?sslmode=disable\" \\\n    username=\"vault_admin\" \\\n    password=\"vaultpass\"\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#3-role","title":"3\ub2e8\uacc4: Role \uc815\uc758","text":"<pre><code># \ub3d9\uc801 \uc0ac\uc6a9\uc790 \uc0dd\uc131 \uaddc\uce59 \uc815\uc758\nvault write database/roles/myapp-role \\\n    db_name=myapp \\\n    creation_statements=\"CREATE ROLE \\\"{{name}}\\\" WITH LOGIN PASSWORD '{{password}}' VALID UNTIL '{{expiration}}'; \\\n        GRANT SELECT ON ALL TABLES IN SCHEMA public TO \\\"{{name}}\\\";\" \\\n    default_ttl=\"15m\" \\\n    max_ttl=\"1h\"\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#4","title":"4\ub2e8\uacc4: \ub3d9\uc801 \uc790\uaca9 \uc99d\uba85 \uc0dd\uc131","text":"<pre><code># \uc790\uaca9 \uc99d\uba85 \uc694\uccad\nvault read database/creds/myapp-role\n\n# \ucd9c\ub825:\n# Key                Value\n# ---                -----\n# lease_id           database/creds/myapp-role/abc123\n# lease_duration     15m\n# lease_renewable    true\n# password           A1a-xxxxxxxxx\n# username           v-root-myapp-ro-xxxxxx\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#5","title":"5\ub2e8\uacc4: \uc0dd\uc131\ub41c \uc790\uaca9 \uc99d\uba85 \ud655\uc778","text":"<pre><code># PostgreSQL\uc5d0 \uc811\uc18d\ud574\uc11c \ud655\uc778\ndocker exec -it postgres-vault psql -U postgres -d myapp -c \"\\du\"\n\n# \ucd9c\ub825:\n# List of roles\n#  Role name               | Attributes\n# v-root-myapp-ro-xxxxxx   | Password valid until 2025-01-02 14:45:00+00\n</code></pre> <p>15\ubd84 \ud6c4 \uc790\ub3d9 \uc0ad\uc81c \ud655\uc778: <pre><code># 15\ubd84 \ub300\uae30 \ud6c4\ndocker exec -it postgres-vault psql -U postgres -d myapp -c \"\\du\"\n# \u2192 v-root-myapp-ro-xxxxxx \uacc4\uc815\uc774 \uc0ad\uc81c\ub428\n</code></pre></p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#6-lease","title":"6\ub2e8\uacc4: Lease \uc5f0\uc7a5","text":"<pre><code># Lease \uc815\ubcf4 \ud655\uc778\nvault read database/creds/myapp-role\n\n# Lease \uc5f0\uc7a5 (\ucd5c\ub300 max_ttl\uae4c\uc9c0)\nvault lease renew database/creds/myapp-role/abc123\n\n# \uc989\uc2dc revoke (\uc0ad\uc81c)\nvault lease revoke database/creds/myapp-role/abc123\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#lab-3-go-vault","title":"Lab 3: Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 Vault \ud1b5\ud569","text":"<p>\ubaa9\ud45c: Go \uc571\uc5d0\uc11c Vault API\ub85c \ub3d9\uc801 DB \uc790\uaca9 \uc99d\uba85 \uc0ac\uc6a9</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#1","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>mkdir vault-go-demo &amp;&amp; cd vault-go-demo\ngo mod init vault-go-demo\n\ngo get github.com/hashicorp/vault/api\ngo get github.com/lib/pq\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#2-approle","title":"2\ub2e8\uacc4: AppRole \uc778\uc99d \uc124\uc815","text":"<pre><code># AppRole \ud65c\uc131\ud654\nvault auth enable approle\n\n# Policy \uc0dd\uc131\nvault policy write myapp-policy - &lt;&lt;EOF\npath \"database/creds/myapp-role\" {\n  capabilities = [\"read\"]\n}\nEOF\n\n# AppRole \uc0dd\uc131\nvault write auth/approle/role/myapp \\\n    secret_id_ttl=24h \\\n    token_ttl=15m \\\n    token_max_ttl=1h \\\n    policies=\"myapp-policy\"\n\n# Role ID \ud655\uc778\nvault read auth/approle/role/myapp/role-id\n# role_id: xxxx-yyyy-zzzz\n\n# Secret ID \uc0dd\uc131\nvault write -f auth/approle/role/myapp/secret-id\n# secret_id: aaaa-bbbb-cccc\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#3-go","title":"3\ub2e8\uacc4: Go \ucf54\ub4dc \uad6c\ud604","text":"<pre><code>// main.go\npackage main\n\nimport (\n    \"context\"\n    \"database/sql\"\n    \"fmt\"\n    \"log\"\n    \"os\"\n    \"time\"\n\n    vault \"github.com/hashicorp/vault/api\"\n    _ \"github.com/lib/pq\"\n)\n\nvar (\n    vaultClient *vault.Client\n    roleID      = os.Getenv(\"VAULT_ROLE_ID\")\n    secretID    = os.Getenv(\"VAULT_SECRET_ID\")\n)\n\n// Vault \ud074\ub77c\uc774\uc5b8\ud2b8 \ucd08\uae30\ud654 \ubc0f AppRole \uc778\uc99d\nfunc initVault() error {\n    config := vault.DefaultConfig()\n    config.Address = \"http://127.0.0.1:8200\"\n\n    var err error\n    vaultClient, err = vault.NewClient(config)\n    if err != nil {\n        return fmt.Errorf(\"failed to create vault client: %w\", err)\n    }\n\n    // AppRole \ub85c\uadf8\uc778\n    data := map[string]interface{}{\n        \"role_id\":   roleID,\n        \"secret_id\": secretID,\n    }\n\n    resp, err := vaultClient.Logical().Write(\"auth/approle/login\", data)\n    if err != nil {\n        return fmt.Errorf(\"failed to login with AppRole: %w\", err)\n    }\n\n    // Token \uc124\uc815\n    vaultClient.SetToken(resp.Auth.ClientToken)\n    log.Printf(\"\u2713 Authenticated with Vault (Token TTL: %ds)\", resp.Auth.LeaseDuration)\n\n    return nil\n}\n\n// \ub3d9\uc801 DB \uc790\uaca9 \uc99d\uba85 \uac00\uc838\uc624\uae30\nfunc getDatabaseCredentials() (username, password string, leaseID string, err error) {\n    secret, err := vaultClient.Logical().Read(\"database/creds/myapp-role\")\n    if err != nil {\n        return \"\", \"\", \"\", fmt.Errorf(\"failed to read database credentials: %w\", err)\n    }\n\n    username = secret.Data[\"username\"].(string)\n    password = secret.Data[\"password\"].(string)\n    leaseID = secret.LeaseID\n\n    log.Printf(\"\u2713 Got dynamic DB credentials: %s (Lease: %s, TTL: %ds)\",\n        username, leaseID, secret.LeaseDuration)\n\n    return username, password, leaseID, nil\n}\n\n// Lease \uac31\uc2e0 \ubc31\uadf8\ub77c\uc6b4\ub4dc \uace0\ub8e8\ud2f4\nfunc renewLeaseBackground(leaseID string, stopCh chan struct{}) {\n    ticker := time.NewTicker(5 * time.Minute) // 5\ubd84\ub9c8\ub2e4 \uac31\uc2e0\n    defer ticker.Stop()\n\n    for {\n        select {\n        case &lt;-ticker.C:\n            secret, err := vaultClient.Sys().Renew(leaseID, 0)\n            if err != nil {\n                log.Printf(\"\u2717 Failed to renew lease: %v\", err)\n                return\n            }\n            log.Printf(\"\u2713 Renewed lease %s (TTL: %ds)\", leaseID, secret.LeaseDuration)\n\n        case &lt;-stopCh:\n            // Revoke lease on shutdown\n            err := vaultClient.Sys().Revoke(leaseID)\n            if err != nil {\n                log.Printf(\"\u2717 Failed to revoke lease: %v\", err)\n            } else {\n                log.Printf(\"\u2713 Revoked lease %s\", leaseID)\n            }\n            return\n        }\n    }\n}\n\n// DB \uc5f0\uacb0 \ubc0f \ucffc\ub9ac\nfunc queryDatabase(username, password string) error {\n    connStr := fmt.Sprintf(\"host=localhost port=5432 user=%s password=%s dbname=myapp sslmode=disable\",\n        username, password)\n\n    db, err := sql.Open(\"postgres\", connStr)\n    if err != nil {\n        return fmt.Errorf(\"failed to connect to database: %w\", err)\n    }\n    defer db.Close()\n\n    // \uc5f0\uacb0 \ud14c\uc2a4\ud2b8\n    ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)\n    defer cancel()\n\n    if err := db.PingContext(ctx); err != nil {\n        return fmt.Errorf(\"failed to ping database: %w\", err)\n    }\n\n    // \uc0d8\ud50c \ucffc\ub9ac\n    var currentUser string\n    err = db.QueryRowContext(ctx, \"SELECT current_user\").Scan(&amp;currentUser)\n    if err != nil {\n        return fmt.Errorf(\"failed to query current_user: %w\", err)\n    }\n\n    log.Printf(\"\u2713 Connected to database as: %s\", currentUser)\n    return nil\n}\n\nfunc main() {\n    // 1. Vault \ucd08\uae30\ud654\n    if err := initVault(); err != nil {\n        log.Fatalf(\"Vault initialization failed: %v\", err)\n    }\n\n    // 2. \ub3d9\uc801 DB \uc790\uaca9 \uc99d\uba85 \uac00\uc838\uc624\uae30\n    username, password, leaseID, err := getDatabaseCredentials()\n    if err != nil {\n        log.Fatalf(\"Failed to get DB credentials: %v\", err)\n    }\n\n    // 3. Lease \uac31\uc2e0 \uace0\ub8e8\ud2f4 \uc2dc\uc791\n    stopCh := make(chan struct{})\n    go renewLeaseBackground(leaseID, stopCh)\n\n    // 4. DB \uc5f0\uacb0 \ubc0f \ucffc\ub9ac\n    if err := queryDatabase(username, password); err != nil {\n        log.Fatalf(\"Database query failed: %v\", err)\n    }\n\n    // 5. \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc2e4\ud589 (\uc5ec\uae30\uc11c\ub294 30\ucd08 \ub300\uae30)\n    log.Println(\"Application running... (Press Ctrl+C to exit)\")\n    time.Sleep(30 * time.Second)\n\n    // 6. \uc885\ub8cc \uc2dc Lease revoke\n    close(stopCh)\n    time.Sleep(1 * time.Second) // revoke \uc644\ub8cc \ub300\uae30\n\n    log.Println(\"\u2713 Application shutdown complete\")\n}\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#4_1","title":"4\ub2e8\uacc4: \uc2e4\ud589","text":"<pre><code># \ud658\uacbd\ubcc0\uc218 \uc124\uc815\nexport VAULT_ROLE_ID=\"xxxx-yyyy-zzzz\"\nexport VAULT_SECRET_ID=\"aaaa-bbbb-cccc\"\n\n# \uc2e4\ud589\ngo run main.go\n\n# \ucd9c\ub825:\n# \u2713 Authenticated with Vault (Token TTL: 900s)\n# \u2713 Got dynamic DB credentials: v-approle-myapp-ro-abc123 (Lease: database/creds/myapp-role/xyz, TTL: 900s)\n# \u2713 Connected to database as: v-approle-myapp-ro-abc123\n# Application running... (Press Ctrl+C to exit)\n# \u2713 Renewed lease database/creds/myapp-role/xyz (TTL: 900s)\n# ^C\n# \u2713 Revoked lease database/creds/myapp-role/xyz\n# \u2713 Application shutdown complete\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#lab-4-kubernetes-vault-agent-sidecar","title":"Lab 4: Kubernetes Vault Agent Sidecar","text":"<p>\ubaa9\ud45c: Vault Agent\ub97c Sidecar\ub85c \uc8fc\uc785\ud558\uc5ec K8s Pod\uc5d0 \uc2dc\ud06c\ub9bf \uc790\ub3d9 \uc8fc\uc785</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#1-vault-helm-chart","title":"1\ub2e8\uacc4: Vault Helm Chart \uc124\uce58","text":"<pre><code># Helm repo \ucd94\uac00\nhelm repo add hashicorp https://helm.releases.hashicorp.com\nhelm repo update\n\n# Vault \uc124\uce58 (Injector \ud3ec\ud568)\nhelm install vault hashicorp/vault \\\n  --set \"server.dev.enabled=true\" \\\n  --set \"injector.enabled=true\"\n\n# \ud655\uc778\nkubectl get pods\n# NAME                                    READY   STATUS\n# vault-0                                 1/1     Running\n# vault-agent-injector-xxx                1/1     Running\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#2-kubernetes-auth","title":"2\ub2e8\uacc4: Kubernetes Auth \uc124\uc815","text":"<pre><code># Vault Pod\uc5d0 \uc811\uc18d\nkubectl exec -it vault-0 -- /bin/sh\n\n# Kubernetes auth \ud65c\uc131\ud654\nvault auth enable kubernetes\n\n# Kubernetes \uc124\uc815\nvault write auth/kubernetes/config \\\n    kubernetes_host=\"https://$KUBERNETES_PORT_443_TCP_ADDR:443\"\n\n# Policy \uc0dd\uc131\nvault policy write myapp - &lt;&lt;EOF\npath \"secret/data/myapp/*\" {\n  capabilities = [\"read\"]\n}\nEOF\n\n# Role \uc0dd\uc131 (ServiceAccount\uc640 \uc5f0\ub3d9)\nvault write auth/kubernetes/role/myapp \\\n    bound_service_account_names=myapp \\\n    bound_service_account_namespaces=default \\\n    policies=myapp \\\n    ttl=24h\n\n# \uc2dc\ud06c\ub9bf \uc791\uc131\nvault kv put secret/myapp/config \\\n    username=appuser \\\n    password=secret123 \\\n    database_url=postgres://localhost:5432/myapp\n\nexit\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#3-serviceaccount","title":"3\ub2e8\uacc4: ServiceAccount \uc0dd\uc131","text":"<pre><code># myapp-sa.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: myapp\n</code></pre> <pre><code>kubectl apply -f myapp-sa.yaml\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#4-vault-agent-annotation","title":"4\ub2e8\uacc4: Vault Agent \uc8fc\uc785 Annotation \uc124\uc815","text":"<pre><code># myapp-deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: myapp\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: myapp\n  template:\n    metadata:\n      labels:\n        app: myapp\n      annotations:\n        # Vault Injector Annotations\n        vault.hashicorp.com/agent-inject: \"true\"\n        vault.hashicorp.com/role: \"myapp\"\n        vault.hashicorp.com/agent-inject-secret-config: \"secret/data/myapp/config\"\n        vault.hashicorp.com/agent-inject-template-config: |\n          {{- with secret \"secret/data/myapp/config\" -}}\n          export DATABASE_URL=\"{{ .Data.data.database_url }}\"\n          export DB_USERNAME=\"{{ .Data.data.username }}\"\n          export DB_PASSWORD=\"{{ .Data.data.password }}\"\n          {{- end }}\n    spec:\n      serviceAccountName: myapp\n      containers:\n        - name: app\n          image: alpine:3.18\n          command: [\"/bin/sh\"]\n          args:\n            - \"-c\"\n            - |\n              # Vault Agent\uac00 \uc791\uc131\ud55c \ud30c\uc77c source\n              source /vault/secrets/config\n              echo \"Connected to: $DATABASE_URL as $DB_USERNAME\"\n              sleep infinity\n</code></pre> <pre><code>kubectl apply -f myapp-deployment.yaml\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#5_1","title":"5\ub2e8\uacc4: \ud655\uc778","text":"<pre><code># Pod \ud655\uc778 (3\uac1c \ucee8\ud14c\uc774\ub108: app, vault-agent-init, vault-agent)\nkubectl get pods\n# NAME                    READY   STATUS\n# myapp-xxx               2/2     Running\n\n# Pod \uc0c1\uc138 \uc815\ubcf4\nkubectl describe pod myapp-xxx\n# Init Containers:\n#   vault-agent-init  \u2192 Vault\uc5d0\uc11c \uc2dc\ud06c\ub9bf \uac00\uc838\uc640\uc11c \ud30c\uc77c \uc791\uc131\n# Containers:\n#   app               \u2192 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\n#   vault-agent       \u2192 \uc9c0\uc18d\uc801\uc73c\ub85c \uc2dc\ud06c\ub9bf \uac31\uc2e0\n\n# \ub85c\uadf8 \ud655\uc778\nkubectl logs myapp-xxx -c app\n# Connected to: postgres://localhost:5432/myapp as appuser\n\n# \ud30c\uc77c \ub0b4\uc6a9 \ud655\uc778\nkubectl exec myapp-xxx -- cat /vault/secrets/config\n# export DATABASE_URL=\"postgres://localhost:5432/myapp\"\n# export DB_USERNAME=\"appuser\"\n# export DB_PASSWORD=\"secret123\"\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#lab-5-transit-engine-encryption-as-a-service","title":"Lab 5: Transit Engine - Encryption as a Service","text":"<p>\ubaa9\ud45c: Vault Transit Engine\uc73c\ub85c \ub370\uc774\ud130 \uc554\ud638\ud654/\ubcf5\ud638\ud654</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#1-transit-engine","title":"1\ub2e8\uacc4: Transit Engine \ud65c\uc131\ud654","text":"<pre><code># Transit engine \ud65c\uc131\ud654\nvault secrets enable transit\n\n# \uc554\ud638\ud654 \ud0a4 \uc0dd\uc131\nvault write -f transit/keys/myapp-key\n\n# \ud0a4 \uc815\ubcf4 \ud655\uc778\nvault read transit/keys/myapp-key\n# Key                       Value\n# ---                       -----\n# type                      aes256-gcm96\n# supports_encryption       true\n# supports_decryption       true\n# supports_derivation       true\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#2","title":"2\ub2e8\uacc4: \ub370\uc774\ud130 \uc554\ud638\ud654","text":"<pre><code># \ud3c9\ubb38\uc744 Base64\ub85c \uc778\ucf54\ub529\nplaintext=$(echo -n \"my secret data\" | base64)\necho $plaintext\n# bXkgc2VjcmV0IGRhdGE=\n\n# \uc554\ud638\ud654\nvault write transit/encrypt/myapp-key plaintext=$plaintext\n\n# \ucd9c\ub825:\n# Key           Value\n# ---           -----\n# ciphertext    vault:v1:8SDd3WHDOjf7mq69CyCqYjBXAiQQAVZRkFM62oBzLHiNsRRnbO8=\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#3","title":"3\ub2e8\uacc4: \ub370\uc774\ud130 \ubcf5\ud638\ud654","text":"<pre><code># \uc554\ud638\ubb38 \uc800\uc7a5\nciphertext=\"vault:v1:8SDd3WHDOjf7mq69CyCqYjBXAiQQAVZRkFM62oBzLHiNsRRnbO8=\"\n\n# \ubcf5\ud638\ud654\nvault write transit/decrypt/myapp-key ciphertext=$ciphertext\n\n# \ucd9c\ub825:\n# Key          Value\n# ---          -----\n# plaintext    bXkgc2VjcmV0IGRhdGE=\n\n# Base64 \ub514\ucf54\ub529\necho \"bXkgc2VjcmV0IGRhdGE=\" | base64 -d\n# my secret data\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#4-key-rotation","title":"4\ub2e8\uacc4: Key Rotation","text":"<pre><code># \ud0a4 \ud68c\uc804\nvault write -f transit/keys/myapp-key/rotate\n\n# \ud0a4 \uc815\ubcf4 \ud655\uc778 (\ubc84\uc804 2 \uc0dd\uc131\ub428)\nvault read transit/keys/myapp-key\n# latest_version    2\n\n# \uc0c8 \ud0a4\ub85c \uc554\ud638\ud654\nvault write transit/encrypt/myapp-key plaintext=$plaintext\n# ciphertext    vault:v2:xxxxx  (v2!)\n\n# \uc774\uc804 \ubc84\uc804\uc73c\ub85c \uc554\ud638\ud654\ub41c \ub370\uc774\ud130\ub3c4 \ubcf5\ud638\ud654 \uac00\ub2a5\nvault write transit/decrypt/myapp-key ciphertext=\"vault:v1:8SDd3WHDOjf7mq69CyCqYjBXAiQQAVZRkFM62oBzLHiNsRRnbO8=\"\n# \u2713 \uc131\uacf5! (\ubc84\uc804 \ud638\ud658\uc131 \ubcf4\uc7a5)\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#5-rewrap","title":"5\ub2e8\uacc4: \uc7ac\uc554\ud638\ud654 (Rewrap)","text":"<pre><code># \uc774\uc804 \ud0a4 \ubc84\uc804\uc73c\ub85c \uc554\ud638\ud654\ub41c \ub370\uc774\ud130\ub97c \ucd5c\uc2e0 \ud0a4\ub85c \uc7ac\uc554\ud638\ud654\nvault write transit/rewrap/myapp-key ciphertext=\"vault:v1:8SDd3WHDOjf7mq69CyCqYjBXAiQQAVZRkFM62oBzLHiNsRRnbO8=\"\n\n# \ucd9c\ub825:\n# ciphertext    vault:v2:yyyyy  (v1 \u2192 v2\ub85c \ubcc0\uacbd!)\n</code></pre>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#6-go-transit-engine","title":"6\ub2e8\uacc4: Go \ucf54\ub4dc\ub85c Transit Engine \uc0ac\uc6a9","text":"<pre><code>// transit.go\npackage main\n\nimport (\n    \"encoding/base64\"\n    \"fmt\"\n    \"log\"\n\n    vault \"github.com/hashicorp/vault/api\"\n)\n\nfunc main() {\n    // Vault \ud074\ub77c\uc774\uc5b8\ud2b8\n    client, err := vault.NewClient(vault.DefaultConfig())\n    if err != nil {\n        log.Fatal(err)\n    }\n    client.SetToken(\"hvs.xxxxx\") // Root token\n\n    // \ud3c9\ubb38\n    plaintext := \"Sensitive user data: SSN=123-45-6789\"\n\n    // 1. \uc554\ud638\ud654\n    encoded := base64.StdEncoding.EncodeToString([]byte(plaintext))\n    encryptResp, err := client.Logical().Write(\"transit/encrypt/myapp-key\", map[string]interface{}{\n        \"plaintext\": encoded,\n    })\n    if err != nil {\n        log.Fatal(err)\n    }\n    ciphertext := encryptResp.Data[\"ciphertext\"].(string)\n    fmt.Printf(\"Encrypted: %s\\n\", ciphertext)\n\n    // 2. \ubcf5\ud638\ud654\n    decryptResp, err := client.Logical().Write(\"transit/decrypt/myapp-key\", map[string]interface{}{\n        \"ciphertext\": ciphertext,\n    })\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    decodedBytes, _ := base64.StdEncoding.DecodeString(decryptResp.Data[\"plaintext\"].(string))\n    fmt.Printf(\"Decrypted: %s\\n\", string(decodedBytes))\n}\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc: <pre><code>Encrypted: vault:v2:8SDd3WHDOjf7mq69CyCqYjBXAiQQAVZRkFM62oBzLHiNsRRnbO8=\nDecrypted: Sensitive user data: SSN=123-45-6789\n</code></pre></p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>Vault \uae30\ubcf8: - HashiCorp Vault Official Website - Vault Project - Vault GitHub Repository - HashiCorp Developer - Vault</p> <p>Dynamic Secrets: - Dynamic Secrets Use Cases - Database Secrets Tutorial - Understand Static and Dynamic Secrets - Secrets Management Tutorials</p> <p>Kubernetes Integration: - Vault Agent Kubernetes Tutorial - Kubernetes Sidecar Injection - Vault Secrets Operator - Mastering Vault Integration with Kubernetes - LambdaStack Kubernetes/Vault Integration - Integrating HashiCorp Vault with Kubernetes - Toxigon</p> <p>Auto-Unseal: - Auto Unseal Tutorial - Auto Unseal Learning Resources - KubeVault Auto Initialization</p> <p>Transit Engine &amp; Encryption: - Transit Secrets Engine - Encrypt Data in Transit Tutorial - Encryption-as-a-Service with Transit - Transit Best Practices - Scaling Data Encryption with Transit Engine - Medium - Rotating Vault Encryption Keys - Medium 2025 - Vault Transit Engine and BYOK</p> <p>2025 Guides: - Complete Guide to Secrets Management in 2025 - Vault Secret Engines 2025 - HCP Vault Secrets</p>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_7","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Vault \uc544\ud0a4\ud14d\ucc98 \ubc0f Seal/Unseal \uba54\ucee4\ub2c8\uc998 \uc774\ud574</li> <li> KV v1 vs v2 \ucc28\uc774\uc810 \ubc0f \ubc84\uc804 \uad00\ub9ac</li> <li> Database Secrets Engine\uc73c\ub85c \ub3d9\uc801 \uc790\uaca9 \uc99d\uba85 \uc0dd\uc131</li> <li> Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 Vault API \ud1b5\ud569 (AppRole \uc778\uc99d)</li> <li> Lease \uad00\ub9ac \ubc0f \uc790\ub3d9 \uac31\uc2e0 \uad6c\ud604</li> <li> Kubernetes Vault Agent Sidecar \ubc30\ud3ec</li> <li> Transit Engine\uc73c\ub85c Encryption as a Service \uad6c\ud604</li> <li> Key Rotation \ubc0f Rewrap \uc804\ub7b5 \uc218\ub9bd</li> <li> Envelope Encryption (KEK/DEK) \ud328\ud134 \uc801\uc6a9</li> <li> Auto-Unseal \uc124\uc815 (AWS KMS/Azure Key Vault)</li> <li> Audit Logs \uc218\uc9d1 \ubc0f \ubaa8\ub2c8\ud130\ub9c1</li> <li> Production \ud658\uacbd HA \uad6c\uc131 (Integrated Raft)</li> </ul>"},{"location":"iam-storage-service/Ch5.Secrets_Management_Vault/#_8","title":"\ud83c\udfaf \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch6\uc5d0\uc11c\ub294 **Service Mesh Security**\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4. mTLS, SPIFFE/SPIRE, Zero Trust \ub124\ud2b8\uc6cc\ud06c \uc544\ud0a4\ud14d\ucc98\ub97c \ub2e4\ub8e8\uba70, Istio/Envoy\uc5d0\uc11c\uc758 \ubcf4\uc548 \uad6c\ud604\uc744 \uc2e4\uc2b5\ud569\ub2c8\ub2e4.</p> <p>Preview: - mTLS (mutual TLS) \uc790\ub3d9 \uc778\uc99d\uc11c \uad00\ub9ac - SPIFFE/SPIRE \uc2e0\uc6d0 \ud504\ub808\uc784\uc6cc\ud06c - Envoy Proxy\ub97c \ud1b5\ud55c \uc11c\ube44\uc2a4 \uac04 \uc778\uc99d - Zero Trust \ub124\ud2b8\uc6cc\ud06c \uc544\ud0a4\ud14d\ucc98 - Istio Authorization Policies</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/","title":"Ch6. Service Mesh Security - mTLS, SPIFFE/SPIRE, Zero Trust","text":""},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":"<p>Service Mesh**\ub294 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uac04\uc758 \ud1b5\uc2e0\uc744 \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\ub294 \uc778\ud504\ub77c \ub808\uc774\uc5b4\uc785\ub2c8\ub2e4. \ud2b9\ud788 **\ubcf4\uc548 \uce21\uba74\uc5d0\uc11c mTLS \uc790\ub3d9 \uc801\uc6a9, \uc11c\ube44\uc2a4 \uc2e0\uc6d0 \uad00\ub9ac, Zero Trust \uc544\ud0a4\ud14d\ucc98 \uad6c\ud604\uc744 \uac00\ub2a5\ud558\uac8c \ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_2","title":"\uc65c \uc911\uc694\ud55c\uac00?","text":"<p>\uc804\ud1b5\uc801\uc778 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ubcf4\uc548\uc758 \ubb38\uc81c\uc810:</p> <ul> <li>\u274c \ud3c9\ubb38 \ud1b5\uc2e0: \uc11c\ube44\uc2a4 \uac04 HTTP \ud1b5\uc2e0\uc73c\ub85c \ub124\ud2b8\uc6cc\ud06c \ub3c4\uccad \uac00\ub2a5</li> <li>\u274c IP \uae30\ubc18 \ubcf4\uc548: IP \uc8fc\uc18c\uac00 \ubcc0\uacbd\ub418\uba74 \ubcf4\uc548 \uaddc\uce59 \ubb34\ud6a8\ud654 (\ucee8\ud14c\uc774\ub108 \ud658\uacbd)</li> <li>\u274c \uc218\ub3d9 \uc778\uc99d\uc11c \uad00\ub9ac: TLS \uc778\uc99d\uc11c \ubc1c\uae09/\uac31\uc2e0\uc744 \uc218\ub3d9\uc73c\ub85c \ucc98\ub9ac</li> <li>\u274c \uc554\ubb35\uc801 \uc2e0\ub8b0: \ub0b4\ubd80 \ub124\ud2b8\uc6cc\ud06c\ub294 \uc548\uc804\ud558\ub2e4\ub294 \uac00\uc815 (Zero Trust \uc704\ubc18)</li> </ul> <p>Service Mesh Security\uc758 \ud574\uacb0\ucc45: - \u2705 \uc790\ub3d9 mTLS: \ubaa8\ub4e0 \uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0\uc744 \uc790\ub3d9\uc73c\ub85c \uc554\ud638\ud654 \ubc0f \uc0c1\ud638 \uc778\uc99d - \u2705 \uc11c\ube44\uc2a4 \uc2e0\uc6d0(Identity): IP \ub300\uc2e0 SPIFFE ID\ub85c \uc11c\ube44\uc2a4 \uc2dd\ubcc4 - \u2705 \uc778\uc99d\uc11c \uc790\ub3d9 \ud68c\uc804: \uc9e7\uc740 TTL (1\uc2dc\uac04) \uc778\uc99d\uc11c \uc790\ub3d9 \ubc1c\uae09/\uac31\uc2e0 - \u2705 Zero Trust: \"\ubaa8\ub4e0 \uac83\uc744 \uac80\uc99d\"\ud558\ub294 \ubcf4\uc548 \ubaa8\ub378 - \u2705 \uc138\ubc00\ud55c \uc811\uadfc \uc81c\uc5b4: \uc11c\ube44\uc2a4\ubcc4/\uc791\uc5c5\ubcc4 \uad8c\ud55c \uc815\ucc45</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#kakaocloud","title":"KakaoCloud\uc5d0\uc11c\uc758 \ud65c\uc6a9 \uc0ac\ub840","text":"<ul> <li>Istio Service Mesh: \uc218\ubc31 \uac1c \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uac04 mTLS \uc790\ub3d9 \uc801\uc6a9</li> <li>SPIFFE/SPIRE: Kubernetes\uc640 VM \ud658\uacbd \uac04 \ud1b5\ud569 \uc2e0\uc6d0 \uad00\ub9ac</li> <li>Authorization Policies: \"payment \uc11c\ube44\uc2a4\ub294 order \uc11c\ube44\uc2a4\ub9cc \ud638\ucd9c \uac00\ub2a5\" \uac19\uc740 \uaddc\uce59</li> <li>Envoy Proxy: L7 \ud2b8\ub798\ud53d \uc81c\uc5b4, \uc11c\ud0b7 \ube0c\ub808\uc774\ucee4, \uc7ac\uc2dc\ub3c4 \ub85c\uc9c1</li> <li>Zero Trust \ub124\ud2b8\uc6cc\ud06c: \ubaa8\ub4e0 \ud1b5\uc2e0\uc744 \uc778\uc99d/\uc554\ud638\ud654, \ub124\ud2b8\uc6cc\ud06c \uc138\uadf8\uba3c\ud2b8 \uc2e0\ub8b0 \uc5c6\uc74c</li> </ul>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_3","title":"\ud559\uc2b5 \ud6c4 \uc5bb\uc744 \uc218 \uc788\ub294 \uc5ed\ub7c9","text":"<ul> <li> mTLS \uc791\ub3d9 \uc6d0\ub9ac \ubc0f Istio\uc5d0\uc11c\uc758 \uc790\ub3d9 \uad6c\uc131</li> <li> SPIFFE/SPIRE \uc544\ud0a4\ud14d\ucc98 \ubc0f Workload Identity \ubc1c\uae09</li> <li> Zero Trust \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li> Envoy Proxy \uc124\uc815 \ubc0f \ubcf4\uc548 \ud544\ud130 \uc801\uc6a9</li> <li> Istio Authorization Policies \uc791\uc131</li> </ul>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#1-mtls-mutual-tls","title":"1. mTLS (Mutual TLS)","text":"<p>\uc77c\ubc18 TLS vs mTLS:</p> \ud56d\ubaa9 TLS (\uc77c\ubc18) mTLS (\uc0c1\ud638 \uc778\uc99d) \uc778\uc99d \ubc29\ud5a5 \uc11c\ubc84\ub9cc \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0\uac8c \uc778\uc99d\uc11c \uc81c\uc2dc \uc11c\ubc84 \u2194 \ud074\ub77c\uc774\uc5b8\ud2b8 \uc591\ubc29\ud5a5 \uc778\uc99d \uc0ac\uc6a9 \uc0ac\ub840 HTTPS (\ube0c\ub77c\uc6b0\uc800 \u2192 \uc6f9\uc0ac\uc774\ud2b8) \uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 (\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4) \ud074\ub77c\uc774\uc5b8\ud2b8 \uc778\uc99d\uc11c \ubd88\ud544\uc694 \ud544\uc694 \ubcf4\uc548 \uc218\uc900 \uc911\uac04 (\uc11c\ubc84\ub9cc \uac80\uc99d) \ub192\uc74c (\uc591\uce21 \ubaa8\ub450 \uac80\uc99d)"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#mtls","title":"mTLS \ud578\ub4dc\uc170\uc774\ud06c \ud750\ub984","text":"<pre><code>sequenceDiagram\n    participant ClientApp as Client App\n    participant ClientEnvoy as Client Envoy&lt;br/&gt;(Sidecar)\n    participant ServerEnvoy as Server Envoy&lt;br/&gt;(Sidecar)\n    participant ServerApp as Server App\n\n    ClientApp-&gt;&gt;ClientEnvoy: HTTP \uc694\uccad\n    ClientEnvoy-&gt;&gt;ServerEnvoy: 1. ClientHello\n    ServerEnvoy-&gt;&gt;ClientEnvoy: 2. ServerHello + Server Cert\n    ClientEnvoy-&gt;&gt;ClientEnvoy: 3. Verify Server Cert\n    ClientEnvoy-&gt;&gt;ServerEnvoy: 4. Client Cert\n    ServerEnvoy-&gt;&gt;ServerEnvoy: 5. Verify Client Cert\n    Note over ClientEnvoy,ServerEnvoy: mTLS \ud578\ub4dc\uc170\uc774\ud06c \uc644\ub8cc&lt;br/&gt;(\uc591\ubc29\ud5a5 \uc778\uc99d \uc131\uacf5)\n    ClientEnvoy-&gt;&gt;ServerEnvoy: 6. Encrypted Data\n    ServerEnvoy-&gt;&gt;ServerApp: 7. Plaintext (decrypted)\n    ServerApp-&gt;&gt;ServerEnvoy: 8. Response\n    ServerEnvoy-&gt;&gt;ClientEnvoy: 9. Encrypted Response\n    ClientEnvoy-&gt;&gt;ClientApp: 10. Plaintext Response</code></pre> <p>Istio\uc5d0\uc11c\uc758 \uc790\ub3d9 mTLS: - Pilot: \uc11c\ube44\uc2a4 \ud1a0\ud3f4\ub85c\uc9c0 \ud30c\uc545 \ubc0f Envoy \uc124\uc815 \ubc30\ud3ec - Citadel (istiod): \uc778\uc99d\uc11c \ubc1c\uae09 (CA \uc5ed\ud560) - Envoy Proxy: mTLS \ud578\ub4dc\uc170\uc774\ud06c \ucc98\ub9ac - \uc790\ub3d9 \uc778\uc99d\uc11c \ud68c\uc804: \uae30\ubcf8 24\uc2dc\uac04 TTL, \uc790\ub3d9 \uac31\uc2e0</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#2025-mtls","title":"2025 mTLS \uac1c\uc120\uc0ac\ud56d","text":"<p>Envoy QUIC \uc9c0\uc6d0: - HTTP/3 over QUIC \ud504\ub85c\ud1a0\ucf5c \uc9c0\uc6d0 - mTLS \uc7ac\ud611\uc0c1 40% \uac10\uc18c (\uc5f0\uacb0 \uc720\uc9c0 \uac1c\uc120) - TLS 1.3 0-RTT (Round Trip Time) \uc5f0\uacb0</p> <p>\uc778\uc99d\uc11c \uc54c\uace0\ub9ac\uc998 \uad8c\uc7a5\uc0ac\ud56d: - \u2705 ECDSA P-256 (\uad8c\uc7a5): \uc791\uc740 \uc778\uc99d\uc11c \ud06c\uae30, \ub0ae\uc740 CPU \uc0ac\uc6a9 - \u26a0\ufe0f RSA 2048: \ub808\uac70\uc2dc \ud638\ud658\uc131 (\ub354 \ud070 \uc778\uc99d\uc11c, \ub192\uc740 CPU)</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#2-spiffespire","title":"2. SPIFFE/SPIRE","text":"<p>SPIFFE (Secure Production Identity Framework for Everyone): - \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc6cc\ud06c\ub85c\ub4dc \uc2e0\uc6d0\uc744 \ud45c\ud604\ud558\ub294 \ud45c\uc900 - SPIFFE ID: URI \ud615\uc2dd \uc2e0\uc6d0 (\uc608: <code>spiffe://example.com/ns/default/sa/myapp</code>)</p> <p>SPIRE (SPIFFE Runtime Environment): - SPIFFE \ud45c\uc900\uc758 \ud504\ub85c\ub355\uc158 \uad6c\ud604\uccb4 - \uc6cc\ud06c\ub85c\ub4dc\uc5d0 \uc790\ub3d9\uc73c\ub85c \uc778\uc99d\uc11c \ubc1c\uae09 (X.509-SVID, JWT-SVID)</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#spiffe-id","title":"SPIFFE ID \uad6c\uc870","text":"<pre><code>spiffe://trust-domain/workload-path\n</code></pre> <p>\uc608\uc2dc: <pre><code>spiffe://kakaocloud.com/ns/production/sa/payment-service\n        \u2514\u2500 Trust Domain\n                        \u2514\u2500 Namespace\n                                       \u2514\u2500 ServiceAccount\n                                                  \u2514\u2500 Service Name\n</code></pre></p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#spire","title":"SPIRE \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>graph TB\n    Server[SPIRE Server&lt;br/&gt;CA]\n    Agent1[SPIRE Agent&lt;br/&gt;Node 1]\n    Agent2[SPIRE Agent&lt;br/&gt;Node 2]\n    WL1[Workload A]\n    WL2[Workload B]\n    WL3[Workload C]\n\n    Server --&gt;|Distribute CA Bundle| Agent1\n    Server --&gt;|Distribute CA Bundle| Agent2\n    Agent1 --&gt;|Attest + Issue SVID| WL1\n    Agent1 --&gt;|Attest + Issue SVID| WL2\n    Agent2 --&gt;|Attest + Issue SVID| WL3\n\n    WL1 --&gt;|Workload API| Agent1\n    WL2 --&gt;|Workload API| Agent1\n    WL3 --&gt;|Workload API| Agent2\n\n    style Server fill:#ff6b6b\n    style Agent1 fill:#4ecdc4\n    style Agent2 fill:#4ecdc4\n    style WL1 fill:#95e1d3\n    style WL2 fill:#95e1d3\n    style WL3 fill:#95e1d3</code></pre> <p>\uad6c\uc131 \uc694\uc18c:</p> <ol> <li>SPIRE Server:</li> <li>CA (Certificate Authority) \uc5ed\ud560</li> <li>Registration API: \uc6cc\ud06c\ub85c\ub4dc \ub4f1\ub85d</li> <li> <p>\uc778\uc99d\uc11c \ubc1c\uae09 \uc815\ucc45 \uad00\ub9ac</p> </li> <li> <p>SPIRE Agent:</p> </li> <li>\uac01 \ub178\ub4dc(VM/Pod)\uc5d0 \ud558\ub098\uc529 \uc2e4\ud589</li> <li>Workload API \uc81c\uacf5 (Unix Domain Socket)</li> <li> <p>\uc6cc\ud06c\ub85c\ub4dc Attestation (\uc99d\uba85)</p> </li> <li> <p>SVID (SPIFFE Verifiable Identity Document):</p> </li> <li>X.509-SVID: mTLS\uc6a9 \uc778\uc99d\uc11c (TTL: 1\uc2dc\uac04)</li> <li>JWT-SVID: OIDC\uc6a9 \ud1a0\ud070 (TTL: 5-10\ubd84 \uad8c\uc7a5)</li> </ol>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#spire-attestation","title":"SPIRE Attestation (\uc99d\uba85)","text":"<p>Node Attestation (\ub178\ub4dc\uac00 \uc9c4\uc9dc\uc778\uc9c0 \uc99d\uba85): - Kubernetes: ServiceAccount Token - AWS: EC2 Instance Identity Document - Azure: Managed Identity</p> <p>Workload Attestation (\uc6cc\ud06c\ub85c\ub4dc\uac00 \uc9c4\uc9dc\uc778\uc9c0 \uc99d\uba85): - Kubernetes: Pod UID, Namespace, ServiceAccount - Unix: Process UID, GID - Docker: Container ID</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#3-zero-trust-architecture","title":"3. Zero Trust Architecture","text":"<p>\uc804\ud1b5\uc801 \ubcf4\uc548 vs Zero Trust:</p> \ud56d\ubaa9 \uc804\ud1b5\uc801 \ubcf4\uc548 Zero Trust \uc2e0\ub8b0 \ubaa8\ub378 \ub0b4\ubd80 \ub124\ud2b8\uc6cc\ud06c \uc2e0\ub8b0 \ubaa8\ub4e0 \uac83 \uac80\uc99d \uc778\uc99d \uacbd\uacc4(VPN) \ud1b5\uacfc \ud6c4 \uc2e0\ub8b0 \ub9e4 \uc694\uccad\ub9c8\ub2e4 \uc778\uc99d \ub124\ud2b8\uc6cc\ud06c VLAN \uc138\uadf8\uba58\ud14c\uc774\uc158 \ub9c8\uc774\ud06c\ub85c \uc138\uadf8\uba58\ud14c\uc774\uc158 \uc811\uadfc \uc81c\uc5b4 IP \uae30\ubc18 \uc2e0\uc6d0 \uae30\ubc18 \uc554\ud638\ud654 \uacbd\uacc4\uc5d0\uc11c\ub9cc End-to-End <p>Zero Trust \uc6d0\uce59 (2025):</p> <ol> <li>Never Trust, Always Verify: \ubaa8\ub4e0 \uc694\uccad \uac80\uc99d</li> <li>Least Privilege: \ucd5c\uc18c \uad8c\ud55c \ubd80\uc5ec</li> <li>Assume Breach: \uce68\ud574 \ubc1c\uc0dd \uac00\uc815 \ud558\uc5d0 \uc124\uacc4</li> <li>Verify Explicitly: \uc0ac\uc6a9\uc790 + \uc7a5\uce58 + \uc704\uce58 + \uc791\uc5c5 \ubaa8\ub450 \uac80\uc99d</li> </ol>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#service-mesh-zero-trust","title":"Service Mesh\uc5d0\uc11c\uc758 Zero Trust \uad6c\ud604","text":"<p>Istio \uc608\uc2dc: <pre><code># 1. \uae30\ubcf8 \uac70\ubd80 (Deny All)\napiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: deny-all\n  namespace: default\nspec:\n  {} # \ube48 spec = \ubaa8\ub4e0 \ud2b8\ub798\ud53d \uac70\ubd80\n\n# 2. \uc120\ud0dd\uc801 \ud5c8\uc6a9 (Allow Specific)\napiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: allow-frontend-to-backend\nspec:\n  selector:\n    matchLabels:\n      app: backend\n  action: ALLOW\n  rules:\n    - from:\n        - source:\n            principals: [\"cluster.local/ns/default/sa/frontend\"]\n      to:\n        - operation:\n            methods: [\"GET\", \"POST\"]\n            paths: [\"/api/*\"]\n</code></pre></p> <p>\ud6a8\uacfc: - \u2705 \ubaa8\ub4e0 \ud2b8\ub798\ud53d\uc740 \uae30\ubcf8 \ucc28\ub2e8 - \u2705 <code>frontend</code> ServiceAccount\ub9cc <code>backend</code>\uc5d0 \uc811\uadfc \uac00\ub2a5 - \u2705 GET, POST \uba54\uc11c\ub4dc\ub9cc \ud5c8\uc6a9 - \u2705 <code>/api/*</code> \uacbd\ub85c\ub9cc \ud5c8\uc6a9</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#4-istio-security","title":"4. Istio Security \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>graph TB\n    subgraph ControlPlane[Control Plane]\n        Istiod[istiod&lt;br/&gt;- Pilot&lt;br/&gt;- Citadel&lt;br/&gt;- Galley]\n    end\n\n    subgraph DataPlane[Data Plane]\n        Pod1[Pod A&lt;br/&gt;+ Envoy Sidecar]\n        Pod2[Pod B&lt;br/&gt;+ Envoy Sidecar]\n    end\n\n    Istiod --&gt;|1. xDS Config| Pod1\n    Istiod --&gt;|2. Certificates| Pod1\n    Istiod --&gt;|3. AuthZ Policies| Pod1\n    Istiod --&gt;|1. xDS Config| Pod2\n    Istiod --&gt;|2. Certificates| Pod2\n    Istiod --&gt;|3. AuthZ Policies| Pod2\n\n    Pod1 --&gt;|mTLS| Pod2\n    Pod2 --&gt;|mTLS| Pod1\n\n    style Istiod fill:#ff6b6b\n    style Pod1 fill:#4ecdc4\n    style Pod2 fill:#4ecdc4</code></pre> <p>Istiod \uc5ed\ud560: 1. Pilot: \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac, Envoy \uc124\uc815 \ubc30\ud3ec 2. Citadel: CA, \uc778\uc99d\uc11c \ubc1c\uae09/\uac31\uc2e0 3. Galley: \uc124\uc815 \uac80\uc99d \ubc0f \ubc30\ud3ec</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#lab-1-istio-mtls","title":"Lab 1: Istio \uc124\uce58 \ubc0f mTLS \ud65c\uc131\ud654","text":"<p>\ubaa9\ud45c: Kubernetes \ud074\ub7ec\uc2a4\ud130\uc5d0 Istio \uc124\uce58 \ubc0f \uc790\ub3d9 mTLS \uc124\uc815</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#1-istio","title":"1\ub2e8\uacc4: Istio \uc124\uce58","text":"<pre><code># Istio CLI \ub2e4\uc6b4\ub85c\ub4dc\ncurl -L https://istio.io/downloadIstio | sh -\ncd istio-1.24.0  # 2025\ub144 \ucd5c\uc2e0 \ubc84\uc804\nexport PATH=$PWD/bin:$PATH\n\n# \ud504\ub85c\ud544\ub85c \uc124\uce58 (demo: \uac1c\ubc1c\uc6a9, default: \ud504\ub85c\ub355\uc158\uc6a9)\nistioctl install --set profile=demo -y\n\n# \ud655\uc778\nkubectl get pods -n istio-system\n# NAME                                   READY   STATUS\n# istiod-xxx                             1/1     Running\n# istio-ingressgateway-xxx               1/1     Running\n# istio-egressgateway-xxx                1/1     Running\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#2-sidecar","title":"2\ub2e8\uacc4: Sidecar \uc790\ub3d9 \uc8fc\uc785 \ud65c\uc131\ud654","text":"<pre><code># default namespace\uc5d0 \uc790\ub3d9 \uc8fc\uc785 \ub77c\ubca8 \ucd94\uac00\nkubectl label namespace default istio-injection=enabled\n\n# \ud655\uc778\nkubectl get namespace -L istio-injection\n# NAME       STATUS   AGE   ISTIO-INJECTION\n# default    Active   10d   enabled\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#3","title":"3\ub2e8\uacc4: \uc0d8\ud50c \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec","text":"<pre><code># httpbin.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: httpbin\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: httpbin\n  labels:\n    app: httpbin\nspec:\n  ports:\n    - name: http\n      port: 8000\n  selector:\n    app: httpbin\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: httpbin\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: httpbin\n  template:\n    metadata:\n      labels:\n        app: httpbin\n    spec:\n      serviceAccountName: httpbin\n      containers:\n        - name: httpbin\n          image: kennethreitz/httpbin\n          ports:\n            - containerPort: 80\n</code></pre> <pre><code>kubectl apply -f httpbin.yaml\n\n# Pod \ud655\uc778 (2\uac1c \ucee8\ud14c\uc774\ub108: app + envoy)\nkubectl get pods\n# NAME                      READY   STATUS\n# httpbin-xxx               2/2     Running\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#4-mtls","title":"4\ub2e8\uacc4: mTLS \ubaa8\ub4dc \ud655\uc778","text":"<pre><code># Peer Authentication \ud655\uc778\nistioctl authn tls-check httpbin-xxx.default\n\n# \ucd9c\ub825:\n# HOST:PORT                    STATUS     SERVER     CLIENT     AUTHN POLICY     DESTINATION RULE\n# httpbin.default.svc.cluster  OK         STRICT     ISTIO      /default         -\n</code></pre> <p>\uc0c1\ud0dc \uc124\uba85: - STRICT: mTLS \ud544\uc218 (\ud3c9\ubb38 \uac70\ubd80) - PERMISSIVE: mTLS\uc640 \ud3c9\ubb38 \ubaa8\ub450 \ud5c8\uc6a9 - DISABLE: mTLS \ube44\ud65c\uc131\ud654</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#5-strict-mtls-2025","title":"5\ub2e8\uacc4: \uae00\ub85c\ubc8c Strict mTLS \uc124\uc815 (2025 \uad8c\uc7a5)","text":"<pre><code># strict-mtls.yaml\napiVersion: security.istio.io/v1beta1\nkind: PeerAuthentication\nmetadata:\n  name: default\n  namespace: istio-system\nspec:\n  mtls:\n    mode: STRICT\n</code></pre> <pre><code>kubectl apply -f strict-mtls.yaml\n\n# \ubaa8\ub4e0 \uc11c\ube44\uc2a4\uac00 \uc774\uc81c mTLS \ud544\uc218\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#lab-2-mtls","title":"Lab 2: mTLS \ud2b8\ub798\ud53d \uac80\uc99d","text":"<p>\ubaa9\ud45c: Wireshark\ub85c mTLS \uc554\ud638\ud654 \ud655\uc778</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#1","title":"1\ub2e8\uacc4: \ud14c\uc2a4\ud2b8 \ud074\ub77c\uc774\uc5b8\ud2b8 \ubc30\ud3ec","text":"<pre><code># sleep.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: sleep\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: sleep\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: sleep\n  template:\n    metadata:\n      labels:\n        app: sleep\n    spec:\n      serviceAccountName: sleep\n      containers:\n        - name: sleep\n          image: curlimages/curl\n          command: [\"/bin/sleep\", \"infinity\"]\n</code></pre> <pre><code>kubectl apply -f sleep.yaml\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#2","title":"2\ub2e8\uacc4: \ud2b8\ub798\ud53d \uc0dd\uc131 \ubc0f \ucea1\ucc98","text":"<pre><code># sleep Pod\uc5d0\uc11c httpbin \ud638\ucd9c\nkubectl exec -it deploy/sleep -- curl http://httpbin:8000/get\n\n# tcpdump\ub85c \ud328\ud0b7 \ucea1\ucc98 (Envoy sidecar\uc5d0\uc11c)\nkubectl exec -it httpbin-xxx -c istio-proxy -- sudo tcpdump -i any -w /tmp/capture.pcap\n\n# \ub2e4\ub978 \ud130\ubbf8\ub110\uc5d0\uc11c \ud2b8\ub798\ud53d \uc0dd\uc131\nkubectl exec -it deploy/sleep -- curl http://httpbin:8000/headers\n\n# \ud328\ud0b7 \ub2e4\uc6b4\ub85c\ub4dc\nkubectl cp httpbin-xxx:/tmp/capture.pcap ./capture.pcap -c istio-proxy\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#3-wireshark","title":"3\ub2e8\uacc4: Wireshark \ubd84\uc11d","text":"<p>Wireshark\uc5d0\uc11c <code>capture.pcap</code> \uc5f4\uae30: <pre><code>Filter: tcp.port == 15001  (Envoy inbound)\n\n\u2192 TLSv1.3 Client Hello\n\u2192 TLSv1.3 Server Hello\n\u2192 TLSv1.3 Certificate (SPIFFE ID \ud3ec\ud568!)\n\u2192 Application Data (\uc554\ud638\ud654\ub428)\n</code></pre></p> <p>SPIFFE ID \ud655\uc778: - Certificate \u2192 Subject Alternative Name - URI: <code>spiffe://cluster.local/ns/default/sa/sleep</code></p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#lab-3-spiffespire-kubernetes","title":"Lab 3: SPIFFE/SPIRE \uc124\uce58 \ubc0f Kubernetes \ud1b5\ud569","text":"<p>\ubaa9\ud45c: SPIRE\ub97c Kubernetes\uc5d0 \ubc30\ud3ec\ud558\uace0 Workload Identity \ubc1c\uae09</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#1-spire-server","title":"1\ub2e8\uacc4: SPIRE Server \uc124\uce58","text":"<pre><code># SPIRE Helm repo \ucd94\uac00\nhelm repo add spiffe https://spiffe.github.io/helm-charts-hardened/\nhelm repo update\n\n# SPIRE Server \uc124\uce58\nhelm install spire-server spiffe/spire \\\n  --set global.spire.trustDomain=\"kakaocloud.com\" \\\n  --create-namespace \\\n  --namespace spire\n\n# \ud655\uc778\nkubectl get pods -n spire\n# NAME                           READY   STATUS\n# spire-server-0                 2/2     Running\n# spire-agent-xxx                1/1     Running\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#2-workload","title":"2\ub2e8\uacc4: Workload \ub4f1\ub85d","text":"<pre><code># SPIRE Server Pod\uc5d0 \uc811\uc18d\nkubectl exec -n spire spire-server-0 -c spire-server -- /bin/sh\n\n# Workload \ub4f1\ub85d\n/opt/spire/bin/spire-server entry create \\\n  -spiffeID spiffe://kakaocloud.com/ns/default/sa/httpbin \\\n  -parentID spiffe://kakaocloud.com/spire/agent/k8s_psat/default \\\n  -selector k8s:ns:default \\\n  -selector k8s:sa:httpbin\n\n# Entry ID: xxx-yyyy-zzzz\n\n# \ub4f1\ub85d \ud655\uc778\n/opt/spire/bin/spire-server entry show\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#3-workload-svid","title":"3\ub2e8\uacc4: Workload\uc5d0\uc11c SVID \ud655\uc778","text":"<pre><code># test-svid.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: test-svid\n  namespace: default\nspec:\n  serviceAccountName: httpbin\n  containers:\n    - name: workload\n      image: ghcr.io/spiffe/spire-agent:1.9.0\n      command:\n        - /opt/spire/bin/spire-agent\n        - api\n        - fetch\n        - x509\n      volumeMounts:\n        - name: spire-agent-socket\n          mountPath: /run/spire/sockets\n          readOnly: true\n  volumes:\n    - name: spire-agent-socket\n      hostPath:\n        path: /run/spire/sockets\n        type: Directory\n</code></pre> <pre><code>kubectl apply -f test-svid.yaml\nkubectl logs test-svid\n\n# \ucd9c\ub825:\n# SPIFFE ID: spiffe://kakaocloud.com/ns/default/sa/httpbin\n# Subject: O=SPIRE, C=US\n# Issuer: C=US, O=SPIFFE\n# Valid from: 2025-01-02 10:00:00\n# Valid to: 2025-01-02 11:00:00 (TTL: 1 hour)\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#4-go-spire","title":"4\ub2e8\uacc4: Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c SPIRE \uc0ac\uc6a9","text":"<pre><code>go get github.com/spiffe/go-spiffe/v2/svid/x509svid\ngo get github.com/spiffe/go-spiffe/v2/workloadapi\n</code></pre> <pre><code>// spire-client.go\npackage main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n\n    \"github.com/spiffe/go-spiffe/v2/workloadapi\"\n)\n\nfunc main() {\n    ctx := context.Background()\n\n    // Workload API\uc5d0 \uc5f0\uacb0 (Unix Domain Socket)\n    source, err := workloadapi.NewX509Source(ctx)\n    if err != nil {\n        log.Fatalf(\"Unable to create X509Source: %v\", err)\n    }\n    defer source.Close()\n\n    // SVID \uac00\uc838\uc624\uae30\n    svid, err := source.GetX509SVID()\n    if err != nil {\n        log.Fatalf(\"Unable to fetch SVID: %v\", err)\n    }\n\n    fmt.Printf(\"SPIFFE ID: %s\\n\", svid.ID)\n    fmt.Printf(\"Certificate Expiry: %s\\n\", svid.Certificates[0].NotAfter)\n\n    // mTLS \ud074\ub77c\uc774\uc5b8\ud2b8 \uc124\uc815\n    tlsConfig := source.GetX509BundleForTrustDomain(svid.ID.TrustDomain())\n    fmt.Printf(\"Trust Bundle has %d certificates\\n\", len(tlsConfig.Certificates()))\n}\n</code></pre> <p>\uc2e4\ud589: <pre><code># Pod \ub0b4\uc5d0\uc11c \uc2e4\ud589 (SPIRE Agent Socket \uc811\uadfc \ud544\uc694)\nkubectl exec -it test-pod -- /app/spire-client\n\n# \ucd9c\ub825:\n# SPIFFE ID: spiffe://kakaocloud.com/ns/default/sa/myapp\n# Certificate Expiry: 2025-01-02 11:00:00\n# Trust Bundle has 1 certificates\n</code></pre></p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#lab-4-istio-authorization-policies","title":"Lab 4: Istio Authorization Policies","text":"<p>\ubaa9\ud45c: \uc11c\ube44\uc2a4 \uac04 \uc138\ubc00\ud55c \uc811\uadfc \uc81c\uc5b4</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#1_1","title":"1\ub2e8\uacc4: \uc2dc\ub098\ub9ac\uc624 \uc124\uc815","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502Frontend \u2502\u2500\u2500\u2500\u2500\u2500\u25b6\u2502Backend  \u2502\u2500\u2500\u2500\u2500\u2500\u25b6\u2502Database  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    SA: frontend    SA: backend       SA: db\n</code></pre> <p>\uc694\uad6c\uc0ac\ud56d: - Frontend \u2192 Backend: \ud5c8\uc6a9 - Frontend \u2192 Database: \uac70\ubd80 - Backend \u2192 Database: \ud5c8\uc6a9</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#2_1","title":"2\ub2e8\uacc4: \uc11c\ube44\uc2a4 \ubc30\ud3ec","text":"<pre><code># services.yaml\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: frontend\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: backend\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: db\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: frontend\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: frontend\n  template:\n    metadata:\n      labels:\n        app: frontend\n    spec:\n      serviceAccountName: frontend\n      containers:\n        - name: app\n          image: curlimages/curl\n          command: [\"/bin/sleep\", \"infinity\"]\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: backend\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: backend\n  template:\n    metadata:\n      labels:\n        app: backend\n    spec:\n      serviceAccountName: backend\n      containers:\n        - name: app\n          image: kennethreitz/httpbin\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: db\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: db\n  template:\n    metadata:\n      labels:\n        app: db\n    spec:\n      serviceAccountName: db\n      containers:\n        - name: app\n          image: postgres:15\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: backend\nspec:\n  selector:\n    app: backend\n  ports:\n    - port: 8000\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: db\nspec:\n  selector:\n    app: db\n  ports:\n    - port: 5432\n</code></pre> <pre><code>kubectl apply -f services.yaml\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#3-authorization-policies","title":"3\ub2e8\uacc4: Authorization Policies \uc791\uc131","text":"<pre><code># authz-policies.yaml\n# 1. Backend: frontend\ub9cc \uc811\uadfc \ud5c8\uc6a9\napiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: backend-policy\nspec:\n  selector:\n    matchLabels:\n      app: backend\n  action: ALLOW\n  rules:\n    - from:\n        - source:\n            principals: [\"cluster.local/ns/default/sa/frontend\"]\n      to:\n        - operation:\n            methods: [\"GET\", \"POST\"]\n---\n# 2. Database: backend\ub9cc \uc811\uadfc \ud5c8\uc6a9\napiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: db-policy\nspec:\n  selector:\n    matchLabels:\n      app: db\n  action: ALLOW\n  rules:\n    - from:\n        - source:\n            principals: [\"cluster.local/ns/default/sa/backend\"]\n      to:\n        - operation:\n            ports: [\"5432\"]\n</code></pre> <pre><code>kubectl apply -f authz-policies.yaml\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#4","title":"4\ub2e8\uacc4: \ud14c\uc2a4\ud2b8","text":"<pre><code># Test 1: Frontend \u2192 Backend (\ud5c8\uc6a9)\nkubectl exec deploy/frontend -- curl -s http://backend:8000/get\n# \u2713 \uc131\uacf5\n\n# Test 2: Frontend \u2192 Database (\uac70\ubd80)\nkubectl exec deploy/frontend -- curl -s telnet://db:5432\n# \u2717 RBAC: access denied (Authorization Policy\uc5d0 \uc758\ud574 \ucc28\ub2e8)\n\n# Test 3: Backend \u2192 Database (\ud5c8\uc6a9)\nkubectl exec deploy/backend -- nc -zv db 5432\n# \u2713 \uc131\uacf5\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#5-abac","title":"5\ub2e8\uacc4: \uc870\uac74\ubd80 \uc815\ucc45 (ABAC)","text":"<pre><code># conditional-authz.yaml\napiVersion: security.istio.io/v1beta1\nkind: AuthorizationPolicy\nmetadata:\n  name: backend-conditional\nspec:\n  selector:\n    matchLabels:\n      app: backend\n  action: ALLOW\n  rules:\n    - from:\n        - source:\n            principals: [\"cluster.local/ns/default/sa/frontend\"]\n      when:\n        - key: request.headers[x-user-role]\n          values: [\"admin\", \"developer\"]\n        - key: request.time\n          values: [\"09:00:00\", \"18:00:00\"]  # \uadfc\ubb34 \uc2dc\uac04\n</code></pre> <p>\ud14c\uc2a4\ud2b8: <pre><code># \uc131\uacf5 (admin \uc5ed\ud560)\nkubectl exec deploy/frontend -- curl -H \"x-user-role: admin\" http://backend:8000/get\n\n# \uc2e4\ud328 (guest \uc5ed\ud560)\nkubectl exec deploy/frontend -- curl -H \"x-user-role: guest\" http://backend:8000/get\n# RBAC: access denied\n</code></pre></p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#lab-5-envoy-filter","title":"Lab 5: Envoy Filter\ub85c \uace0\uae09 \ubcf4\uc548 \uc124\uc815","text":"<p>\ubaa9\ud45c: Envoy Filter\ub85c JWT \uac80\uc99d \ucd94\uac00</p> <pre><code># jwt-filter.yaml\napiVersion: networking.istio.io/v1alpha3\nkind: EnvoyFilter\nmetadata:\n  name: jwt-authn\nspec:\n  workloadSelector:\n    labels:\n      app: backend\n  configPatches:\n    - applyTo: HTTP_FILTER\n      match:\n        context: SIDECAR_INBOUND\n        listener:\n          filterChain:\n            filter:\n              name: envoy.filters.network.http_connection_manager\n              subFilter:\n                name: envoy.filters.http.router\n      patch:\n        operation: INSERT_BEFORE\n        value:\n          name: envoy.filters.http.jwt_authn\n          typed_config:\n            \"@type\": type.googleapis.com/envoy.extensions.filters.http.jwt_authn.v3.JwtAuthentication\n            providers:\n              kakaocloud:\n                issuer: \"https://auth.kakaocloud.com\"\n                audiences:\n                  - \"api.kakaocloud.com\"\n                remote_jwks:\n                  http_uri:\n                    uri: \"https://auth.kakaocloud.com/.well-known/jwks.json\"\n                    cluster: outbound|443||auth.kakaocloud.com\n                    timeout: 5s\n            rules:\n              - match:\n                  prefix: /\n                requires:\n                  provider_name: kakaocloud\n</code></pre> <pre><code>kubectl apply -f jwt-filter.yaml\n\n# JWT \uc5c6\uc774 \uc694\uccad \u2192 \uac70\ubd80\ncurl http://backend:8000/get\n# Jwt is missing\n\n# \uc720\ud6a8\ud55c JWT\ub85c \uc694\uccad \u2192 \uc131\uacf5\ncurl -H \"Authorization: Bearer eyJhbGc...\" http://backend:8000/get\n# \u2713 \uc131\uacf5\n</code></pre>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>Istio &amp; mTLS: - Istio Security Overview - Istio Authentication Policy - Enabling mTLS in AWS App Mesh with SPIFFE/SPIRE - Using mTLS with SPIFFE/SPIRE in AWS App Mesh - Mutual TLS OAuth Client Credentials - Curity - Cilium Mutual Authentication - Implementing mTLS Across Infrastructure - Tetrate</p> <p>2025 Innovations: - Zero Trust Python Proxies: Envoy mTLS 2025 - Cloud-Native Identity Management: SPIFFE/SPIRE &amp; Istio - Medium</p> <p>SPIFFE/SPIRE: - SPIFFE Official Website - SPIRE Concepts - Working with SVIDs - Registering Workloads - SPIRE Go Package - Introduction to SPIFFE - GoCodeo - Zero to Trusted: SPIFFE Demystified 2025 - Goodbye Service API Keys: SPIFFE/SPIRE 2025 - SPIFFE/SPIRE and Keylime - Red Hat</p> <p>Zero Trust: - Service Mesh Zero Trust - Solo.io - Zero Trust Kubernetes with Linkerd - Buoyant - Zero Trust Security for Kubernetes - HashiCorp - Zero Trust mTLS Explained - Buoyant - Istio Revolutionizes Microservices 2025 - Service Mesh and Identity Securing - Avatier</p>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_7","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> mTLS \ud578\ub4dc\uc170\uc774\ud06c \uacfc\uc815 \uc774\ud574 \ubc0f Wireshark \ubd84\uc11d</li> <li> Istio \uc124\uce58 \ubc0f \uc790\ub3d9 mTLS \uc124\uc815</li> <li> SPIFFE ID \uad6c\uc870 \ubc0f SVID \ubc1c\uae09 \uc6d0\ub9ac \uc774\ud574</li> <li> SPIRE Server/Agent \ubc30\ud3ec \ubc0f Workload \ub4f1\ub85d</li> <li> Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c go-spiffe/v2 \uc0ac\uc6a9</li> <li> Zero Trust \uc6d0\uce59 \ubc0f Service Mesh \uc801\uc6a9</li> <li> Istio Authorization Policies \uc791\uc131 (RBAC, ABAC)</li> <li> Envoy Filter\ub85c JWT \uac80\uc99d \uad6c\ud604</li> <li> ECDSA P-256 vs RSA 2048 \uc778\uc99d\uc11c \ube44\uad50</li> <li> Kubernetes\uc640 VM \uac04 SPIRE \ud1b5\ud569 \uc124\uacc4</li> </ul>"},{"location":"iam-storage-service/Ch6.Service_Mesh_Security/#_8","title":"\ud83c\udfaf \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch7\ubd80\ud130\ub294 Storage \ud30c\ud2b8\uac00 \uc2dc\uc791\ub429\ub2c8\ub2e4. OpenStack Swift, S3/MinIO, Ceph \ub4f1 \ubd84\uc0b0 \uc2a4\ud1a0\ub9ac\uc9c0 \uc2dc\uc2a4\ud15c\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>Preview: - OpenStack Swift \uc544\ud0a4\ud14d\ucc98 (Proxy, Account, Container, Object) - Swift Ring\uacfc Consistent Hashing - S3 API \ud638\ud658\uc131 \ubc0f MinIO \ubc30\ud3ec - Ceph RADOS, CRUSH \uc54c\uace0\ub9ac\uc998 - \ub300\uc6a9\ub7c9 \uc624\ube0c\uc81d\ud2b8 \uc2a4\ud1a0\ub9ac\uc9c0 \uc131\ub2a5 \ucd5c\uc801\ud654</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/","title":"Ch7. OpenStack Swift - Object Storage","text":""},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":"<p>**OpenStack Swift**\ub294 \ub300\uaddc\ubaa8 \ube44\uc815\ud615 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\ub294 \ubd84\uc0b0 \uc624\ube0c\uc81d\ud2b8 \uc2a4\ud1a0\ub9ac\uc9c0 \uc2dc\uc2a4\ud15c\uc785\ub2c8\ub2e4. S3\uc640 \uc720\uc0ac\ud55c RESTful API\ub97c \uc81c\uacf5\ud558\uba70, Petabyte \uaddc\ubaa8\uc758 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_2","title":"\uc65c \uc911\uc694\ud55c\uac00?","text":"<p>\uc804\ud1b5\uc801\uc778 \ud30c\uc77c \uc2dc\uc2a4\ud15c\uc758 \ud55c\uacc4:</p> <ul> <li>\u274c \ud655\uc7a5\uc131 \ubd80\uc871: \ub2e8\uc77c \uc11c\ubc84\uc758 \uc6a9\ub7c9 \uc81c\ud55c</li> <li>\u274c \uba54\ud0c0\ub370\uc774\ud130 \ubcd1\ubaa9: \uc218\uc2ed\uc5b5 \uac1c \ud30c\uc77c \uad00\ub9ac \uc5b4\ub824\uc6c0</li> <li>\u274c \ub2e8\uc77c \uc7a5\uc560\uc810: RAID\ub3c4 \ub514\uc2a4\ud06c \ub3d9\uc2dc \uc7a5\uc560\uc5d0 \ucde8\uc57d</li> <li>\u274c \uc131\ub2a5 \uc800\ud558: \ud30c\uc77c \uc218 \uc99d\uac00 \uc2dc \uc131\ub2a5 \uae09\uaca9\ud788 \ud558\ub77d</li> </ul> <p>Swift\uc758 \ud574\uacb0\ucc45: - \u2705 \uc218\ud3c9 \ud655\uc7a5: \ub178\ub4dc \ucd94\uac00\ub85c \ubb34\ud55c \ud655\uc7a5 \uac00\ub2a5 - \u2705 \ubd84\uc0b0 \uc800\uc7a5: Consistent Hashing Ring\uc73c\ub85c \ub370\uc774\ud130 \ubd84\uc0b0 - \u2705 \uace0\uac00\uc6a9\uc131: 3\uac1c \uc774\uc0c1 \ubcf5\uc81c\ubcf8, \ub2e4\uc911 Zone \ubc30\uce58 - \u2705 Eventually Consistent: CAP \uc815\ub9ac\uc758 AP \uc120\ud0dd (\uac00\uc6a9\uc131 + \ud30c\ud2f0\uc158 \ub0b4\uc131) - \u2705 \uc790\ub3d9 \ubcf5\uad6c: \uc190\uc0c1\ub41c \ubcf5\uc81c\ubcf8 \uc790\ub3d9 \uac10\uc9c0 \ubc0f \ubcf5\uad6c</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#kakaocloud","title":"KakaoCloud\uc5d0\uc11c\uc758 \ud65c\uc6a9 \uc0ac\ub840","text":"<ul> <li>\uc0ac\uc6a9\uc790 \uc5c5\ub85c\ub4dc \ud30c\uc77c: \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0, \ucca8\ubd80 \ud30c\uc77c (\uc218\ubc31 TB)</li> <li>\ubc31\uc5c5 \uc2a4\ud1a0\ub9ac\uc9c0: VM \uc2a4\ub0c5\uc0f7, \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ubc31\uc5c5 (\uc7a5\uae30 \ubcf4\uad00)</li> <li>\ub85c\uadf8 \uc544\uce74\uc774\ube59: \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub85c\uadf8, \uac10\uc0ac \ub85c\uadf8 (\uc218\ub144\uce58 \ubcf4\uad00)</li> <li>CDN Origin: \uc815\uc801 \ucf58\ud150\uce20 \uc6d0\ubcf8 \uc2a4\ud1a0\ub9ac\uc9c0</li> <li>\ub300\uc6a9\ub7c9 \uac1d\uccb4: \ub3d9\uc601\uc0c1, \uc774\ubbf8\uc9c0 \uc6d0\ubcf8 \ud30c\uc77c (5GB+ SLO \uc0ac\uc6a9)</li> </ul>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_3","title":"\ud559\uc2b5 \ud6c4 \uc5bb\uc744 \uc218 \uc788\ub294 \uc5ed\ub7c9","text":"<ul> <li> Swift \uc544\ud0a4\ud14d\ucc98 (Proxy, Account, Container, Object \uc11c\ubc84) \uc774\ud574</li> <li> Consistent Hashing Ring \ub3d9\uc791 \uc6d0\ub9ac</li> <li> Replication \uba54\ucee4\ub2c8\uc998 \ubc0f \ub370\uc774\ud130 \ub0b4\uad6c\uc131</li> <li> Large Object (SLO/DLO) \ucc98\ub9ac</li> <li> Swift API \uc0ac\uc6a9 \ubc0f \uc131\ub2a5 \ucd5c\uc801\ud654</li> </ul>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#1-swift","title":"1. Swift \uc544\ud0a4\ud14d\ucc98","text":"<pre><code>graph TB\n    Client[Client/Application]\n\n    subgraph ProxyLayer[Proxy Layer]\n        Proxy1[Proxy Server 1]\n        Proxy2[Proxy Server 2]\n        Proxy3[Proxy Server 3]\n    end\n\n    subgraph StorageNodes[Storage Nodes]\n        subgraph Zone1[Zone 1]\n            Account1[Account Server]\n            Container1[Container Server]\n            Object1[Object Server]\n        end\n\n        subgraph Zone2[Zone 2]\n            Account2[Account Server]\n            Container2[Container Server]\n            Object2[Object Server]\n        end\n\n        subgraph Zone3[Zone 3]\n            Account3[Account Server]\n            Container3[Container Server]\n            Object3[Object Server]\n        end\n    end\n\n    Ring[(Ring&lt;br/&gt;Partition \u2192 Device)]\n\n    Client --&gt;|HTTP API| Proxy1\n    Client --&gt;|HTTP API| Proxy2\n    Client --&gt;|HTTP API| Proxy3\n\n    Proxy1 --&gt;|Consult| Ring\n    Proxy2 --&gt;|Consult| Ring\n    Proxy3 --&gt;|Consult| Ring\n\n    Proxy1 -.-&gt;|Replicate| Object1\n    Proxy1 -.-&gt;|Replicate| Object2\n    Proxy1 -.-&gt;|Replicate| Object3\n\n    style Proxy1 fill:#4ecdc4\n    style Proxy2 fill:#4ecdc4\n    style Proxy3 fill:#4ecdc4\n    style Ring fill:#ffd700</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_5","title":"\ud575\uc2ec \uad6c\uc131 \uc694\uc18c","text":"<p>1. Proxy Server: - \ud074\ub77c\uc774\uc5b8\ud2b8\uc758 API \uc694\uccad \ucc98\ub9ac - Ring\uc744 \uc870\ud68c\ud558\uc5ec \ub370\uc774\ud130 \uc704\uce58 \uacb0\uc815 - \ubcf5\uc81c\ubcf8 \uc4f0\uae30/\uc77d\uae30 \uc870\uc815 - \ub85c\ub4dc \ubc38\ub7f0\uc2f1 (\uc5ec\ub7ec Proxy \uc11c\ubc84 \ubc30\uce58 \uac00\ub2a5)</p> <p>2. Account Server: - \uacc4\uc815(Account) \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac - \uacc4\uc815 \ub0b4 \ucee8\ud14c\uc774\ub108 \ubaa9\ub85d \uc800\uc7a5 - SQLite DB\ub85c \uc800\uc7a5 (\uacbd\ub7c9)</p> <p>3. Container Server: - \ucee8\ud14c\uc774\ub108 \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac - \ucee8\ud14c\uc774\ub108 \ub0b4 \uac1d\uccb4 \ubaa9\ub85d \uc800\uc7a5 - SQLite DB\ub85c \uc800\uc7a5</p> <p>4. Object Server: - \uc2e4\uc81c \uac1d\uccb4 \ub370\uc774\ud130 \uc800\uc7a5 - \ud30c\uc77c \uc2dc\uc2a4\ud15c\uc5d0 \uc9c1\uc811 \uc800\uc7a5 (<code>/srv/node/{device}/objects/</code>) - \uac1d\uccb4 \uba54\ud0c0\ub370\uc774\ud130\ub294 Extended Attributes (xattr)\uc5d0 \uc800\uc7a5</p> <p>\uacc4\uce35 \uad6c\uc870: <pre><code>Account (\uacc4\uc815)\n  \u2514\u2500\u2500 Container (\ucee8\ud14c\uc774\ub108, S3\uc758 Bucket)\n       \u2514\u2500\u2500 Object (\uac1d\uccb4, \uc2e4\uc81c \ud30c\uc77c)\n</code></pre></p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#2-consistent-hashing-ring","title":"2. Consistent Hashing Ring","text":"<p>Swift\ub294 **Consistent Hashing Ring**\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub370\uc774\ud130\ub97c \ubd84\uc0b0 \uc800\uc7a5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#ring","title":"Ring \uad6c\uc870","text":"<pre><code>1. Partition \uc218 \uacb0\uc815 (\uc608: 2^18 = 262,144\uac1c)\n2. \uac01 Partition\uc744 MD5 \ud574\uc2f1\uc73c\ub85c Ring\uc5d0 \ubc30\uce58\n3. \uac01 Device(\ub514\uc2a4\ud06c)\uc5d0 Partition \ud560\ub2f9\n</code></pre> <p>Ring \ube4c\ub4dc \uacfc\uc815: <pre><code># 1. Ring Builder \uc0dd\uc131 (18 = 2^18 partitions, 3 = replicas, 1 = min_part_hours)\nswift-ring-builder account.builder create 18 3 1\n\n# 2. Device \ucd94\uac00\nswift-ring-builder account.builder add \\\n  --region 1 --zone 1 --ip 10.0.0.1 --port 6202 --device sda1 --weight 100\n\nswift-ring-builder account.builder add \\\n  --region 1 --zone 2 --ip 10.0.0.2 --port 6202 --device sda1 --weight 100\n\nswift-ring-builder account.builder add \\\n  --region 1 --zone 3 --ip 10.0.0.3 --port 6202 --device sda1 --weight 100\n\n# 3. Ring \uc7ac\uc870\uc815\nswift-ring-builder account.builder rebalance\n\n# 4. Ring \ud30c\uc77c \uc0dd\uc131 (account.ring.gz)\n# \u2192 \ubaa8\ub4e0 Proxy \ubc0f Storage \ub178\ub4dc\uc5d0 \ubc30\ud3ec\n</code></pre></p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_6","title":"\uac1d\uccb4 \uc704\uce58 \uacb0\uc815","text":"<pre><code># \uac1d\uccb4 \uacbd\ub85c: /v1/account/container/object\npath = \"/v1/AUTH_test/photos/cat.jpg\"\n\n# 1. MD5 \ud574\uc2dc \uacc4\uc0b0\nhash = md5(path).hexdigest()\n# hash = \"a1b2c3d4e5f6...\"\n\n# 2. Partition \uacc4\uc0b0\npartition = int(hash[:4], 16) % (2 ** 18)\n# partition = 12345\n\n# 3. Ring\uc5d0\uc11c \ud574\ub2f9 Partition\uc758 Device \uc870\ud68c\ndevices = ring.get_part_nodes(partition)\n# devices = [\n#   {ip: 10.0.0.1, device: sda1, zone: 1},\n#   {ip: 10.0.0.2, device: sda1, zone: 2},\n#   {ip: 10.0.0.3, device: sda1, zone: 3}\n# ]\n</code></pre> <p>\uc7a5\uc810: - \u2705 \ub178\ub4dc \ucd94\uac00/\uc81c\uac70 \uc2dc \uc77c\ubd80 \ub370\uc774\ud130\ub9cc \uc774\ub3d9 (O(K/N)) - \u2705 \uade0\ub4f1 \ubd84\uc0b0 (\uac01 \ub178\ub4dc\uc5d0 \ube44\uc2b7\ud55c \ubd80\ud558) - \u2705 Zone Awareness (\ubcf5\uc81c\ubcf8\uc744 \ub2e4\ub978 Zone\uc5d0 \ubc30\uce58)</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#3-replication","title":"3. Replication (\ubcf5\uc81c)","text":"<p>Swift\ub294 \ub370\uc774\ud130 \ub0b4\uad6c\uc131\uc744 \uc704\ud574 **\ubcf5\uc81c\ubcf8(Replica)**\uc744 \uc5ec\ub7ec \ub178\ub4dc\uc5d0 \uc800\uc7a5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#replication","title":"Replication \uba54\ucee4\ub2c8\uc998","text":"<pre><code>sequenceDiagram\n    participant Client\n    participant Proxy\n    participant Node1 as Storage Node 1&lt;br/&gt;(Zone 1)\n    participant Node2 as Storage Node 2&lt;br/&gt;(Zone 2)\n    participant Node3 as Storage Node 3&lt;br/&gt;(Zone 3)\n\n    Client-&gt;&gt;Proxy: PUT /v1/AUTH_test/photos/cat.jpg\n    Proxy-&gt;&gt;Proxy: Ring \uc870\ud68c \u2192 Partition 12345\n    Proxy-&gt;&gt;Node1: PUT cat.jpg (1st replica)\n    Proxy-&gt;&gt;Node2: PUT cat.jpg (2nd replica)\n    Proxy-&gt;&gt;Node3: PUT cat.jpg (3rd replica)\n\n    Node1--&gt;&gt;Proxy: 201 Created\n    Node2--&gt;&gt;Proxy: 201 Created\n\n    Note over Proxy: Quorum (2/3) \uc131\uacf5 \u2192 \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0 \uc751\ub2f5\n\n    Proxy--&gt;&gt;Client: 201 Created\n\n    Node3--&gt;&gt;Proxy: 201 Created (\ub098\uc911\uc5d0 \ub3c4\ucc29)</code></pre> <p>Quorum Write (\uae30\ubcf8 \uc124\uc815): - \ubcf5\uc81c\ubcf8 3\uac1c \uc911 \uacfc\ubc18\uc218(2\uac1c) \uc131\uacf5 \uc2dc \uc751\ub2f5 - \ube60\ub978 \uc751\ub2f5 \uc2dc\uac04 \ubcf4\uc7a5 - \ub098\uba38\uc9c0 1\uac1c\ub294 \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc644\ub8cc</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#replicator","title":"Replicator \ud504\ub85c\uc138\uc2a4","text":"<p>\uac01 Storage \ub178\ub4dc\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \ub370\ubaac:</p> <pre><code># object-replicator \ub3d9\uc791 (\uac04\uc18c\ud654\ub41c \uc758\uc0ac \ucf54\ub4dc)\nwhile True:\n    for partition in local_partitions:\n        local_hash = compute_hash(partition)\n\n        # \ubcf5\uc81c\ubcf8\uc774 \uc788\uc5b4\uc57c \ud560 \ub2e4\ub978 \ub178\ub4dc\ub4e4\uacfc \ube44\uad50\n        for replica_node in ring.get_part_nodes(partition):\n            remote_hash = get_remote_hash(replica_node, partition)\n\n            if local_hash != remote_hash:\n                # \ucc28\uc774 \ubc1c\uacac \u2192 rsync\ub85c \ub3d9\uae30\ud654\n                rsync(partition, replica_node)\n\n    sleep(30)  # 30\ucd08 \ud6c4 \uc7ac\uc2e4\ud589\n</code></pre> <p>Replication \ud2b9\uc9d5: - \ube44\ub3d9\uae30: \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \uc2e4\ud589 - Eventually Consistent: \uacb0\uad6d \ubaa8\ub4e0 \ubcf5\uc81c\ubcf8\uc774 \ub3d9\uc77c\ud574\uc9d0 - \uc790\ub3d9 \ubcf5\uad6c: \ub514\uc2a4\ud06c \uc7a5\uc560 \uc2dc \uc790\ub3d9\uc73c\ub85c \uc0c8 \ub178\ub4dc\uc5d0 \ubcf5\uc81c - \ub0ae\uc740 \uc6b0\uc120\uc21c\uc704: I/O\uac00 \uc801\uc744 \ub54c \uc2e4\ud589 (\uc0ac\uc6a9\uc790 \uc694\uccad \uc6b0\uc120)</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#4","title":"4. \ub370\uc774\ud130 \ub0b4\uad6c\uc131 \ubc0f \uac00\uc6a9\uc131","text":""},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_7","title":"\ub0b4\uad6c\uc131 \uacc4\uc0b0","text":"<p>\ubcf5\uc81c\ubcf8 3\uac1c, Zone 3\uac1c \ubd84\uc0b0 \uc2dc:</p> <pre><code>\uc804\uc81c: \uac01 Zone\uc758 \uc5f0\uac04 \uc7a5\uc560\uc728 = 1%\n\n1\uac1c Zone \uc7a5\uc560 \ud655\ub960: 1% = 0.01\n2\uac1c Zone \ub3d9\uc2dc \uc7a5\uc560 \ud655\ub960: 0.01 \u00d7 0.01 = 0.0001 (0.01%)\n3\uac1c Zone \ub3d9\uc2dc \uc7a5\uc560 \ud655\ub960: 0.01 \u00d7 0.01 \u00d7 0.01 = 0.000001 (0.0001%)\n\n\ub370\uc774\ud130 \ub0b4\uad6c\uc131: 1 - 0.000001 = 99.9999% (Six 9s)\n</code></pre> <p>\ubcf5\uc81c\ubcf8 \uc218 \uc120\ud0dd: - 3\uac1c (\uae30\ubcf8): 99.9999% \ub0b4\uad6c\uc131, \ube44\uc6a9 \ud6a8\uc728\uc801 - 2\uac1c: 99.99% \ub0b4\uad6c\uc131, \ube44\uc6a9 \uc808\uac10 (\uad8c\uc7a5 \uc548 \ud568) - 4\uac1c+: 99.99999% \ub0b4\uad6c\uc131, \uaddc\uc81c \uc900\uc218\uc6a9 (\uc758\ub8cc, \uae08\uc735)</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#5-large-object-support","title":"5. Large Object Support","text":"<p>Swift\ub294 \uae30\ubcf8\uc801\uc73c\ub85c **5GB \ub2e8\uc77c \uac1d\uccb4 \uc81c\ud55c**\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ub354 \ud070 \ud30c\uc77c\uc740 **\uc138\uadf8\uba3c\ud2b8**\ub85c \ubd84\ud560\ud558\uc5ec \uc5c5\ub85c\ub4dc\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#slo-static-large-object","title":"SLO (Static Large Object)","text":"<p>\ud2b9\uc9d5: - \u2705 \ubcd1\ub82c \uc5c5\ub85c\ub4dc (\uc138\uadf8\uba3c\ud2b8\ub97c \ub3d9\uc2dc\uc5d0 \uc5c5\ub85c\ub4dc) - \u2705 \ube60\ub978 \ub2e4\uc6b4\ub85c\ub4dc (Manifest\uac00 \uc9c1\uc811 \uc138\uadf8\uba3c\ud2b8 \uc704\uce58 \uc9c0\uc815) - \u2705 \uc911\ucca9 \uac00\ub2a5 (SLO\uac00 \ub2e4\ub978 SLO \ucc38\uc870 \uac00\ub2a5) - \u26a0\ufe0f Manifest \ud30c\uc77c \ud544\uc694 (JSON)</p> <p>Manifest \uc608\uc2dc: <pre><code>[\n  {\n    \"path\": \"/segments/video_part1\",\n    \"etag\": \"abc123...\",\n    \"size_bytes\": 5368709120\n  },\n  {\n    \"path\": \"/segments/video_part2\",\n    \"etag\": \"def456...\",\n    \"size_bytes\": 5368709120\n  },\n  {\n    \"path\": \"/segments/video_part3\",\n    \"etag\": \"ghi789...\",\n    \"size_bytes\": 2147483648\n  }\n]\n</code></pre></p> <p>\ucd5c\ub300 \ud06c\uae30: - 1\uac1c SLO: 1,000 \uc138\uadf8\uba3c\ud2b8 \u00d7 5GB = 5TB - \uc911\ucca9 SLO: 1,000 SLO \u00d7 1,000 \uc138\uadf8\uba3c\ud2b8 \u00d7 5GB = 5PB (\uc774\ub860\uc0c1)</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#dlo-dynamic-large-object","title":"DLO (Dynamic Large Object)","text":"<p>\ud2b9\uc9d5: - \u2705 Manifest \ud30c\uc77c \ubd88\ud544\uc694 - \u2705 prefix \uae30\ubc18 \uc790\ub3d9 \uc870\ud569 - \u26a0\ufe0f Eventually Consistent (\ucee8\ud14c\uc774\ub108 \ubaa9\ub85d \uc758\uc874) - \u26a0\ufe0f \ubcd1\ub82c \ub2e4\uc6b4\ub85c\ub4dc \ubd88\uac00</p> <p>\uc0ac\uc6a9 \uc608\uc2dc: <pre><code># \uc138\uadf8\uba3c\ud2b8 \uc5c5\ub85c\ub4dc (prefix: video/segments/)\nswift upload segments video/segments/001\nswift upload segments video/segments/002\nswift upload segments video/segments/003\n\n# DLO Manifest \uc0dd\uc131\ncurl -X PUT \\\n  -H \"X-Object-Manifest: segments/video/segments/\" \\\n  http://swift.example.com/v1/AUTH_test/videos/large_video.mp4\n</code></pre></p> <p>SLO vs DLO \ube44\uad50:</p> \ud56d\ubaa9 SLO DLO Manifest JSON \ud30c\uc77c \ud544\uc694 prefix\ub9cc \uc9c0\uc815 \uc77c\uad00\uc131 Strong Eventually \ubcd1\ub82c \uc5c5\ub85c\ub4dc \uac00\ub2a5 \uac00\ub2a5 \ubcd1\ub82c \ub2e4\uc6b4\ub85c\ub4dc \uac00\ub2a5 \ubd88\uac00\ub2a5 \uc911\ucca9 \uac00\ub2a5 \ubd88\uac00\ub2a5 \uad8c\uc7a5 \uc0ac\uc6a9 \ub300\uc6a9\ub7c9 \ud30c\uc77c (&gt;100GB) \uac04\ub2e8\ud55c \ud30c\uc77c \ubd84\ud560"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#lab-1-swift-devstack","title":"Lab 1: Swift \ud074\ub7ec\uc2a4\ud130 \uc124\uce58 (DevStack)","text":"<p>\ubaa9\ud45c: \uac1c\ubc1c \ud658\uacbd\uc5d0\uc11c Swift \ud074\ub7ec\uc2a4\ud130 \uad6c\uc131</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#1-devstack","title":"1\ub2e8\uacc4: DevStack \uc124\uce58","text":"<pre><code># Ubuntu 22.04 LTS \uac00\uc815\nsudo apt update &amp;&amp; sudo apt install -y git\n\n# stack \uc0ac\uc6a9\uc790 \uc0dd\uc131\nsudo useradd -s /bin/bash -d /opt/stack -m stack\necho \"stack ALL=(ALL) NOPASSWD: ALL\" | sudo tee /etc/sudoers.d/stack\nsudo su - stack\n\n# DevStack \ud074\ub860\ngit clone https://opendev.org/openstack/devstack\ncd devstack\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#2-localconf","title":"2\ub2e8\uacc4: local.conf \uc124\uc815","text":"<pre><code>cat &gt; local.conf &lt;&lt;'EOF'\n[[local|localrc]]\nADMIN_PASSWORD=secret\nDATABASE_PASSWORD=$ADMIN_PASSWORD\nRABBIT_PASSWORD=$ADMIN_PASSWORD\nSERVICE_PASSWORD=$ADMIN_PASSWORD\n\n# Swift \ud65c\uc131\ud654\nenable_service s-proxy s-object s-container s-account\n\n# Swift \uc124\uc815\nSWIFT_REPLICAS=3\nSWIFT_HASH=swift_hash_unique_string\nSWIFT_DATA_DIR=$DEST/data/swift\n\n# \uac00\uc0c1 \ub514\uc2a4\ud06c \uc0dd\uc131 (1GB \u00d7 4\uac1c)\nSWIFT_LOOPBACK_DISK_SIZE=1G\nEOF\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#3","title":"3\ub2e8\uacc4: \uc124\uce58 \uc2e4\ud589","text":"<pre><code>./stack.sh\n# 15-20\ubd84 \uc18c\uc694\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#4_1","title":"4\ub2e8\uacc4: \ud655\uc778","text":"<pre><code># \ud658\uacbd\ubcc0\uc218 \ub85c\ub4dc\nsource openrc admin admin\n\n# Swift \uc0c1\ud0dc \ud655\uc778\nswift stat\n\n# \ucd9c\ub825:\n# Account: AUTH_...\n# Containers: 0\n# Objects: 0\n# Bytes: 0\n\n# Ring \uc815\ubcf4 \ud655\uc778\nswift-ring-builder /etc/swift/account.builder\nswift-ring-builder /etc/swift/container.builder\nswift-ring-builder /etc/swift/object.builder\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#lab-2-swift-api-python","title":"Lab 2: Swift API \uc0ac\uc6a9 (Python)","text":"<p>\ubaa9\ud45c: Swift API\ub85c \uac1d\uccb4 \uc5c5\ub85c\ub4dc/\ub2e4\uc6b4\ub85c\ub4dc</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#1","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>pip install python-swiftclient python-keystoneclient\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#2","title":"2\ub2e8\uacc4: \ud658\uacbd\ubcc0\uc218 \uc124\uc815","text":"<pre><code># openrc \ud30c\uc77c\uc5d0\uc11c \ub85c\ub4dc \ub610\ub294 \uc218\ub3d9 \uc124\uc815\nexport OS_AUTH_URL=http://localhost/identity\nexport OS_PROJECT_NAME=admin\nexport OS_USERNAME=admin\nexport OS_PASSWORD=secret\nexport OS_USER_DOMAIN_NAME=Default\nexport OS_PROJECT_DOMAIN_NAME=Default\nexport OS_IDENTITY_API_VERSION=3\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#3-cli","title":"3\ub2e8\uacc4: CLI \uc0ac\uc6a9","text":"<pre><code># \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\nswift post photos\n\n# \uac1d\uccb4 \uc5c5\ub85c\ub4dc\necho \"Hello Swift!\" &gt; test.txt\nswift upload photos test.txt\n\n# \uac1d\uccb4 \ubaa9\ub85d\nswift list photos\n# test.txt\n\n# \uac1d\uccb4 \ub2e4\uc6b4\ub85c\ub4dc\nswift download photos test.txt\n\n# \uac1d\uccb4 \uba54\ud0c0\ub370\uc774\ud130 \ud655\uc778\nswift stat photos test.txt\n# Account: AUTH_...\n# Container: photos\n# Object: test.txt\n# Content Type: text/plain\n# Content Length: 13\n# Last Modified: ...\n# ETag: 8b1a9953c4611296a827abf8c47804d7\n\n# \uac1d\uccb4 \uc0ad\uc81c\nswift delete photos test.txt\n\n# \ucee8\ud14c\uc774\ub108 \uc0ad\uc81c\nswift delete photos\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#lab-3-go-swift","title":"Lab 3: Go\ub85c Swift \ud074\ub77c\uc774\uc5b8\ud2b8 \uad6c\ud604","text":"<p>\ubaa9\ud45c: Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c Swift API \uc0ac\uc6a9</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#1_1","title":"1\ub2e8\uacc4: \uc758\uc874\uc131 \uc124\uce58","text":"<pre><code>mkdir swift-go-client &amp;&amp; cd swift-go-client\ngo mod init swift-go-client\n\ngo get github.com/ncw/swift/v2\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#2-go","title":"2\ub2e8\uacc4: Go \ucf54\ub4dc \uc791\uc131","text":"<pre><code>// main.go\npackage main\n\nimport (\n    \"bytes\"\n    \"fmt\"\n    \"io\"\n    \"log\"\n    \"os\"\n\n    \"github.com/ncw/swift/v2\"\n)\n\nfunc main() {\n    // Swift \uc5f0\uacb0 \uc0dd\uc131\n    c := swift.Connection{\n        UserName: os.Getenv(\"OS_USERNAME\"),\n        ApiKey:   os.Getenv(\"OS_PASSWORD\"),\n        AuthUrl:  os.Getenv(\"OS_AUTH_URL\"),\n        Tenant:   os.Getenv(\"OS_PROJECT_NAME\"),\n        Domain:   os.Getenv(\"OS_USER_DOMAIN_NAME\"),\n    }\n\n    // \uc778\uc99d\n    err := c.Authenticate()\n    if err != nil {\n        log.Fatalf(\"Authentication failed: %v\", err)\n    }\n    fmt.Println(\"\u2713 Authenticated successfully\")\n\n    // \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\n    containerName := \"go-demo\"\n    err = c.ContainerCreate(containerName, nil)\n    if err != nil {\n        log.Fatalf(\"Container creation failed: %v\", err)\n    }\n    fmt.Printf(\"\u2713 Container '%s' created\\n\", containerName)\n\n    // \uac1d\uccb4 \uc5c5\ub85c\ub4dc\n    objectName := \"hello.txt\"\n    content := []byte(\"Hello from Go!\")\n    err = c.ObjectPutBytes(containerName, objectName, content, \"text/plain\")\n    if err != nil {\n        log.Fatalf(\"Object upload failed: %v\", err)\n    }\n    fmt.Printf(\"\u2713 Object '%s' uploaded (%d bytes)\\n\", objectName, len(content))\n\n    // \uac1d\uccb4 \ub2e4\uc6b4\ub85c\ub4dc\n    data, err := c.ObjectGetBytes(containerName, objectName)\n    if err != nil {\n        log.Fatalf(\"Object download failed: %v\", err)\n    }\n    fmt.Printf(\"\u2713 Object '%s' downloaded: %s\\n\", objectName, string(data))\n\n    // \uac1d\uccb4 \uba54\ud0c0\ub370\uc774\ud130 \uc870\ud68c\n    info, _, err := c.Object(containerName, objectName)\n    if err != nil {\n        log.Fatalf(\"Object info failed: %v\", err)\n    }\n    fmt.Printf(\"  - Content Type: %s\\n\", info.ContentType)\n    fmt.Printf(\"  - Content Length: %d\\n\", info.Bytes)\n    fmt.Printf(\"  - ETag: %s\\n\", info.Hash)\n    fmt.Printf(\"  - Last Modified: %s\\n\", info.LastModified)\n\n    // \ucee8\ud14c\uc774\ub108 \ub0b4 \ubaa8\ub4e0 \uac1d\uccb4 \ubaa9\ub85d\n    objects, err := c.ObjectsAll(containerName, nil)\n    if err != nil {\n        log.Fatalf(\"Object listing failed: %v\", err)\n    }\n    fmt.Printf(\"\u2713 Objects in '%s' container:\\n\", containerName)\n    for _, obj := range objects {\n        fmt.Printf(\"  - %s (%d bytes)\\n\", obj.Name, obj.Bytes)\n    }\n\n    // \uac1d\uccb4 \uc0ad\uc81c\n    err = c.ObjectDelete(containerName, objectName)\n    if err != nil {\n        log.Fatalf(\"Object deletion failed: %v\", err)\n    }\n    fmt.Printf(\"\u2713 Object '%s' deleted\\n\", objectName)\n\n    // \ucee8\ud14c\uc774\ub108 \uc0ad\uc81c\n    err = c.ContainerDelete(containerName)\n    if err != nil {\n        log.Fatalf(\"Container deletion failed: %v\", err)\n    }\n    fmt.Printf(\"\u2713 Container '%s' deleted\\n\", containerName)\n}\n</code></pre> <p>\uc2e4\ud589: <pre><code># \ud658\uacbd\ubcc0\uc218 \uc124\uc815 (openrc \ud30c\uc77c source)\nsource ~/devstack/openrc admin admin\n\ngo run main.go\n\n# \ucd9c\ub825:\n# \u2713 Authenticated successfully\n# \u2713 Container 'go-demo' created\n# \u2713 Object 'hello.txt' uploaded (14 bytes)\n# \u2713 Object 'hello.txt' downloaded: Hello from Go!\n#   - Content Type: text/plain\n#   - Content Length: 14\n#   - ETag: 8c7dd922ad47494fc02c388e12c00eac\n#   - Last Modified: 2025-01-02 10:30:00\n# \u2713 Objects in 'go-demo' container:\n#   - hello.txt (14 bytes)\n# \u2713 Object 'hello.txt' deleted\n# \u2713 Container 'go-demo' deleted\n</code></pre></p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#lab-4-large-object-slo","title":"Lab 4: Large Object (SLO) \uc5c5\ub85c\ub4dc","text":"<p>\ubaa9\ud45c: 10GB \ud30c\uc77c\uc744 SLO\ub85c \ubd84\ud560 \uc5c5\ub85c\ub4dc</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#1_2","title":"1\ub2e8\uacc4: \ub300\uc6a9\ub7c9 \ud30c\uc77c \uc0dd\uc131","text":"<pre><code># 10GB \ub354\ubbf8 \ud30c\uc77c \uc0dd\uc131\ndd if=/dev/zero of=large_file.bin bs=1M count=10240\n# 10GB = 10,240 MB\n\n# 1GB \ub2e8\uc704\ub85c \ubd84\ud560\nsplit -b 1G large_file.bin segment_\n# segment_aa, segment_ab, ..., segment_aj (10\uac1c)\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#2_1","title":"2\ub2e8\uacc4: \uc138\uadf8\uba3c\ud2b8 \uc5c5\ub85c\ub4dc","text":"<pre><code># segments \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\nswift post segments\n\n# \uc138\uadf8\uba3c\ud2b8 \ubcd1\ub82c \uc5c5\ub85c\ub4dc\nfor seg in segment_*; do\n    swift upload segments \"$seg\" &amp;\ndone\nwait\n\n# \ud655\uc778\nswift list segments\n# segment_aa\n# segment_ab\n# ...\n# segment_aj\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#3-manifest","title":"3\ub2e8\uacc4: Manifest \uc0dd\uc131","text":"<pre><code># Go \ucf54\ub4dc\ub85c Manifest \uc0dd\uc131\n</code></pre> <pre><code>// slo_manifest.go\npackage main\n\nimport (\n    \"encoding/json\"\n    \"fmt\"\n    \"log\"\n    \"os\"\n\n    \"github.com/ncw/swift/v2\"\n)\n\ntype Segment struct {\n    Path      string `json:\"path\"`\n    Etag      string `json:\"etag\"`\n    SizeBytes int64  `json:\"size_bytes\"`\n}\n\nfunc main() {\n    c := swift.Connection{\n        UserName: os.Getenv(\"OS_USERNAME\"),\n        ApiKey:   os.Getenv(\"OS_PASSWORD\"),\n        AuthUrl:  os.Getenv(\"OS_AUTH_URL\"),\n        Tenant:   os.Getenv(\"OS_PROJECT_NAME\"),\n        Domain:   os.Getenv(\"OS_USER_DOMAIN_NAME\"),\n    }\n    c.Authenticate()\n\n    // segments \ucee8\ud14c\uc774\ub108\uc758 \uac1d\uccb4 \ubaa9\ub85d\n    objects, _ := c.ObjectsAll(\"segments\", nil)\n\n    // Manifest \uc0dd\uc131\n    manifest := make([]Segment, 0, len(objects))\n    for _, obj := range objects {\n        manifest = append(manifest, Segment{\n            Path:      \"/segments/\" + obj.Name,\n            Etag:      obj.Hash,\n            SizeBytes: obj.Bytes,\n        })\n    }\n\n    manifestJSON, _ := json.MarshalIndent(manifest, \"\", \"  \")\n    fmt.Println(string(manifestJSON))\n\n    // SLO Manifest \uc5c5\ub85c\ub4dc\n    headers := swift.Headers{\n        \"Content-Type\": \"application/json\",\n    }\n    _, err := c.ObjectPut(\"files\", \"large_file.bin\",\n        bytes.NewReader(manifestJSON), true, \"\",\n        \"application/octet-stream\", headers)\n\n    if err != nil {\n        log.Fatalf(\"SLO manifest upload failed: %v\", err)\n    }\n\n    fmt.Println(\"\u2713 SLO Manifest uploaded\")\n}\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#4-slo","title":"4\ub2e8\uacc4: SLO \ub2e4\uc6b4\ub85c\ub4dc (\uc790\ub3d9 \uc870\ud569)","text":"<pre><code># Swift\uac00 \uc790\ub3d9\uc73c\ub85c \uc138\uadf8\uba3c\ud2b8\ub97c \uc870\ud569\ud558\uc5ec \ub2e4\uc6b4\ub85c\ub4dc\nswift download files large_file.bin\n\n# \ud655\uc778\nls -lh large_file.bin\n# -rw-r--r-- 1 user user 10G Jan  2 10:30 large_file.bin\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#lab-5-container-acl-temp-url","title":"Lab 5: Container ACL \ubc0f Temp URL","text":"<p>\ubaa9\ud45c: \uacf5\uac1c \ucee8\ud14c\uc774\ub108 \uc124\uc815 \ubc0f \uc784\uc2dc URL \uc0dd\uc131</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#1-acl","title":"1\ub2e8\uacc4: \ucee8\ud14c\uc774\ub108 ACL \uc124\uc815","text":"<pre><code># public \ucee8\ud14c\uc774\ub108 \uc0dd\uc131\nswift post public-files\n\n# \uc77d\uae30 \uad8c\ud55c \ubd80\uc5ec (\uc804\uccb4 \uacf5\uac1c)\nswift post public-files --read-acl \".r:*\"\n\n# \uc4f0\uae30 \uad8c\ud55c \ubd80\uc5ec (\ud2b9\uc815 \uc0ac\uc6a9\uc790\ub9cc)\nswift post public-files --write-acl \"user1,user2\"\n\n# \ud655\uc778\nswift stat public-files\n# Read ACL: .r:*\n# Write ACL: user1,user2\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#2-temp-url","title":"2\ub2e8\uacc4: Temp URL \uc0dd\uc131","text":"<pre><code># Temp URL Key \uc124\uc815 (\uacc4\uc815\uc5d0 \ud55c\ubc88\ub9cc)\nswift post -m \"Temp-URL-Key:my-secret-key\"\n\n# \uc784\uc2dc URL \uc0dd\uc131 (1\uc2dc\uac04 \uc720\ud6a8)\nswift tempurl GET 3600 /v1/AUTH_test/public-files/photo.jpg my-secret-key\n\n# \ucd9c\ub825:\n# /v1/AUTH_test/public-files/photo.jpg?temp_url_sig=abc123...&amp;temp_url_expires=1735776000\n\n# \uc644\uc804\ud55c URL\necho \"http://localhost:8080$(swift tempurl GET 3600 /v1/AUTH_test/public-files/photo.jpg my-secret-key)\"\n\n# \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc811\uc18d \uac00\ub2a5 (\uc778\uc99d \uc5c6\uc774)\ncurl \"http://localhost:8080/v1/AUTH_test/public-files/photo.jpg?temp_url_sig=abc123...&amp;temp_url_expires=1735776000\"\n</code></pre>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_8","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_9","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>OpenStack Swift: - Swift Official Documentation 2025.1 - Swift Official Documentation 2025.2 - Swift Architectural Overview - Building a Consistent Hashing Ring - Partitioned Consistent Hash Ring</p> <p>Large Objects: - Large Object Support - Static Large Object Support - swiftlygo - Go Library for SLO/DLO</p> <p>Replication: - Swift Improved Object Replicator</p>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#go","title":"Go \ud074\ub77c\uc774\uc5b8\ud2b8 \ub77c\uc774\ube0c\ub7ec\ub9ac","text":"<ul> <li>ncw/swift v2 - Go Swift Client</li> </ul>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_10","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Swift 4\uacc4\uce35 \uc544\ud0a4\ud14d\ucc98 (Proxy, Account, Container, Object) \uc774\ud574</li> <li> Consistent Hashing Ring \ub3d9\uc791 \uc6d0\ub9ac \ubc0f Ring \ube4c\ub4dc</li> <li> Replication \uba54\ucee4\ub2c8\uc998 \ubc0f Quorum Write</li> <li> Eventually Consistent \ubaa8\ub378 \uc774\ud574</li> <li> Zone\uc744 \ud65c\uc6a9\ud55c \uace0\uac00\uc6a9\uc131 \uc124\uacc4</li> <li> SLO vs DLO \ucc28\uc774\uc810 \ubc0f \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624</li> <li> Large Object (&gt;5GB) \ucc98\ub9ac \ubc29\ubc95</li> <li> Swift CLI \uc0ac\uc6a9 (upload, download, stat, delete)</li> <li> Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0 Swift \ud1b5\ud569</li> <li> Container ACL \ubc0f Temp URL \ud65c\uc6a9</li> <li> \uc131\ub2a5 \ucd5c\uc801\ud654 (\ubcd1\ub82c \uc5c5\ub85c\ub4dc, \uc138\uadf8\uba3c\ud2b8 \ud06c\uae30 \uc870\uc815)</li> </ul>"},{"location":"iam-storage-service/Ch7.OpenStack_Swift/#_11","title":"\ud83c\udfaf \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch8\uc5d0\uc11c\ub294 **S3 API &amp; MinIO**\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4. S3 \ud638\ud658 API, MinIO \ubc30\ud3ec, Bucket Policy, Lifecycle \uad00\ub9ac, Go SDK \uc0ac\uc6a9\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>Preview: - S3 API \ud45c\uc900 \ubc0f \ud638\ud658\uc131 - MinIO \uc544\ud0a4\ud14d\ucc98 \ubc0f \ubc30\ud3ec - Bucket Versioning \ubc0f Lifecycle - Presigned URL \uc0dd\uc131 - minio-go v7 SDK</p>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/","title":"Ch8. Object Storage &amp; S3 API","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_2","title":"\uac1c\uc694","text":"<p>**Amazon S3 API**\ub294 \uc0ac\uc2e4\uc0c1\uc758 \ud45c\uc900(de facto standard) \uac1d\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0 API\ub85c, \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c \ube44\uc815\ud615 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\uace0 \uad00\ub9ac\ud558\ub294 \ud575\uc2ec \uc778\ud130\ud398\uc774\uc2a4\uc785\ub2c8\ub2e4. **MinIO**\ub294 S3 \ud638\ud658 API\ub97c \uc81c\uacf5\ud558\ub294 \uace0\uc131\ub2a5 \uc624\ud508\uc18c\uc2a4 \uac1d\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0\ub85c, Kubernetes \ud658\uacbd\uc5d0\uc11c AI/ML \uc6cc\ud06c\ub85c\ub4dc, \ub370\uc774\ud130 \ub808\uc774\ud06c, \ubc31\uc5c5/\uc544\uce74\uc774\ube0c \ub4f1 \ub2e4\uc591\ud55c \uc6a9\ub3c4\ub85c \ud65c\uc6a9\ub429\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, MinIO AIStor\ub294 \uc5d1\uc0ac\ubc14\uc774\ud2b8 \uaddc\ubaa8\uc758 \ud655\uc7a5\uc131, sub-10ms \ub808\uc774\ud134\uc2dc, **Kubernetes \ub124\uc774\ud2f0\ube0c \uba40\ud2f0\ud14c\ub10c\uc2dc**\ub97c \uc81c\uacf5\ud558\uba70, \ud558\uc774\ube0c\ub9ac\ub4dc/\uba40\ud2f0\ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \uc77c\uad00\ub41c \uac1d\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0 \uacbd\ud5d8\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_3","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>S3 API \ud45c\uc900 \uc774\ud574: Bucket, Object, Key, Versioning, Lifecycle \ub4f1 \ud575\uc2ec \uac1c\ub150 \uc124\uba85</li> <li>MinIO \uc544\ud0a4\ud14d\ucc98 \ubd84\uc11d: Erasure Set, Server Pool, \ubd84\uc0b0 \ud1a0\ud3f4\ub85c\uc9c0 \ub3d9\uc791 \uc6d0\ub9ac \uc774\ud574</li> <li>Go SDK \ud65c\uc6a9: minio-go v7\uc744 \uc0ac\uc6a9\ud55c \uac1d\uccb4 CRUD, Presigned URL, Multipart Upload \uad6c\ud604</li> <li>Kubernetes \ubc30\ud3ec: MinIO Operator\ub97c \ud1b5\ud55c \uba40\ud2f0\ud14c\ub10c\ud2b8 \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95</li> <li>\uace0\uae09 \uae30\ub2a5 \uad6c\ud604: Bucket Versioning, Lifecycle Policy, Storage Tiering \uc124\uc815</li> </ol>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#1-s3-api","title":"1. S3 API \ud575\uc2ec \uac1c\ub150","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#11","title":"1.1 \uae30\ubcf8 \uad6c\uc870","text":"<pre><code>graph TB\n    subgraph \"S3 \uacc4\uce35 \uad6c\uc870\"\n        Account[AWS Account / MinIO Deployment]\n        Account --&gt; Bucket1[Bucket: my-data]\n        Account --&gt; Bucket2[Bucket: logs]\n        Bucket1 --&gt; Obj1[Object: /2025/data.json]\n        Bucket1 --&gt; Obj2[Object: /images/photo.jpg]\n        Bucket2 --&gt; Obj3[Object: /app1/error.log]\n    end\n\n    subgraph \"Object \uba54\ud0c0\ub370\uc774\ud130\"\n        Obj1 --&gt; Meta[Metadata]\n        Meta --&gt; ETag[ETag: md5sum]\n        Meta --&gt; ContentType[Content-Type]\n        Meta --&gt; UserMeta[User-defined metadata]\n    end</code></pre> <p>\ud575\uc2ec \uc6a9\uc5b4:</p> <ul> <li>Bucket: \uac1d\uccb4\ub97c \ub2f4\ub294 \ucd5c\uc0c1\uc704 \ucee8\ud14c\uc774\ub108 (\uae00\ub85c\ubc8c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\uc5d0\uc11c \uc720\uc77c\ud574\uc57c \ud568)</li> <li>Object: \uc2e4\uc81c \ub370\uc774\ud130 + \uba54\ud0c0\ub370\uc774\ud130 (\ucd5c\ub300 5TB/\uac1d\uccb4)</li> <li>Key: \uac1d\uccb4\uc758 \uace0\uc720 \uc2dd\ubcc4\uc790 (\uc608: <code>logs/2025/12/19/app.log</code>)</li> <li>ETag: \uac1d\uccb4 \ubb34\uacb0\uc131 \uac80\uc99d\uc6a9 \ud574\uc2dc\uac12 (MD5 \ub610\ub294 \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc2dc \ubcf5\ud569 \ud574\uc2dc)</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#12-s3-api","title":"1.2 S3 API \uc8fc\uc694 \uc5f0\uc0b0","text":"\uce74\ud14c\uace0\ub9ac API \uc5f0\uc0b0 \uc124\uba85 Bucket \uad00\ub9ac CreateBucket, DeleteBucket \ubc84\ud0b7 \uc0dd\uc131/\uc0ad\uc81c ListBuckets \ubaa8\ub4e0 \ubc84\ud0b7 \uc870\ud68c Object \uad00\ub9ac PutObject, GetObject \uac1d\uccb4 \uc5c5\ub85c\ub4dc/\ub2e4\uc6b4\ub85c\ub4dc DeleteObject, ListObjects \uac1d\uccb4 \uc0ad\uc81c/\ubaa9\ub85d \uc870\ud68c \uba40\ud2f0\ud30c\ud2b8 CreateMultipartUpload \ub300\uc6a9\ub7c9 \uac1d\uccb4 \uc5c5\ub85c\ub4dc \uc2dc\uc791 UploadPart, CompleteMultipartUpload \ud30c\ud2b8 \uc5c5\ub85c\ub4dc \ubc0f \uc644\ub8cc Versioning PutBucketVersioning \ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654 GetObject?versionId=... \ud2b9\uc815 \ubc84\uc804 \uc870\ud68c Lifecycle PutBucketLifecycleConfiguration \uc218\uba85 \uc8fc\uae30 \uc815\ucc45 \uc124\uc815"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#2-minio-2025","title":"2. MinIO \uc544\ud0a4\ud14d\ucc98 (2025)","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#21","title":"2.1 \ubd84\uc0b0 \uc544\ud0a4\ud14d\ucc98","text":"<p>MinIO\ub294 \uc11c\ubc84 \ud480(Server Pool) \ub2e8\uc704\ub85c \ud655\uc7a5\ub418\uba70, \uac01 \ud480\uc740 \ucd5c\uc18c 4\uac1c\uc758 \ub178\ub4dc\ub85c \uad6c\uc131\ub429\ub2c8\ub2e4:</p> <pre><code>graph TB\n    subgraph \"MinIO Deployment\"\n        LB[Load Balancer]\n\n        subgraph \"Server Pool 1\"\n            Node1[Node 1&lt;br/&gt;4 drives]\n            Node2[Node 2&lt;br/&gt;4 drives]\n            Node3[Node 3&lt;br/&gt;4 drives]\n            Node4[Node 4&lt;br/&gt;4 drives]\n        end\n\n        subgraph \"Server Pool 2 (\ud655\uc7a5)\"\n            Node5[Node 5&lt;br/&gt;4 drives]\n            Node6[Node 6&lt;br/&gt;4 drives]\n            Node7[Node 7&lt;br/&gt;4 drives]\n            Node8[Node 8&lt;br/&gt;4 drives]\n        end\n    end\n\n    LB --&gt; Node1\n    LB --&gt; Node2\n    LB --&gt; Node5\n\n    Node1 -.Erasure Set.-&gt; Node2\n    Node1 -.Erasure Set.-&gt; Node3\n    Node1 -.Erasure Set.-&gt; Node4</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>Erasure Set: \ub370\uc774\ud130\ub97c N\uac1c \ub370\uc774\ud130 \uc0e4\ub4dc + M\uac1c \ud328\ub9ac\ud2f0 \uc0e4\ub4dc\ub85c \ubd84\ud560 (\uc608: EC:4+2, \ucd5c\ub300 2\uac1c \ub178\ub4dc \uc7a5\uc560 \ud5c8\uc6a9)</li> <li>Server Pool: \ub3c5\ub9bd\uc801\uc778 erasure set \uadf8\ub8f9, \ud480 \ub2e8\uc704\ub85c \ud655\uc7a5 (\ub2e8\uc77c \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \uc720\uc9c0)</li> <li>\ubd84\uc0b0 \ud1a0\ud3f4\ub85c\uc9c0: \uac01 \ub178\ub4dc\uac00 \uc804\uccb4 \ud074\ub7ec\uc2a4\ud130 \ud1a0\ud3f4\ub85c\uc9c0\ub97c \uc54c\uace0 \uc788\uc5b4 \ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \uc784\uc758 \ub178\ub4dc\uc5d0 \uc694\uccad \uac00\ub2a5</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#22-minio-aistor-2025","title":"2.2 MinIO AIStor (2025)","text":"<p>2025\ub144 MinIO\ub294 AI/ML \uc6cc\ud06c\ub85c\ub4dc\ub97c \uc704\ud55c AIStor \ud50c\ub7ab\ud3fc\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4:</p> <ul> <li>\uc131\ub2a5: Sub-10ms \ub808\uc774\ud134\uc2dc, NVMe \ub4dc\ub77c\uc774\ube0c IOPS \uc644\uc804 \ud65c\uc6a9</li> <li>\ud655\uc7a5\uc131: \ub2e8\uc77c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub85c \uc5d1\uc0ac\ubc14\uc774\ud2b8 \uaddc\ubaa8 \uc9c0\uc6d0</li> <li>Kubernetes \ub124\uc774\ud2f0\ube0c: Operator \uae30\ubc18 \uba40\ud2f0\ud14c\ub10c\ud2b8 \ubc30\ud3ec</li> <li>Storage Tiering: NVMe \u2192 HDD \u2192 Public Cloud \uc790\ub3d9 \uacc4\uce35\ud654</li> </ul> <pre><code>graph LR\n    subgraph \"Storage Tiers\"\n        Hot[Hot Tier&lt;br/&gt;NVMe SSD&lt;br/&gt;&lt; 30\uc77c]\n        Warm[Warm Tier&lt;br/&gt;HDD&lt;br/&gt;30-90\uc77c]\n        Cold[Cold Tier&lt;br/&gt;S3 Glacier&lt;br/&gt;&gt; 90\uc77c]\n    end\n\n    Hot --&gt;|Lifecycle Policy| Warm\n    Warm --&gt;|Lifecycle Policy| Cold</code></pre>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#3-bucket-versioning","title":"3. Bucket Versioning","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#31","title":"3.1 \ubc84\uc804 \uad00\ub9ac \uba54\ucee4\ub2c8\uc998","text":"<p>\ubc84\ud0b7\uc5d0 \ubc84\uc804 \uad00\ub9ac\ub97c \ud65c\uc131\ud654\ud558\uba74 **\ubaa8\ub4e0 \uac1d\uccb4 \ubcc0\uacbd\uc774 \uc0c8\ub85c\uc6b4 \ubc84\uc804\uc73c\ub85c \uc800\uc7a5**\ub429\ub2c8\ub2e4:</p> <pre><code>sequenceDiagram\n    participant Client\n    participant MinIO\n    participant Storage\n\n    Client-&gt;&gt;MinIO: PutObject(key=data.json)\n    MinIO-&gt;&gt;Storage: \uc800\uc7a5 (versionId=v1)\n    MinIO--&gt;&gt;Client: 200 OK (versionId=v1)\n\n    Client-&gt;&gt;MinIO: PutObject(key=data.json)\n    MinIO-&gt;&gt;Storage: \uc800\uc7a5 (versionId=v2, v1 \uc720\uc9c0)\n    MinIO--&gt;&gt;Client: 200 OK (versionId=v2)\n\n    Client-&gt;&gt;MinIO: DeleteObject(key=data.json)\n    MinIO-&gt;&gt;Storage: Delete Marker \uc0dd\uc131 (versionId=v3)\n    Note over Storage: v1, v2\ub294 \uc5ec\uc804\ud788 \uc874\uc7ac\n    MinIO--&gt;&gt;Client: 204 No Content\n\n    Client-&gt;&gt;MinIO: GetObject(key=data.json, versionId=v2)\n    MinIO--&gt;&gt;Client: 200 OK (\uc0ad\uc81c\ub41c \uac1d\uccb4\ub3c4 \ubc84\uc804\uc73c\ub85c \ubcf5\uad6c \uac00\ub2a5)</code></pre> <p>Delete Marker: \uc0ad\uc81c \uc791\uc5c5\uc740 \uc2e4\uc81c \uac1d\uccb4\ub97c \uc81c\uac70\ud558\uc9c0 \uc54a\uace0 \"\uc0ad\uc81c \ub9c8\ucee4\"\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc774\uc804 \ubc84\uc804\uc740 versionId\ub85c \uc5ec\uc804\ud788 \uc811\uadfc \uac00\ub2a5\ud569\ub2c8\ub2e4.</p> <p>\uc911\uc694: \ubc84\uc804 \uad00\ub9ac\ub97c \ud65c\uc131\ud654\ud558\uba74 \ube44\ud65c\uc131\ud654(disable)\ub294 \ubd88\uac00\ub2a5\ud558\uba70, **\uc77c\uc2dc \uc911\ub2e8(suspend)\ub9cc \uac00\ub2a5**\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#32","title":"3.2 \ubc84\uc804 \uad00\ub9ac \uc0c1\ud0dc","text":"\uc0c1\ud0dc \uc124\uba85 PutObject \ub3d9\uc791 Unversioned \uae30\ubcf8 \uc0c1\ud0dc (\ube44\ud65c\uc131\ud654) \uac1d\uccb4 \ub36e\uc5b4\uc4f0\uae30 (\uc774\uc804 \ubc84\uc804 \uc0ad\uc81c) Enabled \ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654 \uc0c8 \ubc84\uc804 \uc0dd\uc131 (\uc774\uc804 \ubc84\uc804 \uc720\uc9c0) Suspended \uc77c\uc2dc \uc911\ub2e8 versionId=null\ub85c \ub36e\uc5b4\uc4f0\uae30"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#4-lifecycle-management","title":"4. Lifecycle Management","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#41","title":"4.1 \uc218\uba85 \uc8fc\uae30 \uaddc\uce59","text":"<p>Lifecycle \uc815\ucc45\uc740 **\uac1d\uccb4\uc758 \ub098\uc774\uc5d0 \ub530\ub77c \uc790\ub3d9\uc73c\ub85c \uc0ad\uc81c \ub610\ub294 \uacc4\uce35 \uc774\ub3d9**\uc744 \uc218\ud589\ud569\ub2c8\ub2e4:</p> <pre><code>&lt;LifecycleConfiguration&gt;\n  &lt;Rule&gt;\n    &lt;ID&gt;archive-old-logs&lt;/ID&gt;\n    &lt;Status&gt;Enabled&lt;/Status&gt;\n    &lt;Filter&gt;\n      &lt;Prefix&gt;logs/&lt;/Prefix&gt;\n    &lt;/Filter&gt;\n    &lt;Expiration&gt;\n      &lt;Days&gt;90&lt;/Days&gt;\n    &lt;/Expiration&gt;\n    &lt;NoncurrentVersionExpiration&gt;\n      &lt;NoncurrentDays&gt;30&lt;/NoncurrentDays&gt;\n    &lt;/NoncurrentVersionExpiration&gt;\n  &lt;/Rule&gt;\n  &lt;Rule&gt;\n    &lt;ID&gt;transition-to-cold-storage&lt;/ID&gt;\n    &lt;Status&gt;Enabled&lt;/Status&gt;\n    &lt;Filter&gt;\n      &lt;Prefix&gt;archives/&lt;/Prefix&gt;\n    &lt;/Filter&gt;\n    &lt;Transition&gt;\n      &lt;Days&gt;30&lt;/Days&gt;\n      &lt;StorageClass&gt;COLD&lt;/StorageClass&gt;\n    &lt;/Transition&gt;\n  &lt;/Rule&gt;\n&lt;/LifecycleConfiguration&gt;\n</code></pre> <p>\uaddc\uce59 \uad6c\uc131 \uc694\uc18c:</p> <ul> <li>Filter: Prefix \ub610\ub294 Tag \uae30\ubc18 \ud544\ud130\ub9c1</li> <li>Expiration: \uac1d\uccb4 \uc0ad\uc81c (\ud604\uc7ac \ubc84\uc804)</li> <li>NoncurrentVersionExpiration: \uc774\uc804 \ubc84\uc804 \uc0ad\uc81c</li> <li>Transition: \ub2e4\ub978 \uc2a4\ud1a0\ub9ac\uc9c0 \ud074\ub798\uc2a4\ub85c \uc774\ub3d9</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#5-presigned-url","title":"5. Presigned URL","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#51","title":"5.1 \ub3d9\uc791 \uc6d0\ub9ac","text":"<p>Presigned URL\uc740 **\uc784\uc2dc \uc790\uaca9 \uc99d\uba85\uc744 URL\uc5d0 \ud3ec\ud568**\ud558\uc5ec \uc778\uc99d \uc5c6\uc774 \uac1d\uccb4 \uc811\uadfc\uc744 \ud5c8\uc6a9\ud569\ub2c8\ub2e4:</p> <pre><code>sequenceDiagram\n    participant Client\n    participant AppServer\n    participant MinIO\n\n    Client-&gt;&gt;AppServer: \ud30c\uc77c \uc5c5\ub85c\ub4dc \uc694\uccad\n    AppServer-&gt;&gt;MinIO: PresignedPutObject(bucket, key, 15\ubd84)\n    MinIO--&gt;&gt;AppServer: Presigned URL (\uc11c\uba85 \ud3ec\ud568)\n    AppServer--&gt;&gt;Client: Presigned URL \ubc18\ud658\n\n    Client-&gt;&gt;MinIO: PUT (Presigned URL)\n    Note over MinIO: \uc11c\uba85 \uac80\uc99d (\ub9cc\ub8cc \uc2dc\uac04, \ud574\uc2dc)\n    MinIO-&gt;&gt;MinIO: \uac1d\uccb4 \uc800\uc7a5\n    MinIO--&gt;&gt;Client: 200 OK</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>\ub9cc\ub8cc \uc2dc\uac04: \ucd5c\uc18c 1\ucd08 ~ \ucd5c\ub300 7\uc77c</li> <li>\uc11c\uba85 \ud30c\ub77c\ubbf8\ud130: <code>X-Amz-Algorithm</code>, <code>X-Amz-Credential</code>, <code>X-Amz-Date</code>, <code>X-Amz-Expires</code>, <code>X-Amz-Signature</code></li> <li>\uc6a9\ub3c4: \uc9c1\uc811 \uc5c5\ub85c\ub4dc/\ub2e4\uc6b4\ub85c\ub4dc (\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc11c\ubc84 \ubd80\ud558 \uac10\uc18c)</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#52-presigned-url","title":"5.2 Presigned URL \uc81c\uc57d \uc0ac\ud56d","text":"<ul> <li>\ub2e8\uc77c \uac1d\uccb4 \ud06c\uae30 \uc81c\ud55c: PresignedPutObject\ub294 \ucd5c\ub300 5GB</li> <li>\uba40\ud2f0\ud30c\ud2b8 \uad8c\uc7a5: 5GB \ucd08\uacfc \uc2dc \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc + \uac01 \ud30c\ud2b8\ubcc4 presigned URL \uc0dd\uc131</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#6-multipart-upload","title":"6. Multipart Upload","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#61","title":"6.1 \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc6cc\ud06c\ud50c\ub85c","text":"<p>\ub300\uc6a9\ub7c9 \uac1d\uccb4(&gt;5MB \uad8c\uc7a5, &gt;5GB \ud544\uc218)\ub294 \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4:</p> <pre><code>sequenceDiagram\n    participant Client\n    participant MinIO\n\n    Client-&gt;&gt;MinIO: CreateMultipartUpload(bucket, key)\n    MinIO--&gt;&gt;Client: uploadId=xyz123\n\n    loop \uac01 \ud30c\ud2b8\ub9c8\ub2e4\n        Client-&gt;&gt;MinIO: UploadPart(uploadId, partNumber=1, data)\n        MinIO--&gt;&gt;Client: ETag=part1-etag\n        Client-&gt;&gt;MinIO: UploadPart(uploadId, partNumber=2, data)\n        MinIO--&gt;&gt;Client: ETag=part2-etag\n    end\n\n    Client-&gt;&gt;MinIO: CompleteMultipartUpload(uploadId, [part1-etag, part2-etag])\n    MinIO-&gt;&gt;MinIO: \ud30c\ud2b8 \ubcd1\ud569\n    MinIO--&gt;&gt;Client: 200 OK (ETag=combined-etag)</code></pre> <p>minio-go v7 \uc790\ub3d9 \ucc98\ub9ac:</p> <ul> <li>&lt; 16MB: \ub2e8\uc77c PUT \uc694\uccad</li> <li>&gt;= 16MB: \uc790\ub3d9 \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc (\ud30c\ud2b8\ub2f9 5MB ~ 5GB)</li> <li>\ucd5c\ub300 \uac1d\uccb4 \ud06c\uae30: 5TB</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#62-presigned-multipart-upload","title":"6.2 Presigned Multipart Upload","text":"<p>5GB \ucd08\uacfc \uac1d\uccb4\ub97c presigned URL\ub85c \uc5c5\ub85c\ub4dc\ud558\ub824\uba74 **\uc218\ub3d9 \uba40\ud2f0\ud30c\ud2b8 \ucc98\ub9ac**\uac00 \ud544\uc694\ud569\ub2c8\ub2e4:</p> <pre><code>// 1. \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc2dc\uc791\ninitReq, _ := http.NewRequest(\"POST\", fmt.Sprintf(\"%s/%s/%s?uploads\", endpoint, bucket, key), nil)\nclient.Presign(initReq, 15*time.Minute)\n\n// 2. \uac01 \ud30c\ud2b8\ubcc4 presigned URL \uc0dd\uc131\nfor partNumber := 1; partNumber &lt;= totalParts; partNumber++ {\n    partReq, _ := http.NewRequest(\"PUT\",\n        fmt.Sprintf(\"%s/%s/%s?partNumber=%d&amp;uploadId=%s\", endpoint, bucket, key, partNumber, uploadId),\n        nil)\n    client.Presign(partReq, 15*time.Minute)\n}\n\n// 3. CompleteMultipartUpload presigned URL\ncompleteReq, _ := http.NewRequest(\"POST\", fmt.Sprintf(\"%s/%s/%s?uploadId=%s\", endpoint, bucket, key, uploadId), body)\nclient.Presign(completeReq, 15*time.Minute)\n</code></pre>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#7-minio-kubernetes-operator-2025","title":"7. MinIO Kubernetes Operator (2025)","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#71","title":"7.1 \uba40\ud2f0\ud14c\ub10c\uc2dc \uc544\ud0a4\ud14d\ucc98","text":"<p>MinIO Operator\ub294 **Tenant CRD**\ub97c \ud1b5\ud574 Kubernetes\uc5d0\uc11c \uaca9\ub9ac\ub41c MinIO \uc778\uc2a4\ud134\uc2a4\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4:</p> <pre><code>apiVersion: minio.min.io/v2\nkind: Tenant\nmetadata:\n  name: minio-tenant-1\n  namespace: minio-tenant-1\nspec:\n  pools:\n    - name: pool-0\n      servers: 4\n      volumesPerServer: 4\n      volumeClaimTemplate:\n        spec:\n          accessModes:\n            - ReadWriteOnce\n          resources:\n            requests:\n              storage: 1Ti\n          storageClassName: local-nvme  # CSI \ub4dc\ub77c\uc774\ubc84 \uad8c\uc7a5\n  requestAutoCert: false\n  certConfig:\n    commonName: \"*.minio-tenant-1.svc.cluster.local\"\n</code></pre> <p>\uc8fc\uc694 \ud2b9\uc9d5:</p> <ul> <li>Namespace \uaca9\ub9ac: \uac01 Tenant\ub294 \ubcc4\ub3c4 Namespace\uc5d0\uc11c \uc2e4\ud589</li> <li>Storage Class \uc694\uad6c\uc0ac\ud56d: <code>volumeBindingMode: WaitForFirstConsumer</code> (\ub85c\uceec PV \uc131\ub2a5 \ubcf4\uc7a5)</li> <li>CSI \ub4dc\ub77c\uc774\ubc84 \uad8c\uc7a5: \ucd5c\uace0\uc758 \uc131\ub2a5\uc744 \uc704\ud574 \ub85c\uceec \uc2a4\ud1a0\ub9ac\uc9c0\uc6a9 CSI \ub4dc\ub77c\uc774\ubc84 \uc0ac\uc6a9</li> <li>Spread Zones: Pod\ub97c \uc5ec\ub7ec failure domain\uc5d0 \ubd84\uc0b0 \ubc30\uce58 (HA)</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#72-2025","title":"7.2 \uc2a4\ud1a0\ub9ac\uc9c0 \uacc4\uce35\ud654 (2025)","text":"<p>MinIO Operator\ub294 **\uc5ec\ub7ec StorageClass \uac04 \uc790\ub3d9 \ud2f0\uc5b4\ub9c1**\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4:</p> <pre><code># Lifecycle policy\ub85c \ud2f0\uc5b4 \uc804\ud658\nlifecycle:\n  - id: tier-to-hdd\n    status: Enabled\n    filter:\n      prefix: \"cold-data/\"\n    transition:\n      days: 30\n      storage_class: WARM  # HDD backend\n  - id: tier-to-s3\n    status: Enabled\n    filter:\n      prefix: \"archive/\"\n    transition:\n      days: 90\n      storage_class: COLD  # S3 Glacier\n</code></pre> <p>\ube44\uc6a9 \ucd5c\uc801\ud654:</p> <ul> <li>Hot (NVMe): \uc790\uc8fc \uc811\uadfc\ud558\ub294 \ub370\uc774\ud130 (&lt; 30\uc77c)</li> <li>Warm (HDD): \uac00\ub054 \uc811\uadfc (30-90\uc77c)</li> <li>Cold (S3): \uc544\uce74\uc774\ube0c (&gt; 90\uc77c)</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#lab-1-minio-kubernetes-operator","title":"Lab 1: MinIO Kubernetes Operator \uc124\uce58","text":"<p>\ubaa9\ud45c: Kubernetes\uc5d0 MinIO Operator\ub97c \uc124\uce58\ud558\uace0 Tenant \ubc30\ud3ec</p> <p>\ub2e8\uacc4:</p> <ol> <li>Operator \uc124\uce58:</li> </ol> <pre><code># MinIO Operator \uc124\uce58 (kubectl krew plugin)\nkubectl krew install minio\n\n# Operator \ucd08\uae30\ud654\nkubectl minio init\n\n# Operator \uc0c1\ud0dc \ud655\uc778\nkubectl get pods -n minio-operator\n# NAME                              READY   STATUS    RESTARTS   AGE\n# console-7d8f5d5b8d-abcde          1/1     Running   0          2m\n# minio-operator-6f8d5c8b7d-xyz12   1/1     Running   0          2m\n</code></pre> <ol> <li>Tenant \uc0dd\uc131:</li> </ol> <pre><code># Tenant \uc0dd\uc131 (4 \ub178\ub4dc, \uac01 4\uac1c \ub4dc\ub77c\uc774\ube0c, 1TB)\nkubectl minio tenant create minio-tenant-1 \\\n  --servers 4 \\\n  --volumes 16 \\\n  --capacity 4Ti \\\n  --storage-class local-path \\  # \ub610\ub294 local-nvme\n  --namespace minio-tenant-1\n\n# Tenant \uc0c1\ud0dc \ud655\uc778\nkubectl get tenant -n minio-tenant-1\nkubectl get pods -n minio-tenant-1\n</code></pre> <ol> <li>\uc811\uc18d \uc815\ubcf4 \ud655\uc778:</li> </ol> <pre><code># Tenant \uc811\uc18d \uc815\ubcf4\nkubectl minio tenant info minio-tenant-1 -n minio-tenant-1\n\n# MinIO Console \uc811\uc18d (\ud3ec\ud2b8 \ud3ec\uc6cc\ub529)\nkubectl port-forward svc/minio-tenant-1-console -n minio-tenant-1 9443:9443\n\n# \ube0c\ub77c\uc6b0\uc800: https://localhost:9443\n# \ucd08\uae30 \uc790\uaca9\uc99d\uba85\uc740 Kubernetes Secret\uc5d0 \uc800\uc7a5\nkubectl get secret minio-tenant-1-user-1 -n minio-tenant-1 -o jsonpath='{.data.CONSOLE_ACCESS_KEY}' | base64 -d\nkubectl get secret minio-tenant-1-user-1 -n minio-tenant-1 -o jsonpath='{.data.CONSOLE_SECRET_KEY}' | base64 -d\n</code></pre>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#lab-2-s3-api-minio-client","title":"Lab 2: S3 API \uae30\ubcf8 \uc0ac\uc6a9 (MinIO Client)","text":"<p>\ubaa9\ud45c: MinIO \ud074\ub77c\uc774\uc5b8\ud2b8(mc)\ub85c \ubc84\ud0b7/\uac1d\uccb4 \uad00\ub9ac</p> <p>\ub2e8\uacc4:</p> <ol> <li>mc \uc124\uce58 \ubc0f \uc124\uc815:</li> </ol> <pre><code># mc \uc124\uce58 (Linux)\nwget https://dl.min.io/client/mc/release/linux-amd64/mc\nchmod +x mc\nsudo mv mc /usr/local/bin/\n\n# MinIO \uc11c\ubc84 \ub4f1\ub85d\nmc alias set myminio https://minio.example.com ACCESS_KEY SECRET_KEY\n\n# \ubc84\ud0b7 \uc0dd\uc131\nmc mb myminio/my-bucket\n\n# \ubc84\ud0b7 \ubaa9\ub85d\nmc ls myminio\n</code></pre> <ol> <li>\uac1d\uccb4 \uc5c5\ub85c\ub4dc/\ub2e4\uc6b4\ub85c\ub4dc:</li> </ol> <pre><code># \ud30c\uc77c \uc5c5\ub85c\ub4dc\necho \"Hello MinIO\" &gt; test.txt\nmc cp test.txt myminio/my-bucket/\n\n# \ub514\ub809\ud1a0\ub9ac \uc5c5\ub85c\ub4dc\nmc cp --recursive /path/to/data/ myminio/my-bucket/data/\n\n# \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc\nmc cp myminio/my-bucket/test.txt downloaded.txt\n\n# \uac1d\uccb4 \uba54\ud0c0\ub370\uc774\ud130 \ud655\uc778\nmc stat myminio/my-bucket/test.txt\n</code></pre> <ol> <li>\ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654:</li> </ol> <pre><code># \ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654\nmc version enable myminio/my-bucket\n\n# \ubc84\uc804 \ud655\uc778\nmc version info myminio/my-bucket\n\n# \uac19\uc740 \ud30c\uc77c \uc5ec\ub7ec \ubc88 \uc5c5\ub85c\ub4dc\necho \"Version 1\" &gt; test.txt\nmc cp test.txt myminio/my-bucket/\necho \"Version 2\" &gt; test.txt\nmc cp test.txt myminio/my-bucket/\n\n# \ubaa8\ub4e0 \ubc84\uc804 \uc870\ud68c\nmc ls --versions myminio/my-bucket/test.txt\n</code></pre>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#lab-3-minio-go-v7-sdk","title":"Lab 3: minio-go v7 SDK \uc0ac\uc6a9","text":"<p>\ubaa9\ud45c: Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc5d0\uc11c MinIO \uac1d\uccb4 CRUD \uad6c\ud604</p> <p>\ucf54\ub4dc:</p> <pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n    \"os\"\n    \"strings\"\n\n    \"github.com/minio/minio-go/v7\"\n    \"github.com/minio/minio-go/v7/pkg/credentials\"\n)\n\nfunc main() {\n    // MinIO \ud074\ub77c\uc774\uc5b8\ud2b8 \ucd08\uae30\ud654\n    endpoint := os.Getenv(\"MINIO_ENDPOINT\")      // \"minio.example.com:9000\"\n    accessKey := os.Getenv(\"MINIO_ACCESS_KEY\")\n    secretKey := os.Getenv(\"MINIO_SECRET_KEY\")\n    useSSL := true\n\n    minioClient, err := minio.New(endpoint, &amp;minio.Options{\n        Creds:  credentials.NewStaticV4(accessKey, secretKey, \"\"),\n        Secure: useSSL,\n    })\n    if err != nil {\n        log.Fatalf(\"MinIO \ud074\ub77c\uc774\uc5b8\ud2b8 \ucd08\uae30\ud654 \uc2e4\ud328: %v\", err)\n    }\n\n    ctx := context.Background()\n    bucketName := \"my-app-bucket\"\n\n    // 1. \ubc84\ud0b7 \uc0dd\uc131\n    err = minioClient.MakeBucket(ctx, bucketName, minio.MakeBucketOptions{})\n    if err != nil {\n        // \uc774\ubbf8 \uc874\uc7ac\ud558\ub294\uc9c0 \ud655\uc778\n        exists, errBucketExists := minioClient.BucketExists(ctx, bucketName)\n        if errBucketExists == nil &amp;&amp; exists {\n            fmt.Printf(\"\ubc84\ud0b7 %s \uc774\ubbf8 \uc874\uc7ac\\n\", bucketName)\n        } else {\n            log.Fatalf(\"\ubc84\ud0b7 \uc0dd\uc131 \uc2e4\ud328: %v\", err)\n        }\n    } else {\n        fmt.Printf(\"\ubc84\ud0b7 %s \uc0dd\uc131 \uc644\ub8cc\\n\", bucketName)\n    }\n\n    // 2. \uac1d\uccb4 \uc5c5\ub85c\ub4dc\n    objectName := \"data/sample.txt\"\n    content := strings.NewReader(\"Hello MinIO from Go!\")\n    contentType := \"text/plain\"\n\n    info, err := minioClient.PutObject(\n        ctx,\n        bucketName,\n        objectName,\n        content,\n        int64(content.Len()),\n        minio.PutObjectOptions{ContentType: contentType},\n    )\n    if err != nil {\n        log.Fatalf(\"\uac1d\uccb4 \uc5c5\ub85c\ub4dc \uc2e4\ud328: %v\", err)\n    }\n    fmt.Printf(\"\uac1d\uccb4 \uc5c5\ub85c\ub4dc \uc644\ub8cc: %s (\ud06c\uae30: %d, ETag: %s)\\n\", objectName, info.Size, info.ETag)\n\n    // 3. \uac1d\uccb4 \ub2e4\uc6b4\ub85c\ub4dc\n    object, err := minioClient.GetObject(ctx, bucketName, objectName, minio.GetObjectOptions{})\n    if err != nil {\n        log.Fatalf(\"\uac1d\uccb4 \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\ud328: %v\", err)\n    }\n    defer object.Close()\n\n    stat, err := object.Stat()\n    if err != nil {\n        log.Fatalf(\"\uac1d\uccb4 \uc815\ubcf4 \uc870\ud68c \uc2e4\ud328: %v\", err)\n    }\n    fmt.Printf(\"\uac1d\uccb4 \uc815\ubcf4: \ud06c\uae30=%d, ContentType=%s, LastModified=%s\\n\",\n        stat.Size, stat.ContentType, stat.LastModified)\n\n    // 4. \uac1d\uccb4 \ubaa9\ub85d \uc870\ud68c\n    fmt.Println(\"\\n=== \ubc84\ud0b7 \ub0b4 \uac1d\uccb4 \ubaa9\ub85d ===\")\n    objectCh := minioClient.ListObjects(ctx, bucketName, minio.ListObjectsOptions{\n        Prefix:    \"data/\",\n        Recursive: true,\n    })\n    for object := range objectCh {\n        if object.Err != nil {\n            log.Fatalf(\"\ubaa9\ub85d \uc870\ud68c \uc2e4\ud328: %v\", object.Err)\n        }\n        fmt.Printf(\"- %s (\ud06c\uae30: %d, \uc218\uc815: %s)\\n\", object.Key, object.Size, object.LastModified)\n    }\n\n    // 5. \uac1d\uccb4 \uc0ad\uc81c\n    err = minioClient.RemoveObject(ctx, bucketName, objectName, minio.RemoveObjectOptions{})\n    if err != nil {\n        log.Fatalf(\"\uac1d\uccb4 \uc0ad\uc81c \uc2e4\ud328: %v\", err)\n    }\n    fmt.Printf(\"\uac1d\uccb4 \uc0ad\uc81c \uc644\ub8cc: %s\\n\", objectName)\n}\n</code></pre> <p>\uc2e4\ud589:</p> <pre><code>export MINIO_ENDPOINT=\"minio.example.com:9000\"\nexport MINIO_ACCESS_KEY=\"minioadmin\"\nexport MINIO_SECRET_KEY=\"minioadmin\"\n\ngo mod init minio-demo\ngo get github.com/minio/minio-go/v7\n\ngo run main.go\n</code></pre> <p>\ucd9c\ub825 \uc608\uc2dc:</p> <pre><code>\ubc84\ud0b7 my-app-bucket \uc0dd\uc131 \uc644\ub8cc\n\uac1d\uccb4 \uc5c5\ub85c\ub4dc \uc644\ub8cc: data/sample.txt (\ud06c\uae30: 21, ETag: \"5eb63bbbe01eeed093cb22bb8f5acdc3\")\n\uac1d\uccb4 \uc815\ubcf4: \ud06c\uae30=21, ContentType=text/plain, LastModified=2025-12-19 10:30:45 +0000 UTC\n\n=== \ubc84\ud0b7 \ub0b4 \uac1d\uccb4 \ubaa9\ub85d ===\n- data/sample.txt (\ud06c\uae30: 21, \uc218\uc815: 2025-12-19 10:30:45 +0000 UTC)\n\uac1d\uccb4 \uc0ad\uc81c \uc644\ub8cc: data/sample.txt\n</code></pre>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#lab-4-bucket-versioning-lifecycle","title":"Lab 4: Bucket Versioning &amp; Lifecycle","text":"<p>\ubaa9\ud45c: \ubc84\uc804 \uad00\ub9ac \ubc0f \uc218\uba85 \uc8fc\uae30 \uc815\ucc45 \uad6c\ud604</p> <p>\ucf54\ub4dc:</p> <pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"log\"\n    \"os\"\n    \"strings\"\n    \"time\"\n\n    \"github.com/minio/minio-go/v7\"\n    \"github.com/minio/minio-go/v7/pkg/credentials\"\n    \"github.com/minio/minio-go/v7/pkg/lifecycle\"\n)\n\nfunc main() {\n    minioClient, err := minio.New(os.Getenv(\"MINIO_ENDPOINT\"), &amp;minio.Options{\n        Creds:  credentials.NewStaticV4(os.Getenv(\"MINIO_ACCESS_KEY\"), os.Getenv(\"MINIO_SECRET_KEY\"), \"\"),\n        Secure: true,\n    })\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    ctx := context.Background()\n    bucketName := \"versioned-bucket\"\n\n    // 1. \ubc84\ud0b7 \uc0dd\uc131\n    err = minioClient.MakeBucket(ctx, bucketName, minio.MakeBucketOptions{})\n    if err != nil {\n        if !strings.Contains(err.Error(), \"already\") {\n            log.Fatal(err)\n        }\n    }\n\n    // 2. \ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654\n    err = minioClient.EnableVersioning(ctx, bucketName)\n    if err != nil {\n        log.Fatalf(\"\ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654 \uc2e4\ud328: %v\", err)\n    }\n    fmt.Printf(\"\ubc84\ud0b7 %s: \ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654 \uc644\ub8cc\\n\", bucketName)\n\n    // \ubc84\uc804 \uad00\ub9ac \uc0c1\ud0dc \ud655\uc778\n    versionConfig, err := minioClient.GetBucketVersioning(ctx, bucketName)\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Printf(\"\ubc84\uc804 \uad00\ub9ac \uc0c1\ud0dc: %s\\n\", versionConfig.Status)\n\n    // 3. \uac19\uc740 \ud0a4\ub85c \uc5ec\ub7ec \ubc84\uc804 \uc0dd\uc131\n    objectName := \"versioned-file.txt\"\n    for i := 1; i &lt;= 3; i++ {\n        content := fmt.Sprintf(\"Version %d content\", i)\n        info, err := minioClient.PutObject(\n            ctx,\n            bucketName,\n            objectName,\n            strings.NewReader(content),\n            int64(len(content)),\n            minio.PutObjectOptions{},\n        )\n        if err != nil {\n            log.Fatal(err)\n        }\n        fmt.Printf(\"\ubc84\uc804 %d \uc5c5\ub85c\ub4dc: versionId=%s\\n\", i, info.VersionID)\n        time.Sleep(1 * time.Second)  // \ud0c0\uc784\uc2a4\ud0ec\ud504 \ucc28\uc774 \ud655\ubcf4\n    }\n\n    // 4. \ubaa8\ub4e0 \ubc84\uc804 \uc870\ud68c\n    fmt.Println(\"\\n=== \ubaa8\ub4e0 \ubc84\uc804 \ubaa9\ub85d ===\")\n    objectsCh := minioClient.ListObjects(ctx, bucketName, minio.ListObjectsOptions{\n        WithVersions: true,\n        Prefix:       objectName,\n    })\n    for obj := range objectsCh {\n        if obj.Err != nil {\n            log.Fatal(obj.Err)\n        }\n        fmt.Printf(\"- VersionID: %s, Size: %d, LastModified: %s, IsLatest: %t\\n\",\n            obj.VersionID, obj.Size, obj.LastModified, obj.IsLatest)\n    }\n\n    // 5. \ud2b9\uc815 \ubc84\uc804 \ub2e4\uc6b4\ub85c\ub4dc (\uccab \ubc88\uc9f8 \ubc84\uc804)\n    // \uc2e4\uc81c\ub85c\ub294 ListObjects\uc5d0\uc11c \uc5bb\uc740 versionId \uc0ac\uc6a9\n    // \uc5ec\uae30\uc11c\ub294 \uc608\uc2dc\ub85c \uc0dd\ub7b5\n\n    // 6. Lifecycle \uc815\ucc45 \uc124\uc815\n    config := lifecycle.NewConfiguration()\n    config.Rules = []lifecycle.Rule{\n        {\n            ID:     \"expire-old-versions\",\n            Status: \"Enabled\",\n            NoncurrentVersionExpiration: lifecycle.NoncurrentVersionExpiration{\n                NoncurrentDays: lifecycle.ExpirationDays(30),\n            },\n        },\n        {\n            ID:     \"delete-old-objects\",\n            Status: \"Enabled\",\n            Expiration: lifecycle.Expiration{\n                Days: lifecycle.ExpirationDays(90),\n            },\n        },\n    }\n\n    err = minioClient.SetBucketLifecycle(ctx, bucketName, config)\n    if err != nil {\n        log.Fatalf(\"Lifecycle \uc815\ucc45 \uc124\uc815 \uc2e4\ud328: %v\", err)\n    }\n    fmt.Println(\"\\n=== Lifecycle \uc815\ucc45 \uc124\uc815 \uc644\ub8cc ===\")\n    fmt.Println(\"- \ud604\uc7ac \ubc84\uc804: 90\uc77c \ud6c4 \uc0ad\uc81c\")\n    fmt.Println(\"- \uc774\uc804 \ubc84\uc804: 30\uc77c \ud6c4 \uc0ad\uc81c\")\n\n    // Lifecycle \uc815\ucc45 \uc870\ud68c\n    lifecycleConfig, err := minioClient.GetBucketLifecycle(ctx, bucketName)\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Printf(\"\\n\ud604\uc7ac \uc124\uc815\ub41c \uaddc\uce59 \uc218: %d\\n\", len(lifecycleConfig.Rules))\n    for _, rule := range lifecycleConfig.Rules {\n        fmt.Printf(\"- Rule ID: %s, Status: %s\\n\", rule.ID, rule.Status)\n    }\n}\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc:</p> <pre><code>\ubc84\ud0b7 versioned-bucket: \ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654 \uc644\ub8cc\n\ubc84\uc804 \uad00\ub9ac \uc0c1\ud0dc: Enabled\n\ubc84\uc804 1 \uc5c5\ub85c\ub4dc: versionId=abc123\n\ubc84\uc804 2 \uc5c5\ub85c\ub4dc: versionId=def456\n\ubc84\uc804 3 \uc5c5\ub85c\ub4dc: versionId=ghi789\n\n=== \ubaa8\ub4e0 \ubc84\uc804 \ubaa9\ub85d ===\n- VersionID: ghi789, Size: 19, LastModified: 2025-12-19 10:35:47 +0000 UTC, IsLatest: true\n- VersionID: def456, Size: 19, LastModified: 2025-12-19 10:35:46 +0000 UTC, IsLatest: false\n- VersionID: abc123, Size: 19, LastModified: 2025-12-19 10:35:45 +0000 UTC, IsLatest: false\n\n=== Lifecycle \uc815\ucc45 \uc124\uc815 \uc644\ub8cc ===\n- \ud604\uc7ac \ubc84\uc804: 90\uc77c \ud6c4 \uc0ad\uc81c\n- \uc774\uc804 \ubc84\uc804: 30\uc77c \ud6c4 \uc0ad\uc81c\n\n\ud604\uc7ac \uc124\uc815\ub41c \uaddc\uce59 \uc218: 2\n- Rule ID: expire-old-versions, Status: Enabled\n- Rule ID: delete-old-objects, Status: Enabled\n</code></pre>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#lab-5-presigned-url-multipart-upload","title":"Lab 5: Presigned URL &amp; Multipart Upload","text":"<p>\ubaa9\ud45c: Presigned URL \uc0dd\uc131 \ubc0f \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uad6c\ud604</p> <p>\ucf54\ub4dc:</p> <pre><code>package main\n\nimport (\n    \"context\"\n    \"fmt\"\n    \"io\"\n    \"log\"\n    \"net/url\"\n    \"os\"\n    \"time\"\n\n    \"github.com/minio/minio-go/v7\"\n    \"github.com/minio/minio-go/v7/pkg/credentials\"\n)\n\nfunc main() {\n    minioClient, err := minio.New(os.Getenv(\"MINIO_ENDPOINT\"), &amp;minio.Options{\n        Creds:  credentials.NewStaticV4(os.Getenv(\"MINIO_ACCESS_KEY\"), os.Getenv(\"MINIO_SECRET_KEY\"), \"\"),\n        Secure: true,\n    })\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    ctx := context.Background()\n    bucketName := \"presigned-bucket\"\n\n    // \ubc84\ud0b7 \uc0dd\uc131\n    err = minioClient.MakeBucket(ctx, bucketName, minio.MakeBucketOptions{})\n    if err != nil {\n        exists, _ := minioClient.BucketExists(ctx, bucketName)\n        if !exists {\n            log.Fatal(err)\n        }\n    }\n\n    // === Part 1: Presigned PUT URL (\uc5c5\ub85c\ub4dc\uc6a9) ===\n    objectName := \"upload-via-presigned.txt\"\n    expiry := 15 * time.Minute\n\n    presignedURL, err := minioClient.PresignedPutObject(ctx, bucketName, objectName, expiry)\n    if err != nil {\n        log.Fatalf(\"Presigned PUT URL \uc0dd\uc131 \uc2e4\ud328: %v\", err)\n    }\n\n    fmt.Println(\"=== Presigned PUT URL (\uc5c5\ub85c\ub4dc) ===\")\n    fmt.Printf(\"URL: %s\\n\", presignedURL.String())\n    fmt.Printf(\"\ub9cc\ub8cc \uc2dc\uac04: %s\\n\", expiry)\n    fmt.Println(\"\\n\ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \uc774 URL\ub85c \uc9c1\uc811 \uc5c5\ub85c\ub4dc \uac00\ub2a5 (\uc778\uc99d \ubd88\ud544\uc694):\")\n    fmt.Printf(\"curl -X PUT -T myfile.txt '%s'\\n\", presignedURL.String())\n\n    // === Part 2: Presigned GET URL (\ub2e4\uc6b4\ub85c\ub4dc\uc6a9) ===\n    // \uba3c\uc800 \ud14c\uc2a4\ud2b8 \uac1d\uccb4 \uc5c5\ub85c\ub4dc\n    testContent := \"This is a test file for presigned download\"\n    _, err = minioClient.PutObject(\n        ctx,\n        bucketName,\n        \"test-download.txt\",\n        io.NopCloser(bytes.NewReader([]byte(testContent))),\n        int64(len(testContent)),\n        minio.PutObjectOptions{},\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    presignedGetURL, err := minioClient.PresignedGetObject(ctx, bucketName, \"test-download.txt\", expiry, url.Values{})\n    if err != nil {\n        log.Fatal(err)\n    }\n\n    fmt.Println(\"\\n=== Presigned GET URL (\ub2e4\uc6b4\ub85c\ub4dc) ===\")\n    fmt.Printf(\"URL: %s\\n\", presignedGetURL.String())\n    fmt.Println(\"\\n\ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc774 URL\uc744 \uc5f4\uba74 \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc:\")\n    fmt.Printf(\"curl '%s'\\n\", presignedGetURL.String())\n\n    // === Part 3: Multipart Upload (\uc790\ub3d9) ===\n    largeObjectName := \"large-file.bin\"\n    fileSize := int64(20 * 1024 * 1024)  // 20MB (\uc790\ub3d9 \uba40\ud2f0\ud30c\ud2b8 \ud2b8\ub9ac\uac70)\n\n    fmt.Println(\"\\n=== Multipart Upload (\uc790\ub3d9) ===\")\n    fmt.Printf(\"\ud30c\uc77c \ud06c\uae30: %d MB (&gt;16MB\uc774\ubbc0\ub85c \uc790\ub3d9 \uba40\ud2f0\ud30c\ud2b8)\\n\", fileSize/1024/1024)\n\n    // \uc784\uc2dc \ub300\uc6a9\ub7c9 \ud30c\uc77c \uc0dd\uc131\n    tmpFile, err := os.CreateTemp(\"\", \"large-*.bin\")\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer os.Remove(tmpFile.Name())\n\n    // \ub79c\ub364 \ub370\uc774\ud130 \uc4f0\uae30\n    data := make([]byte, fileSize)\n    _, err = tmpFile.Write(data)\n    if err != nil {\n        log.Fatal(err)\n    }\n    tmpFile.Close()\n\n    // FPutObject\ub294 \uc790\ub3d9\uc73c\ub85c \uba40\ud2f0\ud30c\ud2b8 \ucc98\ub9ac\n    start := time.Now()\n    info, err := minioClient.FPutObject(\n        ctx,\n        bucketName,\n        largeObjectName,\n        tmpFile.Name(),\n        minio.PutObjectOptions{\n            ContentType: \"application/octet-stream\",\n        },\n    )\n    if err != nil {\n        log.Fatal(err)\n    }\n    elapsed := time.Since(start)\n\n    fmt.Printf(\"\uc5c5\ub85c\ub4dc \uc644\ub8cc: %s\\n\", largeObjectName)\n    fmt.Printf(\"- \ud06c\uae30: %d MB\\n\", info.Size/1024/1024)\n    fmt.Printf(\"- ETag: %s (\uba40\ud2f0\ud30c\ud2b8\uc758 \uacbd\uc6b0 \ubcf5\ud569 \ud574\uc2dc)\\n\", info.ETag)\n    fmt.Printf(\"- \uc18c\uc694 \uc2dc\uac04: %s\\n\", elapsed)\n\n    // === Part 4: \uc218\ub3d9 Multipart Upload (\uc800\uc218\uc900 API) ===\n    fmt.Println(\"\\n=== \uc218\ub3d9 Multipart Upload (\uc800\uc218\uc900 API) ===\")\n\n    manualObjectName := \"manual-multipart.bin\"\n    partSize := int64(5 * 1024 * 1024)  // 5MB per part\n    totalParts := 3\n\n    // 1. \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc2dc\uc791\n    uploadID := \"\"\n    // minio-go v7\uc5d0\uc11c\ub294 \uc218\ub3d9 multipart\ub97c \uc704\ud55c Core API \uc0ac\uc6a9\n    core := &amp;minio.Core{Client: minioClient}\n    uploadID, err = core.NewMultipartUpload(ctx, bucketName, manualObjectName, minio.PutObjectOptions{})\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Printf(\"\uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc2dc\uc791: uploadID=%s\\n\", uploadID)\n\n    // 2. \uac01 \ud30c\ud2b8 \uc5c5\ub85c\ub4dc\n    var completeParts []minio.CompletePart\n    for partNumber := 1; partNumber &lt;= totalParts; partNumber++ {\n        partData := make([]byte, partSize)\n        reader := bytes.NewReader(partData)\n\n        part, err := core.PutObjectPart(\n            ctx,\n            bucketName,\n            manualObjectName,\n            uploadID,\n            partNumber,\n            reader,\n            partSize,\n            minio.PutObjectPartOptions{},\n        )\n        if err != nil {\n            log.Fatal(err)\n        }\n\n        completeParts = append(completeParts, minio.CompletePart{\n            PartNumber: partNumber,\n            ETag:       part.ETag,\n        })\n\n        fmt.Printf(\"\ud30c\ud2b8 %d \uc5c5\ub85c\ub4dc \uc644\ub8cc: ETag=%s\\n\", partNumber, part.ETag)\n    }\n\n    // 3. \uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc644\ub8cc\n    _, err = core.CompleteMultipartUpload(ctx, bucketName, manualObjectName, uploadID, completeParts, minio.PutObjectOptions{})\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Printf(\"\uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc644\ub8cc: %s (%d \ud30c\ud2b8)\\n\", manualObjectName, totalParts)\n}\n</code></pre> <p>\uc2e4\ud589 \uacb0\uacfc:</p> <pre><code>=== Presigned PUT URL (\uc5c5\ub85c\ub4dc) ===\nURL: https://minio.example.com:9000/presigned-bucket/upload-via-presigned.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=...&amp;X-Amz-Expires=900\n\ub9cc\ub8cc \uc2dc\uac04: 15m0s\n\n\ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \uc774 URL\ub85c \uc9c1\uc811 \uc5c5\ub85c\ub4dc \uac00\ub2a5 (\uc778\uc99d \ubd88\ud544\uc694):\ncurl -X PUT -T myfile.txt 'https://minio.example.com:9000/...'\n\n=== Presigned GET URL (\ub2e4\uc6b4\ub85c\ub4dc) ===\nURL: https://minio.example.com:9000/presigned-bucket/test-download.txt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;...\n\n\ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc774 URL\uc744 \uc5f4\uba74 \ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc:\ncurl 'https://minio.example.com:9000/...'\n\n=== Multipart Upload (\uc790\ub3d9) ===\n\ud30c\uc77c \ud06c\uae30: 20 MB (&gt;16MB\uc774\ubbc0\ub85c \uc790\ub3d9 \uba40\ud2f0\ud30c\ud2b8)\n\uc5c5\ub85c\ub4dc \uc644\ub8cc: large-file.bin\n- \ud06c\uae30: 20 MB\n- ETag: \"d41d8cd98f00b204e9800998ecf8427e-4\" (\uba40\ud2f0\ud30c\ud2b8\uc758 \uacbd\uc6b0 \ubcf5\ud569 \ud574\uc2dc)\n- \uc18c\uc694 \uc2dc\uac04: 1.234s\n\n=== \uc218\ub3d9 Multipart Upload (\uc800\uc218\uc900 API) ===\n\uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc2dc\uc791: uploadID=abc123xyz\n\ud30c\ud2b8 1 \uc5c5\ub85c\ub4dc \uc644\ub8cc: ETag=\"5d41402abc4b2a76b9719d911017c592\"\n\ud30c\ud2b8 2 \uc5c5\ub85c\ub4dc \uc644\ub8cc: ETag=\"7d793037a0760186574b0282f2f435e7\"\n\ud30c\ud2b8 3 \uc5c5\ub85c\ub4dc \uc644\ub8cc: ETag=\"6c1e671f1f6f4f3b2f5d5f7f8f9f0f1f\"\n\uba40\ud2f0\ud30c\ud2b8 \uc5c5\ub85c\ub4dc \uc644\ub8cc: manual-multipart.bin (3 \ud30c\ud2b8)\n</code></pre> <p>\uc8fc\uc694 \ud3ec\uc778\ud2b8:</p> <ol> <li>Presigned PUT URL: \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc11c\ubc84 \uc778\uc99d \uc5c6\uc774 \uc9c1\uc811 \uc5c5\ub85c\ub4dc (\ubaa8\ubc14\uc77c \uc571, \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc720\uc6a9)</li> <li>Presigned GET URL: \uc784\uc2dc \ub2e4\uc6b4\ub85c\ub4dc \ub9c1\ud06c (\uacf5\uc720 \ub9c1\ud06c, \ub2e4\uc6b4\ub85c\ub4dc \ud1a0\ud070)</li> <li>\uc790\ub3d9 \uba40\ud2f0\ud30c\ud2b8: 16MB \ucd08\uacfc \uc2dc minio-go\uac00 \uc790\ub3d9\uc73c\ub85c \ucc98\ub9ac</li> <li>\uc218\ub3d9 \uba40\ud2f0\ud30c\ud2b8: Core API\ub85c \uc138\ubc00\ud55c \uc81c\uc5b4 (\uc9c4\ud589\ub960 \ud45c\uc2dc, \uc7ac\uc2dc\ub3c4 \ub85c\uc9c1 \ub4f1)</li> </ol>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>MinIO \uacf5\uc2dd \uc0ac\uc774\ud2b8: https://www.min.io/</li> <li>MinIO Kubernetes: https://www.min.io/product/aistor/kubernetes</li> <li>MinIO Deployment Architecture: https://min.io/docs/minio/kubernetes/upstream/operations/concepts/architecture.html</li> <li>minio-go v7 SDK: https://pkg.go.dev/github.com/minio/minio-go/v7</li> <li>MinIO Operator GitHub: https://github.com/minio/operator</li> <li>MinIO Bucket Versioning: https://min.io/product/object-versioning-bucket-versioning</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#aws-s3-api","title":"AWS S3 API \ubb38\uc11c","text":"<ul> <li>S3 API Reference: https://docs.aws.amazon.com/AmazonS3/latest/API/Welcome.html</li> <li>S3 Versioning: https://docs.aws.amazon.com/AmazonS3/latest/userguide/Versioning.html</li> <li>S3 Lifecycle: https://docs.aws.amazon.com/AmazonS3/latest/userguide/object-lifecycle-mgmt.html</li> <li>Multipart Upload: https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_7","title":"\uc544\ud2f0\ud074 &amp; \ud29c\ud1a0\ub9ac\uc5bc","text":"<ul> <li>How MinIO Brings Object Storage Service to Kubernetes: https://thenewstack.io/how-minio-brings-object-storage-service-to-kubernetes/</li> <li>Best Practices for Kubernetes Object Storage: https://blog.min.io/best-practices-for-kubernetes-object-storage/</li> <li>Pre-signed MultiPart Uploads with Minio: https://vsoch.github.io/2020/s3-minio-multipart-presigned-upload/</li> <li>Object Storage in Kubernetes using MinIO (Medium): https://medium.com/@martin.hodges/object-storage-in-your-kubernetes-cluster-using-minio-ad838decd9ce</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#github","title":"GitHub \ub9ac\ud3ec\uc9c0\ud1a0\ub9ac","text":"<ul> <li>MinIO Server: https://github.com/minio/minio</li> <li>MinIO Go SDK: https://github.com/minio/minio-go</li> <li>MinIO Releases: https://github.com/minio/minio/releases</li> </ul>"},{"location":"iam-storage-service/Ch8.Object_Storage_S3/#_8","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\uc644\ub8cc\ud55c \ud56d\ubaa9\uc5d0 \uccb4\ud06c\ud558\uc138\uc694:</p> <ul> <li> S3 API\uc758 Bucket, Object, Key \uac1c\ub150\uc744 \uc774\ud574\ud558\uace0 \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> MinIO\uc758 Erasure Set\uacfc Server Pool \uc544\ud0a4\ud14d\ucc98\ub97c \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> Bucket Versioning\uacfc Delete Marker\uc758 \ub3d9\uc791 \uc6d0\ub9ac\ub97c \uc774\ud574\ud588\ub2e4</li> <li> Lifecycle \uc815\ucc45\uc744 \uc0ac\uc6a9\ud558\uc5ec \uc2a4\ud1a0\ub9ac\uc9c0 \ube44\uc6a9\uc744 \ucd5c\uc801\ud654\ud560 \uc218 \uc788\ub2e4</li> <li> Presigned URL\uc758 \ubcf4\uc548 \uba54\ucee4\ub2c8\uc998\uacfc \uc6a9\ub3c4\ub97c \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> Multipart Upload\uc758 \ud544\uc694\uc131\uacfc \uad6c\ud604 \ubc29\ubc95\uc744 \uc774\ud574\ud588\ub2e4</li> <li> minio-go v7 SDK\ub85c \uac1d\uccb4 CRUD\ub97c \uad6c\ud604\ud560 \uc218 \uc788\ub2e4</li> <li> MinIO Kubernetes Operator\ub85c \uba40\ud2f0\ud14c\ub10c\ud2b8 \ud074\ub7ec\uc2a4\ud130\ub97c \ubc30\ud3ec\ud560 \uc218 \uc788\ub2e4</li> <li> Storage Tiering\uc744 \ud1b5\ud55c \ube44\uc6a9 \ucd5c\uc801\ud654 \uc804\ub7b5\uc744 \uc218\ub9bd\ud560 \uc218 \uc788\ub2e4</li> <li> S3 \ud638\ud658 \uc2a4\ud1a0\ub9ac\uc9c0\uc758 \uc131\ub2a5 \ud29c\ub2dd \ud3ec\uc778\ud2b8\ub97c \ud30c\uc545\ud588\ub2e4</li> </ul> <p>\ub2e4\uc74c \ucc55\ud130: Ch9. Ceph \uc544\ud0a4\ud14d\ucc98\uc5d0\uc11c RADOS, CRUSH \uc54c\uace0\ub9ac\uc998, Ceph \ucef4\ud3ec\ub10c\ud2b8\ub97c \ud559\uc2b5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/","title":"Ch9. Ceph \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_1","title":"\ud83d\udccb \uac1c\uc694 \ubc0f \ud559\uc2b5 \ubaa9\ud45c","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_2","title":"\uac1c\uc694","text":"<p>Ceph**\ub294 \ud1b5\ud569 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc815\uc758 \uc2a4\ud1a0\ub9ac\uc9c0(Software-Defined Storage) \ud50c\ub7ab\ud3fc\uc73c\ub85c, **\uac1d\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0(Object), \ube14\ub85d \uc2a4\ud1a0\ub9ac\uc9c0(Block), \ud30c\uc77c \uc2a4\ud1a0\ub9ac\uc9c0(File)**\ub97c \ub2e8\uc77c \ud074\ub7ec\uc2a4\ud130\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc624\ud508\uc18c\uc2a4 \ubd84\uc0b0 \uc2a4\ud1a0\ub9ac\uc9c0 \uc2dc\uc2a4\ud15c\uc785\ub2c8\ub2e4. Ceph\ub294 **RADOS(Reliable Autonomic Distributed Object Store)\ub97c \ud575\uc2ec \ub808\uc774\uc5b4\ub85c \ub450\uace0, \uadf8 \uc704\uc5d0 RBD(RADOS Block Device), RGW(RADOS Gateway), CephFS(Ceph File System)\ub97c \uacc4\uce35\ud654\ud558\uc5ec \ub2e4\uc591\ud55c \uc2a4\ud1a0\ub9ac\uc9c0 \uc778\ud130\ud398\uc774\uc2a4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Ceph Squid \ub9b4\ub9ac\uc2a4\ub294 BlueStore V3 \uc2a4\ud1a0\ub9ac\uc9c0 \uc5d4\uc9c4\uc744 \ud1b5\ud574 25% IOPS \ud5a5\uc0c1, RocksDB \uba54\ud0c0\ub370\uc774\ud130 \ucd5c\uc801\ud654**\ub85c **10-20% \uc131\ub2a5 \uac1c\uc120, ARM \uc544\ud0a4\ud14d\ucc98 \uc9c0\uc6d0 \ub4f1 \uc5d4\ud130\ud504\ub77c\uc774\uc988 \ud658\uacbd\uc5d0\uc11c \uc694\uad6c\ud558\ub294 \uace0\uc131\ub2a5\u00b7\uace0\uac00\uc6a9\uc131\u00b7\ud655\uc7a5\uc131\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_3","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ol> <li>Ceph \uc544\ud0a4\ud14d\ucc98 \uc774\ud574: RADOS, CRUSH, \ucef4\ud3ec\ub10c\ud2b8(MON, OSD, MGR, MDS, RGW) \uc5ed\ud560 \uc124\uba85</li> <li>CRUSH \uc54c\uace0\ub9ac\uc998 \ubd84\uc11d: \ub370\uc774\ud130 \ubc30\uce58, \ubcf5\uc81c, \uc7a5\uc560 \ub3c4\uba54\uc778 \uc124\uc815 \uc6d0\ub9ac \uc774\ud574</li> <li>Pool &amp; PG \uc124\uacc4: Placement Group \uacc4\uc0b0, Erasure Coding vs Replication \uc120\ud0dd</li> <li>BlueStore \uc5d4\uc9c4 \uc774\ud574: RocksDB \uba54\ud0c0\ub370\uc774\ud130, \uc131\ub2a5 \ud2b9\uc131, V3 \uac1c\uc120\uc0ac\ud56d \ud30c\uc545</li> <li>Ceph \uc11c\ube44\uc2a4 \ud65c\uc6a9: RBD, RGW, CephFS\uc758 \ub3d9\uc791 \uc6d0\ub9ac \ubc0f \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624 \uc774\ud574</li> </ol>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_4","title":"\ud83d\udd11 \ud575\uc2ec \uac1c\ub150 \ubc0f \uc774\ub860","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#1-ceph","title":"1. Ceph \uc804\uccb4 \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#11","title":"1.1 \uacc4\uce35 \uad6c\uc870","text":"<p>Ceph\ub294 **RADOS**\ub97c \ud575\uc2ec\uc73c\ub85c 3\uacc4\uce35 \uc544\ud0a4\ud14d\ucc98\ub97c \uac00\uc9d1\ub2c8\ub2e4:</p> <pre><code>graph TB\n    subgraph \"Application Layer\"\n        Apps[Applications]\n    end\n\n    subgraph \"Interface Layer\"\n        RBD[RBD&lt;br/&gt;RADOS Block Device&lt;br/&gt;VM \ub514\uc2a4\ud06c, Kubernetes PV]\n        RGW[RGW&lt;br/&gt;RADOS Gateway&lt;br/&gt;S3/Swift API]\n        CephFS[CephFS&lt;br/&gt;Ceph File System&lt;br/&gt;POSIX \ud638\ud658]\n    end\n\n    subgraph \"Core Layer - RADOS\"\n        LIBRADOS[librados Library]\n\n        subgraph \"RADOS Daemons\"\n            MON[MON&lt;br/&gt;Monitor&lt;br/&gt;\ud074\ub7ec\uc2a4\ud130 \ub9f5 \uad00\ub9ac]\n            OSD[OSD&lt;br/&gt;Object Storage Daemon&lt;br/&gt;\ub370\uc774\ud130 \uc800\uc7a5]\n            MGR[MGR&lt;br/&gt;Manager&lt;br/&gt;\ubaa8\ub2c8\ud130\ub9c1/\ud50c\ub7ec\uadf8\uc778]\n            MDS[MDS&lt;br/&gt;Metadata Server&lt;br/&gt;CephFS \uba54\ud0c0\ub370\uc774\ud130]\n        end\n    end\n\n    subgraph \"Storage Layer\"\n        Disk1[Disk 1]\n        Disk2[Disk 2]\n        Disk3[Disk 3]\n        DiskN[Disk N]\n    end\n\n    Apps --&gt; RBD\n    Apps --&gt; RGW\n    Apps --&gt; CephFS\n\n    RBD --&gt; LIBRADOS\n    RGW --&gt; LIBRADOS\n    CephFS --&gt; LIBRADOS\n\n    LIBRADOS --&gt; MON\n    LIBRADOS --&gt; OSD\n    LIBRADOS --&gt; MGR\n    CephFS --&gt; MDS\n\n    OSD --&gt; Disk1\n    OSD --&gt; Disk2\n    OSD --&gt; Disk3\n    OSD --&gt; DiskN</code></pre> <p>\ud575\uc2ec \uc6d0\uce59:</p> <ul> <li>No Single Point of Failure: \ubaa8\ub4e0 \ucef4\ud3ec\ub10c\ud2b8\uac00 \ub2e4\uc911\ud654</li> <li>\ud655\uc7a5\uc131: \uc5d1\uc0ac\ubc14\uc774\ud2b8 \uaddc\ubaa8\uae4c\uc9c0 \uc120\ud615 \ud655\uc7a5</li> <li>\uc790\uc728\uc131: CRUSH \uc54c\uace0\ub9ac\uc998\uc73c\ub85c \uc911\uc559 \uba54\ud0c0\ub370\uc774\ud130 \uc11c\ubc84 \ubd88\ud544\uc694</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#12-rados-reliable-autonomic-distributed-object-store","title":"1.2 RADOS (Reliable Autonomic Distributed Object Store)","text":"<p>**RADOS**\ub294 Ceph\uc758 \ud575\uc2ec \uc2a4\ud1a0\ub9ac\uc9c0 \ub808\uc774\uc5b4\ub85c, \ub2e4\uc74c \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4:</p> <ul> <li>\uc790\ub3d9 \ubcf5\uc81c(Auto-replication): \ub370\uc774\ud130\ub97c \uc5ec\ub7ec OSD\uc5d0 \uc790\ub3d9 \ubcf5\uc81c</li> <li>\uc790\uac00 \uce58\uc720(Self-healing): OSD \uc7a5\uc560 \uc2dc \uc790\ub3d9 \ubcf5\uad6c</li> <li>\ub370\uc774\ud130 \ubb34\uacb0\uc131: Scrubbing\uc744 \ud1b5\ud55c \ub370\uc774\ud130 \uac80\uc99d</li> <li>\ubd84\uc0b0 \uac1d\uccb4 \uc800\uc7a5\uc18c: \uac00\ubcc0 \ud06c\uae30 \uac1d\uccb4\ub97c \ud655\uc7a5 \uac00\ub2a5\ud558\uac8c \uc800\uc7a5</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#2-ceph","title":"2. Ceph \ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#21-mon-monitor","title":"2.1 MON (Monitor)","text":"<p>\uc5ed\ud560: \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc \ub9f5(Cluster Map)\uc758 \ub9c8\uc2a4\ud130 \ubcf5\uc0ac\ubcf8 \uc720\uc9c0</p> <pre><code>graph LR\n    subgraph \"MON Cluster (Quorum)\"\n        MON1[MON 1]\n        MON2[MON 2]\n        MON3[MON 3]\n    end\n\n    subgraph \"Cluster Maps\"\n        MonMap[Monitor Map&lt;br/&gt;MON \uc8fc\uc18c]\n        OSDMap[OSD Map&lt;br/&gt;OSD \uc0c1\ud0dc]\n        PGMap[PG Map&lt;br/&gt;PG \uc0c1\ud0dc]\n        CRUSHMap[CRUSH Map&lt;br/&gt;\ud1a0\ud3f4\ub85c\uc9c0]\n        MDSMap[MDS Map&lt;br/&gt;MDS \uc0c1\ud0dc]\n    end\n\n    MON1 -.Paxos Consensus.-&gt; MON2\n    MON2 -.Paxos Consensus.-&gt; MON3\n    MON3 -.Paxos Consensus.-&gt; MON1\n\n    MON1 --&gt; MonMap\n    MON1 --&gt; OSDMap\n    MON1 --&gt; PGMap\n    MON1 --&gt; CRUSHMap\n    MON1 --&gt; MDSMap</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>Quorum: \ud640\uc218 \uac1c(\ubcf4\ud1b5 3\uac1c \ub610\ub294 5\uac1c)\ub85c \uad6c\uc131\ud558\uc5ec \uacfc\ubc18\uc218 \ud569\uc758\ub85c \uacb0\uc815</li> <li>Paxos \uc54c\uace0\ub9ac\uc998: \ubd84\uc0b0 \ud569\uc758 \ud504\ub85c\ud1a0\ucf5c\ub85c \ud074\ub7ec\uc2a4\ud130 \ub9f5 \uc5c5\ub370\uc774\ud2b8</li> <li>\uacbd\ub7c9 \ud504\ub85c\uc138\uc2a4: \ub514\uc2a4\ud06c I/O\uac00 \uc801\uc5b4 \ub0ae\uc740 \uc0ac\uc591 \uc11c\ubc84\uc5d0\uc11c\ub3c4 \uc2e4\ud589 \uac00\ub2a5</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#22-osd-object-storage-daemon","title":"2.2 OSD (Object Storage Daemon)","text":"<p>\uc5ed\ud560: \uc2e4\uc81c \ub370\uc774\ud130 \uc800\uc7a5, \uc77d\uae30/\uc4f0\uae30/\ubcf5\uc81c \uc791\uc5c5 \uc218\ud589</p> <pre><code>graph TB\n    subgraph \"OSD \ub0b4\ubd80 \uad6c\uc870\"\n        OSDDaemon[OSD Daemon]\n\n        subgraph \"BlueStore (Storage Engine)\"\n            BlueFS[BlueFS&lt;br/&gt;RocksDB \uc804\uc6a9 FS]\n            RocksDB[RocksDB&lt;br/&gt;\uba54\ud0c0\ub370\uc774\ud130]\n            BlueStore[BlueStore&lt;br/&gt;\uac1d\uccb4 \ub370\uc774\ud130]\n        end\n\n        BlockDevice[Block Device&lt;br/&gt;/dev/sdb]\n    end\n\n    OSDDaemon --&gt; BlueFS\n    OSDDaemon --&gt; RocksDB\n    OSDDaemon --&gt; BlueStore\n\n    BlueFS --&gt; BlockDevice\n    RocksDB --&gt; BlueFS\n    BlueStore --&gt; BlockDevice</code></pre> <p>\uc8fc\uc694 \uae30\ub2a5:</p> <ul> <li>\ub370\uc774\ud130 \uc800\uc7a5: BlueStore \uc5d4\uc9c4\uc73c\ub85c \uac1d\uccb4\ub97c \ube14\ub85d \ub514\ubc14\uc774\uc2a4\uc5d0 \uc9c1\uc811 \uc800\uc7a5</li> <li>\uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac: RocksDB\uc5d0 \uac1d\uccb4 \uba54\ud0c0\ub370\uc774\ud130 \uc800\uc7a5</li> <li>\ubcf5\uc81c: Primary OSD\uac00 \ub370\uc774\ud130\ub97c Replica OSD\ub85c \ubcf5\uc81c</li> <li>Recovery: OSD \uc7a5\uc560 \uc2dc \ub2e4\ub978 OSD\uc5d0\uc11c \ub370\uc774\ud130 \ubcf5\uad6c</li> <li>Scrubbing: \uc8fc\uae30\uc801\uc73c\ub85c \uac1d\uccb4 \ubb34\uacb0\uc131 \uac80\uc99d (Light Scrub \ub9e4\uc77c, Deep Scrub \uc8fc 1\ud68c)</li> </ul> <p>BlueStore vs FileStore (Legacy):</p> \ud2b9\uc131 BlueStore (\uae30\ubcf8) FileStore (Legacy) \uc544\ud0a4\ud14d\ucc98 \ube14\ub85d \ub514\ubc14\uc774\uc2a4 \uc9c1\uc811 \uc0ac\uc6a9 XFS/ext4 \ud30c\uc77c\uc2dc\uc2a4\ud15c \uc704 \uba54\ud0c0\ub370\uc774\ud130 RocksDB LevelDB + XAttr \uc131\ub2a5 ~18% IOPS \uc99d\uac00, 15% \ub808\uc774\ud134\uc2dc \uac10\uc18c \uae30\uc900 Double-write \uc5c6\uc74c (single-write) \uc788\uc74c (\uc800\ub110 + FS) \uc0c1\ud0dc \uae30\ubcf8\uac12 (Luminous \uc774\ud6c4) Deprecated"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#23-mgr-manager","title":"2.3 MGR (Manager)","text":"<p>\uc5ed\ud560: \ubaa8\ub2c8\ud130\ub9c1 \uc5d4\ub4dc\ud3ec\uc778\ud2b8, \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158, \ud50c\ub7ec\uadf8\uc778 \ubaa8\ub4c8 \uc81c\uacf5</p> <p>\uc8fc\uc694 \ubaa8\ub4c8 (2025):</p> <ul> <li>Dashboard: \uc6f9 \uae30\ubc18 \ud074\ub7ec\uc2a4\ud130 \uad00\ub9ac UI</li> <li>Prometheus: \uba54\ud2b8\ub9ad exporter</li> <li>Telemetry: \uc0ac\uc6a9 \ud1b5\uacc4 \uc218\uc9d1 (\uc635\ud2b8\uc778)</li> <li>Balancer: PG \uc790\ub3d9 \ubc38\ub7f0\uc2f1</li> <li>Orchestrator: cephadm/Rook \ud1b5\ud569 (\ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec/\uad00\ub9ac \uc790\ub3d9\ud654)</li> </ul> <p>\ud544\uc218 \uc5ec\ubd80: Luminous (12.x) \uc774\ud6c4 \ud544\uc218 \ub370\ubaac (MGR \uc5c6\uc774\ub294 \ud074\ub7ec\uc2a4\ud130 \uc815\uc0c1 \ub3d9\uc791 \ubd88\uac00)</p>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#24-mds-metadata-server","title":"2.4 MDS (Metadata Server)","text":"<p>\uc5ed\ud560: CephFS\uc758 POSIX \uba54\ud0c0\ub370\uc774\ud130 \uad00\ub9ac</p> <pre><code>sequenceDiagram\n    participant Client as CephFS Client\n    participant MDS\n    participant RADOS\n\n    Client-&gt;&gt;MDS: open(\"/data/file.txt\")\n    MDS-&gt;&gt;MDS: \ub514\ub809\ud1a0\ub9ac/\ud30c\uc77c \uc774\ub984 \u2192 inode \ub9e4\ud551\n    MDS--&gt;&gt;Client: inode \uc815\ubcf4 + RADOS object ID\n\n    Client-&gt;&gt;RADOS: read(object_id)\n    RADOS--&gt;&gt;Client: \ud30c\uc77c \ub370\uc774\ud130 (\uc9c1\uc811 I/O)\n\n    Note over Client,RADOS: \uba54\ud0c0\ub370\uc774\ud130\ub294 MDS, \ub370\uc774\ud130\ub294 RADOS\ub85c \ubd84\ub9ac</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>Active-Standby: \uc5ec\ub7ec MDS \uc911 1\uac1c\ub9cc Active (\uc7a5\uc560 \uc2dc Standby\uac00 \uc2b9\uaca9)</li> <li>\uba54\ud0c0\ub370\uc774\ud130\ub9cc \ucc98\ub9ac: \uc2e4\uc81c \ud30c\uc77c \ub370\uc774\ud130\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 RADOS\uc5d0 \uc9c1\uc811 I/O</li> <li>\uce90\uc2f1: \ucd5c\uadfc \uc811\uadfc\ud55c \uba54\ud0c0\ub370\uc774\ud130\ub97c \uba54\ubaa8\ub9ac\uc5d0 \uce90\uc2f1</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#25-rgw-rados-gateway","title":"2.5 RGW (RADOS Gateway)","text":"<p>\uc5ed\ud560: S3/Swift \ud638\ud658 \uac1d\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0 API \uc81c\uacf5</p> <p>\uc544\ud0a4\ud14d\ucc98:</p> <pre><code>HTTP Request (S3 API)\n    \u2193\nRGW (Apache/nginx + FastCGI)\n    \u2193\nlibrados\n    \u2193\nRADOS (\uac1d\uccb4 \uc800\uc7a5)\n</code></pre> <p>\uc8fc\uc694 \uae30\ub2a5:</p> <ul> <li>S3 API: AWS S3 \ud638\ud658 (\ubc84\ud0b7, \uac1d\uccb4, ACL, \ubc84\uc804 \uad00\ub9ac)</li> <li>Swift API: OpenStack Swift \ud638\ud658</li> <li>\uba40\ud2f0\ud14c\ub10c\uc2dc: User, Tenant, Bucket \ubd84\ub9ac</li> <li>\uba40\ud2f0\uc0ac\uc774\ud2b8 \ubcf5\uc81c: \uc5ec\ub7ec Ceph \ud074\ub7ec\uc2a4\ud130 \uac04 \ubcf5\uc81c (Active-Active)</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#3-crush","title":"3. CRUSH \uc54c\uace0\ub9ac\uc998","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#31-crush-controlled-replication-under-scalable-hashing","title":"3.1 CRUSH (Controlled Replication Under Scalable Hashing)","text":"<p>CRUSH\ub294 \uc911\uc559 \uc9d1\uc911\uc2dd \uba54\ud0c0\ub370\uc774\ud130 \uc11c\ubc84 \uc5c6\uc774 \ub370\uc774\ud130 \uc704\uce58\ub97c \uacc4\uc0b0\ud558\ub294 \uc54c\uace0\ub9ac\uc998\uc785\ub2c8\ub2e4:</p> <pre><code>graph TB\n    subgraph \"CRUSH \uacc4\uce35 (\uc608\uc2dc)\"\n        Root[root: datacenter]\n\n        Row1[row1: rack1]\n        Row2[row2: rack2]\n\n        Host1[host1: server1]\n        Host2[host2: server2]\n        Host3[host3: server3]\n        Host4[host4: server4]\n\n        OSD1[osd.0]\n        OSD2[osd.1]\n        OSD3[osd.2]\n        OSD4[osd.3]\n        OSD5[osd.4]\n        OSD6[osd.5]\n        OSD7[osd.6]\n        OSD8[osd.7]\n    end\n\n    Root --&gt; Row1\n    Root --&gt; Row2\n\n    Row1 --&gt; Host1\n    Row1 --&gt; Host2\n    Row2 --&gt; Host3\n    Row2 --&gt; Host4\n\n    Host1 --&gt; OSD1\n    Host1 --&gt; OSD2\n    Host2 --&gt; OSD3\n    Host2 --&gt; OSD4\n    Host3 --&gt; OSD5\n    Host3 --&gt; OSD6\n    Host4 --&gt; OSD7\n    Host4 --&gt; OSD8</code></pre> <p>CRUSH Map \uad6c\uc131 \uc694\uc18c:</p> <ol> <li>Bucket Hierarchy: root \u2192 row \u2192 rack \u2192 host \u2192 osd (\uc0ac\uc6a9\uc790 \uc815\uc758 \uac00\ub2a5)</li> <li>Bucket Types: root, datacenter, room, row, pod, pdu, rack, chassis, host, osd</li> <li>Failure Domain: \ubcf5\uc81c\ubcf8\uc744 \ubc30\uce58\ud560 \uc7a5\uc560 \ub3c4\uba54\uc778 (\uc608: host, rack)</li> <li>Device Class: HDD, SSD, NVMe \ub4f1 \ub514\ubc14\uc774\uc2a4 \ud074\ub798\uc2a4 (\ub8f0\uc5d0\uc11c \ud544\ud130\ub9c1 \uac00\ub2a5)</li> </ol>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#32-crush-rule","title":"3.2 CRUSH Rule","text":"<p>Pool\ub9c8\ub2e4 CRUSH Rule\uc744 \uc9c0\uc815\ud558\uc5ec **\ub370\uc774\ud130 \ubc30\uce58 \uc815\ucc45**\uc744 \uc815\uc758\ud569\ub2c8\ub2e4:</p> <pre><code># CRUSH Rule \uc608\uc2dc (replicated pool, failure-domain=host)\nrule replicated_rule {\n    id 0\n    type replicated\n    step take default class ssd      # SSD \ud074\ub798\uc2a4 \ub514\ubc14\uc774\uc2a4\ub9cc \uc0ac\uc6a9\n    step chooseleaf firstn 0 type host  # \uc11c\ub85c \ub2e4\ub978 \ud638\uc2a4\ud2b8\uc5d0 \ubc30\uce58\n    step emit\n}\n\n# Erasure-coded pool \ub8f0\nrule erasure_rule {\n    id 1\n    type erasure\n    step set_chooseleaf_tries 5\n    step set_choose_tries 100\n    step take default\n    step chooseleaf indep 0 type rack   # \uc11c\ub85c \ub2e4\ub978 \ub799\uc5d0 \ubc30\uce58\n    step emit\n}\n</code></pre> <p>Rule \ud30c\ub77c\ubbf8\ud130:</p> <ul> <li>type: <code>replicated</code> (\ubcf5\uc81c) \ub610\ub294 <code>erasure</code> (EC)</li> <li>step take: \uc2dc\uc791 bucket \uc120\ud0dd (+ device class \ud544\ud130)</li> <li>step chooseleaf: N\uac1c\uc758 \ud558\uc704 bucket \uc120\ud0dd</li> <li><code>firstn</code>: replicated pool\uc6a9 (\uc21c\ucc28 \uc120\ud0dd)</li> <li><code>indep</code>: erasure-coded pool\uc6a9 (\ub3c5\ub9bd \uc120\ud0dd, \uc7ac\ub9e4\ud551 \uc2dc \ucd5c\uc18c\ud654)</li> <li>failure domain: <code>host</code>, <code>rack</code>, <code>row</code> \ub4f1 \uc7a5\uc560 \uaca9\ub9ac \ub2e8\uc704</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#33","title":"3.3 \ub370\uc774\ud130 \ubc30\uce58 \uacfc\uc815","text":"<ol> <li> <p>Object \u2192 PG \ub9e4\ud551:    <pre><code>PG ID = hash(object_name) % pg_num\n</code></pre></p> </li> <li> <p>PG \u2192 OSD \ub9e4\ud551 (CRUSH \uc54c\uace0\ub9ac\uc998):    <pre><code>OSD_list = CRUSH(PG_ID, CRUSH_Map, CRUSH_Rule, num_replicas)\n</code></pre></p> </li> <li> <p>\ud074\ub77c\uc774\uc5b8\ud2b8 \uc9c1\uc811 \uacc4\uc0b0:</p> </li> <li>\ud074\ub77c\uc774\uc5b8\ud2b8\ub294 CRUSH Map\uc744 \uac00\uc9c0\uace0 \uc788\uc5b4 OSD \uc704\uce58\ub97c \uc9c1\uc811 \uacc4\uc0b0</li> <li>\uc911\uc559 \uba54\ud0c0\ub370\uc774\ud130 \uc11c\ubc84 \ubd88\ud544\uc694 \u2192 \ubcd1\ubaa9 \uc5c6\uc74c</li> </ol>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#4-placement-groups-pg","title":"4. Placement Groups (PG)","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#41-pg","title":"4.1 PG\uc758 \uc5ed\ud560","text":"<p>**Placement Group**\uc740 **\uc5ec\ub7ec \uac1d\uccb4\ub97c \ud558\ub098\uc758 \ub17c\ub9ac \uadf8\ub8f9**\uc73c\ub85c \ubb36\uc5b4 \uad00\ub9ac \uc624\ubc84\ud5e4\ub4dc\ub97c \uc904\uc785\ub2c8\ub2e4:</p> <pre><code>graph LR\n    subgraph \"Pool (pg_num=8)\"\n        PG0[PG 0.0]\n        PG1[PG 0.1]\n        PG2[PG 0.2]\n        PG7[PG 0.7]\n    end\n\n    subgraph \"Objects\"\n        Obj1[object1]\n        Obj2[object2]\n        Obj3[object3]\n        ObjN[objectN]\n    end\n\n    subgraph \"OSDs\"\n        OSD1[OSD 1]\n        OSD2[OSD 2]\n        OSD3[OSD 3]\n    end\n\n    Obj1 -.hash % 8.-&gt; PG0\n    Obj2 -.hash % 8.-&gt; PG1\n    Obj3 -.hash % 8.-&gt; PG0\n    ObjN -.hash % 8.-&gt; PG7\n\n    PG0 --&gt; OSD1\n    PG0 --&gt; OSD2\n    PG1 --&gt; OSD2\n    PG1 --&gt; OSD3\n    PG7 --&gt; OSD1\n    PG7 --&gt; OSD3</code></pre> <p>PG \uc218 \uacb0\uc815:</p> <ul> <li>\uae30\ubcf8 \uac00\uc774\ub4dc: Pool\ub2f9 50-100 PG \uad8c\uc7a5</li> <li>\uacf5\uc2dd (2025):   <pre><code>PG \uc218 = (Total_OSDs \u00d7 mon_target_pg_per_osd) / pool_size\n</code></pre></li> <li>mon_target_pg_per_osd: \uae30\ubcf8\uac12 100, BlueStore \ud658\uacbd\uc5d0\uc11c\ub294 200-250 \uad8c\uc7a5</li> </ul> <p>\uc608\uc2dc \uacc4\uc0b0:</p> <pre><code>\ud074\ub7ec\uc2a4\ud130: OSD 30\uac1c\nPool: size=3 (3-way replication)\nmon_target_pg_per_osd = 200\n\nPG \uc218 = (30 \u00d7 200) / 3 = 2000\n\n\u2192 pg_num = 2048 (2\uc758 \uac70\ub4ed\uc81c\uacf1\uc73c\ub85c \ubc18\uc62c\ub9bc)\n</code></pre>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#42-pg-states","title":"4.2 PG States","text":"\uc0c1\ud0dc \uc124\uba85 active PG\uac00 \uc815\uc0c1 \ub3d9\uc791 \uc911 clean \ubaa8\ub4e0 \uac1d\uccb4\uac00 \uc62c\ubc14\ub978 \ubcf5\uc81c\ubcf8 \uc218\ub97c \uac00\uc9d0 peering OSD \uac04 PG \uc0c1\ud0dc \ub3d9\uae30\ud654 \uc911 degraded \uc77c\ubd80 \uac1d\uccb4\uac00 \ubcf5\uc81c\ubcf8 \uc218 \ubbf8\ub2ec (OSD \uc7a5\uc560 \ub4f1) recovering \uac1d\uccb4 \ubcf5\uad6c \uc9c4\ud589 \uc911 backfilling \uc0c8 OSD\uc5d0 PG \ub370\uc774\ud130 \uc774\ub3d9 \uc911 remapped PG\uac00 \uc0c8\ub85c\uc6b4 OSD \uc138\ud2b8\ub85c \uc7ac\ub9e4\ud551\ub428 stale MON\uc774 PG \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8\ub97c \ubc1b\uc9c0 \ubabb\ud568 (OSD \uc7a5\uc560)"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#5-pool","title":"5. Pool \ud0c0\uc785","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#51-replicated-pool","title":"5.1 Replicated Pool","text":"<p>\ub3d9\uc791: \uac1d\uccb4\ub97c N\uac1c\uc758 OSD\uc5d0 \uc644\uc804 \ubcf5\uc0ac</p> <pre><code>graph LR\n    Object[Object: 4MB]\n\n    OSD1[OSD 1&lt;br/&gt;4MB]\n    OSD2[OSD 2&lt;br/&gt;4MB]\n    OSD3[OSD 3&lt;br/&gt;4MB]\n\n    Object --&gt; OSD1\n    Object --&gt; OSD2\n    Object --&gt; OSD3\n\n    Note1[\ucd1d \uc800\uc7a5 \uc6a9\ub7c9: 12MB]\n    Note2[Storage Overhead: 3x]</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>size: \ubcf5\uc81c\ubcf8 \uc218 (\uae30\ubcf8\uac12 3)</li> <li>min_size: \ucd5c\uc18c \ubcf5\uc81c\ubcf8 \uc218 (I/O \ud5c8\uc6a9 \uc784\uacc4\uac12, \uae30\ubcf8\uac12 2)</li> <li>\uc7a5\uc810: \uc77d\uae30 \uc131\ub2a5 \uc6b0\uc218 (\uc5ec\ub7ec OSD\uc5d0\uc11c \ubcd1\ub82c \uc77d\uae30 \uac00\ub2a5)</li> <li>\ub2e8\uc810: \uc2a4\ud1a0\ub9ac\uc9c0 \uc624\ubc84\ud5e4\ub4dc \ub192\uc74c (3\ubc30)</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#52-erasure-coded-pool","title":"5.2 Erasure-Coded Pool","text":"<p>\ub3d9\uc791: \uac1d\uccb4\ub97c **K\uac1c \ub370\uc774\ud130 \uccad\ud06c + M\uac1c \ud328\ub9ac\ud2f0 \uccad\ud06c**\ub85c \ubd84\ud560</p> <pre><code>graph LR\n    Object[Object: 4MB]\n\n    subgraph \"EC 4+2\"\n        D1[Data 1&lt;br/&gt;1MB]\n        D2[Data 2&lt;br/&gt;1MB]\n        D3[Data 3&lt;br/&gt;1MB]\n        D4[Data 4&lt;br/&gt;1MB]\n        P1[Parity 1&lt;br/&gt;1MB]\n        P2[Parity 2&lt;br/&gt;1MB]\n    end\n\n    Object -.Split + Encode.-&gt; D1\n    Object -.Split + Encode.-&gt; D2\n    Object -.Split + Encode.-&gt; D3\n    Object -.Split + Encode.-&gt; D4\n    Object -.Encode.-&gt; P1\n    Object -.Encode.-&gt; P2\n\n    Note1[\ucd1d \uc800\uc7a5 \uc6a9\ub7c9: 6MB]\n    Note2[Storage Overhead: 1.5x]\n    Note3[\ucd5c\ub300 2\uac1c OSD \uc7a5\uc560 \ud5c8\uc6a9]</code></pre> <p>\ud504\ub85c\ud30c\uc77c \ud30c\ub77c\ubbf8\ud130:</p> <ul> <li>K: \ub370\uc774\ud130 \uccad\ud06c \uc218 (\uc608: 4)</li> <li>M: \ud328\ub9ac\ud2f0 \uccad\ud06c \uc218 (\uc608: 2)</li> <li>crush-failure-domain: \uccad\ud06c \ubc30\uce58 \uc7a5\uc560 \ub3c4\uba54\uc778 (host, rack \ub4f1)</li> </ul> <p>Storage Overhead \uacc4\uc0b0:</p> <pre><code>Overhead = (K + M) / K\n</code></pre> Profile K M Overhead \uc7a5\uc560 \ud5c8\uc6a9 2+1 2 1 1.5x 1 OSD 4+2 4 2 1.5x 2 OSD 8+3 8 3 1.375x 3 OSD <p>\uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624:</p> <ul> <li>Replicated: \ub192\uc740 \uc131\ub2a5 \uc694\uad6c (VM \ub514\uc2a4\ud06c, DB)</li> <li>Erasure-Coded: \ub300\uc6a9\ub7c9 \ucf5c\ub4dc \ub370\uc774\ud130 (\ubc31\uc5c5, \uc544\uce74\uc774\ube0c, \ub85c\uadf8)</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#6-bluestore-storage-engine-2025","title":"6. BlueStore Storage Engine (2025)","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#61-bluestore","title":"6.1 BlueStore \uc544\ud0a4\ud14d\ucc98","text":"<p>BlueStore\ub294 Ceph\uc758 **\uae30\ubcf8 \uc2a4\ud1a0\ub9ac\uc9c0 \uc5d4\uc9c4**\uc73c\ub85c, \ud30c\uc77c\uc2dc\uc2a4\ud15c \uc5c6\uc774 **\ube14\ub85d \ub514\ubc14\uc774\uc2a4\uc5d0 \uc9c1\uc811 \uac1d\uccb4\ub97c \uc800\uc7a5**\ud569\ub2c8\ub2e4:</p> <pre><code>graph TB\n    subgraph \"OSD Process\"\n        OSDDaemon[OSD Daemon]\n    end\n\n    subgraph \"BlueStore Layers\"\n        ObjectStore[Object Store Interface]\n\n        Allocator[Allocator&lt;br/&gt;\ube14\ub85d \ud560\ub2f9 \uad00\ub9ac]\n        Cache[Cache&lt;br/&gt;\uac1d\uccb4 \uce90\uc2f1]\n\n        BlueFS[BlueFS&lt;br/&gt;RocksDB \uc804\uc6a9 FS]\n        RocksDB[(RocksDB&lt;br/&gt;\uba54\ud0c0\ub370\uc774\ud130 KV)]\n\n        BlueStore[BlueStore&lt;br/&gt;\uac1d\uccb4 \ub370\uc774\ud130]\n    end\n\n    subgraph \"Block Device\"\n        BlockDev[Raw Block Device&lt;br/&gt;/dev/nvme0n1]\n\n        DBPart[DB Partition&lt;br/&gt;RocksDB \uba54\ud0c0\ub370\uc774\ud130]\n        WALPart[WAL Partition&lt;br/&gt;Write-Ahead Log]\n        DataPart[Data Partition&lt;br/&gt;\uac1d\uccb4 \ub370\uc774\ud130]\n    end\n\n    OSDDaemon --&gt; ObjectStore\n    ObjectStore --&gt; Allocator\n    ObjectStore --&gt; Cache\n\n    Allocator --&gt; BlueStore\n    Cache --&gt; BlueStore\n\n    RocksDB --&gt; BlueFS\n    BlueFS --&gt; DBPart\n    RocksDB --&gt; WALPart\n    BlueStore --&gt; DataPart</code></pre> <p>\uc8fc\uc694 \uad6c\uc131 \uc694\uc18c:</p> <ol> <li>RocksDB: \uac1d\uccb4 \uba54\ud0c0\ub370\uc774\ud130 KV \uc800\uc7a5</li> <li>Object \uc18d\uc131 (\ud06c\uae30, \ud0c0\uc784\uc2a4\ud0ec\ud504, \uccb4\ud06c\uc12c)</li> <li>Deferred \uc4f0\uae30 \ub85c\uadf8</li> <li> <p>OSD \ub0b4\ubd80 \uc0c1\ud0dc (Allocator state)</p> </li> <li> <p>BlueFS: RocksDB \uc804\uc6a9 \ucd5c\uc18c \ud30c\uc77c\uc2dc\uc2a4\ud15c</p> </li> <li>RocksDB SST \ud30c\uc77c, WAL \uc800\uc7a5</li> <li> <p>\ube14\ub85d \ub514\ubc14\uc774\uc2a4 \uc9c1\uc811 \uc0ac\uc6a9</p> </li> <li> <p>Allocator: \ube14\ub85d \ud560\ub2f9 \uad00\ub9ac</p> </li> <li>BlueStore V3: \ud560\ub2f9 \uc815\ubcf4\ub97c RocksDB\uc5d0\uc11c \uc81c\uac70 \u2192 umount \uc2dc \ud55c \ubc88\uc5d0 \uc800\uc7a5</li> <li> <p>25% IOPS \uc99d\uac00, \ub808\uc774\ud134\uc2dc \uac10\uc18c</p> </li> <li> <p>Cache: \uac1d\uccb4 \ub370\uc774\ud130 \uce90\uc2f1</p> </li> <li>\uc77d\uae30/\uc4f0\uae30 \uce90\uc2dc (LRU)</li> </ol>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#62-bluestore-v3-2025","title":"6.2 BlueStore V3 \uac1c\uc120\uc0ac\ud56d (2025)","text":"<p>\ud575\uc2ec \ubcc0\uacbd: Allocation \uc815\ubcf4\ub97c RocksDB\uc5d0\uc11c \uc81c\uac70</p> <p>\uc774\uc804 (V2): <pre><code>\uac1d\uccb4 \uc4f0\uae30 \u2192 BlueStore \ube14\ub85d \ud560\ub2f9 \u2192 RocksDB \uba54\ud0c0\ub370\uc774\ud130 \uc5c5\ub370\uc774\ud2b8 (\ud560\ub2f9 \uc815\ubcf4 \ud3ec\ud568)\n                                   \u2191\n                               \ubcd1\ubaa9 \uc9c0\uc810\n</code></pre></p> <p>V3: <pre><code>\uac1d\uccb4 \uc4f0\uae30 \u2192 BlueStore \ube14\ub85d \ud560\ub2f9 \u2192 \uba54\ubaa8\ub9ac\uc5d0\ub9cc \uae30\ub85d\nOSD umount \uc2dc \u2192 \uc804\uccb4 Allocator \uc0c1\ud0dc \ud55c \ubc88\uc5d0 \uc800\uc7a5\n</code></pre></p> <p>\uc131\ub2a5 \uac1c\uc120:</p> <ul> <li>IOPS: +25% (\uc18c\ud615 \ub79c\ub364 \uc4f0\uae30)</li> <li>\ub808\uc774\ud134\uc2dc: RocksDB KV sync \ubcd1\ubaa9 \uc81c\uac70\ub85c 10-20% \uac10\uc18c</li> <li>\uc801\uc6a9: Pacific \uc774\ud6c4 \ub9b4\ub9ac\uc2a4</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#63-rocksdb-column-families-pacific","title":"6.3 RocksDB Column Families (Pacific+)","text":"<p>\ucd5c\uc801\ud654: Key-value \ub370\uc774\ud130\ub97c \uc5ec\ub7ec Column Family\ub85c \ubd84\ub9ac</p> <pre><code>Column Family 1: Object Metadata (key: object_id)\nColumn Family 2: Deferred Writes\nColumn Family 3: OSD State\n</code></pre> <p>\ud6a8\uacfc:</p> <ul> <li>\uce90\uc2f1 \ud6a8\uc728: \uc720\uc0ac\ud55c \ud0a4\ub07c\ub9ac \uadf8\ub8f9\ud654</li> <li>Compaction \uc815\ubc00\ub3c4: CF\ubcc4 \ub3c5\ub9bd\uc801\uc778 compaction</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#7-ceph-services-rbd-rgw-cephfs","title":"7. Ceph Services (RBD, RGW, CephFS)","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#71-rbd-rados-block-device","title":"7.1 RBD (RADOS Block Device)","text":"<p>\uc6a9\ub3c4: \uac00\uc0c1 \ub514\uc2a4\ud06c \uc774\ubbf8\uc9c0\ub97c RADOS \uac1d\uccb4\ub85c \uc800\uc7a5</p> <pre><code>sequenceDiagram\n    participant VM\n    participant Librbd\n    participant RADOS\n\n    VM-&gt;&gt;Librbd: write(offset=0, size=4MB)\n    Librbd-&gt;&gt;Librbd: 4MB \u2192 4\uac1c \uac1d\uccb4 (1MB\uc529 \uc2a4\ud2b8\ub77c\uc774\ud551)\n\n    loop 4\uac1c \uac1d\uccb4\n        Librbd-&gt;&gt;RADOS: write(object_id, data)\n        RADOS--&gt;&gt;Librbd: ACK\n    end\n\n    Librbd--&gt;&gt;VM: write \uc644\ub8cc</code></pre> <p>\ud2b9\uc9d5:</p> <ul> <li>Thin Provisioning: \uc2e4\uc81c \uc0ac\uc6a9\ud55c \ub9cc\ud07c\ub9cc \uc800\uc7a5 (10GB \ub514\uc2a4\ud06c \uc0dd\uc131\ud574\ub3c4 0MB \uc0ac\uc6a9)</li> <li>Snapshot: \uc77d\uae30 \uc804\uc6a9 \uc2a4\ub0c5\uc0f7 (CoW)</li> <li>Clone: \uc2a4\ub0c5\uc0f7\uc5d0\uc11c \uc4f0\uae30 \uac00\ub2a5\ud55c \ud074\ub860 \uc0dd\uc131 (VM \ud15c\ud50c\ub9bf\uc5d0\uc11c \ube60\ub978 VM \uc0dd\uc131)</li> <li>Striping: \ub300\ud615 \ube14\ub85d\uc744 \uc5ec\ub7ec \uac1d\uccb4\ub85c \ubd84\ud560\ud558\uc5ec \uc131\ub2a5 \ud5a5\uc0c1</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#72-rgw-rados-gateway","title":"7.2 RGW (RADOS Gateway)","text":"<p>\uc544\ud0a4\ud14d\ucc98:</p> <pre><code>S3/Swift Client\n    \u2193\nHTTPS (443)\n    \u2193\nRGW (Civetweb / Apache)\n    \u2193\nlibrados\n    \u2193\nRADOS (metadata pool + data pool)\n</code></pre> <p>Pool \uad6c\uc131:</p> <ul> <li><code>.rgw.root</code>: Gateway \uc124\uc815</li> <li><code>.rgw.buckets.index</code>: Bucket \uc778\ub371\uc2a4 (\uac1d\uccb4 \ubaa9\ub85d)</li> <li><code>.rgw.buckets.data</code>: \uc2e4\uc81c \uac1d\uccb4 \ub370\uc774\ud130</li> </ul> <p>\uba40\ud2f0\uc0ac\uc774\ud2b8 \ubcf5\uc81c:</p> <pre><code>Region 1 (Master)          Region 2 (Replica)\n    RGW                           RGW\n     \u2193                             \u2193\n  RADOS 1  \u2190--- \uba54\ud0c0\ub370\uc774\ud130 \ub3d9\uae30\ud654 --\u2192  RADOS 2\n</code></pre>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#73-cephfs-ceph-file-system","title":"7.3 CephFS (Ceph File System)","text":"<p>\uc544\ud0a4\ud14d\ucc98:</p> <pre><code>Linux Client (kernel cephfs / ceph-fuse)\n    \u2193\nMDS (\uba54\ud0c0\ub370\uc774\ud130: /path/to/file \u2192 inode)\n    \u2193\nlibrados\n    \u2193\nRADOS (metadata pool + data pool)\n</code></pre> <p>\uc8fc\uc694 \uae30\ub2a5:</p> <ul> <li>POSIX \ud638\ud658: \ud45c\uc900 \ud30c\uc77c\uc2dc\uc2a4\ud15c \uc778\ud130\ud398\uc774\uc2a4 (mkdir, open, read, write)</li> <li>Snapshot: \ub514\ub809\ud1a0\ub9ac\ubcc4 \uc2a4\ub0c5\uc0f7</li> <li>Quota: \ub514\ub809\ud1a0\ub9ac\ubcc4 \uc6a9\ub7c9 \uc81c\ud55c</li> <li>Multi-active MDS (Pacific+): \uc5ec\ub7ec MDS\uac00 \ub3d9\uc2dc\uc5d0 Active (\ub124\uc784\uc2a4\ud398\uc774\uc2a4 \ud30c\ud2f0\uc154\ub2dd)</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#hands-on","title":"\ud83d\udcbb \uc2e4\uc2b5 \uac00\uc774\ub4dc (Hands-on)","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#lab-1-ceph-cephadm","title":"Lab 1: Ceph \ud074\ub7ec\uc2a4\ud130 \uc124\uce58 (cephadm)","text":"<p>\ubaa9\ud45c: cephadm\uc744 \uc0ac\uc6a9\ud558\uc5ec 3-\ub178\ub4dc Ceph \ud074\ub7ec\uc2a4\ud130 \uad6c\ucd95</p> <p>\ud658\uacbd:</p> <ul> <li>\ub178\ub4dc: ceph1, ceph2, ceph3 (\uac01 2\uac1c \ub514\uc2a4\ud06c: OS\uc6a9 /dev/sda, Ceph OSD\uc6a9 /dev/sdb)</li> <li>OS: Ubuntu 22.04 \ub610\ub294 Rocky Linux 9</li> </ul> <p>\ub2e8\uacc4:</p> <ol> <li>Bootstrap \ud074\ub7ec\uc2a4\ud130 (ceph1):</li> </ol> <pre><code># cephadm \uc124\uce58\nsudo apt install -y cephadm  # Ubuntu\n# sudo dnf install -y cephadm  # Rocky Linux\n\n# Ceph \ud074\ub7ec\uc2a4\ud130 bootstrap\nsudo cephadm bootstrap --mon-ip 192.168.1.10 --ssh-user root\n\n# \ucd9c\ub825 \uc608\uc2dc:\n# Ceph Dashboard is now available at:\n#     URL: https://192.168.1.10:8443/\n#     User: admin\n#     Password: abc123xyz\n</code></pre> <ol> <li>\ucd94\uac00 \ub178\ub4dc \ub4f1\ub85d (ceph1\uc5d0\uc11c \uc2e4\ud589):</li> </ol> <pre><code># SSH key \ubcf5\uc0ac\nssh-copy-id root@ceph2\nssh-copy-id root@ceph3\n\n# \ub178\ub4dc \ucd94\uac00\nsudo ceph orch host add ceph2 192.168.1.11\nsudo ceph orch host add ceph3 192.168.1.12\n\n# \ud638\uc2a4\ud2b8 \ubaa9\ub85d \ud655\uc778\nsudo ceph orch host ls\n</code></pre> <ol> <li>OSD \ucd94\uac00:</li> </ol> <pre><code># \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub514\ubc14\uc774\uc2a4 \ud655\uc778\nsudo ceph orch device ls\n\n# \ubaa8\ub4e0 \uc0ac\uc6a9 \uac00\ub2a5\ud55c \ub514\ubc14\uc774\uc2a4\ub97c OSD\ub85c \ucd94\uac00\nsudo ceph orch apply osd --all-available-devices\n\n# \ub610\ub294 \ud2b9\uc815 \ub514\ubc14\uc774\uc2a4 \uc9c0\uc815\nsudo ceph orch daemon add osd ceph1:/dev/sdb\nsudo ceph orch daemon add osd ceph2:/dev/sdb\nsudo ceph orch daemon add osd ceph3:/dev/sdb\n\n# OSD \uc0c1\ud0dc \ud655\uc778\nsudo ceph osd tree\n</code></pre> <ol> <li>MON/MGR \ubc30\ud3ec:</li> </ol> <pre><code># MON\uc744 3\uac1c \ub178\ub4dc\uc5d0 \ubc30\ud3ec\nsudo ceph orch apply mon 3\n\n# MGR\uc744 2\uac1c \ub178\ub4dc\uc5d0 \ubc30\ud3ec\nsudo ceph orch apply mgr 2\n\n# \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc \ud655\uc778\nsudo ceph -s\n</code></pre> <p>\ucd9c\ub825 \uc608\uc2dc:</p> <pre><code>  cluster:\n    id:     a1b2c3d4-e5f6-1234-5678-abcdef123456\n    health: HEALTH_OK\n\n  services:\n    mon: 3 daemons, quorum ceph1,ceph2,ceph3 (age 5m)\n    mgr: ceph1(active, since 4m), standbys: ceph2\n    osd: 3 osds: 3 up (since 3m), 3 in (since 3m)\n\n  data:\n    pools:   1 pools, 1 pgs\n    objects: 0 objects, 0 B\n    usage:   3.0 GiB used, 297 GiB / 300 GiB avail\n    pgs:     1 active+clean\n</code></pre>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#lab-2-pool-replicated-vs-erasure-coded","title":"Lab 2: Pool \uc0dd\uc131 (Replicated vs Erasure-Coded)","text":"<p>\ubaa9\ud45c: Replicated Pool\uacfc Erasure-Coded Pool \uc0dd\uc131 \ubc0f \ube44\uad50</p> <p>\ucf54\ub4dc:</p> <pre><code># === Replicated Pool ===\n# Pool \uc0dd\uc131 (size=3, pg_num=128)\nsudo ceph osd pool create my-replicated-pool 128 replicated\n\n# Pool \uc18d\uc131 \uc124\uc815\nsudo ceph osd pool set my-replicated-pool size 3\nsudo ceph osd pool set my-replicated-pool min_size 2\n\n# Pool \uc815\ubcf4 \ud655\uc778\nsudo ceph osd pool get my-replicated-pool all\n\n# === Erasure-Coded Pool ===\n# EC \ud504\ub85c\ud30c\uc77c \uc0dd\uc131 (k=4, m=2)\nsudo ceph osd erasure-code-profile set my-ec-profile \\\n    k=4 \\\n    m=2 \\\n    crush-failure-domain=host\n\n# EC Pool \uc0dd\uc131\nsudo ceph osd pool create my-ec-pool 128 erasure my-ec-profile\n\n# EC Pool \uc815\ubcf4 \ud655\uc778\nsudo ceph osd pool get my-ec-pool erasure_code_profile\n\n# === Pool \ubaa9\ub85d \uc870\ud68c ===\nsudo ceph osd pool ls detail\n</code></pre> <p>\ud14c\uc2a4\ud2b8 \uac1d\uccb4 \uc4f0\uae30:</p> <pre><code># rados CLI\ub85c \uac1d\uccb4 \uc5c5\ub85c\ub4dc\necho \"Test data for replicated pool\" &gt; test.txt\nsudo rados -p my-replicated-pool put test-object test.txt\n\n# \uac1d\uccb4 \ud655\uc778\nsudo rados -p my-replicated-pool ls\nsudo rados -p my-replicated-pool stat test-object\n\n# Storage \uc0ac\uc6a9\ub7c9 \ud655\uc778\nsudo ceph df\n</code></pre> <p>\ucd9c\ub825 \uc608\uc2dc:</p> <pre><code>GLOBAL:\n    SIZE        AVAIL       RAW USED     %RAW USED\n    300 GiB     297 GiB     3.0 GiB          1.00\nPOOLS:\n    POOL                   ID     STORED      OBJECTS     USED        %USED     MAX AVAIL\n    my-replicated-pool     1      35 B        1           105 B       0         99 GiB\n    my-ec-pool             2      0 B         0           0 B         0         132 GiB\n</code></pre>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#lab-3-crush-map","title":"Lab 3: CRUSH Map \uc870\uc791","text":"<p>\ubaa9\ud45c: CRUSH Map\uc744 \uc218\uc815\ud558\uc5ec SSD \uc804\uc6a9 Pool \uc0dd\uc131</p> <p>\ub2e8\uacc4:</p> <ol> <li>Device Class \ud655\uc778:</li> </ol> <pre><code># \ubaa8\ub4e0 OSD\uc758 device class \uc870\ud68c\nsudo ceph osd tree\n\n# \ucd9c\ub825 \uc608\uc2dc:\n# ID  CLASS  WEIGHT   TYPE NAME         STATUS  REWEIGHT  PRI-AFF\n# -1         0.29279  root default\n# -3         0.09760      host ceph1\n#  0    ssd  0.09760          osd.0         up   1.00000  1.00000\n# -5         0.09760      host ceph2\n#  1    hdd  0.09760          osd.1         up   1.00000  1.00000\n# -7         0.09760      host ceph3\n#  2    hdd  0.09760          osd.2         up   1.00000  1.00000\n</code></pre> <ol> <li>SSD \uc804\uc6a9 CRUSH Rule \uc0dd\uc131:</li> </ol> <pre><code># SSD \uc804\uc6a9 \ub8f0 \uc0dd\uc131\nsudo ceph osd crush rule create-replicated ssd-rule default host ssd\n\n# Rule \ud655\uc778\nsudo ceph osd crush rule ls\nsudo ceph osd crush rule dump ssd-rule\n</code></pre> <ol> <li>SSD Pool \uc0dd\uc131:</li> </ol> <pre><code># SSD \uc804\uc6a9 Pool \uc0dd\uc131\nsudo ceph osd pool create ssd-pool 64 replicated\n\n# SSD Rule \uc801\uc6a9\nsudo ceph osd pool set ssd-pool crush_rule ssd-rule\n\n# Pool \uc815\ubcf4 \ud655\uc778\nsudo ceph osd pool get ssd-pool crush_rule\n</code></pre> <ol> <li>\uac80\uc99d:</li> </ol> <pre><code># Pool\uc5d0 \uac1d\uccb4 \uc4f0\uae30\necho \"SSD data\" &gt; ssd-test.txt\nsudo rados -p ssd-pool put ssd-test-obj ssd-test.txt\n\n# PG \u2192 OSD \ub9e4\ud551 \ud655\uc778 (SSD OSD\ub9cc \uc0ac\uc6a9\ud558\ub294\uc9c0 \uac80\uc99d)\nsudo ceph pg dump pgs | grep ssd-pool\n</code></pre>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#lab-4-rbd-block-device","title":"Lab 4: RBD Block Device \uc0ac\uc6a9","text":"<p>\ubaa9\ud45c: RBD \uc774\ubbf8\uc9c0 \uc0dd\uc131, \ub9c8\uc6b4\ud2b8, \uc2a4\ub0c5\uc0f7</p> <p>\ucf54\ub4dc:</p> <pre><code># === RBD Pool \uc0dd\uc131 ===\nsudo ceph osd pool create rbd 128 replicated\nsudo ceph osd pool application enable rbd rbd\n\n# === RBD \uc774\ubbf8\uc9c0 \uc0dd\uc131 ===\nsudo rbd create --size 10G rbd/my-disk\n\n# \uc774\ubbf8\uc9c0 \ubaa9\ub85d \ud655\uc778\nsudo rbd ls rbd\nsudo rbd info rbd/my-disk\n\n# === RBD \uc774\ubbf8\uc9c0 \ub9f5\ud551 (Block Device\ub85c \ub9c8\uc6b4\ud2b8) ===\nsudo rbd map rbd/my-disk\n\n# \ub9f5\ud551\ub41c \ub514\ubc14\uc774\uc2a4 \ud655\uc778\nsudo rbd showmapped\n# id  pool  namespace  image     snap  device\n# 0   rbd              my-disk   -     /dev/rbd0\n\n# === \ud30c\uc77c\uc2dc\uc2a4\ud15c \uc0dd\uc131 &amp; \ub9c8\uc6b4\ud2b8 ===\nsudo mkfs.ext4 /dev/rbd0\nsudo mkdir /mnt/rbd-disk\nsudo mount /dev/rbd0 /mnt/rbd-disk\n\n# \ud30c\uc77c \uc4f0\uae30\necho \"Hello from RBD\" | sudo tee /mnt/rbd-disk/test.txt\n\n# === Snapshot \uc0dd\uc131 ===\n# (\ub9c8\uc6b4\ud2b8 \ud574\uc81c \ud544\uc694)\nsudo umount /mnt/rbd-disk\nsudo rbd unmap /dev/rbd0\n\n# \uc2a4\ub0c5\uc0f7 \uc0dd\uc131\nsudo rbd snap create rbd/my-disk@snap1\n\n# \uc2a4\ub0c5\uc0f7 \ubaa9\ub85d\nsudo rbd snap ls rbd/my-disk\n\n# === Clone \uc0dd\uc131 (\uc2a4\ub0c5\uc0f7\uc5d0\uc11c \uc0c8 \uc774\ubbf8\uc9c0) ===\nsudo rbd snap protect rbd/my-disk@snap1\nsudo rbd clone rbd/my-disk@snap1 rbd/my-disk-clone\n\n# Clone \uc815\ubcf4\nsudo rbd info rbd/my-disk-clone\n</code></pre>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#lab-5-cephfs-file-system-mount","title":"Lab 5: CephFS File System Mount","text":"<p>\ubaa9\ud45c: CephFS \ud30c\uc77c\uc2dc\uc2a4\ud15c \uc0dd\uc131 \ubc0f \ud074\ub77c\uc774\uc5b8\ud2b8 \ub9c8\uc6b4\ud2b8</p> <p>\ucf54\ub4dc:</p> <ol> <li>CephFS \uc0dd\uc131:</li> </ol> <pre><code># Metadata Pool \uc0dd\uc131\nsudo ceph osd pool create cephfs_metadata 64 replicated\n\n# Data Pool \uc0dd\uc131\nsudo ceph osd pool create cephfs_data 128 replicated\n\n# CephFS \uc0dd\uc131\nsudo ceph fs new my-cephfs cephfs_metadata cephfs_data\n\n# CephFS \uc0c1\ud0dc \ud655\uc778\nsudo ceph fs ls\nsudo ceph fs status my-cephfs\n</code></pre> <ol> <li>MDS \ubc30\ud3ec:</li> </ol> <pre><code># MDS \ub370\ubaac \ubc30\ud3ec (Active 1, Standby 1)\nsudo ceph orch apply mds my-cephfs --placement=\"2 ceph1 ceph2\"\n\n# MDS \uc0c1\ud0dc \ud655\uc778\nsudo ceph mds stat\n</code></pre> <ol> <li>\ud074\ub77c\uc774\uc5b8\ud2b8 \ub9c8\uc6b4\ud2b8 (Kernel Driver):</li> </ol> <pre><code># \uc778\uc99d \ud0a4 \ud655\uc778\nsudo ceph auth get client.admin\n\n# /etc/ceph/ceph.client.admin.keyring \ud30c\uc77c\uc5d0 \ud0a4 \uc800\uc7a5\n\n# \ub9c8\uc6b4\ud2b8\nsudo mount -t ceph ceph1:6789:/ /mnt/cephfs -o name=admin,secret=AQD...==\n\n# \ub610\ub294 keyring \ud30c\uc77c \uc0ac\uc6a9\nsudo mount -t ceph ceph1:6789:/ /mnt/cephfs -o name=admin,secretfile=/etc/ceph/admin.secret\n\n# \ub9c8\uc6b4\ud2b8 \ud655\uc778\ndf -h /mnt/cephfs\n</code></pre> <ol> <li>CephFS \uc0ac\uc6a9:</li> </ol> <pre><code># \ud30c\uc77c \uc0dd\uc131\necho \"Hello CephFS\" | sudo tee /mnt/cephfs/test.txt\n\n# \ub514\ub809\ud1a0\ub9ac \uc2a4\ub0c5\uc0f7\nsudo mkdir /mnt/cephfs/.snap/snap1\n\n# \uc2a4\ub0c5\uc0f7 \ud655\uc778\nls /mnt/cephfs/.snap/\n\n# Quota \uc124\uc815 (\ub514\ub809\ud1a0\ub9ac\ubcc4)\nsudo setfattr -n ceph.quota.max_bytes -v 1000000000 /mnt/cephfs/data  # 1GB\n</code></pre>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>Ceph \uacf5\uc2dd \uc0ac\uc774\ud2b8: https://ceph.io/</li> <li>Ceph Technology: https://ceph.io/en/discover/technology/</li> <li>Ceph Architecture: https://docs.ceph.com/en/reef/architecture/</li> <li>CRUSH Maps: https://docs.ceph.com/en/latest/rados/operations/crush-map/</li> <li>Placement Groups: https://docs.ceph.com/en/reef/rados/operations/placement-groups/</li> <li>BlueStore Configuration: https://docs.ceph.com/en/reef/rados/configuration/bluestore-config-ref/</li> <li>Erasure Code: https://docs.ceph.com/en/reef/rados/operations/erasure-code/</li> <li>Ceph Glossary: https://docs.ceph.com/en/latest/glossary/</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_7","title":"\ub9b4\ub9ac\uc2a4 \ub178\ud2b8","text":"<ul> <li>Squid Release: https://docs.ceph.com/en/latest/releases/squid/</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_8","title":"\ud558\ub4dc\uc6e8\uc5b4 \uac00\uc774\ub4dc","text":"<ul> <li>Hardware Recommendations: https://docs.ceph.com/en/latest/start/hardware-recommendations/</li> <li>IBM Storage Ceph Concepts: https://www.redbooks.ibm.com/redpieces/pdfs/redp5721.pdf</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#red-hat-ceph-storage","title":"Red Hat Ceph Storage \ubb38\uc11c","text":"<ul> <li>Red Hat Storage Strategies Guide: https://access.redhat.com/documentation/en-us/red_hat_ceph_storage/5/html-single/storage_strategies_guide/index</li> <li>Red Hat Placement Groups: https://docs.redhat.com/en/documentation/red_hat_ceph_storage/5/html/storage_strategies_guide/placement_groups_pgs</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_9","title":"\ube14\ub85c\uadf8 &amp; \uc544\ud2f0\ud074","text":"<ul> <li>From RADOS to Ceph Services (RBD, RGW, CephFS): https://dev.to/seno21/from-rados-to-ceph-services-rbd-rgw-and-cephfs-6ho</li> <li>Ceph RocksDB Tuning Deep-Dive: https://ceph.io/en/news/blog/2022/rocksdb-tuning-deep-dive/</li> <li>Comparing Ceph BlueStore and FileStore: https://www.micron.com/about/blog/storage/ssd/comparing-ceph-bluestore-filestore-block</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_10","title":"\uad50\uc721 \uc790\ub8cc","text":"<ul> <li>Ceph Storage Fundamentals - Level 1: https://ecintelligence.ma/en/sessions/ceph-storage-fundamentals-level-1-20250804/</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#wikipedia","title":"Wikipedia","text":"<ul> <li>Ceph (software): https://en.wikipedia.org/wiki/Ceph_(software)</li> </ul>"},{"location":"iam-storage-service/Ch9.Ceph_%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98/#_11","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<p>\uc644\ub8cc\ud55c \ud56d\ubaa9\uc5d0 \uccb4\ud06c\ud558\uc138\uc694:</p> <ul> <li> RADOS, CRUSH \uc54c\uace0\ub9ac\uc998\uc758 \ud575\uc2ec \uc6d0\ub9ac\ub97c \uc774\ud574\ud558\uace0 \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> Ceph \ucef4\ud3ec\ub10c\ud2b8(MON, OSD, MGR, MDS, RGW)\uc758 \uc5ed\ud560\uc744 \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> CRUSH Map\uacfc CRUSH Rule\uc744 \ud3b8\uc9d1\ud558\uc5ec \ub370\uc774\ud130 \ubc30\uce58 \uc815\ucc45\uc744 \uc124\uc815\ud560 \uc218 \uc788\ub2e4</li> <li> PG \uc218 \uacc4\uc0b0 \uacf5\uc2dd\uc744 \uc774\ud574\ud558\uace0 \uc801\uc808\ud55c PG \uc218\ub97c \uc0b0\ucd9c\ud560 \uc218 \uc788\ub2e4</li> <li> Replicated Pool\uacfc Erasure-Coded Pool\uc758 \ucc28\uc774\ub97c \uc774\ud574\ud558\uace0 \uc6a9\ub3c4\uc5d0 \ub9de\uac8c \uc120\ud0dd\ud560 \uc218 \uc788\ub2e4</li> <li> BlueStore V3\uc758 \uc131\ub2a5 \uac1c\uc120 \uba54\ucee4\ub2c8\uc998(Allocator state \uad00\ub9ac)\uc744 \uc124\uba85\ud560 \uc218 \uc788\ub2e4</li> <li> RBD \uc774\ubbf8\uc9c0 \uc0dd\uc131, \uc2a4\ub0c5\uc0f7, \ud074\ub860 \uc791\uc5c5\uc744 \uc218\ud589\ud560 \uc218 \uc788\ub2e4</li> <li> CephFS\ub97c \ub9c8\uc6b4\ud2b8\ud558\uace0 POSIX \ud30c\uc77c\uc2dc\uc2a4\ud15c\uc73c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4</li> <li> RGW\ub97c \ud1b5\ud574 S3 \ud638\ud658 \uac1d\uccb4 \uc2a4\ud1a0\ub9ac\uc9c0\ub97c \uc81c\uacf5\ud560 \uc218 \uc788\ub2e4</li> <li> Ceph \ud074\ub7ec\uc2a4\ud130\uc758 \uc0c1\ud0dc\ub97c \ubaa8\ub2c8\ud130\ub9c1\ud558\uace0 \ubb38\uc81c\ub97c \uc9c4\ub2e8\ud560 \uc218 \uc788\ub2e4</li> </ul> <p>\ub2e4\uc74c \ucc55\ud130: Ch10. Ceph \uc6b4\uc601 &amp; \uc131\ub2a5\uc5d0\uc11c \ud074\ub7ec\uc2a4\ud130 \ubc30\ud3ec, \ubaa8\ub2c8\ud130\ub9c1, \uc131\ub2a5 \ucd5c\uc801\ud654, \ud2b8\ub7ec\ube14\uc288\ud305\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/","title":"Infrastructure Platform \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>KakaoCloud Infrastructure Platform \uac1c\ubc1c\uc790 \ud3ec\uc9c0\uc158\uc744 \uc704\ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/#_1","title":"\ud3ec\uc9c0\uc158 \uac1c\uc694","text":"<p>\ub370\uc774\ud130\uc13c\ud130 \uc778\ud504\ub77c\uc758 \ubaa8\ub4e0 \uc694\uc18c\ub97c Cloud-native\ud558\uac8c \uad00\ub9ac\ud558\uace0 \uc790\ub3d9\ud654\ud558\ub294 \uac83\uc744 \ubaa9\ud45c\ub85c \ud569\ub2c8\ub2e4.</p> <ul> <li>ClusterAPI &amp; Ironic \uae30\ubc18 \ub300\uaddc\ubaa8 Kubernetes Cluster \uad6c\ucd95 \uc790\ub3d9\ud654</li> <li>Kubernetes Operator \ud328\ud134\uc744 \ud1b5\ud55c \ubc18\ubcf5 \uc791\uc5c5 \uc790\ub3d9\ud654</li> <li>IaC\ub97c \ud1b5\ud55c \uc778\ud504\ub77c \ucf54\ub4dc\ud654 \ubc0f \uc120\uc5b8\uc801 \uad00\ub9ac</li> <li>Cloud-native \ud50c\ub7ab\ud3fc \uad6c\uc131 \ub3c4\uad6c\ub97c \ud65c\uc6a9\ud55c DevOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> </ul>"},{"location":"infrastructure-platform/#_2","title":"\ud544\uc218 \uc5ed\ub7c9","text":""},{"location":"infrastructure-platform/#1-kubernetes","title":"1. Kubernetes \uc2ec\ud654","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub300\uaddc\ubaa8 Kubernetes Cluster \ud658\uacbd\uc5d0\uc11c\uc758 \uc11c\ube44\uc2a4 \uc6b4\uc601 \ub2a5\ub825</li> <li>Kubernetes Controller\uc640 Operator\uc5d0 \ub300\ud55c \uc2e4\ubb34\uc801 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \uc544\ud0a4\ud14d\ucc98 \uc2ec\ud654</li> <li>Control Plane \ucef4\ud3ec\ub10c\ud2b8 \uc774\ud574</li> <li>etcd \uc6b4\uc601 \ubc0f \ubc31\uc5c5</li> <li>API Server \uc778\uc99d/\uc778\uac00</li> <li> Kubernetes Controller \uac1c\ubc1c</li> <li>Controller \ud328\ud134 \uc774\ud574</li> <li>Informer \ubc0f Workqueue</li> <li>Custom Resource Definition (CRD)</li> <li> Kubernetes Operator \uac1c\ubc1c</li> <li>Operator SDK \uc0ac\uc6a9\ubc95</li> <li>Operator \ud328\ud134 \uad6c\ud604</li> <li>Helm Operator, Ansible Operator</li> <li> Kubernetes \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601</li> <li>\ud074\ub7ec\uc2a4\ud130 \uc5c5\uadf8\ub808\uc774\ub4dc</li> <li>\ub178\ub4dc \uad00\ub9ac \ubc0f \uc2a4\ucf00\uc904\ub9c1</li> <li>\ub9ac\uc18c\uc2a4 \ud560\ub2f9 \ubc0f \uc81c\ud55c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c Kubernetes Controller \uac1c\ubc1c</li> <li>Custom Operator \uad6c\ud604</li> <li>\ud074\ub7ec\uc2a4\ud130 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uad00\ub9ac \ub3c4\uad6c \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes Controller \uac1c\ubc1c \uac00\uc774\ub4dc</li> <li>Operator SDK \uacf5\uc2dd \ubb38\uc11c</li> <li>Kubernetes the Hard Way</li> </ul>"},{"location":"infrastructure-platform/#2-clusterapi-ironic","title":"2. ClusterAPI &amp; Ironic","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>ClusterAPI\ub97c \ud65c\uc6a9\ud55c Kubernetes provisioning \uc790\ub3d9\ud654</li> <li>OpenStack Ironic(Baremetal) \ud658\uacbd\uc5d0\uc11c\uc758 \uc6b4\uc601 \ubc0f \uac1c\ubc1c</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> ClusterAPI \uae30\ucd08</li> <li>ClusterAPI \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>Cluster, Machine, MachineDeployment \ub9ac\uc18c\uc2a4</li> <li>Infrastructure Provider \uc774\ud574</li> <li> ClusterAPI \uc2e4\uc2b5</li> <li>\ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131 \uc790\ub3d9\ud654</li> <li>\ub178\ub4dc \ucd94\uac00/\uc81c\uac70 \uc790\ub3d9\ud654</li> <li>\ud074\ub7ec\uc2a4\ud130 \uc5c5\uadf8\ub808\uc774\ub4dc \uc790\ub3d9\ud654</li> <li> OpenStack Ironic</li> <li>Baremetal Provisioning \uc774\ud574</li> <li>Ironic API \uc0ac\uc6a9\ubc95</li> <li>PXE Boot \ubc0f \uc774\ubbf8\uc9c0 \uad00\ub9ac</li> <li> \ud1b5\ud569 \uac1c\ubc1c</li> <li>ClusterAPI\uc640 Ironic \uc5f0\ub3d9</li> <li>\uc790\ub3d9\ud654 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>ClusterAPI\ub97c \uc0ac\uc6a9\ud55c \ud074\ub7ec\uc2a4\ud130 \uc790\ub3d9 \uc0dd\uc131 \ub3c4\uad6c</li> <li>Ironic\uc744 \ud65c\uc6a9\ud55c Baremetal \uc11c\ubc84 \ud504\ub85c\ube44\uc800\ub2dd</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>ClusterAPI \uacf5\uc2dd \ubb38\uc11c</li> <li>OpenStack Ironic \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform/#3-infrastructure-as-code-iac","title":"3. Infrastructure as Code (IaC)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Terraform, Ansible, Packer\ub97c \ud65c\uc6a9\ud55c \uc778\ud504\ub77c \uc790\ub3d9\ud654</li> <li>\uc120\uc5b8\uc801 \uc778\ud504\ub77c \uad00\ub9ac</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Terraform</li> <li>Terraform \uae30\ucd08 \ubb38\ubc95</li> <li>Provider \uc774\ud574 \ubc0f \uc0ac\uc6a9</li> <li>State \uad00\ub9ac</li> <li>Module \uc791\uc131</li> <li>Workspace \ud65c\uc6a9</li> <li> Ansible</li> <li>Ansible \uae30\ucd08</li> <li>Playbook \uc791\uc131</li> <li>Role \uc791\uc131 \ubc0f \uc7ac\uc0ac\uc6a9</li> <li>Ansible Vault\ub97c \ud1b5\ud55c \uc2dc\ud06c\ub9bf \uad00\ub9ac</li> <li> Packer</li> <li>\uc774\ubbf8\uc9c0 \ube4c\ub4dc \uc790\ub3d9\ud654</li> <li>\ub2e4\uc591\ud55c \ud504\ub85c\ube44\uc800\ub108 \uc0ac\uc6a9</li> <li>\uc774\ubbf8\uc9c0 \ucd5c\uc801\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Terraform\uc73c\ub85c \uc778\ud504\ub77c \uad6c\uc131 \uc815\uc758</li> <li>Ansible\uc73c\ub85c \uc11c\ubc84 \uc124\uc815 \uc790\ub3d9\ud654</li> <li>Packer\ub85c \ucee4\uc2a4\ud140 \uc774\ubbf8\uc9c0 \uc0dd\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Terraform \uacf5\uc2dd \ubb38\uc11c</li> <li>Ansible \uacf5\uc2dd \ubb38\uc11c</li> <li>Packer \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform/#4-cloud-native","title":"4. Cloud-native \ud50c\ub7ab\ud3fc \uad6c\uc131 \ub3c4\uad6c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Helm, ArgoCD, Prow, Keycloak, Harbor, Gitlab \ub4f1 \ub3c4\uad6c \ud65c\uc6a9</li> <li>\ucee8\ud14c\uc774\ub108 \uae30\ubc18 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Helm</li> <li>Helm Chart \uc791\uc131</li> <li>Chart \ud15c\ud50c\ub9bf \ubb38\ubc95</li> <li>Chart \ubc30\ud3ec \ubc0f \uad00\ub9ac</li> <li>Helm Operator</li> <li> ArgoCD</li> <li>GitOps\ub97c \ud1b5\ud55c \ubc30\ud3ec</li> <li>Application \uc815\uc758</li> <li>Multi-cluster \uad00\ub9ac</li> <li>Sync Policy \ubc0f Health Check</li> <li> Prow</li> <li>CI/CD \uc6cc\ud06c\ud50c\ub85c\uc6b0 \uad6c\uc131</li> <li>PR \uac80\uc99d \uc790\ub3d9\ud654</li> <li>\ud14c\uc2a4\ud2b8 \uc790\ub3d9\ud654</li> <li> Keycloak</li> <li>\uc778\uc99d/\uc778\uac00 \uc11c\ube44\uc2a4 \uad6c\uc131</li> <li>OAuth2, OIDC \uc5f0\ub3d9</li> <li> Harbor</li> <li>\ucee8\ud14c\uc774\ub108 \ub808\uc9c0\uc2a4\ud2b8\ub9ac \uc6b4\uc601</li> <li>\uc774\ubbf8\uc9c0 \uc2a4\uce94 \ubc0f \ubcf4\uc548 \uc815\ucc45</li> <li> GitLab</li> <li>GitLab CI/CD \uad6c\uc131</li> <li>Container Registry \ud65c\uc6a9</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Helm Chart\ub85c \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud328\ud0a4\uc9d5</li> <li>ArgoCD\ub85c GitOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li>\uc804\uccb4 CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Helm \uacf5\uc2dd \ubb38\uc11c</li> <li>ArgoCD \uacf5\uc2dd \ubb38\uc11c</li> <li>Prow \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform/#5","title":"5. \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uac00\uc2dc\uc131","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\uc11c\ube44\uc2a4 \uc7a5\uc560 \uac10\uc9c0 \ubc0f \uc131\ub2a5 \ucd5c\uc801\ud654\ub97c \uc704\ud55c \ubaa8\ub2c8\ud130\ub9c1 \ud658\uacbd \uad6c\ucd95</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uba54\ud2b8\ub9ad \uc218\uc9d1</li> <li>Prometheus \uc124\uc815 \ubc0f \uc6b4\uc601</li> <li>Exporter \uac1c\ubc1c</li> <li>\uba54\ud2b8\ub9ad \ucffc\ub9ac (PromQL)</li> <li> \uc2dc\uac01\ud654</li> <li>Grafana \ub300\uc2dc\ubcf4\ub4dc \uad6c\uc131</li> <li>\uc54c\ub9bc \uaddc\uce59 \uc124\uc815</li> <li> \ub85c\uae45</li> <li>\uc911\uc559\ud654\ub41c \ub85c\uadf8 \uc218\uc9d1</li> <li>ELK Stack \ub610\ub294 Loki</li> <li>\ub85c\uadf8 \ubd84\uc11d \ubc0f \uac80\uc0c9</li> <li> \ubd84\uc0b0 \ucd94\uc801</li> <li>OpenTelemetry</li> <li>Jaeger \ub610\ub294 Zipkin</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \uad6c\ucd95</li> <li>\ucee4\uc2a4\ud140 \uba54\ud2b8\ub9ad \uc218\uc9d1 \ubc0f \ub300\uc2dc\ubcf4\ub4dc \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Prometheus \uacf5\uc2dd \ubb38\uc11c</li> <li>Grafana \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"infrastructure-platform/#6-linux-os","title":"6. Linux OS \uc774\ubbf8\uc9c0 \uad00\ub9ac","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Linux OS \uc774\ubbf8\uc9c0 \ub514\ubc84\uae45 \ubc0f \ud328\ud0a4\uc9d5 \ub2a5\ub825</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OS \uc774\ubbf8\uc9c0 \uad6c\uc870 \uc774\ud574</li> <li>\ubd80\ud305 \ud504\ub85c\uc138\uc2a4</li> <li>Init \uc2dc\uc2a4\ud15c (systemd)</li> <li>\ud30c\uc77c\uc2dc\uc2a4\ud15c \uad6c\uc870</li> <li> \uc774\ubbf8\uc9c0 \ube4c\ub4dc</li> <li>Packer\ub97c \ud65c\uc6a9\ud55c \uc774\ubbf8\uc9c0 \uc0dd\uc131</li> <li>\ucee4\uc2a4\ud140 \ud328\ud0a4\uc9c0 \ud3ec\ud568</li> <li>\ubcf4\uc548 \ud328\uce58 \uc801\uc6a9</li> <li> \uc774\ubbf8\uc9c0 \ub514\ubc84\uae45</li> <li>\ubd80\ud305 \ubb38\uc81c \ud574\uacb0</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \ub514\ubc84\uae45</li> <li>\uc11c\ube44\uc2a4 \uc2dc\uc791 \ubb38\uc81c \ud574\uacb0</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ucee4\uc2a4\ud140 Linux \uc774\ubbf8\uc9c0 \uc0dd\uc131</li> <li>\uc774\ubbf8\uc9c0 \uac80\uc99d \ubc0f \ud14c\uc2a4\ud2b8 \uc790\ub3d9\ud654</li> </ul>"},{"location":"infrastructure-platform/#_3","title":"\uc6b0\ub300 \uc5ed\ub7c9","text":""},{"location":"infrastructure-platform/#cncf","title":"CNCF \uc624\ud508\uc18c\uc2a4 \ud504\ub85c\uc81d\ud2b8 \uae30\uc5ec","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>CNCF \uc624\ud508\uc18c\uc2a4 \ud504\ub85c\uc81d\ud2b8\uc5d0 \ucf54\ub4dc \uae30\uc5ec \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc624\ud508\uc18c\uc2a4 \uae30\uc5ec \ud504\ub85c\uc138\uc2a4 \uc774\ud574</li> <li>Issue \uc0dd\uc131 \ubc0f \ud574\uacb0</li> <li>Pull Request \uc791\uc131</li> <li>\ucf54\ub4dc \ub9ac\ubdf0 \ud504\ub85c\uc138\uc2a4</li> <li> \uc8fc\uc694 CNCF \ud504\ub85c\uc81d\ud2b8 \ud0d0\uc0c9</li> <li>Kubernetes</li> <li>Prometheus</li> <li>Helm</li> <li>ArgoCD</li> <li>ClusterAPI</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uc791\uc740 \ubc84\uadf8 \uc218\uc815\ubd80\ud130 \uc2dc\uc791</li> <li>\ubb38\uc11c \uac1c\uc120 \uae30\uc5ec</li> <li>\uae30\ub2a5 \ucd94\uac00 \uae30\uc5ec</li> </ul>"},{"location":"infrastructure-platform/#_4","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"infrastructure-platform/#1-1-2","title":"1\ub2e8\uacc4: \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>Kubernetes \uc2ec\ud654 \ud559\uc2b5</li> <li>Terraform \uae30\ucd08</li> <li>Helm \uae30\ucd08</li> </ol>"},{"location":"infrastructure-platform/#2-3-4","title":"2\ub2e8\uacc4: \uc911\uae09 (3-4\uac1c\uc6d4)","text":"<ol> <li>Kubernetes Operator \uac1c\ubc1c</li> <li>ClusterAPI \ud559\uc2b5 \ubc0f \uc2e4\uc2b5</li> <li>Ansible, Packer \ud559\uc2b5</li> <li>ArgoCD\ub97c \ud1b5\ud55c GitOps \uad6c\ucd95</li> </ol>"},{"location":"infrastructure-platform/#3-5-6","title":"3\ub2e8\uacc4: \uace0\uae09 (5-6\uac1c\uc6d4)","text":"<ol> <li>\ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601</li> <li>Ironic \uc5f0\ub3d9 \uac1c\ubc1c</li> <li>\ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \uad6c\ucd95</li> <li>OS \uc774\ubbf8\uc9c0 \uad00\ub9ac</li> </ol>"},{"location":"infrastructure-platform/#4-7","title":"4\ub2e8\uacc4: \uc2e4\ubb34 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\uc624\ud508\uc18c\uc2a4 \uae30\uc5ec</li> <li>\uc885\ud569 \ud504\ub85c\uc81d\ud2b8</li> <li>\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd \uacbd\ud5d8</li> </ol>"},{"location":"infrastructure-platform/#_5","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Kubernetes Controller/Operator \uac1c\ubc1c \uac00\ub2a5</li> <li> ClusterAPI\ub97c \ud65c\uc6a9\ud55c \ud074\ub7ec\uc2a4\ud130 \uc790\ub3d9\ud654 \uad6c\ud604 \uac00\ub2a5</li> <li> Terraform, Ansible, Packer \ud65c\uc6a9 \uac00\ub2a5</li> <li> Helm Chart \uc791\uc131 \ubc0f \ubc30\ud3ec \uac00\ub2a5</li> <li> ArgoCD\ub97c \ud1b5\ud55c GitOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \uac00\ub2a5</li> <li> \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \uad6c\ucd95 \ubc0f \uc6b4\uc601 \uac00\ub2a5</li> <li> Linux OS \uc774\ubbf8\uc9c0 \uad00\ub9ac \uac00\ub2a5</li> </ul>"},{"location":"infrastructure-platform/#_6","title":"\uad00\ub828 \uc790\ub8cc","text":"<ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc - \uba3c\uc800 \ud559\uc2b5 \uad8c\uc7a5</li> <li>\uc804\uccb4 \ud559\uc2b5 \ucee4\ub9ac\ud058\ub7fc</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/","title":"Ch1. Kubernetes \uc2ec\ud654","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>Kubernetes\ub294 \ucee8\ud14c\uc774\ub108 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158\uc758 \uc0ac\uc2e4\uc0c1 \ud45c\uc900\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc774 \uc7a5\uc5d0\uc11c\ub294 Kubernetes\uc758 \ub0b4\ubd80 \uc544\ud0a4\ud14d\ucc98\ub97c \uae4a\uc774 \uc774\ud574\ud558\uace0, Controller\uc640 Operator\ub97c \uc9c1\uc811 \uac1c\ubc1c\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Kubernetes Control Plane\uc758 \ub0b4\ubd80 \ub3d9\uc791 \uc6d0\ub9ac \uc774\ud574</li> <li>Custom Resource Definition (CRD) \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li>Kubernetes Controller \uac1c\ubc1c (Informer, Workqueue)</li> <li>Kubernetes Operator \ud328\ud134 \uad6c\ud604</li> <li>\ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601 \ubc0f \ucd5c\uc801\ud654</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#part-1-kubernetes","title":"\ud83c\udfd7\ufe0f Part 1: Kubernetes \uc544\ud0a4\ud14d\ucc98 \uc2ec\ud654","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#1-control-plane","title":"1. Control Plane \ucef4\ud3ec\ub10c\ud2b8","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#api-server","title":"API Server","text":"<p>\ubaa8\ub4e0 Kubernetes \uc791\uc5c5\uc758 \uc9c4\uc785\uc810\uc785\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 \uae30\ub2a5:</p> <ul> <li>RESTful API \uc81c\uacf5</li> <li>\uc778\uc99d/\uc778\uac00 (Authentication/Authorization)</li> <li>Admission Control</li> <li>etcd\uc640 \ud1b5\uc2e0</li> </ul> <p>API Request \ud750\ub984: <pre><code>Client (kubectl)\n  \u2193\nAPI Server\n  \u2193 Authentication (\uc778\uc99d)\n  \u2193 Authorization (\uc778\uac00)\n  \u2193 Admission Control (\uac80\uc99d/\ubcc0\uacbd)\n  \u2193 Validation (\uc2a4\ud0a4\ub9c8 \uac80\uc99d)\n  \u2193 etcd (\uc800\uc7a5)\n</code></pre></p> <p>Admission Controllers \uc608\uc81c: <pre><code># MutatingWebhookConfiguration\napiVersion: admissionregistration.k8s.io/v1\nkind: MutatingWebhookConfiguration\nmetadata:\n  name: pod-injector\nwebhooks:\n  - name: pod-injector.example.com\n    clientConfig:\n      service:\n        name: pod-injector\n        namespace: default\n        path: \"/mutate\"\n    rules:\n      - operations: [\"CREATE\"]\n        apiGroups: [\"\"]\n        apiVersions: [\"v1\"]\n        resources: [\"pods\"]\n</code></pre></p>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#etcd","title":"etcd","text":"<p>Kubernetes\uc758 \ubaa8\ub4e0 \uc0c1\ud0dc\ub97c \uc800\uc7a5\ud558\ub294 \ubd84\uc0b0 \ud0a4-\uac12 \uc800\uc7a5\uc18c\uc785\ub2c8\ub2e4.</p> <p>etcd \ubc31\uc5c5: <pre><code># etcd \uc2a4\ub0c5\uc0f7 \uc0dd\uc131\nETCDCTL_API=3 etcdctl snapshot save /backup/etcd-snapshot.db \\\n  --endpoints=https://127.0.0.1:2379 \\\n  --cacert=/etc/kubernetes/pki/etcd/ca.crt \\\n  --cert=/etc/kubernetes/pki/etcd/server.crt \\\n  --key=/etc/kubernetes/pki/etcd/server.key\n\n# \uc2a4\ub0c5\uc0f7 \uac80\uc99d\nETCDCTL_API=3 etcdctl snapshot status /backup/etcd-snapshot.db\n\n# \ubcf5\uc6d0\nETCDCTL_API=3 etcdctl snapshot restore /backup/etcd-snapshot.db \\\n  --data-dir=/var/lib/etcd-restore\n</code></pre></p>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#scheduler","title":"Scheduler","text":"<p>Pod\ub97c \uc801\uc808\ud55c Node\uc5d0 \ud560\ub2f9\ud569\ub2c8\ub2e4.</p> <p>\uc2a4\ucf00\uc904\ub9c1 \ud504\ub85c\uc138\uc2a4: <pre><code>1. Filtering (\ud544\ud130\ub9c1)\n   - Node\uac00 Pod \uc694\uad6c\uc0ac\ud56d\uc744 \ub9cc\uc871\ud558\ub294\uac00?\n   - Resource \ucda9\ubd84\ud55c\uac00?\n   - Taints/Tolerations \uc77c\uce58\ud558\ub294\uac00?\n\n2. Scoring (\uc810\uc218 \ubd80\uc5ec)\n   - \ub0a8\uc740 \ub9ac\uc18c\uc2a4 \ube44\uc728\n   - Pod \ubd84\uc0b0 \uc815\ub3c4\n   - Node Affinity\n\n3. Binding (\ud560\ub2f9)\n   - \ucd5c\uace0 \uc810\uc218 Node\uc5d0 Pod \ud560\ub2f9\n</code></pre></p> <p>Custom Scheduler: <pre><code>apiVersion: v1\nkind: Pod\nmetadata:\n  name: my-pod\nspec:\n  schedulerName: my-custom-scheduler  # \ucee4\uc2a4\ud140 \uc2a4\ucf00\uc904\ub7ec \uc9c0\uc815\n  containers:\n  - name: app\n    image: myapp:latest\n</code></pre></p>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#controller-manager","title":"Controller Manager","text":"<p>\ub2e4\uc591\ud55c Controller\ub97c \uc2e4\ud589\ud558\ub294 \ub370\ubaac\uc785\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 Controller:</p> <ul> <li>Deployment Controller: Deployment \uad00\ub9ac</li> <li>ReplicaSet Controller: Pod \ubcf5\uc81c\ubcf8 \uad00\ub9ac</li> <li>Node Controller: Node \uc0c1\ud0dc \ubaa8\ub2c8\ud130\ub9c1</li> <li>Service Controller: LoadBalancer Service \uad00\ub9ac</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#2-node","title":"2. Node \ucef4\ud3ec\ub10c\ud2b8","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#kubelet","title":"Kubelet","text":"<p>\uac01 Node\uc5d0\uc11c \uc2e4\ud589\ub418\uba70, Pod\uc758 \uc0dd\uba85\uc8fc\uae30\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 \uae30\ub2a5:</p> <ul> <li>Pod Spec \uc218\uc2e0 \ubc0f \uc2e4\ud589</li> <li>Container \uc0c1\ud0dc \ubaa8\ub2c8\ud130\ub9c1</li> <li>Volume \ub9c8\uc6b4\ud2b8</li> <li>Health Check \uc218\ud589</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#container-runtime","title":"Container Runtime","text":"<p>\uc2e4\uc81c \ucee8\ud14c\uc774\ub108\ub97c \uc2e4\ud589\ud558\ub294 \uc5d4\uc9c4\uc785\ub2c8\ub2e4.</p> <p>\uc9c0\uc6d0\ub418\ub294 Runtime:</p> <ul> <li>containerd (\uad8c\uc7a5)</li> <li>CRI-O</li> <li>Docker (deprecated, dockershim \uc81c\uac70\ub428)</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#kube-proxy","title":"Kube-proxy","text":"<p>\uac01 Node\uc5d0\uc11c \ub124\ud2b8\uc6cc\ud06c \uaddc\uce59\uc744 \uad00\ub9ac\ud569\ub2c8\ub2e4.</p> <p>\ubaa8\ub4dc:</p> <ul> <li>iptables: \uae30\ubcf8\uac12, iptables \uaddc\uce59 \uc0ac\uc6a9</li> <li>IPVS: \uace0\uc131\ub2a5, \ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc801\ud569</li> <li>userspace: \ub808\uac70\uc2dc</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#part-2-custom-resource-definition-crd","title":"\ud83d\udd27 Part 2: Custom Resource Definition (CRD)","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#1-crd","title":"1. CRD\ub780?","text":"<p>Kubernetes API\ub97c \ud655\uc7a5\ud558\uc5ec \uc0ac\uc6a9\uc790 \uc815\uc758 \ub9ac\uc18c\uc2a4\ub97c \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>CRD \uc815\uc758: <pre><code># crd.yaml\napiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\nmetadata:\n  name: applications.example.com\nspec:\n  group: example.com\n  versions:\n    - name: v1\n      served: true\n      storage: true\n      schema:\n        openAPIV3Schema:\n          type: object\n          properties:\n            spec:\n              type: object\n              properties:\n                image:\n                  type: string\n                replicas:\n                  type: integer\n                  minimum: 1\n                  maximum: 10\n                port:\n                  type: integer\n            status:\n              type: object\n              properties:\n                availableReplicas:\n                  type: integer\n                conditions:\n                  type: array\n                  items:\n                    type: object\n                    properties:\n                      type:\n                        type: string\n                      status:\n                        type: string\n                      lastTransitionTime:\n                        type: string\n                        format: date-time\n      subresources:\n        status: {}  # /status \uc11c\ube0c\ub9ac\uc18c\uc2a4 \ud65c\uc131\ud654\n      additionalPrinterColumns:\n        - name: Image\n          type: string\n          jsonPath: .spec.image\n        - name: Replicas\n          type: integer\n          jsonPath: .spec.replicas\n        - name: Available\n          type: integer\n          jsonPath: .status.availableReplicas\n        - name: Age\n          type: date\n          jsonPath: .metadata.creationTimestamp\n  scope: Namespaced\n  names:\n    plural: applications\n    singular: application\n    kind: Application\n    shortNames:\n      - app\n</code></pre></p> <pre><code># CRD \uc0dd\uc131\nkubectl apply -f crd.yaml\n\n# CRD \ud655\uc778\nkubectl get crd applications.example.com\nkubectl describe crd applications.example.com\n</code></pre>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#2-custom-resource","title":"2. Custom Resource \uc0ac\uc6a9","text":"<pre><code># my-app.yaml\napiVersion: example.com/v1\nkind: Application\nmetadata:\n  name: my-web-app\nspec:\n  image: nginx:1.25\n  replicas: 3\n  port: 80\n</code></pre> <pre><code># CR \uc0dd\uc131\nkubectl apply -f my-app.yaml\n\n# CR \uc870\ud68c\nkubectl get applications\nkubectl get app my-web-app -o yaml\n\n# \uac04\ud3b8 \uc870\ud68c (additionalPrinterColumns)\nkubectl get app\n# NAME          IMAGE         REPLICAS   AVAILABLE   AGE\n# my-web-app    nginx:1.25    3          3           5m\n</code></pre>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#3-validation-defaulting","title":"3. Validation &amp; Defaulting","text":"<p>Validation (\uac80\uc99d): <pre><code>schema:\n  openAPIV3Schema:\n    properties:\n      spec:\n        properties:\n          replicas:\n            type: integer\n            minimum: 1\n            maximum: 100\n          image:\n            type: string\n            pattern: '^[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\/[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*:[a-z0-9]+([\\-\\.\\_]{1}[a-z0-9]+)*$'\n        required:\n          - image\n          - replicas\n</code></pre></p> <p>Defaulting (\uae30\ubcf8\uac12 \uc124\uc815): <pre><code>apiVersion: apiextensions.k8s.io/v1\nkind: CustomResourceDefinition\n# ...\nspec:\n  versions:\n    - name: v1\n      schema:\n        openAPIV3Schema:\n          properties:\n            spec:\n              properties:\n                replicas:\n                  type: integer\n                  default: 1  # \uae30\ubcf8\uac12\n</code></pre></p>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#part-3-kubernetes-controller","title":"\ud83c\udfae Part 3: Kubernetes Controller \uac1c\ubc1c","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#1-controller","title":"1. Controller \ud328\ud134","text":"<p>Controller Loop (Reconcile Loop): <pre><code>   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502  Desired State   \u2502 (CR Spec)\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u2193\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502   Reconcile      \u2502 \u2190 Controller Logic\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502\n            \u2193\n   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502  Current State   \u2502 (Actual Resources)\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#2-controller","title":"2. Controller \uad6c\uc870","text":"<p>\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>Informer: Kubernetes API\ub97c Watch\ud558\uace0 \uce90\uc2dc \uc720\uc9c0</li> <li>Lister: \uce90\uc2dc\uc5d0\uc11c \ub9ac\uc18c\uc2a4 \uc870\ud68c</li> <li>Workqueue: \ucc98\ub9ac\ud560 \uc791\uc5c5 \ud050</li> <li>EventHandler: \ub9ac\uc18c\uc2a4 \ubcc0\uacbd \uc2dc \ud638\ucd9c\ub418\ub294 \ud568\uc218</li> </ul> <pre><code>// controller.go\npackage main\n\nimport (\n    \"fmt\"\n    \"time\"\n\n    appsv1 \"k8s.io/api/apps/v1\"\n    corev1 \"k8s.io/api/core/v1\"\n    \"k8s.io/apimachinery/pkg/api/errors\"\n    metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n    utilruntime \"k8s.io/apimachinery/pkg/util/runtime\"\n    \"k8s.io/apimachinery/pkg/util/wait\"\n    appsinformers \"k8s.io/client-go/informers/apps/v1\"\n    \"k8s.io/client-go/kubernetes\"\n    appslisters \"k8s.io/client-go/listers/apps/v1\"\n    \"k8s.io/client-go/tools/cache\"\n    \"k8s.io/client-go/util/workqueue\"\n    \"k8s.io/klog/v2\"\n)\n\ntype Controller struct {\n    kubeclientset     kubernetes.Interface\n    deploymentsLister appslisters.DeploymentLister\n    deploymentsSynced cache.InformerSynced\n    workqueue         workqueue.RateLimitingInterface\n}\n\nfunc NewController(\n    kubeclientset kubernetes.Interface,\n    deploymentInformer appsinformers.DeploymentInformer) *Controller {\n\n    controller := &amp;Controller{\n        kubeclientset:     kubeclientset,\n        deploymentsLister: deploymentInformer.Lister(),\n        deploymentsSynced: deploymentInformer.Informer().HasSynced,\n        workqueue: workqueue.NewNamedRateLimitingQueue(\n            workqueue.DefaultControllerRateLimiter(),\n            \"Deployments\"),\n    }\n\n    // Event Handlers \uc124\uc815\n    deploymentInformer.Informer().AddEventHandler(cache.ResourceEventHandlerFuncs{\n        AddFunc: controller.enqueueDeployment,\n        UpdateFunc: func(old, new interface{}) {\n            controller.enqueueDeployment(new)\n        },\n        DeleteFunc: controller.enqueueDeployment,\n    })\n\n    return controller\n}\n\nfunc (c *Controller) enqueueDeployment(obj interface{}) {\n    var key string\n    var err error\n    if key, err = cache.MetaNamespaceKeyFunc(obj); err != nil {\n        utilruntime.HandleError(err)\n        return\n    }\n    c.workqueue.Add(key)\n}\n\nfunc (c *Controller) Run(workers int, stopCh &lt;-chan struct{}) error {\n    defer utilruntime.HandleCrash()\n    defer c.workqueue.ShutDown()\n\n    klog.Info(\"Starting controller\")\n\n    // Informer \uce90\uc2dc \ub3d9\uae30\ud654 \ub300\uae30\n    klog.Info(\"Waiting for informer caches to sync\")\n    if ok := cache.WaitForCacheSync(stopCh, c.deploymentsSynced); !ok {\n        return fmt.Errorf(\"failed to wait for caches to sync\")\n    }\n\n    klog.Info(\"Starting workers\")\n    // Worker \uc2dc\uc791\n    for i := 0; i &lt; workers; i++ {\n        go wait.Until(c.runWorker, time.Second, stopCh)\n    }\n\n    klog.Info(\"Started workers\")\n    &lt;-stopCh\n    klog.Info(\"Shutting down workers\")\n\n    return nil\n}\n\nfunc (c *Controller) runWorker() {\n    for c.processNextWorkItem() {\n    }\n}\n\nfunc (c *Controller) processNextWorkItem() bool {\n    obj, shutdown := c.workqueue.Get()\n\n    if shutdown {\n        return false\n    }\n\n    err := func(obj interface{}) error {\n        defer c.workqueue.Done(obj)\n        var key string\n        var ok bool\n\n        if key, ok = obj.(string); !ok {\n            c.workqueue.Forget(obj)\n            utilruntime.HandleError(fmt.Errorf(\"expected string in workqueue but got %#v\", obj))\n            return nil\n        }\n\n        // Reconcile \ub85c\uc9c1 \uc2e4\ud589\n        if err := c.syncHandler(key); err != nil {\n            c.workqueue.AddRateLimited(key)\n            return fmt.Errorf(\"error syncing '%s': %s, requeuing\", key, err.Error())\n        }\n\n        c.workqueue.Forget(obj)\n        klog.Infof(\"Successfully synced '%s'\", key)\n        return nil\n    }(obj)\n\n    if err != nil {\n        utilruntime.HandleError(err)\n        return true\n    }\n\n    return true\n}\n\nfunc (c *Controller) syncHandler(key string) error {\n    // key\ub97c namespace/name\uc73c\ub85c \ubd84\ub9ac\n    namespace, name, err := cache.SplitMetaNamespaceKey(key)\n    if err != nil {\n        utilruntime.HandleError(fmt.Errorf(\"invalid resource key: %s\", key))\n        return nil\n    }\n\n    // Lister\ub97c \uc0ac\uc6a9\ud558\uc5ec \uce90\uc2dc\uc5d0\uc11c Deployment \uc870\ud68c\n    deployment, err := c.deploymentsLister.Deployments(namespace).Get(name)\n    if err != nil {\n        if errors.IsNotFound(err) {\n            klog.Infof(\"Deployment %s/%s has been deleted\", namespace, name)\n            return nil\n        }\n        return err\n    }\n\n    // \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 (\uc608: \ub808\uc774\ube14 \ud655\uc778 \ubc0f \uc5c5\ub370\uc774\ud2b8)\n    if deployment.Labels[\"managed-by\"] != \"my-controller\" {\n        klog.Infof(\"Deployment %s/%s is not managed by this controller\", namespace, name)\n        return nil\n    }\n\n    klog.Infof(\"Processing deployment: %s/%s\", namespace, name)\n    // \uc5ec\uae30\uc5d0 \uc2e4\uc81c Reconcile \ub85c\uc9c1 \uc791\uc131\n\n    return nil\n}\n</code></pre>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#3-informer-workqueue","title":"3. Informer &amp; Workqueue \uc0c1\uc138","text":"<p>Informer\uc758 \uc5ed\ud560: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  API Server     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 Watch\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Informer      \u2502\n\u2502  - Reflector    \u2502 \u2190 API \ubcc0\uacbd \uc0ac\ud56d \uac10\uc9c0\n\u2502  - Store/Cache  \u2502 \u2190 \ub85c\uceec \uce90\uc2dc \uc720\uc9c0\n\u2502  - Event Handler\u2502 \u2190 \uc774\ubca4\ud2b8 \ucc98\ub9ac\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Workqueue     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Workqueue\uc758 \ud2b9\uc9d5 (2025 Best Practice):</p> <ul> <li>Deduplication: \uac19\uc740 \ud0a4\ub97c \uc911\ubcf5 \ucc98\ub9ac\ud558\uc9c0 \uc54a\uc74c</li> <li>Rate Limiting: \uc2e4\ud328 \uc2dc \ubc31\uc624\ud504 \uc9c0\uc5f0</li> <li>Retry: \uc2e4\ud328\ud55c \ud56d\ubaa9 \uc7ac\uc2dc\ub3c4</li> <li>Concurrency: \uc5ec\ub7ec Worker\uac00 \ubcd1\ub82c \ucc98\ub9ac</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#part-4-kubernetes-operator","title":"\ud83e\udd16 Part 4: Kubernetes Operator","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#1-operator","title":"1. Operator \ud328\ud134","text":"<p>Operator = CRD + Custom Controller</p> <p>Operator\uc758 \uc5ed\ud560:</p> <ul> <li>\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec</li> <li>\uc5c5\uadf8\ub808\uc774\ub4dc \uc790\ub3d9\ud654</li> <li>\ubc31\uc5c5 \ubc0f \ubcf5\uad6c</li> <li>\uc2a4\ucf00\uc77c\ub9c1</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#2-operator-sdk-operator","title":"2. Operator SDK\ub85c Operator \uac1c\ubc1c","text":"<pre><code># Operator SDK \uc124\uce58\nbrew install operator-sdk\n\n# Operator \ud504\ub85c\uc81d\ud2b8 \ucd08\uae30\ud654\nmkdir myapp-operator\ncd myapp-operator\noperator-sdk init --domain example.com --repo github.com/myorg/myapp-operator\n\n# API (CRD) \uc0dd\uc131\noperator-sdk create api \\\n  --group apps \\\n  --version v1 \\\n  --kind MyApp \\\n  --resource --controller\n\n# \uc0dd\uc131\ub41c \ud30c\uc77c \uad6c\uc870\n# api/v1/myapp_types.go      \u2190 CRD \uc815\uc758\n# controllers/myapp_controller.go \u2190 Controller \ub85c\uc9c1\n</code></pre> <p>CRD \ud0c0\uc785 \uc815\uc758: <pre><code>// api/v1/myapp_types.go\npackage v1\n\nimport (\n    metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n)\n\n// MyAppSpec defines the desired state of MyApp\ntype MyAppSpec struct {\n    // +kubebuilder:validation:Required\n    // +kubebuilder:validation:MinLength=1\n    Image string `json:\"image\"`\n\n    // +kubebuilder:validation:Minimum=1\n    // +kubebuilder:validation:Maximum=10\n    // +kubebuilder:default=1\n    Replicas int32 `json:\"replicas,omitempty\"`\n\n    // +kubebuilder:validation:Minimum=1\n    // +kubebuilder:validation:Maximum=65535\n    Port int32 `json:\"port,omitempty\"`\n}\n\n// MyAppStatus defines the observed state of MyApp\ntype MyAppStatus struct {\n    AvailableReplicas int32 `json:\"availableReplicas\"`\n    Conditions        []metav1.Condition `json:\"conditions,omitempty\"`\n}\n\n// +kubebuilder:object:root=true\n// +kubebuilder:subresource:status\n// +kubebuilder:printcolumn:name=\"Image\",type=string,JSONPath=`.spec.image`\n// +kubebuilder:printcolumn:name=\"Replicas\",type=integer,JSONPath=`.spec.replicas`\n// +kubebuilder:printcolumn:name=\"Available\",type=integer,JSONPath=`.status.availableReplicas`\n\n// MyApp is the Schema for the myapps API\ntype MyApp struct {\n    metav1.TypeMeta   `json:\",inline\"`\n    metav1.ObjectMeta `json:\"metadata,omitempty\"`\n\n    Spec   MyAppSpec   `json:\"spec,omitempty\"`\n    Status MyAppStatus `json:\"status,omitempty\"`\n}\n\n//+kubebuilder:object:root=true\n\n// MyAppList contains a list of MyApp\ntype MyAppList struct {\n    metav1.TypeMeta `json:\",inline\"`\n    metav1.ListMeta `json:\"metadata,omitempty\"`\n    Items           []MyApp `json:\"items\"`\n}\n</code></pre></p> <p>Controller \ub85c\uc9c1: <pre><code>// controllers/myapp_controller.go\npackage controllers\n\nimport (\n    \"context\"\n\n    appsv1 \"k8s.io/api/apps/v1\"\n    corev1 \"k8s.io/api/core/v1\"\n    \"k8s.io/apimachinery/pkg/api/errors\"\n    metav1 \"k8s.io/apimachinery/pkg/apis/meta/v1\"\n    \"k8s.io/apimachinery/pkg/runtime\"\n    ctrl \"sigs.k8s.io/controller-runtime\"\n    \"sigs.k8s.io/controller-runtime/pkg/client\"\n    \"sigs.k8s.io/controller-runtime/pkg/log\"\n\n    appsv1alpha1 \"github.com/myorg/myapp-operator/api/v1\"\n)\n\n// MyAppReconciler reconciles a MyApp object\ntype MyAppReconciler struct {\n    client.Client\n    Scheme *runtime.Scheme\n}\n\n//+kubebuilder:rbac:groups=apps.example.com,resources=myapps,verbs=get;list;watch;create;update;patch;delete\n//+kubebuilder:rbac:groups=apps.example.com,resources=myapps/status,verbs=get;update;patch\n//+kubebuilder:rbac:groups=apps,resources=deployments,verbs=get;list;watch;create;update;patch;delete\n//+kubebuilder:rbac:groups=core,resources=services,verbs=get;list;watch;create;update;patch;delete\n\n// Reconcile is part of the main kubernetes reconciliation loop\nfunc (r *MyAppReconciler) Reconcile(ctx context.Context, req ctrl.Request) (ctrl.Result, error) {\n    logger := log.FromContext(ctx)\n\n    // MyApp \ub9ac\uc18c\uc2a4 \uc870\ud68c\n    var myApp appsv1alpha1.MyApp\n    if err := r.Get(ctx, req.NamespacedName, &amp;myApp); err != nil {\n        if errors.IsNotFound(err) {\n            logger.Info(\"MyApp resource not found. Ignoring since object must be deleted\")\n            return ctrl.Result{}, nil\n        }\n        logger.Error(err, \"Failed to get MyApp\")\n        return ctrl.Result{}, err\n    }\n\n    // Deployment \uc0dd\uc131 \ub610\ub294 \uc5c5\ub370\uc774\ud2b8\n    deployment := r.deploymentForMyApp(&amp;myApp)\n    found := &amp;appsv1.Deployment{}\n    err := r.Get(ctx, client.ObjectKey{Name: deployment.Name, Namespace: deployment.Namespace}, found)\n    if err != nil &amp;&amp; errors.IsNotFound(err) {\n        logger.Info(\"Creating a new Deployment\", \"Deployment.Namespace\", deployment.Namespace, \"Deployment.Name\", deployment.Name)\n        if err = r.Create(ctx, deployment); err != nil {\n            logger.Error(err, \"Failed to create new Deployment\", \"Deployment.Namespace\", deployment.Namespace, \"Deployment.Name\", deployment.Name)\n            return ctrl.Result{}, err\n        }\n        return ctrl.Result{Requeue: true}, nil\n    } else if err != nil {\n        logger.Error(err, \"Failed to get Deployment\")\n        return ctrl.Result{}, err\n    }\n\n    // Deployment \uc5c5\ub370\uc774\ud2b8 (spec.replicas \ub610\ub294 image \ubcc0\uacbd)\n    if *found.Spec.Replicas != myApp.Spec.Replicas || found.Spec.Template.Spec.Containers[0].Image != myApp.Spec.Image {\n        found.Spec.Replicas = &amp;myApp.Spec.Replicas\n        found.Spec.Template.Spec.Containers[0].Image = myApp.Spec.Image\n        if err = r.Update(ctx, found); err != nil {\n            logger.Error(err, \"Failed to update Deployment\", \"Deployment.Namespace\", found.Namespace, \"Deployment.Name\", found.Name)\n            return ctrl.Result{}, err\n        }\n        logger.Info(\"Updated Deployment\", \"Deployment.Namespace\", found.Namespace, \"Deployment.Name\", found.Name)\n        return ctrl.Result{Requeue: true}, nil\n    }\n\n    // Status \uc5c5\ub370\uc774\ud2b8\n    if myApp.Status.AvailableReplicas != found.Status.AvailableReplicas {\n        myApp.Status.AvailableReplicas = found.Status.AvailableReplicas\n        if err := r.Status().Update(ctx, &amp;myApp); err != nil {\n            logger.Error(err, \"Failed to update MyApp status\")\n            return ctrl.Result{}, err\n        }\n    }\n\n    return ctrl.Result{}, nil\n}\n\nfunc (r *MyAppReconciler) deploymentForMyApp(m *appsv1alpha1.MyApp) *appsv1.Deployment {\n    labels := map[string]string{\n        \"app\":        m.Name,\n        \"managed-by\": \"myapp-operator\",\n    }\n\n    dep := &amp;appsv1.Deployment{\n        ObjectMeta: metav1.ObjectMeta{\n            Name:      m.Name,\n            Namespace: m.Namespace,\n        },\n        Spec: appsv1.DeploymentSpec{\n            Replicas: &amp;m.Spec.Replicas,\n            Selector: &amp;metav1.LabelSelector{\n                MatchLabels: labels,\n            },\n            Template: corev1.PodTemplateSpec{\n                ObjectMeta: metav1.ObjectMeta{\n                    Labels: labels,\n                },\n                Spec: corev1.PodSpec{\n                    Containers: []corev1.Container{{\n                        Name:  \"app\",\n                        Image: m.Spec.Image,\n                        Ports: []corev1.ContainerPort{{\n                            ContainerPort: m.Spec.Port,\n                        }},\n                    }},\n                },\n            },\n        },\n    }\n\n    // Owner Reference \uc124\uc815 (MyApp \uc0ad\uc81c \uc2dc Deployment\ub3c4 \uc0ad\uc81c)\n    ctrl.SetControllerReference(m, dep, r.Scheme)\n\n    return dep\n}\n\n// SetupWithManager sets up the controller with the Manager.\nfunc (r *MyAppReconciler) SetupWithManager(mgr ctrl.Manager) error {\n    return ctrl.NewControllerManagedBy(mgr).\n        For(&amp;appsv1alpha1.MyApp{}).\n        Owns(&amp;appsv1.Deployment{}).  // Deployment \ubcc0\uacbd\ub3c4 \uac10\uc9c0\n        Complete(r)\n}\n</code></pre></p> <p>\ube4c\ub4dc \ubc0f \ubc30\ud3ec: <pre><code># CRD \uc0dd\uc131\nmake manifests\nkubectl apply -f config/crd/bases/\n\n# Operator \ube4c\ub4dc \ubc0f \ud478\uc2dc\nmake docker-build docker-push IMG=myregistry/myapp-operator:v1.0.0\n\n# Operator \ubc30\ud3ec\nmake deploy IMG=myregistry/myapp-operator:v1.0.0\n</code></pre></p>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#_3","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#_4","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>Kubernetes Documentation</li> <li>Kubernetes Controller Development Guide</li> <li>CRD Documentation</li> <li>Operator Pattern</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#controller","title":"Controller \uac1c\ubc1c","text":"<ul> <li>client-go Examples</li> <li>sample-controller</li> <li>Informers Deep Dive (2025)</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#operator-sdk","title":"Operator SDK","text":"<ul> <li>Operator SDK Documentation</li> <li>Operator Framework</li> <li>Kubebuilder Book</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#_5","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Kubernetes Control Plane \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li> etcd \ubc31\uc5c5 \ubc0f \ubcf5\uad6c</li> <li> CRD \uc815\uc758 \ubc0f \uc0dd\uc131</li> <li> Informer, Lister, Workqueue \uc774\ud574</li> <li> Raw Kubernetes Controller \uac1c\ubc1c (client-go)</li> <li> Operator SDK\ub85c Operator \uac1c\ubc1c</li> <li> Owner Reference \ubc0f Finalizer \uc0ac\uc6a9</li> <li> Admission Controller \uad6c\ud604</li> <li> \ub300\uaddc\ubaa8 \ud074\ub7ec\uc2a4\ud130 \uc6b4\uc601 \ubc0f \ucd5c\uc801\ud654</li> </ul>"},{"location":"infrastructure-platform/Ch1.Kubernetes_%EC%8B%AC%ED%99%94/#_6","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Kubernetes \uc2ec\ud654\ub97c \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch2. ClusterAPI &amp; Ironic\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/","title":"Ch2. ClusterAPI &amp; Ironic","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>ClusterAPI\ub294 Kubernetes \ud074\ub7ec\uc2a4\ud130\uc758 \ud504\ub85c\ube44\uc800\ub2dd, \uc5c5\uadf8\ub808\uc774\ub4dc, \uc6b4\uc601\uc744 \uc790\ub3d9\ud654\ud558\ub294 Kubernetes \uc11c\ube0c \ud504\ub85c\uc81d\ud2b8\uc785\ub2c8\ub2e4. OpenStack Ironic\uc740 \ubca0\uc5b4\uba54\ud0c8 \uc11c\ubc84\ub97c \uc790\ub3d9\uc73c\ub85c \ud504\ub85c\ube44\uc800\ub2dd\ud558\ub294 \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4. \ub450 \uae30\uc220\uc744 \uacb0\ud569\ud558\uba74 \ubca0\uc5b4\uba54\ud0c8 \uc778\ud504\ub77c\uc5d0\uc11c Kubernetes \ud074\ub7ec\uc2a4\ud130\ub97c \uc644\uc804 \uc790\ub3d9\ud654\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>ClusterAPI\ub97c \uc0ac\uc6a9\ud55c Kubernetes \ud074\ub7ec\uc2a4\ud130 \uc790\ub3d9 \uc0dd\uc131</li> <li>ClusterAPI Provider \uc774\ud574 \ubc0f \ud65c\uc6a9</li> <li>OpenStack Ironic\uc744 \uc0ac\uc6a9\ud55c \ubca0\uc5b4\uba54\ud0c8 \ud504\ub85c\ube44\uc800\ub2dd</li> <li>ClusterAPI\uc640 Ironic \ud1b5\ud569 \uad6c\uc131</li> </ul>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#part-1-cluster-api","title":"\ud83d\udd27 Part 1: Cluster API","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#1-cluster-api","title":"1. Cluster API \uac1c\ub150","text":"<p>Cluster API\uc758 \ud575\uc2ec \uc6d0\uce59:</p> <ul> <li>Declarative API: YAML\ub85c \ud074\ub7ec\uc2a4\ud130 \uc815\uc758</li> <li>Kubernetes-style: Kubernetes \ud328\ud134 \uc0ac\uc6a9</li> <li>Provider \uae30\ubc18: \ub2e4\uc591\ud55c \uc778\ud504\ub77c \uc9c0\uc6d0 (AWS, Azure, GCP, OpenStack \ub4f1)</li> </ul> <p>\uc544\ud0a4\ud14d\ucc98: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Management Cluster  \u2502 \u2190 ClusterAPI \ucee8\ud2b8\ub864\ub7ec \uc2e4\ud589\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2502\n           \u2193 Provisions\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Workload Cluster 1  \u2502 \u2190 \uc2e4\uc81c \uc6cc\ud06c\ub85c\ub4dc \uc2e4\ud589\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Workload Cluster 2  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#2","title":"2. \ud575\uc2ec \ub9ac\uc18c\uc2a4","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#cluster","title":"Cluster","text":"<p>\uc804\uccb4 \ud074\ub7ec\uc2a4\ud130\ub97c \uc815\uc758\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: cluster.x-k8s.io/v1beta1\nkind: Cluster\nmetadata:\n  name: my-cluster\n  namespace: default\nspec:\n  clusterNetwork:\n    pods:\n      cidrBlocks:\n        - 192.168.0.0/16\n    services:\n      cidrBlocks:\n        - 10.96.0.0/12\n  infrastructureRef:\n    apiVersion: infrastructure.cluster.x-k8s.io/v1beta1\n    kind: OpenStackCluster  # Provider\ubcc4\ub85c \ub2e4\ub984\n    name: my-cluster\n  controlPlaneRef:\n    apiVersion: controlplane.cluster.x-k8s.io/v1beta1\n    kind: KubeadmControlPlane\n    name: my-cluster-control-plane\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#machine","title":"Machine","text":"<p>\uac1c\ubcc4 \ub178\ub4dc(VM \ub610\ub294 \ubca0\uc5b4\uba54\ud0c8)\ub97c \uc815\uc758\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: cluster.x-k8s.io/v1beta1\nkind: Machine\nmetadata:\n  name: my-cluster-control-plane-0\n  namespace: default\nspec:\n  clusterName: my-cluster\n  version: v1.28.0\n  bootstrap:\n    configRef:\n      apiVersion: bootstrap.cluster.x-k8s.io/v1beta1\n      kind: KubeadmConfig\n      name: my-cluster-control-plane-0\n  infrastructureRef:\n    apiVersion: infrastructure.cluster.x-k8s.io/v1beta1\n    kind: OpenStackMachine\n    name: my-cluster-control-plane-0\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#machinedeployment","title":"MachineDeployment","text":"<p>Worker \ub178\ub4dc \uadf8\ub8f9\uc744 \uc815\uc758\ud569\ub2c8\ub2e4 (Deployment\uc640 \uc720\uc0ac).</p> <pre><code>apiVersion: cluster.x-k8s.io/v1beta1\nkind: MachineDeployment\nmetadata:\n  name: my-cluster-workers\n  namespace: default\nspec:\n  clusterName: my-cluster\n  replicas: 3\n  selector:\n    matchLabels:\n      cluster.x-k8s.io/cluster-name: my-cluster\n  template:\n    spec:\n      clusterName: my-cluster\n      version: v1.28.0\n      bootstrap:\n        configRef:\n          apiVersion: bootstrap.cluster.x-k8s.io/v1beta1\n          kind: KubeadmConfigTemplate\n          name: my-cluster-worker\n      infrastructureRef:\n        apiVersion: infrastructure.cluster.x-k8s.io/v1beta1\n        kind: OpenStackMachineTemplate\n        name: my-cluster-worker\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#3-clusterapi","title":"3. ClusterAPI \uc124\uce58 \ubc0f \uc0ac\uc6a9","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#clusterctl","title":"clusterctl \uc124\uce58","text":"<pre><code># macOS\nbrew install clusterctl\n\n# Linux\ncurl -L https://github.com/kubernetes-sigs/cluster-api/releases/latest/download/clusterctl-linux-amd64 -o clusterctl\nchmod +x clusterctl\nsudo mv clusterctl /usr/local/bin/\n\n# \ubc84\uc804 \ud655\uc778\nclusterctl version\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#management-cluster","title":"Management Cluster \ucd08\uae30\ud654","text":"<pre><code># Kind\ub85c Management Cluster \uc0dd\uc131\nkind create cluster --name capi-management\n\n# ClusterAPI \ucd08\uae30\ud654 (AWS Provider \uc608\uc81c)\nexport AWS_REGION=us-east-1\nexport AWS_ACCESS_KEY_ID=&lt;your-access-key&gt;\nexport AWS_SECRET_ACCESS_KEY=&lt;your-secret-key&gt;\n\nclusterctl init --infrastructure aws\n\n# \uc124\uce58\ub41c Provider \ud655\uc778\nkubectl get pods -n capi-system\nkubectl get pods -n capa-system  # AWS Provider\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#workload-cluster","title":"Workload Cluster \uc0dd\uc131","text":"<pre><code># \ud074\ub7ec\uc2a4\ud130 \ub9e4\ub2c8\ud398\uc2a4\ud2b8 \uc0dd\uc131\nclusterctl generate cluster my-cluster \\\n  --kubernetes-version v1.28.0 \\\n  --control-plane-machine-count=3 \\\n  --worker-machine-count=3 \\\n  &gt; my-cluster.yaml\n\n# \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131\nkubectl apply -f my-cluster.yaml\n\n# \ud074\ub7ec\uc2a4\ud130 \uc0c1\ud0dc \ud655\uc778\nclusterctl describe cluster my-cluster\n\n# Kubeconfig \uac00\uc838\uc624\uae30\nclusterctl get kubeconfig my-cluster &gt; my-cluster.kubeconfig\n\n# \uc0dd\uc131\ub41c \ud074\ub7ec\uc2a4\ud130 \uc0ac\uc6a9\nexport KUBECONFIG=my-cluster.kubeconfig\nkubectl get nodes\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#4-cluster","title":"4. Cluster \uad00\ub9ac","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_3","title":"\uc2a4\ucf00\uc77c\ub9c1","text":"<pre><code># Worker \ub178\ub4dc \uc2a4\ucf00\uc77c \uc544\uc6c3\nkubectl scale machinedeployment my-cluster-workers --replicas=5\n\n# Control Plane \uc2a4\ucf00\uc77c\ub9c1\nkubectl scale kubeadmcontrolplane my-cluster-control-plane --replicas=5\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_4","title":"\uc5c5\uadf8\ub808\uc774\ub4dc","text":"<pre><code># Control Plane \uc5c5\uadf8\ub808\uc774\ub4dc\napiVersion: controlplane.cluster.x-k8s.io/v1beta1\nkind: KubeadmControlPlane\nmetadata:\n  name: my-cluster-control-plane\nspec:\n  version: v1.29.0  # 1.28.0 \u2192 1.29.0\uc73c\ub85c \uc5c5\uadf8\ub808\uc774\ub4dc\n  rolloutStrategy:\n    rollingUpdate:\n      maxSurge: 1\n</code></pre> <pre><code># \ubcc0\uacbd \uc801\uc6a9\nkubectl apply -f control-plane.yaml\n\n# \uc5c5\uadf8\ub808\uc774\ub4dc \uc9c4\ud589 \uc0c1\ud669 \ud655\uc778\nkubectl get kubeadmcontrolplane my-cluster-control-plane -w\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_5","title":"\ud074\ub7ec\uc2a4\ud130 \uc0ad\uc81c","text":"<pre><code># Workload Cluster \uc0ad\uc81c\nkubectl delete cluster my-cluster\n\n# Management Cluster\ub3c4 \uc0ad\uc81c\ud560 \uacbd\uc6b0\nkind delete cluster --name capi-management\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#part-2-openstack-ironic","title":"\ud83d\udda5\ufe0f Part 2: OpenStack Ironic","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#1-ironic","title":"1. Ironic \uc544\ud0a4\ud14d\ucc98","text":"<p>\uc8fc\uc694 \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>ironic-api: REST API \uc11c\ubc84</li> <li>ironic-conductor: \ubca0\uc5b4\uba54\ud0c8 \uad00\ub9ac \uc5d4\uc9c4</li> <li>ironic-python-agent (IPA): \ub178\ub4dc\uc5d0\uc11c \uc2e4\ud589\ub418\ub294 \uc5d0\uc774\uc804\ud2b8</li> <li>Inspector: \ud558\ub4dc\uc6e8\uc5b4 \uac80\uc0ac \uc11c\ube44\uc2a4</li> </ul> <p>\ud504\ub85c\ube44\uc800\ub2dd \ud750\ub984: <pre><code>1. Enrollment (\ub4f1\ub85d)\n   \u2193\n2. Inspection (\uac80\uc0ac)\n   \u2193\n3. Provisioning (\ud504\ub85c\ube44\uc800\ub2dd)\n   \u2193\n4. Deployment (\ubc30\ud3ec)\n   \u2193\n5. Active (\uc6b4\uc601)\n</code></pre></p>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#2-ironic-standalone","title":"2. Ironic \uc124\uce58 (Standalone)","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#bifrost","title":"Bifrost\ub85c \uc124\uce58","text":"<pre><code># Bifrost \uc800\uc7a5\uc18c \ud074\ub860\ngit clone https://opendev.org/openstack/bifrost.git\ncd bifrost\n\n# Ansible\ub85c \uc124\uce58\ncd playbooks\nansible-playbook -vvvv -i inventory/target install.yaml\n\n# Ironic \uc11c\ube44\uc2a4 \ud655\uc778\nsudo systemctl status ironic-api\nsudo systemctl status ironic-conductor\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_6","title":"\ud658\uacbd \ubcc0\uc218 \uc124\uc815","text":"<pre><code># clouds.yaml \uc0dd\uc131\nmkdir -p ~/.config/openstack\ncat &gt; ~/.config/openstack/clouds.yaml &lt;&lt;EOF\nclouds:\n  bifrost:\n    auth_type: none\n    endpoint: http://localhost:6385\nEOF\n\nexport OS_CLOUD=bifrost\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#3","title":"3. \ub178\ub4dc \ub4f1\ub85d \ubc0f \uad00\ub9ac","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_7","title":"\ub178\ub4dc \ub4f1\ub85d","text":"<pre><code># \ub178\ub4dc \ub4f1\ub85d (IPMI \uc0ac\uc6a9)\nopenstack baremetal node create \\\n  --driver ipmi \\\n  --name node-01 \\\n  --driver-info ipmi_address=192.168.1.100 \\\n  --driver-info ipmi_username=admin \\\n  --driver-info ipmi_password=password\n\n# \ud3ec\ud2b8 \uc0dd\uc131\nopenstack baremetal port create \\\n  --node node-01 \\\n  aa:bb:cc:dd:ee:ff\n\n# \ub178\ub4dc \ubaa9\ub85d\nopenstack baremetal node list\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#inspection","title":"\ub178\ub4dc \uac80\uc0ac (Inspection)","text":"<pre><code># inspection-data.json\n{\n  \"node\": \"node-01\",\n  \"inventory\": {\n    \"interfaces\": [\n      {\n        \"name\": \"eth0\",\n        \"mac_address\": \"aa:bb:cc:dd:ee:ff\",\n        \"ipv4_address\": \"192.168.1.101\"\n      }\n    ],\n    \"disks\": [\n      {\n        \"name\": \"/dev/sda\",\n        \"size\": 500000000000\n      }\n    ],\n    \"memory\": {\n      \"total\": 16000000000\n    },\n    \"cpu\": {\n      \"count\": 8\n    }\n  }\n}\n</code></pre> <pre><code># Inspection \uc2e4\ud589\nopenstack baremetal node inspect node-01\n\n# Inspection \uc0c1\ud0dc \ud655\uc778\nopenstack baremetal node show node-01\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_8","title":"\uc774\ubbf8\uc9c0 \ub4f1\ub85d","text":"<pre><code># \uc774\ubbf8\uc9c0 \ub4f1\ub85d (Ubuntu \uc608\uc81c)\nopenstack image create ubuntu-22.04 \\\n  --file ubuntu-22.04-server-amd64.img \\\n  --disk-format qcow2 \\\n  --container-format bare \\\n  --property os_distro=ubuntu\n\n# Deploy \uc774\ubbf8\uc9c0 \ubc0f Kernel/Ramdisk \uc124\uc815\nopenstack baremetal node set node-01 \\\n  --instance-info image_source=ubuntu-22.04 \\\n  --instance-info kernel=file:///path/to/vmlinuz \\\n  --instance-info ramdisk=file:///path/to/initrd\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_9","title":"\ub178\ub4dc \ud504\ub85c\ube44\uc800\ub2dd","text":"<pre><code># \ub178\ub4dc\ub97c available \uc0c1\ud0dc\ub85c \ubcc0\uacbd\nopenstack baremetal node manage node-01\nopenstack baremetal node provide node-01\n\n# \ub178\ub4dc \ubc30\ud3ec\nopenstack baremetal node deploy node-01 \\\n  --config-drive '{\"meta_data\": {}, \"user_data\": \"#!/bin/bash\\necho Hello\"}'\n\n# \ubc30\ud3ec \uc0c1\ud0dc \ud655\uc778\nopenstack baremetal node show node-01 -f value -c provision_state\n# deploying \u2192 wait_call_back \u2192 deploying \u2192 active\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#4-cleaning-deprovisioning","title":"4. Cleaning &amp; Deprovisioning","text":"<pre><code># \ub178\ub4dc \uc0ad\uc81c (clean \uc218\ud589)\nopenstack baremetal node undeploy node-01\n\n# Manual cleaning\nopenstack baremetal node clean node-01 \\\n  --clean-steps '[{\"interface\": \"deploy\", \"step\": \"erase_devices_metadata\"}]'\n\n# \ub178\ub4dc \uc0ad\uc81c\nopenstack baremetal node delete node-01\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#part-3-clusterapi-ironic","title":"\ud83d\udd17 Part 3: ClusterAPI + Ironic \ud1b5\ud569","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#1-capo-cluster-api-provider-openstack","title":"1. CAPO (Cluster API Provider OpenStack)","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#provider","title":"Provider \uc124\uce58","text":"<pre><code># OpenStack credentials \uc124\uc815\nexport OPENSTACK_CLOUD=mycloud\nexport OPENSTACK_CLOUD_YAML_B64=$(base64 -w0 ~/.config/openstack/clouds.yaml)\n\n# CAPO \ucd08\uae30\ud654\nclusterctl init --infrastructure openstack\n\n# \ud655\uc778\nkubectl get pods -n capo-system\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#openstack-cluster","title":"OpenStack Cluster \uc815\uc758","text":"<pre><code># openstack-cluster.yaml\napiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\nkind: OpenStackCluster\nmetadata:\n  name: my-os-cluster\n  namespace: default\nspec:\n  cloudName: mycloud\n  dnsNameservers:\n    - 8.8.8.8\n  externalNetworkId: public-network-id\n  managedAPIServerLoadBalancer: true\n  managedSecurityGroups: true\n  nodeCidr: 10.0.0.0/24\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#openstack-machine-template","title":"OpenStack Machine Template","text":"<pre><code># openstack-machine-template.yaml\napiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\nkind: OpenStackMachineTemplate\nmetadata:\n  name: my-os-cluster-control-plane\n  namespace: default\nspec:\n  template:\n    spec:\n      flavor: m1.large\n      image: ubuntu-22.04\n      sshKeyName: my-keypair\n      cloudName: mycloud\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#2-bare-metal-cluster","title":"2. Bare Metal\uc744 \uc0ac\uc6a9\ud55c Cluster \uc0dd\uc131","text":"<pre><code># baremetal-cluster.yaml\napiVersion: cluster.x-k8s.io/v1beta1\nkind: Cluster\nmetadata:\n  name: baremetal-cluster\n  namespace: default\nspec:\n  clusterNetwork:\n    pods:\n      cidrBlocks:\n        - 192.168.0.0/16\n    services:\n      cidrBlocks:\n        - 10.96.0.0/12\n  infrastructureRef:\n    apiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\n    kind: OpenStackCluster\n    name: baremetal-cluster\n  controlPlaneRef:\n    apiVersion: controlplane.cluster.x-k8s.io/v1beta1\n    kind: KubeadmControlPlane\n    name: baremetal-cluster-control-plane\n---\napiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\nkind: OpenStackCluster\nmetadata:\n  name: baremetal-cluster\nspec:\n  cloudName: bifrost  # Ironic standalone\n  identityRef:\n    name: baremetal-cluster-cloud-config\n    kind: Secret\n---\napiVersion: controlplane.cluster.x-k8s.io/v1beta1\nkind: KubeadmControlPlane\nmetadata:\n  name: baremetal-cluster-control-plane\nspec:\n  version: v1.28.0\n  replicas: 3\n  machineTemplate:\n    infrastructureRef:\n      apiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\n      kind: OpenStackMachineTemplate\n      name: baremetal-cluster-control-plane\n  kubeadmConfigSpec:\n    initConfiguration:\n      nodeRegistration:\n        kubeletExtraArgs:\n          cloud-provider: external\n    joinConfiguration:\n      nodeRegistration:\n        kubeletExtraArgs:\n          cloud-provider: external\n---\napiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\nkind: OpenStackMachineTemplate\nmetadata:\n  name: baremetal-cluster-control-plane\nspec:\n  template:\n    spec:\n      flavor: baremetal  # Ironic flavor\n      image: ubuntu-k8s\n      cloudName: bifrost\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#3_1","title":"3. \uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8","text":"<pre><code>#!/bin/bash\n# create-baremetal-cluster.sh\n\nset -e\n\nCLUSTER_NAME=\"production-k8s\"\nK8S_VERSION=\"v1.28.0\"\nCONTROL_PLANE_COUNT=3\nWORKER_COUNT=5\n\necho \"Creating ClusterAPI resources...\"\n\n# Cluster \uc0dd\uc131\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: cluster.x-k8s.io/v1beta1\nkind: Cluster\nmetadata:\n  name: ${CLUSTER_NAME}\nspec:\n  clusterNetwork:\n    pods:\n      cidrBlocks:\n        - 192.168.0.0/16\n  infrastructureRef:\n    apiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\n    kind: OpenStackCluster\n    name: ${CLUSTER_NAME}\n  controlPlaneRef:\n    apiVersion: controlplane.cluster.x-k8s.io/v1beta1\n    kind: KubeadmControlPlane\n    name: ${CLUSTER_NAME}-cp\nEOF\n\n# Control Plane \uc0dd\uc131\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: controlplane.cluster.x-k8s.io/v1beta1\nkind: KubeadmControlPlane\nmetadata:\n  name: ${CLUSTER_NAME}-cp\nspec:\n  version: ${K8S_VERSION}\n  replicas: ${CONTROL_PLANE_COUNT}\n  machineTemplate:\n    infrastructureRef:\n      apiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\n      kind: OpenStackMachineTemplate\n      name: ${CLUSTER_NAME}-cp\n  kubeadmConfigSpec:\n    initConfiguration:\n      nodeRegistration:\n        kubeletExtraArgs:\n          cloud-provider: external\nEOF\n\n# Worker \ub178\ub4dc \uc0dd\uc131\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: cluster.x-k8s.io/v1beta1\nkind: MachineDeployment\nmetadata:\n  name: ${CLUSTER_NAME}-workers\nspec:\n  clusterName: ${CLUSTER_NAME}\n  replicas: ${WORKER_COUNT}\n  selector:\n    matchLabels: {}\n  template:\n    spec:\n      clusterName: ${CLUSTER_NAME}\n      version: ${K8S_VERSION}\n      bootstrap:\n        configRef:\n          apiVersion: bootstrap.cluster.x-k8s.io/v1beta1\n          kind: KubeadmConfigTemplate\n          name: ${CLUSTER_NAME}-worker\n      infrastructureRef:\n        apiVersion: infrastructure.cluster.x-k8s.io/v1alpha7\n        kind: OpenStackMachineTemplate\n        name: ${CLUSTER_NAME}-worker\nEOF\n\necho \"Waiting for cluster to be ready...\"\nclusterctl describe cluster ${CLUSTER_NAME}\n\necho \"Cluster created successfully!\"\necho \"To get kubeconfig:\"\necho \"  clusterctl get kubeconfig ${CLUSTER_NAME} &gt; ${CLUSTER_NAME}.kubeconfig\"\n</code></pre>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_10","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#cluster-api","title":"Cluster API","text":"<ul> <li>Cluster API Official Documentation</li> <li>Cluster API Book</li> <li>ClusterAPI GitHub</li> <li>ClusterAPI Providers</li> </ul>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#openstack-ironic","title":"OpenStack Ironic","text":"<ul> <li>Ironic Documentation</li> <li>Ironic User Guide</li> <li>Bifrost Documentation</li> <li>Ironic Python Agent</li> </ul>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_11","title":"\ud1b5\ud569","text":"<ul> <li>CAPO - Cluster API Provider OpenStack</li> <li>Metal3 - Bare Metal Provisioning</li> </ul>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_12","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> ClusterAPI \ud575\uc2ec \uac1c\ub150 \uc774\ud574 (Cluster, Machine, MachineDeployment)</li> <li> clusterctl\ub85c Management Cluster \uad6c\uc131</li> <li> Workload Cluster \uc0dd\uc131 \ubc0f \uad00\ub9ac</li> <li> \ud074\ub7ec\uc2a4\ud130 \uc2a4\ucf00\uc77c\ub9c1 \ubc0f \uc5c5\uadf8\ub808\uc774\ub4dc</li> <li> Ironic \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li> Ironic\uc73c\ub85c \ubca0\uc5b4\uba54\ud0c8 \ub178\ub4dc \ub4f1\ub85d \ubc0f \ud504\ub85c\ube44\uc800\ub2dd</li> <li> CAPO\ub97c \uc0ac\uc6a9\ud55c OpenStack \uae30\ubc18 \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131</li> <li> ClusterAPI + Ironic \ud1b5\ud569 \uad6c\uc131</li> </ul>"},{"location":"infrastructure-platform/Ch2.ClusterAPI_Ironic/#_13","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>ClusterAPI &amp; Ironic\uc744 \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch3. Infrastructure as Code (IaC)\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/","title":"Ch3. Infrastructure as Code (IaC)","text":""},{"location":"infrastructure-platform/Ch3.IaC/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>Infrastructure as Code (IaC)\ub294 \uc778\ud504\ub77c\ub97c \ucf54\ub4dc\ub85c \uc815\uc758\ud558\uace0 \ubc84\uc804 \uad00\ub9ac\ud558\uc5ec, \uc77c\uad00\ub418\uace0 \ubc18\ubcf5 \uac00\ub2a5\ud55c \uc778\ud504\ub77c \ubc30\ud3ec\ub97c \uac00\ub2a5\ud558\uac8c \ud569\ub2c8\ub2e4. Terraform, Ansible, Packer\ub294 IaC \uc0dd\ud0dc\uacc4\uc5d0\uc11c \uac00\uc7a5 \ub110\ub9ac \uc0ac\uc6a9\ub418\ub294 \ub3c4\uad6c\uc785\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/Ch3.IaC/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Terraform\uc73c\ub85c \uc778\ud504\ub77c \ub9ac\uc18c\uc2a4 \uc815\uc758 \ubc0f \uad00\ub9ac</li> <li>Ansible\ub85c \uc11c\ubc84 \uc124\uc815 \uc790\ub3d9\ud654</li> <li>Packer\ub85c \uba38\uc2e0 \uc774\ubbf8\uc9c0 \ube4c\ub4dc \uc790\ub3d9\ud654</li> <li>IaC \ubaa8\ubc94 \uc0ac\ub840 (\ubaa8\ub4c8\ud654, \uc0c1\ud0dc \uad00\ub9ac, \ubcf4\uc548) \uc801\uc6a9</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#part-1-terraform","title":"\ud83c\udfd7\ufe0f Part 1: Terraform","text":""},{"location":"infrastructure-platform/Ch3.IaC/#1-terraform","title":"1. Terraform \uae30\ucd08","text":"<p>Terraform\uc758 \ud575\uc2ec \uac1c\ub150:</p> <ul> <li>\uc120\uc5b8\uc801(Declarative): \uc6d0\ud558\ub294 \ucd5c\uc885 \uc0c1\ud0dc\ub97c \uc815\uc758</li> <li>\uba71\ub4f1\uc131(Idempotent): \uc5ec\ub7ec \ubc88 \uc2e4\ud589\ud574\ub3c4 \uac19\uc740 \uacb0\uacfc</li> <li>Provider \uae30\ubc18: AWS, Azure, GCP, Kubernetes \ub4f1 \ub2e4\uc591\ud55c \ud50c\ub7ab\ud3fc \uc9c0\uc6d0</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#_3","title":"\uae30\ubcf8 \uad6c\uc870","text":"<pre><code># main.tf\nterraform {\n  required_version = \"&gt;= 1.6\"\n\n  required_providers {\n    aws = {\n      source  = \"hashicorp/aws\"\n      version = \"~&gt; 5.0\"\n    }\n  }\n}\n\nprovider \"aws\" {\n  region = var.aws_region\n}\n\n# VPC \uc0dd\uc131\nresource \"aws_vpc\" \"main\" {\n  cidr_block           = \"10.0.0.0/16\"\n  enable_dns_hostnames = true\n  enable_dns_support   = true\n\n  tags = {\n    Name        = \"main-vpc\"\n    Environment = var.environment\n  }\n}\n\n# \uc11c\ube0c\ub137 \uc0dd\uc131\nresource \"aws_subnet\" \"public\" {\n  count             = length(var.availability_zones)\n  vpc_id            = aws_vpc.main.id\n  cidr_block        = cidrsubnet(aws_vpc.main.cidr_block, 8, count.index)\n  availability_zone = var.availability_zones[count.index]\n\n  map_public_ip_on_launch = true\n\n  tags = {\n    Name = \"public-subnet-${count.index + 1}\"\n  }\n}\n</code></pre> <pre><code># variables.tf\nvariable \"aws_region\" {\n  description = \"AWS region\"\n  type        = string\n  default     = \"us-east-1\"\n}\n\nvariable \"environment\" {\n  description = \"Environment name\"\n  type        = string\n  default     = \"production\"\n}\n\nvariable \"availability_zones\" {\n  description = \"List of availability zones\"\n  type        = list(string)\n  default     = [\"us-east-1a\", \"us-east-1b\", \"us-east-1c\"]\n}\n</code></pre> <pre><code># outputs.tf\noutput \"vpc_id\" {\n  description = \"ID of the VPC\"\n  value       = aws_vpc.main.id\n}\n\noutput \"public_subnet_ids\" {\n  description = \"IDs of public subnets\"\n  value       = aws_subnet.public[*].id\n}\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#terraform","title":"Terraform \uc6cc\ud06c\ud50c\ub85c\uc6b0","text":"<pre><code># \ucd08\uae30\ud654 (Provider \ub2e4\uc6b4\ub85c\ub4dc)\nterraform init\n\n# \uc2e4\ud589 \uacc4\ud68d \ud655\uc778\nterraform plan\n\n# \uc778\ud504\ub77c \ubc30\ud3ec\nterraform apply\n\n# \ub9ac\uc18c\uc2a4 \uc870\ud68c\nterraform show\nterraform state list\n\n# \uc778\ud504\ub77c \uc0ad\uc81c\nterraform destroy\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#2-terraform","title":"2. Terraform \ubaa8\ub4c8","text":"<p>\ubaa8\ub4c8 \uad6c\uc870: <pre><code>modules/\n\u2514\u2500\u2500 vpc/\n    \u251c\u2500\u2500 main.tf\n    \u251c\u2500\u2500 variables.tf\n    \u2514\u2500\u2500 outputs.tf\n</code></pre></p> <p>\ubaa8\ub4c8 \uc815\uc758 (modules/vpc/main.tf): <pre><code># modules/vpc/main.tf\nresource \"aws_vpc\" \"this\" {\n  cidr_block           = var.vpc_cidr\n  enable_dns_hostnames = var.enable_dns_hostnames\n  enable_dns_support   = var.enable_dns_support\n\n  tags = merge(\n    var.tags,\n    {\n      Name = var.vpc_name\n    }\n  )\n}\n\nresource \"aws_internet_gateway\" \"this\" {\n  vpc_id = aws_vpc.this.id\n\n  tags = merge(\n    var.tags,\n    {\n      Name = \"${var.vpc_name}-igw\"\n    }\n  )\n}\n\nresource \"aws_subnet\" \"public\" {\n  count             = length(var.public_subnet_cidrs)\n  vpc_id            = aws_vpc.this.id\n  cidr_block        = var.public_subnet_cidrs[count.index]\n  availability_zone = var.availability_zones[count.index]\n\n  map_public_ip_on_launch = true\n\n  tags = merge(\n    var.tags,\n    {\n      Name = \"${var.vpc_name}-public-${count.index + 1}\"\n      Type = \"public\"\n    }\n  )\n}\n</code></pre></p> <pre><code># modules/vpc/variables.tf\nvariable \"vpc_name\" {\n  description = \"Name of the VPC\"\n  type        = string\n}\n\nvariable \"vpc_cidr\" {\n  description = \"CIDR block for VPC\"\n  type        = string\n}\n\nvariable \"public_subnet_cidrs\" {\n  description = \"CIDR blocks for public subnets\"\n  type        = list(string)\n}\n\nvariable \"availability_zones\" {\n  description = \"Availability zones\"\n  type        = list(string)\n}\n\nvariable \"enable_dns_hostnames\" {\n  description = \"Enable DNS hostnames\"\n  type        = bool\n  default     = true\n}\n\nvariable \"enable_dns_support\" {\n  description = \"Enable DNS support\"\n  type        = bool\n  default     = true\n}\n\nvariable \"tags\" {\n  description = \"Tags to apply to resources\"\n  type        = map(string)\n  default     = {}\n}\n</code></pre> <pre><code># modules/vpc/outputs.tf\noutput \"vpc_id\" {\n  description = \"ID of the VPC\"\n  value       = aws_vpc.this.id\n}\n\noutput \"public_subnet_ids\" {\n  description = \"IDs of public subnets\"\n  value       = aws_subnet.public[*].id\n}\n\noutput \"internet_gateway_id\" {\n  description = \"ID of the Internet Gateway\"\n  value       = aws_internet_gateway.this.id\n}\n</code></pre> <p>\ubaa8\ub4c8 \uc0ac\uc6a9: <pre><code># main.tf\nmodule \"vpc\" {\n  source = \"./modules/vpc\"\n\n  vpc_name             = \"production-vpc\"\n  vpc_cidr             = \"10.0.0.0/16\"\n  public_subnet_cidrs  = [\"10.0.1.0/24\", \"10.0.2.0/24\", \"10.0.3.0/24\"]\n  availability_zones   = [\"us-east-1a\", \"us-east-1b\", \"us-east-1c\"]\n\n  tags = {\n    Environment = \"production\"\n    ManagedBy   = \"terraform\"\n  }\n}\n\n# \ubaa8\ub4c8 \ucd9c\ub825 \uc0ac\uc6a9\noutput \"vpc_id\" {\n  value = module.vpc.vpc_id\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch3.IaC/#3-state-2025-best-practice","title":"3. State \uad00\ub9ac (2025 Best Practice)","text":""},{"location":"infrastructure-platform/Ch3.IaC/#remote-backend-s3-dynamodb","title":"Remote Backend (S3 + DynamoDB)","text":"<pre><code># backend.tf\nterraform {\n  backend \"s3\" {\n    bucket         = \"my-terraform-state\"\n    key            = \"production/vpc/terraform.tfstate\"\n    region         = \"us-east-1\"\n    encrypt        = true\n    dynamodb_table = \"terraform-state-lock\"\n  }\n}\n</code></pre> <p>S3 \ubc84\ud0b7 \ubc0f DynamoDB \uc0dd\uc131: <pre><code># S3 \ubc84\ud0b7 \uc0dd\uc131 (\ubc84\uc804 \uad00\ub9ac \ud65c\uc131\ud654)\naws s3api create-bucket \\\n  --bucket my-terraform-state \\\n  --region us-east-1\n\naws s3api put-bucket-versioning \\\n  --bucket my-terraform-state \\\n  --versioning-configuration Status=Enabled\n\naws s3api put-bucket-encryption \\\n  --bucket my-terraform-state \\\n  --server-side-encryption-configuration '{\n    \"Rules\": [{\n      \"ApplyServerSideEncryptionByDefault\": {\n        \"SSEAlgorithm\": \"AES256\"\n      }\n    }]\n  }'\n\n# DynamoDB \ud14c\uc774\ube14 \uc0dd\uc131 (State locking)\naws dynamodb create-table \\\n  --table-name terraform-state-lock \\\n  --attribute-definitions AttributeName=LockID,AttributeType=S \\\n  --key-schema AttributeName=LockID,KeyType=HASH \\\n  --billing-mode PAY_PER_REQUEST\n</code></pre></p>"},{"location":"infrastructure-platform/Ch3.IaC/#workspace","title":"Workspace (\ud658\uacbd \ubd84\ub9ac)","text":"<pre><code># Workspace \ubaa9\ub85d\nterraform workspace list\n\n# \uc0c8 Workspace \uc0dd\uc131\nterraform workspace new staging\nterraform workspace new production\n\n# Workspace \uc804\ud658\nterraform workspace select production\n\n# \ud604\uc7ac Workspace \ud655\uc778\nterraform workspace show\n</code></pre> <pre><code># Workspace\ubcc4 \uc124\uc815\nlocals {\n  env_config = {\n    staging = {\n      instance_type = \"t3.small\"\n      instance_count = 2\n    }\n    production = {\n      instance_type = \"t3.large\"\n      instance_count = 5\n    }\n  }\n\n  current_env = local.env_config[terraform.workspace]\n}\n\nresource \"aws_instance\" \"app\" {\n  count         = local.current_env.instance_count\n  instance_type = local.current_env.instance_type\n  # ...\n}\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#4-terraform-best-practices-2025","title":"4. Terraform Best Practices (2025)","text":"<p>1. \ubaa8\ub4c8\ud654 \ubc0f \uc7ac\uc0ac\uc6a9: <pre><code>\u2705 \uc791\uace0 \uc9d1\uc911\ub41c \ubaa8\ub4c8 (Single Responsibility)\n\u2705 \ubc84\uc804 \uad00\ub9ac\ub41c \ubaa8\ub4c8\n\u2705 \uba85\ud655\ud55c \uc785\ub825/\ucd9c\ub825 \uc815\uc758\n</code></pre></p> <p>2. State \ubcf4\uc548: <pre><code># Sensitive \ub370\uc774\ud130 \ubcf4\ud638\noutput \"db_password\" {\n  value     = aws_db_instance.main.password\n  sensitive = true  # \ub85c\uadf8\uc5d0 \ucd9c\ub825\ub418\uc9c0 \uc54a\uc74c\n}\n</code></pre></p> <p>3. \ud658\uacbd \ubd84\ub9ac: <pre><code>environments/\n\u251c\u2500\u2500 dev/\n\u2502   \u251c\u2500\u2500 main.tf\n\u2502   \u251c\u2500\u2500 variables.tf\n\u2502   \u2514\u2500\u2500 backend.tf (\ub2e4\ub978 S3 key)\n\u251c\u2500\u2500 staging/\n\u2514\u2500\u2500 production/\n</code></pre></p> <p>4. \ubcc0\uc218 \ud30c\uc77c \uc0ac\uc6a9: <pre><code># terraform.tfvars (Git\uc5d0 \ucee4\ubc0b)\nenvironment = \"production\"\naws_region  = \"us-east-1\"\n\n# secrets.tfvars (Git\uc5d0\uc11c \uc81c\uc678)\ndb_password = \"super-secret-password\"\n\n# \uc801\uc6a9\nterraform apply -var-file=\"terraform.tfvars\" -var-file=\"secrets.tfvars\"\n</code></pre></p>"},{"location":"infrastructure-platform/Ch3.IaC/#part-2-ansible","title":"\u2699\ufe0f Part 2: Ansible","text":""},{"location":"infrastructure-platform/Ch3.IaC/#1-ansible","title":"1. Ansible \uae30\ucd08","text":"<p>Inventory \ud30c\uc77c: <pre><code># inventory/hosts.ini\n[webservers]\nweb1.example.com\nweb2.example.com\nweb3.example.com\n\n[databases]\ndb1.example.com\ndb2.example.com\n\n[all:vars]\nansible_user=ubuntu\nansible_ssh_private_key_file=~/.ssh/id_rsa\n</code></pre></p> <p>\ub3d9\uc801 Inventory (2025 Best Practice): <pre><code># inventory/aws_ec2.yml\nplugin: amazon.aws.aws_ec2\nregions:\n  - us-east-1\nfilters:\n  tag:Environment: production\nkeyed_groups:\n  - key: tags.Role\n    prefix: role\n  - key: placement.availability_zone\n    prefix: az\n</code></pre></p> <pre><code># \ub3d9\uc801 inventory \uc0ac\uc6a9\nansible-inventory -i inventory/aws_ec2.yml --list\nansible-playbook -i inventory/aws_ec2.yml playbook.yml\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#2-playbook","title":"2. Playbook \uc791\uc131","text":"<p>\uae30\ubcf8 Playbook: <pre><code># playbook.yml\n---\n- name: Configure web servers\n  hosts: webservers\n  become: yes\n\n  vars:\n    nginx_version: \"1.24\"\n    app_port: 8080\n\n  tasks:\n    - name: Update apt cache\n      apt:\n        update_cache: yes\n        cache_valid_time: 3600\n\n    - name: Install Nginx\n      apt:\n        name: nginx={{ nginx_version }}*\n        state: present\n\n    - name: Copy Nginx configuration\n      template:\n        src: templates/nginx.conf.j2\n        dest: /etc/nginx/nginx.conf\n        owner: root\n        group: root\n        mode: '0644'\n      notify: Reload Nginx\n\n    - name: Ensure Nginx is running\n      service:\n        name: nginx\n        state: started\n        enabled: yes\n\n  handlers:\n    - name: Reload Nginx\n      service:\n        name: nginx\n        state: reloaded\n</code></pre></p>"},{"location":"infrastructure-platform/Ch3.IaC/#3-ansible-roles-2025-best-practice","title":"3. Ansible Roles (2025 Best Practice)","text":"<p>Role \uad6c\uc870: <pre><code>roles/\n\u2514\u2500\u2500 nginx/\n    \u251c\u2500\u2500 tasks/\n    \u2502   \u2514\u2500\u2500 main.yml\n    \u251c\u2500\u2500 handlers/\n    \u2502   \u2514\u2500\u2500 main.yml\n    \u251c\u2500\u2500 templates/\n    \u2502   \u2514\u2500\u2500 nginx.conf.j2\n    \u251c\u2500\u2500 files/\n    \u251c\u2500\u2500 vars/\n    \u2502   \u2514\u2500\u2500 main.yml\n    \u251c\u2500\u2500 defaults/\n    \u2502   \u2514\u2500\u2500 main.yml\n    \u2514\u2500\u2500 meta/\n        \u2514\u2500\u2500 main.yml\n</code></pre></p> <p>Role \uc815\uc758: <pre><code># roles/nginx/tasks/main.yml\n---\n- name: Install Nginx\n  apt:\n    name: nginx={{ nginx_version }}\n    state: present\n  when: ansible_os_family == \"Debian\"\n\n- name: Install Nginx (RedHat)\n  yum:\n    name: nginx-{{ nginx_version }}\n    state: present\n  when: ansible_os_family == \"RedHat\"\n\n- name: Copy Nginx configuration\n  template:\n    src: nginx.conf.j2\n    dest: /etc/nginx/nginx.conf\n  notify: Reload Nginx\n\n- name: Start Nginx service\n  service:\n    name: nginx\n    state: started\n    enabled: yes\n</code></pre></p> <pre><code># roles/nginx/defaults/main.yml\n---\nnginx_version: \"1.24\"\nnginx_port: 80\nnginx_worker_processes: auto\nnginx_worker_connections: 1024\n</code></pre> <pre><code># roles/nginx/handlers/main.yml\n---\n- name: Reload Nginx\n  service:\n    name: nginx\n    state: reloaded\n\n- name: Restart Nginx\n  service:\n    name: nginx\n    state: restarted\n</code></pre> <p>Role \uc0ac\uc6a9: <pre><code># site.yml\n---\n- name: Configure web servers\n  hosts: webservers\n  become: yes\n\n  roles:\n    - role: nginx\n      vars:\n        nginx_port: 8080\n    - role: app_deploy\n</code></pre></p>"},{"location":"infrastructure-platform/Ch3.IaC/#4-ansible-vault","title":"4. Ansible Vault (\ubcf4\uc548)","text":"<pre><code># Vault \ud30c\uc77c \uc0dd\uc131\nansible-vault create secrets.yml\n\n# Vault \ud30c\uc77c \ud3b8\uc9d1\nansible-vault edit secrets.yml\n\n# Vault \ud30c\uc77c \uc554\ud638\ud654\nansible-vault encrypt vars/secrets.yml\n\n# Vault \ud30c\uc77c \ubcf5\ud638\ud654\nansible-vault decrypt vars/secrets.yml\n</code></pre> <pre><code># secrets.yml (\uc554\ud638\ud654\ub428)\n---\ndb_password: \"super-secret-password\"\napi_key: \"secret-api-key-12345\"\n</code></pre> <pre><code># playbook\uc5d0\uc11c \uc0ac\uc6a9\n- name: Deploy application\n  hosts: webservers\n  vars_files:\n    - vars/secrets.yml\n\n  tasks:\n    - name: Configure database connection\n      template:\n        src: config.j2\n        dest: /app/config.yml\n</code></pre> <pre><code># Vault \ube44\ubc00\ubc88\ud638\uc640 \ud568\uaed8 \uc2e4\ud589\nansible-playbook -i inventory playbook.yml --ask-vault-pass\n\n# \ube44\ubc00\ubc88\ud638 \ud30c\uc77c \uc0ac\uc6a9\nansible-playbook -i inventory playbook.yml --vault-password-file ~/.vault_pass\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#part-3-packer","title":"\ud83d\udce6 Part 3: Packer","text":""},{"location":"infrastructure-platform/Ch3.IaC/#1-packer","title":"1. Packer \uae30\ucd08","text":"<p>Packer Template (HCL2 \ud3ec\ub9f7): <pre><code># ubuntu-k8s.pkr.hcl\npacker {\n  required_plugins {\n    amazon = {\n      version = \"&gt;= 1.2.0\"\n      source  = \"github.com/hashicorp/amazon\"\n    }\n  }\n}\n\nvariable \"aws_region\" {\n  type    = string\n  default = \"us-east-1\"\n}\n\nvariable \"instance_type\" {\n  type    = string\n  default = \"t3.medium\"\n}\n\nvariable \"k8s_version\" {\n  type    = string\n  default = \"1.28.0\"\n}\n\nsource \"amazon-ebs\" \"ubuntu\" {\n  ami_name      = \"ubuntu-k8s-${var.k8s_version}-{{timestamp}}\"\n  instance_type = var.instance_type\n  region        = var.aws_region\n\n  source_ami_filter {\n    filters = {\n      name                = \"ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*\"\n      root-device-type    = \"ebs\"\n      virtualization-type = \"hvm\"\n    }\n    owners      = [\"099720109477\"]  # Canonical\n    most_recent = true\n  }\n\n  ssh_username = \"ubuntu\"\n\n  tags = {\n    Name        = \"ubuntu-k8s-${var.k8s_version}\"\n    Environment = \"production\"\n    OS          = \"Ubuntu 22.04\"\n    K8sVersion  = var.k8s_version\n  }\n}\n\nbuild {\n  sources = [\"source.amazon-ebs.ubuntu\"]\n\n  # \uc2dc\uc2a4\ud15c \uc5c5\ub370\uc774\ud2b8\n  provisioner \"shell\" {\n    inline = [\n      \"sudo apt-get update\",\n      \"sudo apt-get upgrade -y\",\n      \"sudo apt-get install -y apt-transport-https ca-certificates curl\",\n    ]\n  }\n\n  # Docker \uc124\uce58\n  provisioner \"shell\" {\n    script = \"scripts/install-docker.sh\"\n  }\n\n  # Kubernetes \uc124\uce58\n  provisioner \"shell\" {\n    environment_vars = [\n      \"K8S_VERSION=${var.k8s_version}\",\n    ]\n    script = \"scripts/install-k8s.sh\"\n  }\n\n  # Ansible\ub85c \uc124\uc815\n  provisioner \"ansible\" {\n    playbook_file = \"ansible/configure.yml\"\n  }\n\n  # \uc815\ub9ac \uc791\uc5c5\n  provisioner \"shell\" {\n    inline = [\n      \"sudo apt-get clean\",\n      \"sudo rm -rf /var/lib/apt/lists/*\",\n      \"sudo rm -rf /tmp/*\",\n      \"history -c\",\n    ]\n  }\n\n  # AMI \uac80\uc99d\n  post-processor \"manifest\" {\n    output     = \"manifest.json\"\n    strip_path = true\n  }\n}\n</code></pre></p> <p>\ud504\ub85c\ube44\uc800\ub2dd \uc2a4\ud06c\ub9bd\ud2b8: <pre><code># scripts/install-docker.sh\n#!/bin/bash\nset -e\n\n# Docker \uc124\uce58\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsh get-docker.sh\n\n# Docker \uc11c\ube44\uc2a4 \uc2dc\uc791\nsudo systemctl enable docker\nsudo systemctl start docker\n\n# \uc0ac\uc6a9\uc790\ub97c docker \uadf8\ub8f9\uc5d0 \ucd94\uac00\nsudo usermod -aG docker ubuntu\n\necho \"Docker installed successfully\"\n</code></pre></p> <pre><code># scripts/install-k8s.sh\n#!/bin/bash\nset -e\n\nK8S_VERSION=${K8S_VERSION:-1.28.0}\n\n# Kubernetes \uc800\uc7a5\uc18c \ucd94\uac00\ncurl -fsSL https://pkgs.k8s.io/core:/stable:/v${K8S_VERSION%.*}/deb/Release.key | \\\n  sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg\n\necho \"deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v${K8S_VERSION%.*}/deb/ /\" | \\\n  sudo tee /etc/apt/sources.list.d/kubernetes.list\n\n# kubeadm, kubelet, kubectl \uc124\uce58\nsudo apt-get update\nsudo apt-get install -y kubelet kubeadm kubectl\nsudo apt-mark hold kubelet kubeadm kubectl\n\necho \"Kubernetes ${K8S_VERSION} installed successfully\"\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#2-packer","title":"2. Packer \ube4c\ub4dc","text":"<pre><code># \ud15c\ud50c\ub9bf \uac80\uc99d\npacker validate ubuntu-k8s.pkr.hcl\n\n# \ube4c\ub4dc (dry-run)\npacker build -debug ubuntu-k8s.pkr.hcl\n\n# \uc2e4\uc81c \ube4c\ub4dc\npacker build ubuntu-k8s.pkr.hcl\n\n# \ubcc0\uc218 \uc624\ubc84\ub77c\uc774\ub4dc\npacker build \\\n  -var 'k8s_version=1.29.0' \\\n  -var 'instance_type=t3.large' \\\n  ubuntu-k8s.pkr.hcl\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#3-multi-platform","title":"3. Multi-Platform \ube4c\ub4dc","text":"<pre><code># multi-cloud.pkr.hcl\nsource \"amazon-ebs\" \"aws\" {\n  ami_name = \"myapp-aws-{{timestamp}}\"\n  # AWS \uc124\uc815...\n}\n\nsource \"azure-arm\" \"azure\" {\n  image_name = \"myapp-azure-{{timestamp}}\"\n  # Azure \uc124\uc815...\n}\n\nsource \"googlecompute\" \"gcp\" {\n  image_name = \"myapp-gcp-{{timestamp}}\"\n  # GCP \uc124\uc815...\n}\n\nbuild {\n  sources = [\n    \"source.amazon-ebs.aws\",\n    \"source.azure-arm.azure\",\n    \"source.googlecompute.gcp\",\n  ]\n\n  # \uacf5\ud1b5 \ud504\ub85c\ube44\uc800\ub2dd\n  provisioner \"shell\" {\n    scripts = [\n      \"scripts/update.sh\",\n      \"scripts/install-app.sh\",\n    ]\n  }\n}\n</code></pre>"},{"location":"infrastructure-platform/Ch3.IaC/#_4","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"infrastructure-platform/Ch3.IaC/#terraform_1","title":"Terraform","text":"<ul> <li>Terraform Documentation</li> <li>Terraform Best Practices 2025</li> <li>Terraform Module Registry</li> <li>AWS Provider Documentation</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#ansible","title":"Ansible","text":"<ul> <li>Ansible Documentation</li> <li>Ansible Galaxy</li> <li>Ansible Best Practices 2025</li> <li>Good Practices for Ansible</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#packer","title":"Packer","text":"<ul> <li>Packer Documentation</li> <li>Packer Plugin Registry</li> <li>HCL2 Configuration</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#_5","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"infrastructure-platform/Ch3.IaC/#terraform_2","title":"Terraform","text":"<ul> <li> \ub9ac\uc18c\uc2a4 \uc815\uc758 \ubc0f \ud504\ub85c\ube44\uc800\ub2dd</li> <li> \ubaa8\ub4c8 \uc791\uc131 \ubc0f \uc7ac\uc0ac\uc6a9</li> <li> Remote Backend \uc124\uc815 (S3 + DynamoDB)</li> <li> Workspace\ub97c \ud1b5\ud55c \ud658\uacbd \ubd84\ub9ac</li> <li> State \ud30c\uc77c \ubcf4\uc548 \ubc0f \uad00\ub9ac</li> <li> \ubcc0\uc218 \ubc0f \ucd9c\ub825\uac12 \uc0ac\uc6a9</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#ansible_1","title":"Ansible","text":"<ul> <li> Inventory \ud30c\uc77c \uc791\uc131 (\uc815\uc801/\ub3d9\uc801)</li> <li> Playbook \uc791\uc131</li> <li> Role \uad6c\uc870 \uc774\ud574 \ubc0f \uc791\uc131</li> <li> Ansible Vault\ub85c \ube44\ubc00 \uad00\ub9ac</li> <li> \ud15c\ud50c\ub9bf(Jinja2) \uc0ac\uc6a9</li> <li> Handler \ubc0f \uc54c\ub9bc \uc0ac\uc6a9</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#packer_1","title":"Packer","text":"<ul> <li> Packer \ud15c\ud50c\ub9bf \uc791\uc131 (HCL2)</li> <li> \ud504\ub85c\ube44\uc800\ub108 \uc0ac\uc6a9 (Shell, Ansible)</li> <li> \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ubc0f \uac80\uc99d</li> <li> Multi-platform \ube4c\ub4dc</li> </ul>"},{"location":"infrastructure-platform/Ch3.IaC/#_6","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>IaC\ub97c \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch4. Cloud-Native \ud50c\ub7ab\ud3fc \uad6c\uc131 \ub3c4\uad6c\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/","title":"Ch4. Cloud-Native \ud50c\ub7ab\ud3fc \uad6c\uc131 \ub3c4\uad6c","text":""},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>Cloud-Native \ud50c\ub7ab\ud3fc\uc744 \uad6c\ucd95\ud558\ub824\uba74 \ub2e4\uc591\ud55c \ub3c4\uad6c\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. Helm, ArgoCD, Harbor, Keycloak, GitLab \ub4f1\uc740 Kubernetes \uc0dd\ud0dc\uacc4\uc5d0\uc11c \ud45c\uc900\uc73c\ub85c \uc790\ub9ac\uc7a1\uc740 \ub3c4\uad6c\ub4e4\uc785\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#_2","title":"\ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \uc7a5\uc744 \ud559\uc2b5\ud55c \ud6c4, \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Helm\uc73c\ub85c Kubernetes \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud328\ud0a4\uc9d5 \ubc0f \ubc30\ud3ec</li> <li>ArgoCD\ub85c GitOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li>Harbor\ub85c \ucee8\ud14c\uc774\ub108 \ub808\uc9c0\uc2a4\ud2b8\ub9ac \uc6b4\uc601</li> <li>Keycloak\uc73c\ub85c \ud1b5\ud569 \uc778\uc99d/\uc778\uac00 \uad00\ub9ac</li> <li>GitLab CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uad6c\uc131</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#part-1-helm","title":"\u2388 Part 1: Helm","text":""},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#1-helm-chart","title":"1. Helm Chart \uad6c\uc870","text":"<pre><code>mychart/\n\u251c\u2500\u2500 Chart.yaml          # Chart \uba54\ud0c0\ub370\uc774\ud130\n\u251c\u2500\u2500 values.yaml         # \uae30\ubcf8 \uc124\uc815 \uac12\n\u251c\u2500\u2500 charts/             # \uc758\uc874\uc131 Chart\n\u251c\u2500\u2500 templates/          # Kubernetes \ub9e4\ub2c8\ud398\uc2a4\ud2b8 \ud15c\ud50c\ub9bf\n\u2502   \u251c\u2500\u2500 NOTES.txt      # \uc124\uce58 \ud6c4 \uba54\uc2dc\uc9c0\n\u2502   \u251c\u2500\u2500 _helpers.tpl   # \ud15c\ud50c\ub9bf \ud5ec\ud37c\n\u2502   \u251c\u2500\u2500 deployment.yaml\n\u2502   \u251c\u2500\u2500 service.yaml\n\u2502   \u251c\u2500\u2500 ingress.yaml\n\u2502   \u2514\u2500\u2500 tests/         # \ud5ec\uc2a4 \uccb4\ud06c \ud14c\uc2a4\ud2b8\n\u2514\u2500\u2500 .helmignore        # \ud328\ud0a4\uc9d5 \uc2dc \uc81c\uc678\ud560 \ud30c\uc77c\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#2-chart","title":"2. Chart \uc791\uc131","text":"<p>Chart.yaml: <pre><code>apiVersion: v2\nname: myapp\ndescription: A Helm chart for my application\ntype: application\nversion: 1.0.0        # Chart \ubc84\uc804\nappVersion: \"2.1.0\"   # \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc84\uc804\n\nkeywords:\n  - web\n  - application\n\nmaintainers:\n  - name: DevOps Team\n    email: devops@example.com\n\ndependencies:\n  - name: postgresql\n    version: 12.1.0\n    repository: https://charts.bitnami.com/bitnami\n    condition: postgresql.enabled\n</code></pre></p> <p>values.yaml: <pre><code># values.yaml\nreplicaCount: 3\n\nimage:\n  repository: myregistry/myapp\n  pullPolicy: IfNotPresent\n  tag: \"2.1.0\"\n\nservice:\n  type: ClusterIP\n  port: 80\n\ningress:\n  enabled: true\n  className: nginx\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n  hosts:\n    - host: myapp.example.com\n      paths:\n        - path: /\n          pathType: Prefix\n  tls:\n    - secretName: myapp-tls\n      hosts:\n        - myapp.example.com\n\nresources:\n  limits:\n    cpu: 500m\n    memory: 512Mi\n  requests:\n    cpu: 250m\n    memory: 256Mi\n\nautoscaling:\n  enabled: true\n  minReplicas: 3\n  maxReplicas: 10\n  targetCPUUtilizationPercentage: 70\n\npostgresql:\n  enabled: true\n  auth:\n    username: myapp\n    password: changeme\n    database: myappdb\n</code></pre></p> <p>templates/deployment.yaml: <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ include \"myapp.fullname\" . }}\n  labels:\n    {{- include \"myapp.labels\" . | nindent 4 }}\nspec:\n  {{- if not .Values.autoscaling.enabled }}\n  replicas: {{ .Values.replicaCount }}\n  {{- end }}\n  selector:\n    matchLabels:\n      {{- include \"myapp.selectorLabels\" . | nindent 6 }}\n  template:\n    metadata:\n      annotations:\n        checksum/config: {{ include (print $.Template.BasePath \"/configmap.yaml\") . | sha256sum }}\n      labels:\n        {{- include \"myapp.selectorLabels\" . | nindent 8 }}\n    spec:\n      containers:\n      - name: {{ .Chart.Name }}\n        image: \"{{ .Values.image.repository }}:{{ .Values.image.tag | default .Chart.AppVersion }}\"\n        imagePullPolicy: {{ .Values.image.pullPolicy }}\n        ports:\n        - name: http\n          containerPort: 8080\n        livenessProbe:\n          httpGet:\n            path: /health\n            port: http\n        readinessProbe:\n          httpGet:\n            path: /ready\n            port: http\n        resources:\n          {{- toYaml .Values.resources | nindent 12 }}\n        env:\n        - name: DB_HOST\n          value: {{ include \"myapp.postgresql.fullname\" . }}\n        - name: DB_USER\n          valueFrom:\n            secretKeyRef:\n              name: {{ include \"myapp.postgresql.fullname\" . }}\n              key: username\n</code></pre></p> <p>templates/_helpers.tpl: <pre><code>{{- define \"myapp.name\" -}}\n{{- default .Chart.Name .Values.nameOverride | trunc 63 | trimSuffix \"-\" }}\n{{- end }}\n\n{{- define \"myapp.fullname\" -}}\n{{- if .Values.fullnameOverride }}\n{{- .Values.fullnameOverride | trunc 63 | trimSuffix \"-\" }}\n{{- else }}\n{{- $name := default .Chart.Name .Values.nameOverride }}\n{{- printf \"%s-%s\" .Release.Name $name | trunc 63 | trimSuffix \"-\" }}\n{{- end }}\n{{- end }}\n\n{{- define \"myapp.labels\" -}}\nhelm.sh/chart: {{ include \"myapp.chart\" . }}\n{{ include \"myapp.selectorLabels\" . }}\n{{- if .Chart.AppVersion }}\napp.kubernetes.io/version: {{ .Chart.AppVersion | quote }}\n{{- end }}\napp.kubernetes.io/managed-by: {{ .Release.Service }}\n{{- end }}\n\n{{- define \"myapp.selectorLabels\" -}}\napp.kubernetes.io/name: {{ include \"myapp.name\" . }}\napp.kubernetes.io/instance: {{ .Release.Name }}\n{{- end }}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#3-helm","title":"3. Helm \uba85\ub839\uc5b4","text":"<pre><code># Chart \uc0dd\uc131\nhelm create mychart\n\n# \uc758\uc874\uc131 \uc5c5\ub370\uc774\ud2b8\nhelm dependency update mychart/\n\n# Lint (\uac80\uc99d)\nhelm lint mychart/\n\n# Dry-run (\uc2e4\uc81c \ubc30\ud3ec \uc5c6\uc774 \ud655\uc778)\nhelm install myapp mychart/ --dry-run --debug\n\n# Chart \uc124\uce58\nhelm install myapp mychart/\n\n# \uac12 \uc624\ubc84\ub77c\uc774\ub4dc\nhelm install myapp mychart/ \\\n  --set replicaCount=5 \\\n  --set image.tag=2.2.0\n\n# values \ud30c\uc77c \uc0ac\uc6a9\nhelm install myapp mychart/ -f values-prod.yaml\n\n# \uc5c5\uadf8\ub808\uc774\ub4dc\nhelm upgrade myapp mychart/\n\n# \ub864\ubc31\nhelm rollback myapp 1\n\n# \ub9b4\ub9ac\uc988 \ubaa9\ub85d\nhelm list\n\n# \ub9b4\ub9ac\uc988 \uc0c1\ud0dc\nhelm status myapp\n\n# \uc0ad\uc81c\nhelm uninstall myapp\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#4-helm-best-practices-2025","title":"4. Helm Best Practices (2025)","text":"<p>1. \ud658\uacbd\ubcc4 values \ud30c\uc77c: <pre><code>values-dev.yaml\nvalues-staging.yaml\nvalues-prod.yaml\n</code></pre></p> <p>2. Lookup \ud568\uc218 (\ub3d9\uc801 \ub9ac\uc18c\uc2a4 \uc870\ud68c): <pre><code>{{- $secret := lookup \"v1\" \"Secret\" .Release.Namespace \"mysecret\" }}\n{{- if not $secret }}\napiVersion: v1\nkind: Secret\nmetadata:\n  name: mysecret\ndata:\n  password: {{ randAlphaNum 16 | b64enc }}\n{{- end }}\n</code></pre></p> <p>3. Helm Test: <pre><code># templates/tests/test-connection.yaml\napiVersion: v1\nkind: Pod\nmetadata:\n  name: \"{{ include \"myapp.fullname\" . }}-test\"\n  annotations:\n    \"helm.sh/hook\": test\nspec:\n  containers:\n  - name: wget\n    image: busybox\n    command: ['wget']\n    args: ['{{ include \"myapp.fullname\" . }}:{{ .Values.service.port }}']\n  restartPolicy: Never\n</code></pre></p> <pre><code># \ud14c\uc2a4\ud2b8 \uc2e4\ud589\nhelm test myapp\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#part-2-argocd","title":"\ud83d\ude80 Part 2: ArgoCD","text":""},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#1-argocd","title":"1. ArgoCD \uc124\uce58","text":"<pre><code># Namespace \uc0dd\uc131\nkubectl create namespace argocd\n\n# ArgoCD \uc124\uce58\nkubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml\n\n# ArgoCD UI \ud3ec\ud2b8 \ud3ec\uc6cc\ub529\nkubectl port-forward svc/argocd-server -n argocd 8080:443\n\n# \ucd08\uae30 admin \ube44\ubc00\ubc88\ud638\nkubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=\"{.data.password}\" | base64 -d\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#2-application","title":"2. Application \uc0dd\uc131","text":"<pre><code># application.yaml\napiVersion: argoproj.io/v1alpha1\nkind: Application\nmetadata:\n  name: myapp\n  namespace: argocd\n  finalizers:\n    - resources-finalizer.argocd.argoproj.io\nspec:\n  project: default\n\n  source:\n    repoURL: https://github.com/myorg/myapp-config.git\n    targetRevision: main\n    path: k8s/production\n    helm:\n      valueFiles:\n        - values-prod.yaml\n      parameters:\n        - name: image.tag\n          value: \"2.1.0\"\n\n  destination:\n    server: https://kubernetes.default.svc\n    namespace: production\n\n  syncPolicy:\n    automated:\n      prune: true      # Git\uc5d0\uc11c \uc0ad\uc81c\ub41c \ub9ac\uc18c\uc2a4 \uc81c\uac70\n      selfHeal: true   # \ud074\ub7ec\uc2a4\ud130 \ubcc0\uacbd \uc2dc \uc790\ub3d9 \ubcf5\uad6c\n      allowEmpty: false\n    syncOptions:\n      - CreateNamespace=true\n      - PrunePropagationPolicy=foreground\n      - PruneLast=true\n    retry:\n      limit: 5\n      backoff:\n        duration: 5s\n        factor: 2\n        maxDuration: 3m\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#3-multi-cluster","title":"3. Multi-Cluster \uad00\ub9ac","text":"<pre><code># \ud074\ub7ec\uc2a4\ud130 \ucd94\uac00\nargocd cluster add staging-cluster\n\n# ApplicationSet (\uc5ec\ub7ec \ud074\ub7ec\uc2a4\ud130\uc5d0 \ub3d9\uc2dc \ubc30\ud3ec)\n</code></pre> <pre><code># applicationset.yaml\napiVersion: argoproj.io/v1alpha1\nkind: ApplicationSet\nmetadata:\n  name: myapp-all-clusters\n  namespace: argocd\nspec:\n  generators:\n  - list:\n      elements:\n      - cluster: dev\n        url: https://dev-cluster.example.com\n        namespace: development\n      - cluster: staging\n        url: https://staging-cluster.example.com\n        namespace: staging\n      - cluster: prod\n        url: https://prod-cluster.example.com\n        namespace: production\n  template:\n    metadata:\n      name: '{{cluster}}-myapp'\n    spec:\n      project: default\n      source:\n        repoURL: https://github.com/myorg/myapp-config.git\n        targetRevision: main\n        path: k8s/{{cluster}}\n      destination:\n        server: '{{url}}'\n        namespace: '{{namespace}}'\n      syncPolicy:\n        automated:\n          prune: true\n          selfHeal: true\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#part-3-harbor","title":"\ud83d\udc33 Part 3: Harbor","text":""},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#1-harbor-helm","title":"1. Harbor \uc124\uce58 (Helm)","text":"<pre><code># Helm \uc800\uc7a5\uc18c \ucd94\uac00\nhelm repo add harbor https://helm.goharbor.io\nhelm repo update\n\n# Harbor \uc124\uce58\nhelm install harbor harbor/harbor \\\n  --namespace harbor \\\n  --create-namespace \\\n  --set expose.type=ingress \\\n  --set expose.ingress.hosts.core=harbor.example.com \\\n  --set externalURL=https://harbor.example.com \\\n  --set harborAdminPassword=Harbor12345\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#2","title":"2. \ud504\ub85c\uc81d\ud2b8 \ubc0f \uc0ac\uc6a9\uc790 \uad00\ub9ac","text":"<pre><code># Harbor CLI \uc0ac\uc6a9\n# \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131\nharbor project create --name myproject --public false\n\n# \uc0ac\uc6a9\uc790 \uc0dd\uc131\nharbor user create \\\n  --username developer \\\n  --password Dev12345 \\\n  --email dev@example.com\n\n# \ud504\ub85c\uc81d\ud2b8\uc5d0 \uc0ac\uc6a9\uc790 \ucd94\uac00\nharbor project-member add myproject \\\n  --username developer \\\n  --role developer\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#3","title":"3. \uc774\ubbf8\uc9c0 \ud478\uc2dc/\ud480","text":"<pre><code># Docker \ub85c\uadf8\uc778\ndocker login harbor.example.com -u admin -p Harbor12345\n\n# \uc774\ubbf8\uc9c0 \ud0dc\uadf8\ndocker tag myapp:latest harbor.example.com/myproject/myapp:latest\n\n# \uc774\ubbf8\uc9c0 \ud478\uc2dc\ndocker push harbor.example.com/myproject/myapp:latest\n\n# Kubernetes\uc5d0\uc11c Harbor \uc0ac\uc6a9\nkubectl create secret docker-registry harbor-secret \\\n  --docker-server=harbor.example.com \\\n  --docker-username=admin \\\n  --docker-password=Harbor12345 \\\n  --docker-email=admin@example.com\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#4-trivy","title":"4. \uc774\ubbf8\uc9c0 \uc2a4\uce94 (Trivy)","text":"<pre><code># Harbor\uc5d0\uc11c \uc790\ub3d9 \uc2a4\uce94 \ud65c\uc131\ud654\n# Administration \u2192 Configuration \u2192 System Settings\nvulnerability_scanners:\n  - name: Trivy\n    enabled: true\n    scan_on_push: true  # \ud478\uc2dc \uc2dc \uc790\ub3d9 \uc2a4\uce94\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#part-4-keycloak","title":"\ud83d\udd10 Part 4: Keycloak","text":""},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#1-keycloak","title":"1. Keycloak \uc124\uce58","text":"<pre><code>helm repo add bitnami https://charts.bitnami.com/bitnami\n\nhelm install keycloak bitnami/keycloak \\\n  --namespace keycloak \\\n  --create-namespace \\\n  --set auth.adminUser=admin \\\n  --set auth.adminPassword=admin123\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#2-realm-client","title":"2. Realm \ubc0f Client \uc124\uc815","text":"<p>Realm \uc0dd\uc131 (YAML\ub85c \uc120\uc5b8\uc801 \uad00\ub9ac): <pre><code># realm.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: keycloak-realm\ndata:\n  realm.json: |\n    {\n      \"realm\": \"production\",\n      \"enabled\": true,\n      \"clients\": [\n        {\n          \"clientId\": \"myapp\",\n          \"enabled\": true,\n          \"publicClient\": false,\n          \"redirectUris\": [\"https://myapp.example.com/*\"],\n          \"webOrigins\": [\"https://myapp.example.com\"],\n          \"protocol\": \"openid-connect\",\n          \"clientAuthenticatorType\": \"client-secret\",\n          \"secret\": \"mysecret12345\"\n        }\n      ],\n      \"users\": [\n        {\n          \"username\": \"testuser\",\n          \"enabled\": true,\n          \"email\": \"test@example.com\",\n          \"credentials\": [\n            {\n              \"type\": \"password\",\n              \"value\": \"password123\",\n              \"temporary\": false\n            }\n          ],\n          \"realmRoles\": [\"user\"]\n        }\n      ],\n      \"roles\": {\n        \"realm\": [\n          {\"name\": \"user\"},\n          {\"name\": \"admin\"}\n        ]\n      }\n    }\n</code></pre></p>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#3-oauth2oidc","title":"3. OAuth2/OIDC \uc5f0\ub3d9","text":"<p>Python \uc608\uc81c: <pre><code>from flask import Flask, redirect, url_for, session\nfrom authlib.integrations.flask_client import OAuth\n\napp = Flask(__name__)\napp.secret_key = 'random-secret-key'\n\noauth = OAuth(app)\noauth.register(\n    name='keycloak',\n    client_id='myapp',\n    client_secret='mysecret12345',\n    server_metadata_url='https://keycloak.example.com/realms/production/.well-known/openid-configuration',\n    client_kwargs={'scope': 'openid email profile'}\n)\n\n@app.route('/login')\ndef login():\n    redirect_uri = url_for('authorize', _external=True)\n    return oauth.keycloak.authorize_redirect(redirect_uri)\n\n@app.route('/authorize')\ndef authorize():\n    token = oauth.keycloak.authorize_access_token()\n    user_info = oauth.keycloak.userinfo(token=token)\n    session['user'] = user_info\n    return redirect('/')\n\n@app.route('/')\ndef index():\n    user = session.get('user')\n    if user:\n        return f'Hello {user[\"email\"]}'\n    return 'Not logged in'\n</code></pre></p>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#part-5-gitlab-cicd","title":"\ud83e\udd8a Part 5: GitLab CI/CD","text":""},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#1-gitlab-ciyml","title":"1. .gitlab-ci.yml","text":"<pre><code># .gitlab-ci.yml\nstages:\n  - build\n  - test\n  - deploy\n\nvariables:\n  DOCKER_REGISTRY: harbor.example.com\n  IMAGE_NAME: myproject/myapp\n\n# Docker \uc774\ubbf8\uc9c0 \ube4c\ub4dc\nbuild:\n  stage: build\n  image: docker:latest\n  services:\n    - docker:dind\n  before_script:\n    - docker login -u $CI_REGISTRY_USER -p $CI_REGISTRY_PASSWORD $DOCKER_REGISTRY\n  script:\n    - docker build -t $DOCKER_REGISTRY/$IMAGE_NAME:$CI_COMMIT_SHA .\n    - docker build -t $DOCKER_REGISTRY/$IMAGE_NAME:latest .\n    - docker push $DOCKER_REGISTRY/$IMAGE_NAME:$CI_COMMIT_SHA\n    - docker push $DOCKER_REGISTRY/$IMAGE_NAME:latest\n  only:\n    - main\n\n# \ud14c\uc2a4\ud2b8\ntest:\n  stage: test\n  image: python:3.11\n  script:\n    - pip install -r requirements.txt\n    - pytest tests/ --cov=app\n  coverage: '/TOTAL.*\\s+(\\d+%)$/'\n\n# Kubernetes \ubc30\ud3ec\ndeploy:\n  stage: deploy\n  image: bitnami/kubectl:latest\n  before_script:\n    - kubectl config use-context $KUBE_CONTEXT\n  script:\n    - kubectl set image deployment/myapp myapp=$DOCKER_REGISTRY/$IMAGE_NAME:$CI_COMMIT_SHA -n production\n    - kubectl rollout status deployment/myapp -n production\n  environment:\n    name: production\n    url: https://myapp.example.com\n  only:\n    - main\n  when: manual  # \uc218\ub3d9 \uc2b9\uc778\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#2-gitlab-runner","title":"2. GitLab Runner \uc124\uc815","text":"<pre><code># Helm\uc73c\ub85c GitLab Runner \uc124\uce58\nhelm repo add gitlab https://charts.gitlab.io\n\nhelm install gitlab-runner gitlab/gitlab-runner \\\n  --namespace gitlab \\\n  --create-namespace \\\n  --set gitlabUrl=https://gitlab.example.com \\\n  --set runnerRegistrationToken=$RUNNER_TOKEN \\\n  --set runners.privileged=true\n</code></pre>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#_3","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#helm","title":"Helm","text":"<ul> <li>Helm Documentation</li> <li>Helm Best Practices</li> <li>Artifact Hub</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#argocd","title":"ArgoCD","text":"<ul> <li>ArgoCD Documentation</li> <li>ArgoCD Best Practices</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#harbor","title":"Harbor","text":"<ul> <li>Harbor Documentation</li> <li>Harbor Helm Chart</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#keycloak","title":"Keycloak","text":"<ul> <li>Keycloak Documentation</li> <li>Keycloak on Kubernetes</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#gitlab","title":"GitLab","text":"<ul> <li>GitLab CI/CD Documentation</li> <li>GitLab Runner Helm Chart</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#_4","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Helm Chart \uc791\uc131 \ubc0f \ud15c\ud50c\ub9bf \uc0ac\uc6a9</li> <li> Helm Chart \uc758\uc874\uc131 \uad00\ub9ac</li> <li> \ud658\uacbd\ubcc4 values \ud30c\uc77c \uad00\ub9ac</li> <li> ArgoCD Application \uc815\uc758</li> <li> GitOps \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95</li> <li> Harbor \ud504\ub85c\uc81d\ud2b8 \ubc0f \uc0ac\uc6a9\uc790 \uad00\ub9ac</li> <li> Harbor \uc774\ubbf8\uc9c0 \uc2a4\uce94 \uc124\uc815</li> <li> Keycloak Realm/Client \uc124\uc815</li> <li> OAuth2/OIDC \ud1b5\ud569</li> <li> GitLab CI/CD \ud30c\uc774\ud504\ub77c\uc778 \uc791\uc131</li> <li> GitLab Runner \uc124\uc815 \ubc0f \uad00\ub9ac</li> </ul>"},{"location":"infrastructure-platform/Ch4.Cloud_Native_%ED%94%8C%EB%9E%AB%ED%8F%BC_%EB%8F%84%EA%B5%AC/#_5","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Cloud-Native \ud50c\ub7ab\ud3fc \ub3c4\uad6c\ub97c \ub9c8\uc2a4\ud130\ud55c \ud6c4:</p> <ul> <li>Ch5. \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uac00\uc2dc\uc131\ub85c \uc9c4\ud589</li> <li>\ub610\ub294 README\ub85c \ub3cc\uc544\uac00\uc11c \ud559\uc2b5 \ub85c\ub4dc\ub9f5 \ud655\uc778</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/","title":"Ch5. \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c \ubaa8\ub2c8\ud130\ub9c1","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c\uc758 \uc548\uc815\uc801\uc778 \uc6b4\uc601\uc744 \uc704\ud574\uc11c\ub294 \uc885\ud569\uc801\uc778 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc774 \ud544\uc218\uc801\uc785\ub2c8\ub2e4. \ubcf8 \uc7a5\uc5d0\uc11c\ub294 Prometheus\uc640 Grafana\ub97c \uc911\uc2ec\uc73c\ub85c \ud55c \uba54\ud2b8\ub9ad \uc218\uc9d1, Loki\ub97c \ud65c\uc6a9\ud55c \ub85c\uadf8 \uad00\ub9ac, OpenTelemetry\ub97c \ud1b5\ud55c \ubd84\uc0b0 \ud2b8\ub808\uc774\uc2f1\uae4c\uc9c0 \ud1b5\ud569 Observability \ud50c\ub7ab\ud3fc\uc744 \uad6c\ucd95\ud558\ub294 \ubc29\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Observability\ub294 \ub354 \uc774\uc0c1 \uc120\ud0dd\uc774 \uc544\ub2cc \ud544\uc218\uc785\ub2c8\ub2e4. 70% \uc774\uc0c1\uc758 \uae30\uc5c5\uc774 Prometheus\uc640 OpenTelemetry\ub97c \ud568\uaed8 \uc0ac\uc6a9\ud558\uba70, \ud1b5\ud569 \ud154\ub808\uba54\ud2b8\ub9ac \ud30c\uc774\ud504\ub77c\uc778\uc744 \uad6c\ucd95\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<ol> <li>Prometheus \uba54\ud2b8\ub9ad \uc218\uc9d1 \uc2dc\uc2a4\ud15c \uc774\ud574 \ubc0f \uad6c\ucd95</li> <li>Prometheus \uc544\ud0a4\ud14d\ucc98 \ubc0f \ub370\uc774\ud130 \ubaa8\ub378 \uc774\ud574</li> <li>kube-prometheus-stack\uc744 \ud65c\uc6a9\ud55c Kubernetes \ubaa8\ub2c8\ud130\ub9c1</li> <li> <p>PromQL\uc744 \uc0ac\uc6a9\ud55c \uace0\uae09 \ucffc\ub9ac \uc791\uc131</p> </li> <li> <p>Grafana \uc2dc\uac01\ud654 \ubc0f \uc54c\ub7ec\ud305 \uad6c\uc131</p> </li> <li>\ud6a8\uacfc\uc801\uc778 \ub300\uc2dc\ubcf4\ub4dc \uc124\uacc4 (3-3-3 Rule)</li> <li>AlertManager\ub97c \ud1b5\ud55c \uc54c\ub7ec\ud2b8 \uad00\ub9ac</li> <li> <p>Runbook \uc790\ub3d9\ud654 \ubc0f incident response \ud1b5\ud569</p> </li> <li> <p>\ub85c\uadf8 \uad00\ub9ac \uc2dc\uc2a4\ud15c \uad6c\ucd95</p> </li> <li>Grafana Loki\ub97c \ud65c\uc6a9\ud55c \uacbd\ub7c9 \ub85c\uadf8 \uc218\uc9d1</li> <li>LogQL\uc744 \ud1b5\ud55c \ub85c\uadf8 \ubd84\uc11d</li> <li> <p>Promtail\uc744 \uc0ac\uc6a9\ud55c \ub85c\uadf8 \uc218\uc9d1 \ud30c\uc774\ud504\ub77c\uc778</p> </li> <li> <p>\ubd84\uc0b0 \ud2b8\ub808\uc774\uc2f1 \uad6c\ud604</p> </li> <li>OpenTelemetry\ub97c \ud65c\uc6a9\ud55c \ud45c\uc900\ud654\ub41c \ud2b8\ub808\uc774\uc2f1</li> <li>Context propagation \ubc0f span \uad00\ub9ac</li> <li> <p>Jaeger/Tempo\ub97c \ud65c\uc6a9\ud55c trace \ubd84\uc11d</p> </li> <li> <p>\ud1b5\ud569 Observability \ud50c\ub7ab\ud3fc \uc6b4\uc601</p> </li> <li>Metrics, Logs, Traces \ud1b5\ud569 \ubd84\uc11d</li> <li>Storage \ubc0f retention \uc815\ucc45 \uc218\ub9bd</li> <li>\ubcf4\uc548 \ubc0f \ubc31\uc5c5 \uc804\ub7b5</li> </ol>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#part-1-prometheus-","title":"Part 1: Prometheus - \uba54\ud2b8\ub9ad \uc218\uc9d1\uc758 \ud45c\uc900","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#11-prometheus","title":"1.1 Prometheus \uc544\ud0a4\ud14d\ucc98","text":"<p>Prometheus\ub294 CNCF \uc878\uc5c5 \ud504\ub85c\uc81d\ud2b8\ub85c, \uc2dc\uacc4\uc5f4 \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uae30\ubc18\uc758 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc785\ub2c8\ub2e4.</p> <p>\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>Prometheus Server: \uba54\ud2b8\ub9ad \uc218\uc9d1 \ubc0f \uc800\uc7a5 (TSDB)</li> <li>Exporters: \ub2e4\uc591\ud55c \uc2dc\uc2a4\ud15c\uc758 \uba54\ud2b8\ub9ad\uc744 Prometheus \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658</li> <li>Pushgateway: \ub2e8\uae30 \uc791\uc5c5\uc758 \uba54\ud2b8\ub9ad \uc218\uc9d1</li> <li>AlertManager: \uc54c\ub7ec\ud2b8 \ub77c\uc6b0\ud305 \ubc0f \uc54c\ub9bc \ubc1c\uc1a1</li> </ul> <p>\ub370\uc774\ud130 \ubaa8\ub378: <pre><code>&lt;metric_name&gt;{&lt;label_name&gt;=&lt;label_value&gt;, ...} &lt;value&gt; &lt;timestamp&gt;\n\n\uc608\uc2dc:\nhttp_requests_total{method=\"GET\", endpoint=\"/api/users\", status=\"200\"} 1027 1732435200\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#12-kubernetes-kube-prometheus-stack","title":"1.2 Kubernetes \ubaa8\ub2c8\ud130\ub9c1 - kube-prometheus-stack","text":"<p>2025\ub144 \uae30\uc900, kube-prometheus-stack Helm \ucc28\ud2b8\uac00 Kubernetes \ubaa8\ub2c8\ud130\ub9c1\uc758 de facto standard\uc785\ub2c8\ub2e4.</p> <p>\uc124\uce58: <pre><code># Helm \ub808\ud3ec\uc9c0\ud1a0\ub9ac \ucd94\uac00\nhelm repo add prometheus-community https://prometheus-community.github.io/helm-charts\nhelm repo update\n\n# kube-prometheus-stack \uc124\uce58\nhelm install kube-prometheus prometheus-community/kube-prometheus-stack \\\n  --namespace monitoring \\\n  --create-namespace \\\n  --set prometheus.prometheusSpec.retention=30d \\\n  --set prometheus.prometheusSpec.storageSpec.volumeClaimTemplate.spec.resources.requests.storage=100Gi \\\n  --set grafana.adminPassword=admin123\n</code></pre></p> <p>\ud3ec\ud568 \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>Prometheus Operator</li> <li>Prometheus Server</li> <li>Grafana</li> <li>AlertManager</li> <li>Node Exporter</li> <li>kube-state-metrics</li> <li>\ub2e4\uc591\ud55c ServiceMonitor \ubc0f PrometheusRule</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#13-best-practices-2025","title":"1.3 \ub808\uc774\ube14 \uc124\uacc4 Best Practices (2025)","text":"<p>\uc88b\uc740 \ub808\uc774\ube14 \uc124\uacc4: <pre><code># \u2705 GOOD: \uac04\uacb0\ud558\uace0 \uc758\ubbf8 \uc788\ub294 \ub808\uc774\ube14\nhttp_requests_total{\n  env=\"prod\",              # environment_production (X)\n  svc=\"api\",               # service_name (X)\n  method=\"GET\",\n  status=\"200\"\n}\n\n# \u274c BAD: \uce74\ub514\ub110\ub9ac\ud2f0\uac00 \ub192\uc740 \ub808\uc774\ube14 (user_id, timestamp \ub4f1)\nhttp_requests_total{\n  user_id=\"12345\",         # \uc218\ubc31\ub9cc \uac1c\uc758 \uace0\uc720 \uac12 \uc0dd\uc131\n  timestamp=\"1732435200\"   # \ub9e4 \uc694\uccad\ub9c8\ub2e4 \uc0c8\ub85c\uc6b4 \uc2dc\uacc4\uc5f4 \uc0dd\uc131\n}\n</code></pre></p> <p>\uc2a4\ud1a0\ub9ac\uc9c0 \ud6a8\uc728\ud654:</p> <ul> <li>\ub808\uc774\ube14\uc740 \uac04\uacb0\ud558\uac8c (3-5\uc790)</li> <li>\uce74\ub514\ub110\ub9ac\ud2f0\uac00 \ub192\uc740 \uac12\uc740 \ub808\uc774\ube14\ub85c \uc0ac\uc6a9 \uae08\uc9c0</li> <li>\ud658\uacbd\ubcc4 retention \uc815\ucc45 \ubd84\ub9ac</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#part-2-promql-","title":"Part 2: PromQL - \uac15\ub825\ud55c \ucffc\ub9ac \uc5b8\uc5b4","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#21-promql","title":"2.1 PromQL \uae30\ubcf8","text":"<p>\uae30\ubcf8 \ucffc\ub9ac: <pre><code># \ud2b9\uc815 \uba54\ud2b8\ub9ad \uc870\ud68c\nhttp_requests_total\n\n# \ub808\uc774\ube14 \ud544\ud130\ub9c1\nhttp_requests_total{method=\"GET\", status=\"200\"}\n\n# \uc815\uaddc\ud45c\ud604\uc2dd \uc0ac\uc6a9\nhttp_requests_total{endpoint=~\"/api/.*\"}\n\n# \ub808\uc774\ube14 \uac12 \uc81c\uc678\nhttp_requests_total{status!=\"500\"}\n</code></pre></p> <p>Range Vector \ubc0f \ud568\uc218: <pre><code># \ucd5c\uadfc 5\ubd84\uac04 \ucd08\ub2f9 \uc694\uccad\ub960 (Rate)\nrate(http_requests_total[5m])\n\n# 5\ubd84\uac04 \ud3c9\uade0 \uc99d\uac00\ub7c9\nincrease(http_requests_total[5m])\n\n# \uc21c\uac04 \ubca1\ud130\uc758 \ud569\uacc4\nsum(rate(http_requests_total[5m]))\n\n# \ub808\uc774\ube14\ubcc4 \uadf8\ub8f9\ud654\nsum by (status) (rate(http_requests_total[5m]))\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#22-promql","title":"2.2 \uc2e4\uc804 PromQL \ucffc\ub9ac","text":"<p>CPU \uc0ac\uc6a9\ub960 \uacc4\uc0b0: <pre><code># \ucee8\ud14c\uc774\ub108 CPU \uc0ac\uc6a9\ub960 (%)\n100 * (\n  sum by (pod, namespace) (rate(container_cpu_usage_seconds_total[5m]))\n  /\n  sum by (pod, namespace) (container_spec_cpu_quota / container_spec_cpu_period)\n)\n\n# Node CPU \uc0ac\uc6a9\ub960\n100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)\n</code></pre></p> <p>\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960: <pre><code># \ucee8\ud14c\uc774\ub108 \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960\n100 * (\n  container_memory_working_set_bytes\n  /\n  container_spec_memory_limit_bytes\n)\n\n# Node \uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub960\n100 * (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes))\n</code></pre></p> <p>\ub514\uc2a4\ud06c \uc0ac\uc6a9\ub7c9 \uc608\uce21: <pre><code># \ud604\uc7ac \ucd94\uc138\ub85c \ub514\uc2a4\ud06c\uac00 \uac00\ub4dd \ucc30 \uc2dc\uac04 (\uc2dc\uac04 \ub2e8\uc704)\npredict_linear(node_filesystem_avail_bytes{mountpoint=\"/\"}[1h], 4*3600) &lt; 0\n</code></pre></p> <p>HTTP \uc5d0\ub7ec\uc728: <pre><code># 5\ubd84\uac04 5xx \uc5d0\ub7ec\uc728 (%)\n100 * (\n  sum(rate(http_requests_total{status=~\"5..\"}[5m]))\n  /\n  sum(rate(http_requests_total[5m]))\n)\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#23-four-golden-signals","title":"2.3 Four Golden Signals \ubaa8\ub2c8\ud130\ub9c1","text":"<p>1. Latency (\uc9c0\uc5f0\uc2dc\uac04): <pre><code># P95 \ub808\uc774\ud134\uc2dc\nhistogram_quantile(0.95,\n  sum by (le) (rate(http_request_duration_seconds_bucket[5m]))\n)\n</code></pre></p> <p>2. Traffic (\ud2b8\ub798\ud53d): <pre><code># \ucd08\ub2f9 \uc694\uccad \uc218\nsum(rate(http_requests_total[5m]))\n</code></pre></p> <p>3. Errors (\uc5d0\ub7ec): <pre><code># \uc5d0\ub7ec\uc728\nsum(rate(http_requests_total{status=~\"5..\"}[5m]))\n/\nsum(rate(http_requests_total[5m]))\n</code></pre></p> <p>4. Saturation (\ud3ec\ud654\ub3c4): <pre><code># CPU \ud3ec\ud654\ub3c4\navg(node_load5) / count(node_cpu_seconds_total{mode=\"idle\"})\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#part-3-grafana-","title":"Part 3: Grafana - \uc2dc\uac01\ud654 \ubc0f \uc54c\ub7ec\ud305","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#31-grafana-3-3-3-rule-2025","title":"3.1 Grafana \ub300\uc2dc\ubcf4\ub4dc \uc124\uacc4 - 3-3-3 Rule (2025)","text":"<p>2025\ub144 best practice\ub85c \uc790\ub9ac\uc7a1\uc740 3-3-3 Rule:</p> <ul> <li>3 rows of panels</li> <li>3 panels per row</li> <li>3 key metrics per panel</li> </ul> <p>\ub300\uc2dc\ubcf4\ub4dc \uad6c\uc131 \uc608\uc2dc: <pre><code>Row 1: Overview\n\u251c\u2500\u2500 Panel 1: Total Requests (current, trend)\n\u251c\u2500\u2500 Panel 2: Error Rate (current, threshold)\n\u2514\u2500\u2500 Panel 3: Avg Response Time (P50, P95, P99)\n\nRow 2: Resource Usage\n\u251c\u2500\u2500 Panel 1: CPU Usage (by pod)\n\u251c\u2500\u2500 Panel 2: Memory Usage (by pod)\n\u2514\u2500\u2500 Panel 3: Network I/O (ingress/egress)\n\nRow 3: Application Metrics\n\u251c\u2500\u2500 Panel 1: Active Connections\n\u251c\u2500\u2500 Panel 2: Database Query Time\n\u2514\u2500\u2500 Panel 3: Cache Hit Rate\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#32-as-code","title":"3.2 \ub300\uc2dc\ubcf4\ub4dc as Code","text":"<p>Grafana Dashboard JSON: <pre><code>{\n  \"dashboard\": {\n    \"title\": \"Kubernetes Cluster Overview\",\n    \"tags\": [\"kubernetes\", \"infrastructure\"],\n    \"timezone\": \"browser\",\n    \"panels\": [\n      {\n        \"id\": 1,\n        \"title\": \"CPU Usage\",\n        \"type\": \"graph\",\n        \"targets\": [\n          {\n            \"expr\": \"100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\\\"idle\\\"}[5m])) * 100)\",\n            \"legendFormat\": \"{{instance}}\"\n          }\n        ],\n        \"gridPos\": {\"h\": 8, \"w\": 12, \"x\": 0, \"y\": 0}\n      }\n    ]\n  }\n}\n</code></pre></p> <p>Terraform\uc73c\ub85c \ub300\uc2dc\ubcf4\ub4dc \ubc30\ud3ec: <pre><code>resource \"grafana_dashboard\" \"kubernetes_overview\" {\n  config_json = file(\"${path.module}/dashboards/k8s-overview.json\")\n\n  folder = grafana_folder.infrastructure.id\n}\n\nresource \"grafana_folder\" \"infrastructure\" {\n  title = \"Infrastructure\"\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#33-alertmanager","title":"3.3 AlertManager \uc124\uc815","text":"<p>PrometheusRule CRD: <pre><code>apiVersion: monitoring.coreos.com/v1\nkind: PrometheusRule\nmetadata:\n  name: kubernetes-alerts\n  namespace: monitoring\nspec:\n  groups:\n    - name: kubernetes.rules\n      interval: 30s\n      rules:\n        - alert: PodCrashLooping\n          expr: |\n            rate(kube_pod_container_status_restarts_total[15m]) &gt; 0\n          for: 5m\n          labels:\n            severity: critical\n          annotations:\n            summary: \"Pod {{ $labels.namespace }}/{{ $labels.pod }} is crash looping\"\n            description: \"Pod has restarted {{ $value }} times in the last 15 minutes\"\n            runbook_url: \"https://runbooks.example.com/pod-crash-loop\"\n\n        - alert: HighMemoryUsage\n          expr: |\n            100 * (container_memory_working_set_bytes / container_spec_memory_limit_bytes) &gt; 90\n          for: 10m\n          labels:\n            severity: warning\n          annotations:\n            summary: \"Container memory usage is above 90%\"\n            description: \"Container {{ $labels.pod }}/{{ $labels.container }} memory usage is {{ $value }}%\"\n            runbook_url: \"https://runbooks.example.com/high-memory\"\n\n        - alert: DiskSpaceLow\n          expr: |\n            100 * (node_filesystem_avail_bytes{mountpoint=\"/\"} / node_filesystem_size_bytes{mountpoint=\"/\"}) &lt; 10\n          for: 5m\n          labels:\n            severity: critical\n          annotations:\n            summary: \"Disk space is below 10%\"\n            description: \"Node {{ $labels.instance }} has only {{ $value }}% disk space remaining\"\n</code></pre></p> <p>AlertManager \ub77c\uc6b0\ud305: <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: alertmanager-config\n  namespace: monitoring\ndata:\n  alertmanager.yml: |\n    global:\n      resolve_timeout: 5m\n      slack_api_url: 'https://hooks.slack.com/services/xxx'\n\n    route:\n      group_by: ['alertname', 'cluster', 'service']\n      group_wait: 10s\n      group_interval: 10s\n      repeat_interval: 12h\n      receiver: 'default'\n      routes:\n        - match:\n            severity: critical\n          receiver: 'pagerduty'\n          continue: true\n\n        - match:\n            severity: warning\n          receiver: 'slack'\n\n    receivers:\n      - name: 'default'\n        slack_configs:\n          - channel: '#alerts'\n            title: '{{ .GroupLabels.alertname }}'\n            text: '{{ range .Alerts }}{{ .Annotations.description }}{{ end }}'\n\n      - name: 'pagerduty'\n        pagerduty_configs:\n          - service_key: 'YOUR_PAGERDUTY_KEY'\n\n      - name: 'slack'\n        slack_configs:\n          - channel: '#warnings'\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#part-4-grafana-loki-","title":"Part 4: Grafana Loki - \ub85c\uadf8 \uad00\ub9ac","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#41-loki","title":"4.1 Loki \uc544\ud0a4\ud14d\ucc98","text":"<p>Grafana Loki\ub294 \"Prometheus for logs\"\ub85c \uc124\uacc4\ub41c \uacbd\ub7c9 \ub85c\uadf8 \uc9d1\uacc4 \uc2dc\uc2a4\ud15c\uc785\ub2c8\ub2e4.</p> <p>Loki vs ELK Stack (2025): | \ud2b9\uc9d5 | Loki | ELK Stack | |------|------|-----------| | \uc778\ub371\uc2f1 | \ub808\uc774\ube14\ub9cc \uc778\ub371\uc2f1 | \uc804\uccb4 \ub85c\uadf8 \uc778\ub371\uc2f1 | | \uc2a4\ud1a0\ub9ac\uc9c0 | \ub0ae\uc74c (50% \uc808\uc57d) | \ub192\uc74c | | \ucffc\ub9ac \uc18d\ub3c4 | \ube60\ub984 (\ub808\uc774\ube14 \uae30\ubc18) | \ub9e4\uc6b0 \ube60\ub984 (\uc804\ubb38 \uac80\uc0c9) | | \uc124\uc815 \ubcf5\uc7a1\ub3c4 | \ub0ae\uc74c | \ub192\uc74c | | Grafana \ud1b5\ud569 | \ub124\uc774\ud2f0\ube0c | \ud50c\ub7ec\uadf8\uc778 \ud544\uc694 |</p> <p>Loki \uc124\uce58: <pre><code>helm repo add grafana https://grafana.github.io/helm-charts\nhelm install loki grafana/loki-stack \\\n  --namespace monitoring \\\n  --set grafana.enabled=false \\\n  --set promtail.enabled=true \\\n  --set loki.persistence.enabled=true \\\n  --set loki.persistence.size=100Gi\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#42-promtail","title":"4.2 Promtail \uc124\uc815","text":"<p>Promtail ConfigMap: <pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: promtail-config\n  namespace: monitoring\ndata:\n  promtail.yaml: |\n    server:\n      http_listen_port: 9080\n      grpc_listen_port: 0\n\n    positions:\n      filename: /tmp/positions.yaml\n\n    clients:\n      - url: http://loki:3100/loki/api/v1/push\n\n    scrape_configs:\n      # Kubernetes pod logs\n      - job_name: kubernetes-pods\n        kubernetes_sd_configs:\n          - role: pod\n\n        relabel_configs:\n          - source_labels: [__meta_kubernetes_pod_node_name]\n            target_label: node\n          - source_labels: [__meta_kubernetes_namespace]\n            target_label: namespace\n          - source_labels: [__meta_kubernetes_pod_name]\n            target_label: pod\n          - source_labels: [__meta_kubernetes_pod_container_name]\n            target_label: container\n\n        pipeline_stages:\n          # JSON \ub85c\uadf8 \ud30c\uc2f1\n          - json:\n              expressions:\n                level: level\n                msg: message\n                timestamp: time\n\n          # \ud0c0\uc784\uc2a4\ud0ec\ud504 \ud30c\uc2f1\n          - timestamp:\n              source: timestamp\n              format: RFC3339\n\n          # \ub808\uc774\ube14 \ucd94\ucd9c\n          - labels:\n              level:\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#43-logql","title":"4.3 LogQL \ucffc\ub9ac","text":"<p>\uae30\ubcf8 \ucffc\ub9ac: <pre><code># \ud2b9\uc815 namespace\uc758 \ub85c\uadf8\n{namespace=\"production\"}\n\n# \uc5ec\ub7ec \uc870\uac74\n{namespace=\"production\", container=\"api\"}\n\n# \uc815\uaddc\ud45c\ud604\uc2dd\n{pod=~\"api-.*\"}\n\n# \ub85c\uadf8 \ub0b4\uc6a9 \ud544\ud130\ub9c1\n{namespace=\"production\"} |= \"error\"\n\n# \uc815\uaddc\ud45c\ud604\uc2dd \ud544\ud130\n{namespace=\"production\"} |~ \"error|ERROR|Error\"\n</code></pre></p> <p>\uace0\uae09 \ucffc\ub9ac: <pre><code># JSON \ud544\ub4dc \ucd94\ucd9c \ubc0f \ud544\ud130\ub9c1\n{namespace=\"production\"}\n  | json\n  | level=\"error\"\n  | line_format \"{{.timestamp}} {{.message}}\"\n\n# \uba54\ud2b8\ub9ad \uc0dd\uc131 - \ucd08\ub2f9 \uc5d0\ub7ec \ub85c\uadf8 \uc218\nsum(rate({namespace=\"production\"} |= \"error\" [5m])) by (pod)\n\n# Quantile \uacc4\uc0b0\nquantile_over_time(0.99,\n  {namespace=\"production\"}\n    | json\n    | unwrap duration [5m]\n) by (endpoint)\n</code></pre></p> <p>\ud1b5\ud569 \ucffc\ub9ac (Metrics + Logs): <pre><code># Grafana\uc5d0\uc11c \uba54\ud2b8\ub9ad\uacfc \ub85c\uadf8 \ud568\uaed8 \ubcf4\uae30\n# Panel 1: Error rate (Prometheus)\nsum(rate(http_requests_total{status=\"500\"}[5m]))\n\n# Panel 2: Error logs (Loki)\n{namespace=\"production\", status=\"500\"} | json\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#part-5-opentelemetry-","title":"Part 5: OpenTelemetry - \ubd84\uc0b0 \ud2b8\ub808\uc774\uc2f1","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#51-opentelemetry","title":"5.1 OpenTelemetry \uc544\ud0a4\ud14d\ucc98","text":"<p>OpenTelemetry\ub294 2025\ub144 \ud604\uc7ac Observability\uc758 \ud45c\uc900\uc73c\ub85c \uc790\ub9ac\uc7a1\uc558\uc2b5\ub2c8\ub2e4. CNCF\uc758 \ub450 \ubc88\uc9f8\ub85c \ud65c\ubc1c\ud55c \ud504\ub85c\uc81d\ud2b8\uc785\ub2c8\ub2e4.</p> <p>\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>SDK: \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce21 (12+ \uc5b8\uc5b4 \uc9c0\uc6d0)</li> <li>Collector: \ud154\ub808\uba54\ud2b8\ub9ac \ub370\uc774\ud130 \uc218\uc9d1/\ucc98\ub9ac/\uc804\uc1a1</li> <li>Exporter: \ub2e4\uc591\ud55c \ubc31\uc5d4\ub4dc\ub85c \ub370\uc774\ud130 \uc804\uc1a1</li> </ul> <p>\ub370\uc774\ud130 \ud0c0\uc785:</p> <ul> <li>Traces: \ubd84\uc0b0 \ud2b8\ub79c\uc7ad\uc158 \ucd94\uc801</li> <li>Metrics: \uc2dc\uacc4\uc5f4 \ub370\uc774\ud130 (Prometheus \ud638\ud658)</li> <li>Logs: \uad6c\uc870\ud654\ub41c \ub85c\uadf8</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#52-opentelemetry-collector","title":"5.2 OpenTelemetry Collector \ubc30\ud3ec","text":"<p>Kubernetes DaemonSet: <pre><code>apiVersion: apps/v1\nkind: DaemonSet\nmetadata:\n  name: otel-collector\n  namespace: monitoring\nspec:\n  selector:\n    matchLabels:\n      app: otel-collector\n  template:\n    metadata:\n      labels:\n        app: otel-collector\n    spec:\n      containers:\n        - name: otel-collector\n          image: otel/opentelemetry-collector-contrib:0.91.0\n          ports:\n            - containerPort: 4317  # OTLP gRPC\n            - containerPort: 4318  # OTLP HTTP\n            - containerPort: 8888  # Prometheus metrics\n          volumeMounts:\n            - name: config\n              mountPath: /etc/otel-collector-config.yaml\n              subPath: otel-collector-config.yaml\n      volumes:\n        - name: config\n          configMap:\n            name: otel-collector-config\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: otel-collector-config\n  namespace: monitoring\ndata:\n  otel-collector-config.yaml: |\n    receivers:\n      otlp:\n        protocols:\n          grpc:\n            endpoint: 0.0.0.0:4317\n          http:\n            endpoint: 0.0.0.0:4318\n\n      prometheus:\n        config:\n          scrape_configs:\n            - job_name: 'otel-collector'\n              scrape_interval: 10s\n              static_configs:\n                - targets: ['0.0.0.0:8888']\n\n    processors:\n      batch:\n        timeout: 10s\n        send_batch_size: 1024\n\n      memory_limiter:\n        check_interval: 1s\n        limit_mib: 512\n\n      # Sampling (10% of traces)\n      probabilistic_sampler:\n        sampling_percentage: 10\n\n    exporters:\n      prometheus:\n        endpoint: \"0.0.0.0:8889\"\n\n      jaeger:\n        endpoint: jaeger-collector:14250\n        tls:\n          insecure: true\n\n      loki:\n        endpoint: http://loki:3100/loki/api/v1/push\n\n      logging:\n        loglevel: debug\n\n    service:\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [memory_limiter, batch, probabilistic_sampler]\n          exporters: [jaeger, logging]\n\n        metrics:\n          receivers: [otlp, prometheus]\n          processors: [memory_limiter, batch]\n          exporters: [prometheus]\n\n        logs:\n          receivers: [otlp]\n          processors: [memory_limiter, batch]\n          exporters: [loki]\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#53","title":"5.3 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce21","text":"<p>Python (FastAPI) \uc608\uc81c: <pre><code>from opentelemetry import trace\nfrom opentelemetry.sdk.trace import TracerProvider\nfrom opentelemetry.sdk.trace.export import BatchSpanProcessor\nfrom opentelemetry.exporter.otlp.proto.grpc.trace_exporter import OTLPSpanExporter\nfrom opentelemetry.instrumentation.fastapi import FastAPIInstrumentor\nfrom opentelemetry.sdk.resources import Resource\nfrom fastapi import FastAPI\n\n# Resource \uc815\uc758\nresource = Resource(attributes={\n    \"service.name\": \"api-service\",\n    \"service.version\": \"1.0.0\",\n    \"deployment.environment\": \"production\"\n})\n\n# Tracer Provider \uc124\uc815\ntrace.set_tracer_provider(TracerProvider(resource=resource))\ntracer = trace.get_tracer(__name__)\n\n# OTLP Exporter \uc124\uc815\notlp_exporter = OTLPSpanExporter(\n    endpoint=\"http://otel-collector:4317\",\n    insecure=True\n)\n\n# Span Processor \ucd94\uac00\ntrace.get_tracer_provider().add_span_processor(\n    BatchSpanProcessor(otlp_exporter)\n)\n\napp = FastAPI()\n\n# FastAPI \uc790\ub3d9 \uacc4\uce21\nFastAPIInstrumentor.instrument_app(app)\n\n@app.get(\"/users/{user_id}\")\nasync def get_user(user_id: int):\n    # Custom span \uc0dd\uc131\n    with tracer.start_as_current_span(\"fetch_user_from_db\") as span:\n        span.set_attribute(\"user.id\", user_id)\n        span.set_attribute(\"db.system\", \"postgresql\")\n\n        # DB \uc870\ud68c \ub85c\uc9c1\n        user = await fetch_user_from_db(user_id)\n\n        span.set_attribute(\"user.found\", user is not None)\n\n        if not user:\n            span.set_status(Status(StatusCode.ERROR, \"User not found\"))\n\n        return user\n\nasync def fetch_user_from_db(user_id: int):\n    # Nested span\n    with tracer.start_as_current_span(\"db_query\") as span:\n        span.set_attribute(\"db.statement\", f\"SELECT * FROM users WHERE id = {user_id}\")\n        # ... DB \ucffc\ub9ac \uc2e4\ud589\n        return {\"id\": user_id, \"name\": \"John Doe\"}\n</code></pre></p> <p>Go \uc608\uc81c: <pre><code>package main\n\nimport (\n    \"context\"\n    \"go.opentelemetry.io/otel\"\n    \"go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc\"\n    \"go.opentelemetry.io/otel/sdk/resource\"\n    sdktrace \"go.opentelemetry.io/otel/sdk/trace\"\n    semconv \"go.opentelemetry.io/otel/semconv/v1.17.0\"\n    \"go.opentelemetry.io/otel/trace\"\n    \"google.golang.org/grpc\"\n)\n\nfunc initTracer() (*sdktrace.TracerProvider, error) {\n    ctx := context.Background()\n\n    // OTLP exporter\n    exporter, err := otlptracegrpc.New(ctx,\n        otlptracegrpc.WithEndpoint(\"otel-collector:4317\"),\n        otlptracegrpc.WithInsecure(),\n    )\n    if err != nil {\n        return nil, err\n    }\n\n    // Resource\n    res, err := resource.New(ctx,\n        resource.WithAttributes(\n            semconv.ServiceName(\"go-service\"),\n            semconv.ServiceVersion(\"1.0.0\"),\n        ),\n    )\n    if err != nil {\n        return nil, err\n    }\n\n    // TracerProvider\n    tp := sdktrace.NewTracerProvider(\n        sdktrace.WithBatcher(exporter),\n        sdktrace.WithResource(res),\n        sdktrace.WithSampler(sdktrace.TraceIDRatioBased(0.1)), // 10% sampling\n    )\n\n    otel.SetTracerProvider(tp)\n    return tp, nil\n}\n\nfunc processOrder(ctx context.Context, orderID string) error {\n    tracer := otel.Tracer(\"order-processor\")\n\n    ctx, span := tracer.Start(ctx, \"processOrder\")\n    defer span.End()\n\n    span.SetAttributes(\n        attribute.String(\"order.id\", orderID),\n    )\n\n    // Nested span\n    if err := validateOrder(ctx, orderID); err != nil {\n        span.RecordError(err)\n        return err\n    }\n\n    if err := chargePayment(ctx, orderID); err != nil {\n        span.RecordError(err)\n        return err\n    }\n\n    return nil\n}\n\nfunc validateOrder(ctx context.Context, orderID string) error {\n    _, span := otel.Tracer(\"order-processor\").Start(ctx, \"validateOrder\")\n    defer span.End()\n\n    // Validation logic\n    return nil\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#54-context-propagation","title":"5.4 Context Propagation","text":"<p>HTTP Headers (W3C Trace Context): <pre><code>traceparent: 00-4bf92f3577b34da6a3ce929d0e0e4736-00f067aa0ba902b7-01\ntracestate: congo=t61rcWkgMzE,rojo=00f067aa0ba902b7\n</code></pre></p> <p>\ubd84\uc0b0 \ud2b8\ub808\uc774\uc2f1 \ud50c\ub85c\uc6b0: <pre><code>Client Request\n    \u2514\u2500&gt; API Gateway (Span 1)\n        \u251c\u2500&gt; Auth Service (Span 2)\n        \u2502   \u2514\u2500&gt; Database (Span 3)\n        \u2514\u2500&gt; Order Service (Span 4)\n            \u251c\u2500&gt; Payment Service (Span 5)\n            \u2502   \u2514\u2500&gt; External API (Span 6)\n            \u2514\u2500&gt; Inventory Service (Span 7)\n                \u2514\u2500&gt; Cache (Span 8)\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#part-6-observability","title":"Part 6: \ud1b5\ud569 Observability \uc804\ub7b5","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#61-layered-monitoring-architecture-2025-best-practice","title":"6.1 Layered Monitoring Architecture (2025 Best Practice)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Global Prometheus                      \u2502\n\u2502  (Aggregated critical metrics across clusters)  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u25b2\n                      \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                            \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Cluster Prometheus\u2502      \u2502 Cluster Prometheus \u2502\n\u2502   (Cluster A)     \u2502      \u2502   (Cluster B)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u25b2                            \u25b2\n        \u2502                            \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 App Prometheus \u2502          \u2502 App Prometheus \u2502\n\u2502 (Business Logic)\u2502         \u2502 (Business Logic)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#62-storage-retention","title":"6.2 Storage &amp; Retention \uc804\ub7b5","text":"<p>Prometheus Retention: <pre><code># prometheus.yml\nglobal:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\n# TSDB \uc124\uc815\nstorage:\n  tsdb:\n    retention.time: 15d        # 15\uc77c \ubcf4\uad00\n    retention.size: 50GB       # \ucd5c\ub300 50GB\n\n    # Compaction \uc124\uc815\n    min-block-duration: 2h\n    max-block-duration: 36h\n\n# Remote Write (\uc7a5\uae30 \uc800\uc7a5)\nremote_write:\n  - url: \"http://thanos-receive:19291/api/v1/receive\"\n    queue_config:\n      capacity: 10000\n      max_shards: 50\n</code></pre></p> <p>Thanos\ub97c \ud65c\uc6a9\ud55c \uc7a5\uae30 \uc800\uc7a5: <pre><code>apiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: thanos-store\nspec:\n  serviceName: thanos-store\n  replicas: 1\n  template:\n    spec:\n      containers:\n        - name: thanos\n          image: quay.io/thanos/thanos:v0.33.0\n          args:\n            - store\n            - --data-dir=/var/thanos/store\n            - --objstore.config-file=/etc/thanos/objstore.yml\n          volumeMounts:\n            - name: object-storage-config\n              mountPath: /etc/thanos\n      volumes:\n        - name: object-storage-config\n          secret:\n            secretName: thanos-objstore-config\n---\napiVersion: v1\nkind: Secret\nmetadata:\n  name: thanos-objstore-config\nstringData:\n  objstore.yml: |\n    type: S3\n    config:\n      bucket: \"thanos-metrics\"\n      endpoint: \"s3.amazonaws.com\"\n      access_key: \"XXX\"\n      secret_key: \"YYY\"\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#63","title":"6.3 \ubcf4\uc548 \uc124\uc815","text":"<p>Prometheus TLS \ubc0f \uc778\uc99d: <pre><code># prometheus-additional-config.yaml\napiVersion: v1\nkind: Secret\nmetadata:\n  name: prometheus-additional-config\n  namespace: monitoring\nstringData:\n  prometheus-additional.yaml: |\n    # Basic Auth\n    basic_auth_users:\n      admin: $2y$10$...  # bcrypt hash\n\n    # TLS \uc124\uc815\n    tls_server_config:\n      cert_file: /etc/prometheus/tls/tls.crt\n      key_file: /etc/prometheus/tls/tls.key\n      client_ca_file: /etc/prometheus/tls/ca.crt\n      client_auth_type: RequireAndVerifyClientCert\n</code></pre></p> <p>Grafana OAuth \ud1b5\ud569 (Keycloak): <pre><code># grafana.ini\n[auth.generic_oauth]\nenabled = true\nname = Keycloak\nallow_sign_up = true\nclient_id = grafana\nclient_secret = YOUR_SECRET\nscopes = openid profile email\nauth_url = https://keycloak.example.com/auth/realms/master/protocol/openid-connect/auth\ntoken_url = https://keycloak.example.com/auth/realms/master/protocol/openid-connect/token\napi_url = https://keycloak.example.com/auth/realms/master/protocol/openid-connect/userinfo\nrole_attribute_path = contains(roles[*], 'admin') &amp;&amp; 'Admin' || contains(roles[*], 'editor') &amp;&amp; 'Editor' || 'Viewer'\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#1-kube-prometheus-stack","title":"\uc2e4\uc2b5 1: kube-prometheus-stack \ubc30\ud3ec \ubc0f \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5","text":"<p>\ubaa9\ud45c: Kubernetes \ud074\ub7ec\uc2a4\ud130\uc5d0 \uc644\uc804\ud55c \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud0dd \ubc30\ud3ec</p> <p>\ub2e8\uacc4: <pre><code># 1. Helm \ucc28\ud2b8 values \ud30c\uc77c \uc900\ube44\ncat &lt;&lt;EOF &gt; values.yaml\nprometheus:\n  prometheusSpec:\n    retention: 30d\n    storageSpec:\n      volumeClaimTemplate:\n        spec:\n          accessModes: [\"ReadWriteOnce\"]\n          resources:\n            requests:\n              storage: 50Gi\n\n    # \uc678\ubd80 \ub808\uc774\ube14 \ucd94\uac00\n    externalLabels:\n      cluster: prod-cluster-01\n      region: ap-northeast-2\n\n    # ServiceMonitor \uc790\ub3d9 \ubc1c\uacac\n    serviceMonitorSelectorNilUsesHelmValues: false\n    podMonitorSelectorNilUsesHelmValues: false\n\ngrafana:\n  adminPassword: \"ChangeMe123!\"\n  persistence:\n    enabled: true\n    size: 10Gi\n\n  # \ud50c\ub7ec\uadf8\uc778 \uc124\uce58\n  plugins:\n    - grafana-piechart-panel\n    - grafana-clock-panel\n\n  # \ub370\uc774\ud130\uc18c\uc2a4 \uc790\ub3d9 \uad6c\uc131\n  datasources:\n    datasources.yaml:\n      apiVersion: 1\n      datasources:\n        - name: Prometheus\n          type: prometheus\n          url: http://kube-prometheus-prometheus:9090\n          isDefault: true\n        - name: Loki\n          type: loki\n          url: http://loki:3100\n\nalertmanager:\n  config:\n    global:\n      resolve_timeout: 5m\n    route:\n      group_by: ['alertname']\n      receiver: 'slack'\n    receivers:\n      - name: 'slack'\n        slack_configs:\n          - api_url: 'YOUR_SLACK_WEBHOOK'\n            channel: '#alerts'\nEOF\n\n# 2. \uc124\uce58\nhelm install kube-prometheus prometheus-community/kube-prometheus-stack \\\n  -f values.yaml \\\n  --namespace monitoring \\\n  --create-namespace\n\n# 3. Port-forward\ub85c \uc811\uc18d \ud655\uc778\nkubectl port-forward -n monitoring svc/kube-prometheus-grafana 3000:80\n# http://localhost:3000 (admin/ChangeMe123!)\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#2-servicemonitor","title":"\uc2e4\uc2b5 2: \ucee4\uc2a4\ud140 \uba54\ud2b8\ub9ad \uc218\uc9d1 (ServiceMonitor)","text":"<p>\uc2dc\ub098\ub9ac\uc624: FastAPI \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uba54\ud2b8\ub9ad \uc218\uc9d1</p> <pre><code># app.py\nfrom fastapi import FastAPI\nfrom prometheus_client import Counter, Histogram, generate_latest\nfrom fastapi.responses import Response\nimport time\n\napp = FastAPI()\n\n# \uba54\ud2b8\ub9ad \uc815\uc758\nhttp_requests_total = Counter(\n    'http_requests_total',\n    'Total HTTP requests',\n    ['method', 'endpoint', 'status']\n)\n\nhttp_request_duration_seconds = Histogram(\n    'http_request_duration_seconds',\n    'HTTP request duration',\n    ['method', 'endpoint']\n)\n\n@app.middleware(\"http\")\nasync def metrics_middleware(request, call_next):\n    start_time = time.time()\n    response = await call_next(request)\n    duration = time.time() - start_time\n\n    http_requests_total.labels(\n        method=request.method,\n        endpoint=request.url.path,\n        status=response.status_code\n    ).inc()\n\n    http_request_duration_seconds.labels(\n        method=request.method,\n        endpoint=request.url.path\n    ).observe(duration)\n\n    return response\n\n@app.get(\"/metrics\")\ndef metrics():\n    return Response(generate_latest(), media_type=\"text/plain\")\n\n@app.get(\"/api/users\")\ndef get_users():\n    return {\"users\": []}\n</code></pre> <p>ServiceMonitor \uc0dd\uc131: <pre><code>apiVersion: monitoring.coreos.com/v1\nkind: ServiceMonitor\nmetadata:\n  name: fastapi-app\n  namespace: default\n  labels:\n    app: fastapi\nspec:\n  selector:\n    matchLabels:\n      app: fastapi\n  endpoints:\n    - port: http\n      path: /metrics\n      interval: 30s\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#3-grafana-loki-promtail","title":"\uc2e4\uc2b5 3: Grafana Loki + Promtail \ub85c\uadf8 \uc218\uc9d1","text":"<pre><code># Loki Stack \uc124\uce58\nhelm install loki grafana/loki-stack \\\n  --namespace monitoring \\\n  --set grafana.enabled=false \\\n  --set promtail.enabled=true\n\n# Grafana\uc5d0 Loki \ub370\uc774\ud130\uc18c\uc2a4 \ucd94\uac00 (\uc774\ubbf8 values\uc5d0 \uc788\uc73c\uba74 skip)\n# Grafana UI -&gt; Configuration -&gt; Data Sources -&gt; Add Loki\n# URL: http://loki:3100\n\n# \ub85c\uadf8 \ucffc\ub9ac \ud14c\uc2a4\ud2b8\n# Grafana Explore\uc5d0\uc11c:\n{namespace=\"default\"} |= \"error\" | json | line_format \"{{.level}} {{.msg}}\"\n</code></pre>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#4-opentelemetry","title":"\uc2e4\uc2b5 4: OpenTelemetry\ub85c \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ud2b8\ub808\uc774\uc2f1","text":"<p>1. Jaeger \uc124\uce58: <pre><code>kubectl create namespace observability\nkubectl apply -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/main/deploy/crds/jaegertracing.io_jaegers_crd.yaml\nkubectl apply -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/main/deploy/service_account.yaml\nkubectl apply -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/main/deploy/role.yaml\nkubectl apply -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/main/deploy/role_binding.yaml\nkubectl apply -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/main/deploy/operator.yaml\n\n# Jaeger \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: jaegertracing.io/v1\nkind: Jaeger\nmetadata:\n  name: jaeger\n  namespace: observability\nspec:\n  strategy: allInOne\n  allInOne:\n    image: jaegertracing/all-in-one:latest\n    options:\n      log-level: info\n  storage:\n    type: memory\n  ingress:\n    enabled: false\n  ui:\n    options:\n      dependencies:\n        menuEnabled: true\nEOF\n</code></pre></p> <p>2. OpenTelemetry Collector \ubc30\ud3ec: (\uc704\uc758 Part 5.2 YAML \uc0ac\uc6a9)</p> <p>3. \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec: <pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: traced-app\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: traced-app\n  template:\n    metadata:\n      labels:\n        app: traced-app\n    spec:\n      containers:\n        - name: app\n          image: your-traced-app:latest\n          env:\n            - name: OTEL_EXPORTER_OTLP_ENDPOINT\n              value: \"http://otel-collector:4317\"\n            - name: OTEL_SERVICE_NAME\n              value: \"traced-app\"\n            - name: OTEL_TRACES_SAMPLER\n              value: \"parentbased_traceidratio\"\n            - name: OTEL_TRACES_SAMPLER_ARG\n              value: \"0.1\"\n</code></pre></p>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_4","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#1-terraform","title":"\uc608\uc81c 1: \uc885\ud569 \ubaa8\ub2c8\ud130\ub9c1 \ub300\uc2dc\ubcf4\ub4dc (Terraform)","text":"<pre><code># grafana.tf\nterraform {\n  required_providers {\n    grafana = {\n      source  = \"grafana/grafana\"\n      version = \"~&gt; 2.0\"\n    }\n  }\n}\n\nprovider \"grafana\" {\n  url  = \"http://grafana.example.com\"\n  auth = var.grafana_api_key\n}\n\n# \ud3f4\ub354 \uc0dd\uc131\nresource \"grafana_folder\" \"kubernetes\" {\n  title = \"Kubernetes\"\n}\n\n# Prometheus \ub370\uc774\ud130\uc18c\uc2a4\nresource \"grafana_data_source\" \"prometheus\" {\n  type = \"prometheus\"\n  name = \"Prometheus\"\n  url  = \"http://prometheus:9090\"\n\n  json_data_encoded = jsonencode({\n    httpMethod    = \"POST\"\n    timeInterval  = \"30s\"\n  })\n}\n\n# \ub300\uc2dc\ubcf4\ub4dc\nresource \"grafana_dashboard\" \"cluster_overview\" {\n  folder      = grafana_folder.kubernetes.id\n  config_json = file(\"${path.module}/dashboards/cluster-overview.json\")\n}\n\n# Alert \ub8f0\nresource \"grafana_rule_group\" \"kubernetes_alerts\" {\n  name             = \"kubernetes-alerts\"\n  folder_uid       = grafana_folder.kubernetes.uid\n  interval_seconds = 60\n\n  rule {\n    name      = \"PodCrashLooping\"\n    condition = \"C\"\n\n    data {\n      ref_id = \"A\"\n\n      relative_time_range {\n        from = 600\n        to   = 0\n      }\n\n      datasource_uid = grafana_data_source.prometheus.uid\n\n      model = jsonencode({\n        expr = \"rate(kube_pod_container_status_restarts_total[15m]) &gt; 0\"\n      })\n    }\n\n    data {\n      ref_id = \"C\"\n\n      relative_time_range {\n        from = 600\n        to   = 0\n      }\n\n      datasource_uid = \"-100\"\n\n      model = jsonencode({\n        conditions = [\n          {\n            evaluator = {\n              params = [0]\n              type   = \"gt\"\n            }\n            operator = {\n              type = \"and\"\n            }\n            query = {\n              params = [\"A\"]\n            }\n            type = \"query\"\n          }\n        ]\n      })\n    }\n\n    no_data_state  = \"NoData\"\n    exec_err_state = \"Alerting\"\n    for            = \"5m\"\n\n    annotations = {\n      description = \"Pod has restarted multiple times\"\n      runbook_url = \"https://runbooks.example.com/pod-crash\"\n    }\n\n    labels = {\n      severity = \"critical\"\n    }\n  }\n}\n</code></pre>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#2-thanos","title":"\uc608\uc81c 2: \uba40\ud2f0\ud074\ub7ec\uc2a4\ud130 \uba54\ud2b8\ub9ad \uc218\uc9d1 (Thanos)","text":"<pre><code># thanos-sidecar.yaml\napiVersion: apps/v1\nkind: StatefulSet\nmetadata:\n  name: prometheus\n  namespace: monitoring\nspec:\n  serviceName: prometheus\n  replicas: 2\n  template:\n    spec:\n      containers:\n        # Prometheus\n        - name: prometheus\n          image: prom/prometheus:v2.48.0\n          args:\n            - --config.file=/etc/prometheus/prometheus.yml\n            - --storage.tsdb.path=/prometheus\n            - --storage.tsdb.min-block-duration=2h\n            - --storage.tsdb.max-block-duration=2h\n            - --web.enable-lifecycle\n          volumeMounts:\n            - name: storage\n              mountPath: /prometheus\n\n        # Thanos Sidecar\n        - name: thanos-sidecar\n          image: quay.io/thanos/thanos:v0.33.0\n          args:\n            - sidecar\n            - --prometheus.url=http://localhost:9090\n            - --tsdb.path=/prometheus\n            - --objstore.config-file=/etc/thanos/objstore.yml\n            - --grpc-address=0.0.0.0:10901\n            - --http-address=0.0.0.0:10902\n          volumeMounts:\n            - name: storage\n              mountPath: /prometheus\n            - name: thanos-objstore\n              mountPath: /etc/thanos\n      volumes:\n        - name: thanos-objstore\n          secret:\n            secretName: thanos-objstore-config\n  volumeClaimTemplates:\n    - metadata:\n        name: storage\n      spec:\n        accessModes: [\"ReadWriteOnce\"]\n        resources:\n          requests:\n            storage: 100Gi\n---\n# thanos-querier.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: thanos-querier\n  namespace: monitoring\nspec:\n  replicas: 2\n  selector:\n    matchLabels:\n      app: thanos-querier\n  template:\n    metadata:\n      labels:\n        app: thanos-querier\n    spec:\n      containers:\n        - name: thanos\n          image: quay.io/thanos/thanos:v0.33.0\n          args:\n            - query\n            - --http-address=0.0.0.0:10902\n            - --grpc-address=0.0.0.0:10901\n            - --store=dnssrv+_grpc._tcp.prometheus-0.prometheus.monitoring.svc.cluster.local\n            - --store=dnssrv+_grpc._tcp.prometheus-1.prometheus.monitoring.svc.cluster.local\n            - --store=dnssrv+_grpc._tcp.thanos-store.monitoring.svc.cluster.local\n</code></pre>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#3-observability-with-opentelemetry","title":"\uc608\uc81c 3: \ud1b5\ud569 Observability with OpenTelemetry","text":"<pre><code># otel-demo-app.yaml\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: otel-collector-config\ndata:\n  config.yaml: |\n    receivers:\n      otlp:\n        protocols:\n          grpc:\n          http:\n\n    processors:\n      batch:\n\n      # \uba54\ud2b8\ub9ad\uc5d0\uc11c \ud2b8\ub808\uc774\uc2a4 \uc0dd\uc131\n      spanmetrics:\n        metrics_exporter: prometheus\n        latency_histogram_buckets: [100us, 1ms, 2ms, 6ms, 10ms, 100ms, 250ms]\n        dimensions:\n          - name: http.method\n          - name: http.status_code\n\n      # \ub9ac\uc18c\uc2a4 \uc18d\uc131 \ucd94\uac00\n      resource:\n        attributes:\n          - key: environment\n            value: production\n            action: insert\n\n    exporters:\n      prometheus:\n        endpoint: \"0.0.0.0:8889\"\n\n      jaeger:\n        endpoint: jaeger-collector:14250\n        tls:\n          insecure: true\n\n      loki:\n        endpoint: http://loki:3100/loki/api/v1/push\n        labels:\n          attributes:\n            service.name: \"service_name\"\n            level: \"severity\"\n\n    connectors:\n      spanmetrics:\n\n    service:\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [batch, resource]\n          exporters: [jaeger, spanmetrics]\n\n        metrics:\n          receivers: [otlp, spanmetrics]\n          processors: [batch]\n          exporters: [prometheus]\n\n        logs:\n          receivers: [otlp]\n          processors: [batch, resource]\n          exporters: [loki]\n</code></pre>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ol> <li>Prometheus</li> <li>Prometheus \uacf5\uc2dd \ubb38\uc11c</li> <li>PromQL \uac00\uc774\ub4dc</li> <li> <p>kube-prometheus-stack</p> </li> <li> <p>Grafana</p> </li> <li>Grafana \uacf5\uc2dd \ubb38\uc11c</li> <li>Dashboard Best Practices</li> <li> <p>Grafana Loki</p> </li> <li> <p>OpenTelemetry</p> </li> <li>OpenTelemetry \uacf5\uc2dd \uc0ac\uc774\ud2b8</li> <li>Collector \ubb38\uc11c</li> <li> <p>Instrumentation \uac00\uc774\ub4dc</p> </li> <li> <p>Thanos</p> </li> <li>Thanos \uacf5\uc2dd \ubb38\uc11c</li> </ol>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#2025-best-practices","title":"2025 Best Practices \uc544\ud2f0\ud074","text":"<ol> <li>Prometheus Monitoring: Complete Setup &amp; Best Practices</li> <li>How SREs Use Prometheus and Grafana to Crush MTTR in 2025</li> <li>Backend Observability in 2025: Distributed Tracing with OpenTelemetry</li> <li>Kubernetes Monitoring in 2025: A Complete Guide</li> </ol>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_7","title":"\ud29c\ud1a0\ub9ac\uc5bc \ubc0f \uc608\uc81c","text":"<ol> <li>Get started with Grafana and Prometheus</li> <li>OpenTelemetry Distributed Tracing Tutorial</li> <li>Grafana Loki Log Aggregation</li> </ol>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_8","title":"\ucee4\ubba4\ub2c8\ud2f0 \ubc0f \ub3c4\uad6c","text":"<ol> <li>Awesome Prometheus: https://github.com/roaldnefs/awesome-prometheus</li> <li>Grafana Dashboards: https://grafana.com/grafana/dashboards/</li> <li>PromLens (PromQL Query Builder): https://promlens.com/</li> </ol>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_9","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_10","title":"\uae30\ubcf8 \uac1c\ub150","text":"<ul> <li> Prometheus\uc758 pull \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li> TSDB\uc640 \uc2dc\uacc4\uc5f4 \ub370\uc774\ud130 \ubaa8\ub378 \uc774\ud574</li> <li> \ub808\uc774\ube14\uacfc \uce74\ub514\ub110\ub9ac\ud2f0\uc758 \uad00\uacc4 \uc774\ud574</li> <li> Four Golden Signals \uac1c\ub150 \uc219\uc9c0</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#prometheus-promql","title":"Prometheus &amp; PromQL","text":"<ul> <li> kube-prometheus-stack \ubc30\ud3ec \ubc0f \uc124\uc815</li> <li> ServiceMonitor/PodMonitor\ub85c \ucee4\uc2a4\ud140 \uba54\ud2b8\ub9ad \uc218\uc9d1</li> <li> PromQL \uae30\ubcf8 \ucffc\ub9ac \uc791\uc131 (rate, sum, avg, quantile)</li> <li> Recording Rules\uc640 Alerting Rules \uc791\uc131</li> <li> Prometheus federation \ub610\ub294 Thanos \uad6c\uc131</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#grafana","title":"Grafana","text":"<ul> <li> \ub370\uc774\ud130\uc18c\uc2a4 \uc5f0\uacb0 (Prometheus, Loki)</li> <li> 3-3-3 Rule\uc744 \uc801\uc6a9\ud55c \ub300\uc2dc\ubcf4\ub4dc \uc124\uacc4</li> <li> \ubcc0\uc218(Variables)\ub97c \ud65c\uc6a9\ud55c \ub3d9\uc801 \ub300\uc2dc\ubcf4\ub4dc \uc791\uc131</li> <li> AlertManager \ud1b5\ud569 \ubc0f \uc54c\ub9bc \ucc44\ub110 \uc124\uc815</li> <li> Dashboard as Code (Terraform/jsonnet)</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#logging-loki","title":"Logging (Loki)","text":"<ul> <li> Loki + Promtail \uc124\uce58 \ubc0f \uc124\uc815</li> <li> LogQL \ucffc\ub9ac \uc791\uc131 (\ud544\ud130, \ud30c\uc2f1, \uba54\ud2b8\ub9ad \ucd94\ucd9c)</li> <li> Loki\uc640 Prometheus \uba54\ud2b8\ub9ad \uc0c1\uad00\uad00\uacc4 \ubd84\uc11d</li> <li> \ub85c\uadf8 retention \uc815\ucc45 \uc124\uc815</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#distributed-tracing-opentelemetry","title":"Distributed Tracing (OpenTelemetry)","text":"<ul> <li> OpenTelemetry Collector \ubc30\ud3ec</li> <li> Python/Go \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uacc4\uce21 (auto &amp; manual)</li> <li> Trace context propagation \uc774\ud574</li> <li> Jaeger/Tempo\uc5d0\uc11c trace \ubd84\uc11d</li> <li> Span metrics \ud65c\uc6a9</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_11","title":"\ud1b5\ud569 \ubc0f \uc6b4\uc601","text":"<ul> <li> Layered monitoring architecture \uc124\uacc4</li> <li> Storage \ubc0f retention \uc804\ub7b5 \uc218\ub9bd</li> <li> TLS \ubc0f \uc778\uc99d \uc124\uc815</li> <li> Backup \ubc0f disaster recovery \uacc4\ud68d</li> <li> SLO/SLI \uc815\uc758 \ubc0f \ubaa8\ub2c8\ud130\ub9c1</li> </ul>"},{"location":"infrastructure-platform/Ch5.%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81/#_12","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<ol> <li>Ch6.Linux_OS_\uc774\ubbf8\uc9c0.md</li> <li>OS \uc774\ubbf8\uc9c0 \uad6c\uc870 \ubc0f \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5</li> <li>Packer\ub97c \ud65c\uc6a9\ud55c \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ud30c\uc774\ud504\ub77c\uc778</li> <li> <p>\uc774\ubbf8\uc9c0 \ub514\ubc84\uae45 \ubc0f \ucd5c\uc801\ud654</p> </li> <li> <p>\uc2ec\ud654 \uc8fc\uc81c</p> </li> <li>SLO/SLI/SLA Engineering: Error Budget \uae30\ubc18 \uc6b4\uc601</li> <li>Chaos Engineering: \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc758 \ubcf5\uc6d0\ub825 \ud14c\uc2a4\ud2b8</li> <li> <p>AIOps: \uba38\uc2e0\ub7ec\ub2dd \uae30\ubc18 \uc774\uc0c1 \ud0d0\uc9c0 \ubc0f \uc608\uce21</p> </li> <li> <p>\uc2e4\uc804 \ud504\ub85c\uc81d\ud2b8</p> </li> <li>\ud504\ub85c\ub355\uc158 \ud658\uacbd Observability \ud50c\ub7ab\ud3fc \uad6c\ucd95</li> <li>Multi-cluster/Multi-cloud \ubaa8\ub2c8\ud130\ub9c1</li> <li>FinOps\ub97c \uc704\ud55c \ube44\uc6a9 \ubaa8\ub2c8\ud130\ub9c1 \ub300\uc2dc\ubcf4\ub4dc</li> </ol> <p>\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: 2025-11-24 \ub2e4\uc74c \ucc55\ud130: Ch6.Linux_OS_\uc774\ubbf8\uc9c0.md</p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/","title":"Ch6. Linux OS \uc774\ubbf8\uc9c0 \uad00\ub9ac \ubc0f \ube4c\ub4dc","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \uc77c\uad00\ub418\uace0 \uc548\uc804\ud55c \uc778\ud504\ub77c\ub97c \uad6c\ucd95\ud558\uae30 \uc704\ud574\uc11c\ub294 \ud45c\uc900\ud654\ub41c OS \uc774\ubbf8\uc9c0 \uad00\ub9ac\uac00 \ud544\uc218\uc801\uc785\ub2c8\ub2e4. \ubcf8 \uc7a5\uc5d0\uc11c\ub294 Linux OS \uc774\ubbf8\uc9c0\uc758 \uad6c\uc870\ub97c \uc774\ud574\ud558\uace0, HashiCorp Packer\ub97c \ud65c\uc6a9\ud55c \uc790\ub3d9\ud654\ub41c Golden Image \ube4c\ub4dc \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95, cloud-init\uc744 \ud1b5\ud55c \ucd08\uae30\ud654 \uc790\ub3d9\ud654, \uadf8\ub9ac\uace0 \uc774\ubbf8\uc9c0 \ub514\ubc84\uae45 \ubc0f \ucd5c\uc801\ud654 \uae30\ubc95\uc744 \ud559\uc2b5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, **Golden Image Pipeline**\uc740 Infrastructure as Code\uc758 \ud575\uc2ec \uc694\uc18c\ub85c \uc790\ub9ac\uc7a1\uc558\uc73c\uba70, \ubcf4\uc548 \ud328\uce58\uc640 \ucef4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc694\uad6c\uc0ac\ud56d\uc744 \uc790\ub3d9\uc73c\ub85c \ubc18\uc601\ud558\ub294 \uc774\ubbf8\uc9c0 \ube4c\ub4dc \uc790\ub3d9\ud654\uac00 \ud45c\uc900\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<ol> <li>Linux OS \uc774\ubbf8\uc9c0 \uad6c\uc870 \uc774\ud574</li> <li>\ubd80\ud305 \ud504\ub85c\uc138\uc2a4 (BIOS/UEFI, bootloader, kernel, initramfs)</li> <li>\ud30c\uc77c\uc2dc\uc2a4\ud15c \uad6c\uc870 \ubc0f \ud30c\ud2f0\uc158 \ub808\uc774\uc544\uc6c3</li> <li> <p>Cloud \uc774\ubbf8\uc9c0 vs ISO \uc774\ubbf8\uc9c0 \ucc28\uc774\uc810</p> </li> <li> <p>Packer\ub97c \ud65c\uc6a9\ud55c \uc774\ubbf8\uc9c0 \ube4c\ub4dc</p> </li> <li>HCL2 \ubb38\ubc95\uc73c\ub85c Packer \ud15c\ud50c\ub9bf \uc791\uc131</li> <li>Multi-cloud \uc774\ubbf8\uc9c0 \ube4c\ub4dc (AWS, Azure, GCP, OpenStack)</li> <li> <p>Provisioner\ub97c \ud65c\uc6a9\ud55c \uc774\ubbf8\uc9c0 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5</p> </li> <li> <p>cloud-init \ub9c8\uc2a4\ud130\ud558\uae30</p> </li> <li>cloud-init \ub2e8\uacc4 \ubc0f \ub370\uc774\ud130\uc18c\uc2a4 \uc774\ud574</li> <li>user-data, meta-data, vendor-data \ud65c\uc6a9</li> <li> <p>\ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \ubc0f \ucd08\uae30 \uc124\uc815 \uc790\ub3d9\ud654</p> </li> <li> <p>Golden Image Pipeline \uad6c\ucd95</p> </li> <li>CI/CD\ub97c \ud1b5\ud55c \uc790\ub3d9\ud654\ub41c \uc774\ubbf8\uc9c0 \ube4c\ub4dc</li> <li>HCP Packer\ub97c \ud65c\uc6a9\ud55c \uc774\ubbf8\uc9c0 \ubc84\uc804 \uad00\ub9ac</li> <li> <p>\ubcf4\uc548 \uc2a4\uce94 \ubc0f \uac80\uc99d \ud1b5\ud569</p> </li> <li> <p>\uc774\ubbf8\uc9c0 \ub514\ubc84\uae45 \ubc0f \ucd5c\uc801\ud654</p> </li> <li>chroot \ud658\uacbd\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uc218\uc815</li> <li>\uc774\ubbf8\uc9c0 \ud06c\uae30 \ucd5c\uc801\ud654 \uae30\ubc95</li> <li>\ubd80\ud305 \uc2dc\uac04 \ub2e8\ucd95 \ubc0f \uc131\ub2a5 \ud29c\ub2dd</li> </ol>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#part-1-linux-os","title":"Part 1: Linux OS \uc774\ubbf8\uc9c0 \uad6c\uc870","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#11","title":"1.1 \ubd80\ud305 \ud504\ub85c\uc138\uc2a4 \uc774\ud574","text":"<p>\uc804\ud1b5\uc801\uc778 \ubd80\ud305 \ud50c\ub85c\uc6b0: <pre><code>1. BIOS/UEFI Firmware\n   \u2193\n2. Bootloader (GRUB2)\n   \u2193 (loads)\n3. Linux Kernel (vmlinuz)\n   \u2193 (unpacks)\n4. initramfs (Initial RAM filesystem)\n   \u2193 (mounts)\n5. Root Filesystem\n   \u2193 (executes)\n6. Init System (systemd)\n   \u2193\n7. User Space Services\n</code></pre></p> <p>UEFI vs BIOS: | \ud2b9\uc9d5 | BIOS | UEFI | |------|------|------| | \ud30c\ud2f0\uc158 \uc2a4\ud0b4 | MBR (2TB \uc81c\ud55c) | GPT (9.4ZB \uc9c0\uc6d0) | | \ubd80\ud305 \uc18d\ub3c4 | \ub290\ub9bc | \ube60\ub984 | | \ubcf4\uc548 | \uc81c\ud55c\uc801 | Secure Boot \uc9c0\uc6d0 | | \uc778\ud130\ud398\uc774\uc2a4 | \ud14d\uc2a4\ud2b8 \uae30\ubc18 | GUI \uc9c0\uc6d0 |</p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#12","title":"1.2 \uc774\ubbf8\uc9c0 \ud0c0\uc785 \ube44\uad50","text":"<p>ISO \uc774\ubbf8\uc9c0 vs Cloud \uc774\ubbf8\uc9c0:</p> <p>ISO \uc774\ubbf8\uc9c0:</p> <ul> <li>\uc124\uce58 \ubbf8\ub514\uc5b4 (installation media)</li> <li>Anaconda/Ubiquity \ub4f1 \uc778\uc2a4\ud1a8\ub7ec \ud3ec\ud568</li> <li>\uc0ac\uc6a9\uc790 \uc0c1\ud638\uc791\uc6a9 \ud544\uc694</li> <li>\uc124\uce58 \uc2dc\uac04 10-30\ubd84</li> </ul> <p>Cloud \uc774\ubbf8\uc9c0:</p> <ul> <li>\uc0ac\uc804 \uc124\uce58\ub41c OS (pre-installed)</li> <li>cloud-init\uc73c\ub85c \uc124\uc815 \uc790\ub3d9\ud654</li> <li>\uc644\uc804 \uc790\ub3d9\ud654 \uac00\ub2a5</li> <li>\ubd80\ud305 \uc989\uc2dc \uc0ac\uc6a9 \uac00\ub2a5 (1-2\ubd84)</li> </ul> <p>\ud074\ub77c\uc6b0\ub4dc \uc774\ubbf8\uc9c0 \uad6c\uc870: <pre><code>cloud-image.qcow2\n\u251c\u2500\u2500 Boot Partition (EFI System Partition)\n\u2502   \u2514\u2500\u2500 /boot/efi/EFI/ubuntu/\n\u2502       \u251c\u2500\u2500 grubx64.efi\n\u2502       \u2514\u2500\u2500 shimx64.efi\n\u251c\u2500\u2500 Root Partition (/)\n\u2502   \u251c\u2500\u2500 /bin, /usr, /lib, /etc\n\u2502   \u251c\u2500\u2500 /var/lib/cloud/  (cloud-init data)\n\u2502   \u2514\u2500\u2500 /etc/cloud/cloud.cfg\n\u2514\u2500\u2500 (Optional) Data Partition\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#13","title":"1.3 \ud30c\uc77c\uc2dc\uc2a4\ud15c \ubc0f \ud30c\ud2f0\uc158","text":"<p>\uc77c\ubc18\uc801\uc778 \ud30c\ud2f0\uc158 \ub808\uc774\uc544\uc6c3 (GPT/UEFI): <pre><code># parted -l \ucd9c\ub825 \uc608\uc2dc\nNumber  Start   End     Size    File system  Name                  Flags\n 1      1049kB  538MB   537MB   fat32        EFI System Partition  boot, esp\n 2      538MB   1612MB  1074MB  ext4         Boot Partition\n 3      1612MB  100GB   98.4GB  ext4         Root Partition\n</code></pre></p> <p>Packer\ub85c \uc0dd\uc131\ud560 \ub54c \uad8c\uc7a5 \ub808\uc774\uc544\uc6c3: <pre><code># qemu builder\uc758 disk_size \uc124\uc815\nsource \"qemu\" \"ubuntu\" {\n  disk_size         = \"20G\"\n  disk_interface    = \"virtio\"\n  format            = \"qcow2\"\n\n  # \ud30c\ud2f0\uc158 \uc790\ub3d9 \uc0dd\uc131\uc740 boot_command \ub610\ub294 preseed\ub85c \uc81c\uc5b4\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#part-2-hashicorp-packer-","title":"Part 2: HashiCorp Packer - \uc774\ubbf8\uc9c0 \ube4c\ub4dc \uc790\ub3d9\ud654","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#21-packer","title":"2.1 Packer \uc544\ud0a4\ud14d\ucc98","text":"<p>\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8:</p> <ul> <li>Source: \uc774\ubbf8\uc9c0 \ube4c\ub4dc \ud658\uacbd \uc815\uc758 (AWS, Azure, QEMU \ub4f1)</li> <li>Build: Source\ub97c \uc2e4\ud589\ud558\uace0 Provisioner \uc801\uc6a9</li> <li>Provisioner: \uc774\ubbf8\uc9c0 \ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5 (Shell, Ansible, file \ub4f1)</li> <li>Post-Processor: \ube4c\ub4dc \ud6c4 \ucc98\ub9ac (\uc555\ucd95, \uc5c5\ub85c\ub4dc, manifest)</li> </ul> <p>Packer \uc6cc\ud06c\ud50c\ub85c\uc6b0: <pre><code>1. Source \uc815\uc758 (builder)\n   \u2193\n2. VM/\uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\n   \u2193\n3. \ubd80\ud305 \ubc0f \uc5f0\uacb0 (SSH/WinRM)\n   \u2193\n4. Provisioner \uc2e4\ud589 (\ucee4\uc2a4\ud130\ub9c8\uc774\uc9d5)\n   \u2193\n5. Graceful Shutdown\n   \u2193\n6. \uc774\ubbf8\uc9c0 \uc2a4\ub0c5\uc0f7 \uc0dd\uc131\n   \u2193\n7. Post-Processing (\uc120\ud0dd\uc801)\n   \u2193\n8. \ub9ac\uc18c\uc2a4 \uc815\ub9ac\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#22-packer-hcl2","title":"2.2 Packer HCL2 \ud15c\ud50c\ub9bf \uc791\uc131","text":"<p>\uae30\ubcf8 \uad6c\uc870:</p> <pre><code># ubuntu-2204.pkr.hcl\npacker {\n  required_version = \"&gt;= 1.10.0\"\n  required_plugins {\n    amazon = {\n      version = \"&gt;= 1.2.0\"\n      source  = \"github.com/hashicorp/amazon\"\n    }\n    qemu = {\n      version = \"&gt;= 1.0.9\"\n      source  = \"github.com/hashicorp/qemu\"\n    }\n  }\n}\n\n# \ubcc0\uc218 \uc815\uc758\nvariable \"aws_region\" {\n  type    = string\n  default = \"ap-northeast-2\"\n}\n\nvariable \"version\" {\n  type    = string\n  default = \"1.0.0\"\n}\n\nvariable \"environment\" {\n  type    = string\n  default = \"production\"\n}\n\n# \ub85c\uceec \ubcc0\uc218\nlocals {\n  timestamp = formatdate(\"YYYYMMDD-hhmm\", timestamp())\n  image_name = \"ubuntu-2204-${var.environment}-${local.timestamp}\"\n}\n\n# AWS AMI Source\nsource \"amazon-ebs\" \"ubuntu\" {\n  ami_name      = local.image_name\n  instance_type = \"t3.small\"\n  region        = var.aws_region\n\n  source_ami_filter {\n    filters = {\n      name                = \"ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*\"\n      root-device-type    = \"ebs\"\n      virtualization-type = \"hvm\"\n    }\n    most_recent = true\n    owners      = [\"099720109477\"] # Canonical\n  }\n\n  ssh_username = \"ubuntu\"\n\n  # \ud0dc\uadf8\n  tags = {\n    Name        = local.image_name\n    Environment = var.environment\n    Version     = var.version\n    BuildDate   = local.timestamp\n    OS          = \"Ubuntu 22.04\"\n    ManagedBy   = \"Packer\"\n  }\n\n  # \uc2a4\ub0c5\uc0f7 \ud0dc\uadf8\n  snapshot_tags = {\n    Name = \"${local.image_name}-snapshot\"\n  }\n}\n\n# QEMU Source (\ub85c\uceec \ube4c\ub4dc \ub610\ub294 OpenStack)\nsource \"qemu\" \"ubuntu\" {\n  iso_url          = \"https://cloud-images.ubuntu.com/jammy/current/jammy-server-cloudimg-amd64.img\"\n  iso_checksum     = \"sha256:...\" # ISO \uccb4\ud06c\uc12c\n\n  output_directory = \"output-qemu\"\n  shutdown_command = \"echo 'packer' | sudo -S shutdown -P now\"\n\n  disk_size        = \"20G\"\n  format           = \"qcow2\"\n  accelerator      = \"kvm\"\n\n  ssh_username     = \"ubuntu\"\n  ssh_password     = \"ubuntu\"\n  ssh_timeout      = \"20m\"\n\n  vm_name          = local.image_name\n  net_device       = \"virtio-net\"\n  disk_interface   = \"virtio\"\n\n  # cloud-init\uc744 \uc0ac\uc6a9\ud55c \ucd08\uae30 \uc124\uc815\n  cd_files = [\n    \"./cloud-init/meta-data\",\n    \"./cloud-init/user-data\"\n  ]\n  cd_label = \"cidata\"\n\n  headless         = true\n\n  qemuargs = [\n    [\"-m\", \"2048M\"],\n    [\"-smp\", \"2\"]\n  ]\n}\n\n# Build \ube14\ub85d\nbuild {\n  name = \"ubuntu-golden-image\"\n\n  sources = [\n    \"source.amazon-ebs.ubuntu\",\n    \"source.qemu.ubuntu\"\n  ]\n\n  # \uc2dc\uc2a4\ud15c \uc5c5\ub370\uc774\ud2b8\n  provisioner \"shell\" {\n    inline = [\n      \"echo 'Starting system update...'\",\n      \"sudo apt-get update\",\n      \"sudo DEBIAN_FRONTEND=noninteractive apt-get upgrade -y\",\n      \"sudo apt-get clean\"\n    ]\n  }\n\n  # \ud328\ud0a4\uc9c0 \uc124\uce58\n  provisioner \"shell\" {\n    script = \"./scripts/install-packages.sh\"\n  }\n\n  # Ansible Provisioner\n  provisioner \"ansible\" {\n    playbook_file = \"./ansible/setup.yml\"\n    user          = \"ubuntu\"\n    extra_arguments = [\n      \"--extra-vars\",\n      \"env=${var.environment}\"\n    ]\n  }\n\n  # \ud30c\uc77c \ubcf5\uc0ac\n  provisioner \"file\" {\n    source      = \"./configs/custom.conf\"\n    destination = \"/tmp/custom.conf\"\n  }\n\n  provisioner \"shell\" {\n    inline = [\n      \"sudo mv /tmp/custom.conf /etc/myapp/custom.conf\"\n    ]\n  }\n\n  # \uc815\ub9ac \uc2a4\ud06c\ub9bd\ud2b8\n  provisioner \"shell\" {\n    script = \"./scripts/cleanup.sh\"\n  }\n\n  # cloud-init \ub9ac\uc14b (\uc911\uc694!)\n  provisioner \"shell\" {\n    inline = [\n      \"sudo cloud-init clean --logs --seed\"\n    ]\n  }\n\n  # Post-processor: manifest \uc0dd\uc131\n  post-processor \"manifest\" {\n    output     = \"manifest.json\"\n    strip_path = true\n    custom_data = {\n      version     = var.version\n      environment = var.environment\n      build_date  = local.timestamp\n    }\n  }\n\n  # Post-processor: checksum \uc0dd\uc131\n  post-processor \"checksum\" {\n    checksum_types = [\"sha256\"]\n    output         = \"packer_{{.BuildName}}_{{.ChecksumType}}.checksum\"\n  }\n}\n</code></pre>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#23-provisioner","title":"2.3 \uc2e4\uc804 Provisioner \uc2a4\ud06c\ub9bd\ud2b8","text":"<p>install-packages.sh: <pre><code>#!/bin/bash\nset -e\n\necho \"=== Installing required packages ===\"\n\n# \uae30\ubcf8 \ub3c4\uad6c\nsudo apt-get install -y \\\n  curl \\\n  wget \\\n  vim \\\n  git \\\n  htop \\\n  jq \\\n  unzip \\\n  ca-certificates \\\n  gnupg \\\n  lsb-release\n\n# Docker \uc124\uce58\necho \"=== Installing Docker ===\"\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n\nsudo apt-get update\nsudo apt-get install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n\n# Docker \uc0ac\uc6a9\uc790 \ucd94\uac00\nsudo usermod -aG docker ubuntu\n\n# Kubernetes \ub3c4\uad6c \uc124\uce58\necho \"=== Installing Kubernetes tools ===\"\ncurl -LO \"https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl\"\nsudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl\nrm kubectl\n\n# \ubcf4\uc548 \uac15\ud654\necho \"=== Security hardening ===\"\nsudo apt-get install -y \\\n  fail2ban \\\n  ufw \\\n  auditd\n\n# UFW \uae30\ubcf8 \uc124\uc815 (SSH \ud5c8\uc6a9)\nsudo ufw default deny incoming\nsudo ufw default allow outgoing\nsudo ufw allow ssh\n# \uc8fc\uc758: UFW\ub294 cloud-init\uc5d0\uc11c \ud65c\uc131\ud654\n\necho \"=== Package installation completed ===\"\n</code></pre></p> <p>cleanup.sh: <pre><code>#!/bin/bash\nset -e\n\necho \"=== Cleaning up image ===\"\n\n# APT \uce90\uc2dc \uc815\ub9ac\nsudo apt-get clean\nsudo apt-get autoremove -y\nsudo rm -rf /var/lib/apt/lists/*\n\n# \ub85c\uadf8 \uc815\ub9ac\nsudo find /var/log -type f -delete\nsudo rm -rf /tmp/*\nsudo rm -rf /var/tmp/*\n\n# SSH \ud0a4 \uc0ad\uc81c (\ubcf4\uc548)\nsudo rm -f /home/ubuntu/.ssh/authorized_keys\nsudo rm -f /root/.ssh/authorized_keys\n\n# \uba38\uc2e0 ID \ub9ac\uc14b (\uc911\uc694: \uac01 \uc778\uc2a4\ud134\uc2a4\uac00 \uace0\uc720 ID \uc0dd\uc131)\nsudo truncate -s 0 /etc/machine-id\nsudo rm -f /var/lib/dbus/machine-id\nsudo ln -s /etc/machine-id /var/lib/dbus/machine-id\n\n# \ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \ucd08\uae30\ud654\nsudo rm -f /etc/udev/rules.d/70-persistent-net.rules\n\n# \uc258 \ud788\uc2a4\ud1a0\ub9ac \uc0ad\uc81c\nhistory -c\ncat /dev/null &gt; ~/.bash_history\n\n# cloud-init \ub85c\uadf8 \ubc0f \uce90\uc2dc \uc815\ub9ac\nsudo cloud-init clean --logs --seed\n\necho \"=== Cleanup completed ===\"\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#part-3-cloud-init","title":"Part 3: cloud-init \ub9c8\uc2a4\ud130\ud558\uae30","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#31-cloud-init","title":"3.1 cloud-init \uac1c\uc694 \ubc0f \ub2e8\uacc4","text":"<p>cloud-init \uc2e4\ud589 \ub2e8\uacc4: <pre><code>1. Generator (systemd-generator)\n   \u2193\n2. Local Stage (cloud-init-local.service)\n   - \ub370\uc774\ud130\uc18c\uc2a4 \uac10\uc9c0\n   - \ub124\ud2b8\uc6cc\ud06c \uc124\uc815 (early network)\n   \u2193\n3. Network Stage (cloud-init.service)\n   - \ub124\ud2b8\uc6cc\ud06c \uc644\uc804 \ucd08\uae30\ud654\n   - user-data \ubc0f meta-data \uac00\uc838\uc624\uae30\n   \u2193\n4. Config Stage (cloud-config.service)\n   - cloud-config \ubaa8\ub4c8 \uc2e4\ud589\n   - \ud328\ud0a4\uc9c0 \uc124\uce58, \uc0ac\uc6a9\uc790 \uc0dd\uc131 \ub4f1\n   \u2193\n5. Final Stage (cloud-final.service)\n   - \ucd5c\uc885 \uc2a4\ud06c\ub9bd\ud2b8 \uc2e4\ud589\n   - \uc0ac\uc6a9\uc790 \uc815\uc758 \uc2a4\ud06c\ub9bd\ud2b8\n</code></pre></p> <p>\ub370\uc774\ud130\uc18c\uc2a4 \ud0c0\uc785:</p> <ul> <li>NoCloud: ISO \ub610\ub294 HTTP\ub85c \uc81c\uacf5 (\ub85c\uceec \ud14c\uc2a4\ud2b8\uc6a9)</li> <li>EC2: AWS \uba54\ud0c0\ub370\uc774\ud130 \uc11c\ube44\uc2a4 (169.254.169.254)</li> <li>OpenStack: OpenStack \uba54\ud0c0\ub370\uc774\ud130 \uc11c\ube44\uc2a4</li> <li>Azure: Azure \uba54\ud0c0\ub370\uc774\ud130</li> <li>GCP: Google Compute Engine \uba54\ud0c0\ub370\uc774\ud130</li> </ul>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#32-user-data-cloud-config","title":"3.2 user-data \uc791\uc131 (cloud-config)","text":"<p>\uae30\ubcf8 cloud-config \uc608\uc2dc:</p> <pre><code>#cloud-config\n\n# \ud638\uc2a4\ud2b8\uba85 \uc124\uc815\nhostname: web-server-01\nfqdn: web-server-01.example.com\n\n# \uc0ac\uc6a9\uc790 \uc0dd\uc131\nusers:\n  - name: devops\n    groups: sudo, docker\n    shell: /bin/bash\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC... user@example.com\n\n  - name: app\n    groups: app\n    shell: /bin/bash\n    lock_passwd: true  # \ud328\uc2a4\uc6cc\ub4dc \ub85c\uadf8\uc778 \ube44\ud65c\uc131\ud654\n\n# \ud328\ud0a4\uc9c0 \uc5c5\ub370\uc774\ud2b8 \ubc0f \uc124\uce58\npackage_update: true\npackage_upgrade: true\npackages:\n  - nginx\n  - postgresql\n  - redis-server\n  - python3-pip\n  - git\n\n# \ud30c\uc77c \uc791\uc131\nwrite_files:\n  - path: /etc/nginx/sites-available/myapp\n    owner: root:root\n    permissions: '0644'\n    content: |\n      server {\n        listen 80;\n        server_name myapp.example.com;\n\n        location / {\n          proxy_pass http://127.0.0.1:8000;\n          proxy_set_header Host $host;\n          proxy_set_header X-Real-IP $remote_addr;\n        }\n      }\n\n  - path: /opt/app/config.json\n    owner: app:app\n    permissions: '0640'\n    content: |\n      {\n        \"database\": {\n          \"host\": \"localhost\",\n          \"port\": 5432\n        },\n        \"redis\": {\n          \"host\": \"localhost\",\n          \"port\": 6379\n        }\n      }\n\n  - path: /etc/systemd/system/myapp.service\n    owner: root:root\n    permissions: '0644'\n    content: |\n      [Unit]\n      Description=My Application\n      After=network.target postgresql.service redis.service\n\n      [Service]\n      Type=simple\n      User=app\n      WorkingDirectory=/opt/app\n      ExecStart=/usr/bin/python3 /opt/app/server.py\n      Restart=on-failure\n\n      [Install]\n      WantedBy=multi-user.target\n\n# runcmd: \uba85\ub839 \uc2e4\ud589\nruncmd:\n  - systemctl enable nginx\n  - systemctl start nginx\n  - ln -s /etc/nginx/sites-available/myapp /etc/nginx/sites-enabled/\n  - systemctl reload nginx\n\n  - systemctl enable myapp\n  - systemctl start myapp\n\n  # Docker \ucee8\ud14c\uc774\ub108 \uc2e4\ud589\n  - docker run -d --name redis -p 6379:6379 redis:latest\n\n  # \ubc29\ud654\ubcbd \uc124\uc815\n  - ufw allow 80/tcp\n  - ufw allow 443/tcp\n  - ufw --force enable\n\n# \ubd80\ud305 \ud6c4 \ud55c \ubc88\ub9cc \uc2e4\ud589\ub418\ub294 \uc2a4\ud06c\ub9bd\ud2b8\nbootcmd:\n  - echo \"First boot initialization\" &gt;&gt; /var/log/first-boot.log\n\n# \uc7ac\ubd80\ud305 (\ud544\uc694\uc2dc)\npower_state:\n  mode: reboot\n  delay: now\n  message: Rebooting after cloud-init\n  condition: true  # \ub610\ub294 False\n</code></pre> <p>\uba40\ud2f0\ud30c\ud2b8 user-data (\ubcf5\ud569 \ud615\uc2dd):</p> <pre><code>Content-Type: multipart/mixed; boundary=\"==BOUNDARY==\"\nMIME-Version: 1.0\n\n--==BOUNDARY==\nContent-Type: text/cloud-config; charset=\"us-ascii\"\n\n#cloud-config\npackages:\n  - docker.io\n  - kubernetes\n\n--==BOUNDARY==\nContent-Type: text/x-shellscript; charset=\"us-ascii\"\n\n#!/bin/bash\necho \"Custom shell script\"\ndocker pull myapp:latest\ndocker run -d myapp:latest\n\n--==BOUNDARY==\nContent-Type: text/cloud-boothook; charset=\"us-ascii\"\n\n#!/bin/bash\n# \ub9e4 \ubd80\ud305\ub9c8\ub2e4 \uc2e4\ud589\necho \"Running on every boot\"\n\n--==BOUNDARY==--\n</code></pre>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#33-meta-data-vendor-data","title":"3.3 meta-data \ubc0f vendor-data","text":"<p>meta-data (NoCloud \uc608\uc2dc): <pre><code>instance-id: i-0123456789abcdef0\nlocal-hostname: web-server-01\npublic-keys:\n  - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC...\n</code></pre></p> <p>network-config (v2 - Netplan \ud615\uc2dd): <pre><code>version: 2\nethernets:\n  eth0:\n    dhcp4: false\n    addresses:\n      - 192.168.1.100/24\n    gateway4: 192.168.1.1\n    nameservers:\n      addresses:\n        - 8.8.8.8\n        - 8.8.4.4\n</code></pre></p> <p>vendor-data (\ud074\ub77c\uc6b0\ub4dc \uc81c\uacf5\uc790\uac00 \uc81c\uacf5): <pre><code>#cloud-config\n# \uc81c\uacf5\uc790\uac00 \uac15\uc81c\ud558\ub294 \uc124\uc815\npackages:\n  - cloud-provider-agent\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#34-packer-cloud-init","title":"3.4 Packer\uc5d0\uc11c cloud-init \uc0ac\uc6a9","text":"<p>QEMU Builder + cloud-init:</p> <pre><code>project/\n\u251c\u2500\u2500 ubuntu.pkr.hcl\n\u2514\u2500\u2500 cloud-init/\n    \u251c\u2500\u2500 meta-data\n    \u2514\u2500\u2500 user-data\n</code></pre> <p>cloud-init/meta-data: <pre><code>instance-id: packer-build-{{ isotime \"20060102-150405\" }}\nlocal-hostname: packer-ubuntu\n</code></pre></p> <p>cloud-init/user-data: <pre><code>#cloud-config\npassword: ubuntu\nchpasswd: { expire: False }\nssh_pwauth: True\n\n# Packer SSH \uc811\uadfc\uc744 \uc704\ud55c \uc784\uc2dc \uc124\uc815\nusers:\n  - name: ubuntu\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    groups: sudo\n    shell: /bin/bash\n</code></pre></p> <p>Packer \ud15c\ud50c\ub9bf\uc5d0\uc11c \uc0ac\uc6a9: <pre><code>source \"qemu\" \"ubuntu\" {\n  # ... \uae30\ud0c0 \uc124\uc815 ...\n\n  cd_files = [\n    \"./cloud-init/meta-data\",\n    \"./cloud-init/user-data\"\n  ]\n  cd_label = \"cidata\"\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#part-4-golden-image-pipeline","title":"Part 4: Golden Image Pipeline","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#41-cicd-github-actions","title":"4.1 CI/CD \ud1b5\ud569 (GitHub Actions)","text":"<p>.github/workflows/build-image.yml: <pre><code>name: Build Golden Image\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - 'packer/**'\n  schedule:\n    # \ub9e4\uc8fc \uc6d4\uc694\uc77c \uc0c8\ubcbd 2\uc2dc (\ubcf4\uc548 \ud328\uce58 \uc790\ub3d9 \uc801\uc6a9)\n    - cron: '0 2 * * 1'\n  workflow_dispatch:\n    inputs:\n      environment:\n        description: 'Target environment'\n        required: true\n        default: 'staging'\n        type: choice\n        options:\n          - staging\n          - production\n\nenv:\n  PACKER_VERSION: '1.10.0'\n\njobs:\n  validate:\n    name: Validate Packer Template\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - name: Setup Packer\n        uses: hashicorp/setup-packer@main\n        with:\n          version: ${{ env.PACKER_VERSION }}\n\n      - name: Initialize Packer\n        run: packer init packer/\n\n      - name: Validate Template\n        run: packer validate packer/ubuntu.pkr.hcl\n\n      - name: Format Check\n        run: packer fmt -check packer/\n\n  security-scan:\n    name: Security Scan\n    runs-on: ubuntu-latest\n    needs: validate\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - name: Run Trivy vulnerability scanner\n        uses: aquasecurity/trivy-action@master\n        with:\n          scan-type: 'config'\n          scan-ref: 'packer/'\n          format: 'sarif'\n          output: 'trivy-results.sarif'\n\n      - name: Upload Trivy results to GitHub Security\n        uses: github/codeql-action/upload-sarif@v2\n        with:\n          sarif_file: 'trivy-results.sarif'\n\n  build:\n    name: Build Image\n    runs-on: ubuntu-latest\n    needs: [validate, security-scan]\n    permissions:\n      id-token: write  # OIDC \uc778\uc99d\n      contents: read\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n\n      - name: Configure AWS Credentials (OIDC)\n        uses: aws-actions/configure-aws-credentials@v4\n        with:\n          role-to-assume: arn:aws:iam::123456789012:role/GithubActionsPackerRole\n          aws-region: ap-northeast-2\n\n      - name: Setup Packer\n        uses: hashicorp/setup-packer@main\n        with:\n          version: ${{ env.PACKER_VERSION }}\n\n      - name: Initialize Packer\n        run: packer init packer/\n\n      - name: Build Image\n        run: |\n          packer build \\\n            -var \"environment=${{ github.event.inputs.environment || 'staging' }}\" \\\n            -var \"version=${{ github.sha }}\" \\\n            packer/ubuntu.pkr.hcl\n\n      - name: Upload Manifest\n        uses: actions/upload-artifact@v3\n        with:\n          name: packer-manifest\n          path: packer/manifest.json\n\n  test:\n    name: Test Image\n    runs-on: ubuntu-latest\n    needs: build\n    steps:\n      - name: Download Manifest\n        uses: actions/download-artifact@v3\n        with:\n          name: packer-manifest\n\n      - name: Extract AMI ID\n        id: ami\n        run: |\n          AMI_ID=$(jq -r '.builds[0].artifact_id' manifest.json | cut -d':' -f2)\n          echo \"ami_id=$AMI_ID\" &gt;&gt; $GITHUB_OUTPUT\n\n      - name: Test AMI with Kitchen (or custom test)\n        run: |\n          # \uc5ec\uae30\uc5d0 \ud14c\uc2a4\ud2b8 \ub85c\uc9c1 \ucd94\uac00\n          # \uc608: AWS\uc5d0\uc11c \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131 \u2192 \uac80\uc99d \uc2a4\ud06c\ub9bd\ud2b8 \uc2e4\ud589 \u2192 \uc0ad\uc81c\n          echo \"Testing AMI: ${{ steps.ami.outputs.ami_id }}\"\n\n  promote:\n    name: Promote to Production\n    runs-on: ubuntu-latest\n    needs: test\n    if: github.ref == 'refs/heads/main'\n    steps:\n      - name: Tag AMI as Production-Ready\n        run: |\n          # AMI\uc5d0 Production \ud0dc\uadf8 \ucd94\uac00\n          aws ec2 create-tags \\\n            --resources ${{ steps.ami.outputs.ami_id }} \\\n            --tags Key=Environment,Value=production Key=Status,Value=approved\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#42-hcp-packer","title":"4.2 HCP Packer \ud1b5\ud569","text":"<p>HCP Packer\ub780? HashiCorp Cloud Platform Packer\ub294 \uc774\ubbf8\uc9c0 \uba54\ud0c0\ub370\uc774\ud130\ub97c \uc911\uc559\uc5d0\uc11c \uad00\ub9ac\ud558\uace0, Terraform\uacfc \ud1b5\ud569\ud558\uc5ec \ud56d\uc0c1 \ucd5c\uc2e0\uc758 \uac80\uc99d\ub41c \uc774\ubbf8\uc9c0\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \ubcf4\uc7a5\ud569\ub2c8\ub2e4.</p> <p>Packer \ud15c\ud50c\ub9bf\uc5d0 HCP Packer \ucd94\uac00: <pre><code>packer {\n  required_plugins {\n    amazon = {\n      version = \"&gt;= 1.2.0\"\n      source  = \"github.com/hashicorp/amazon\"\n    }\n  }\n}\n\n# HCP Packer \uc124\uc815\nhcp_packer_registry {\n  bucket_name = \"ubuntu-2204-golden-image\"\n  description = \"Ubuntu 22.04 Golden Image for Production\"\n\n  bucket_labels = {\n    \"os\"          = \"ubuntu\"\n    \"os_version\"  = \"22.04\"\n    \"team\"        = \"platform\"\n  }\n\n  build_labels = {\n    \"build_time\" = timestamp()\n    \"git_sha\"    = var.git_sha\n  }\n}\n\nbuild {\n  # HCP Packer\ub294 \uc790\ub3d9\uc73c\ub85c \uc774\ubbf8\uc9c0 \uba54\ud0c0\ub370\uc774\ud130 \uc218\uc9d1\n  sources = [\"source.amazon-ebs.ubuntu\"]\n\n  # ... provisioners ...\n}\n</code></pre></p> <p>Terraform\uc5d0\uc11c HCP Packer \uc774\ubbf8\uc9c0 \uc0ac\uc6a9: <pre><code>data \"hcp_packer_iteration\" \"ubuntu\" {\n  bucket_name = \"ubuntu-2204-golden-image\"\n  channel     = \"production\"  # \ub610\ub294 \"latest\", \"staging\"\n}\n\ndata \"hcp_packer_image\" \"ubuntu_ap_northeast_2\" {\n  bucket_name    = data.hcp_packer_iteration.ubuntu.bucket_name\n  iteration_id   = data.hcp_packer_iteration.ubuntu.id\n  cloud_provider = \"aws\"\n  region         = \"ap-northeast-2\"\n}\n\nresource \"aws_instance\" \"web\" {\n  ami           = data.hcp_packer_image.ubuntu_ap_northeast_2.cloud_image_id\n  instance_type = \"t3.micro\"\n\n  tags = {\n    Name = \"web-server\"\n  }\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#43","title":"4.3 \ubcf4\uc548 \uc2a4\uce94 \ud1b5\ud569","text":"<p>Packer \ud15c\ud50c\ub9bf\uc5d0 Trivy \uc2a4\uce94 \ucd94\uac00: <pre><code>build {\n  sources = [\"source.amazon-ebs.ubuntu\"]\n\n  # ... provisioners ...\n\n  # \ubcf4\uc548 \uc2a4\uce94\n  provisioner \"shell\" {\n    inline = [\n      \"curl -sfL https://raw.githubusercontent.com/aquasecurity/trivy/main/contrib/install.sh | sudo sh -s -- -b /usr/local/bin\",\n      \"sudo trivy rootfs --severity HIGH,CRITICAL --exit-code 1 /\"\n    ]\n  }\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#part-5","title":"Part 5: \uc774\ubbf8\uc9c0 \ub514\ubc84\uae45 \ubc0f \ucd5c\uc801\ud654","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#51-chroot","title":"5.1 chroot \ud658\uacbd\uc5d0\uc11c \uc774\ubbf8\uc9c0 \uc218\uc815","text":"<p>QCOW2 \uc774\ubbf8\uc9c0 \ub9c8\uc6b4\ud2b8 \ubc0f \uc218\uc815:</p> <pre><code># 1. qcow2\ub97c nbd\ub85c \uc5f0\uacb0\nsudo modprobe nbd max_part=8\nsudo qemu-nbd --connect=/dev/nbd0 image.qcow2\n\n# 2. \ud30c\ud2f0\uc158 \ud655\uc778\nsudo fdisk -l /dev/nbd0\n\n# 3. \ud30c\ud2f0\uc158 \ub9c8\uc6b4\ud2b8\nsudo mount /dev/nbd0p1 /mnt\n\n# 4. chroot \ud658\uacbd \uc900\ube44\nsudo mount --bind /dev /mnt/dev\nsudo mount --bind /proc /mnt/proc\nsudo mount --bind /sys /mnt/sys\n\n# 5. chroot \uc9c4\uc785\nsudo chroot /mnt /bin/bash\n\n# \uc774\uc81c \uc774\ubbf8\uc9c0 \ub0b4\ubd80\uc5d0\uc11c \uc791\uc5c5 \uac00\ub2a5\napt-get update\napt-get install vim\n# ... \ud544\uc694\ud55c \uc791\uc5c5 \uc218\ud589 ...\n\n# 6. \ube60\uc838\ub098\uc624\uae30\nexit\n\n# 7. \uc5b8\ub9c8\uc6b4\ud2b8\nsudo umount /mnt/sys\nsudo umount /mnt/proc\nsudo umount /mnt/dev\nsudo umount /mnt\n\n# 8. nbd \uc5f0\uacb0 \ud574\uc81c\nsudo qemu-nbd --disconnect /dev/nbd0\n</code></pre> <p>\uc2a4\ud06c\ub9bd\ud2b8\ub85c \uc790\ub3d9\ud654: <pre><code>#!/bin/bash\n# mount-image.sh\n\nIMAGE=$1\nMOUNT_POINT=/mnt/image\n\nif [ -z \"$IMAGE\" ]; then\n  echo \"Usage: $0 &lt;image.qcow2&gt;\"\n  exit 1\nfi\n\n# NBD \uc5f0\uacb0\nsudo modprobe nbd max_part=8\nsudo qemu-nbd --connect=/dev/nbd0 \"$IMAGE\"\nsleep 2\n\n# \ub9c8\uc6b4\ud2b8\nsudo mkdir -p \"$MOUNT_POINT\"\nsudo mount /dev/nbd0p1 \"$MOUNT_POINT\"\nsudo mount --bind /dev \"$MOUNT_POINT/dev\"\nsudo mount --bind /proc \"$MOUNT_POINT/proc\"\nsudo mount --bind /sys \"$MOUNT_POINT/sys\"\n\necho \"Image mounted at $MOUNT_POINT\"\necho \"Run: sudo chroot $MOUNT_POINT /bin/bash\"\necho \"When done, run: ./umount-image.sh\"\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#52","title":"5.2 \uc774\ubbf8\uc9c0 \ud06c\uae30 \ucd5c\uc801\ud654","text":"<p>\ubd88\ud544\uc694\ud55c \ud328\ud0a4\uc9c0 \uc81c\uac70: <pre><code># \uac1c\ubc1c \ub3c4\uad6c \uc81c\uac70 (\ud504\ub85c\ub355\uc158 \uc774\ubbf8\uc9c0\uc5d0\uc11c)\nsudo apt-get purge -y \\\n  build-essential \\\n  gcc \\\n  g++ \\\n  make\n\n# \ubb38\uc11c \ud30c\uc77c \uc81c\uac70\nsudo rm -rf /usr/share/doc/*\nsudo rm -rf /usr/share/man/*\nsudo rm -rf /usr/share/locale/*\n\n# \uce90\uc2dc \uc815\ub9ac\nsudo apt-get clean\nsudo apt-get autoremove -y\nsudo rm -rf /var/lib/apt/lists/*\nsudo rm -rf /var/cache/apt/*\n\n# \ub85c\uadf8 \uc815\ub9ac\nsudo find /var/log -type f -delete\n</code></pre></p> <p>QCOW2 \uc774\ubbf8\uc9c0 \uc555\ucd95: <pre><code># Sparse file \ucd5c\uc801\ud654\nqemu-img convert -O qcow2 -c input.qcow2 output-compressed.qcow2\n\n# \ud06c\uae30 \ube44\uad50\nls -lh input.qcow2 output-compressed.qcow2\n\n# \ub354 \uacf5\uaca9\uc801\uc778 \uc555\ucd95\nqemu-img convert -O qcow2 -c -o compression_type=zstd input.qcow2 output-zstd.qcow2\n</code></pre></p> <p>Zero-fill \ubbf8\uc0ac\uc6a9 \uacf5\uac04: <pre><code># \uc774\ubbf8\uc9c0 \ub0b4\ubd80\uc5d0\uc11c \uc2e4\ud589 (chroot \ud658\uacbd)\nsudo dd if=/dev/zero of=/EMPTY bs=1M || true\nsudo rm -f /EMPTY\n\n# \uadf8 \ud6c4 \uc678\ubd80\uc5d0\uc11c \uc555\ucd95\nqemu-img convert -O qcow2 -c input.qcow2 optimized.qcow2\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#53","title":"5.3 \ubd80\ud305 \uc2dc\uac04 \ucd5c\uc801\ud654","text":"<p>systemd \ubd84\uc11d: <pre><code># \ubd80\ud305 \uc2dc\uac04 \ud655\uc778\nsystemd-analyze\n\n# \uc11c\ube44\uc2a4\ubcc4 \uc2dc\uac04\nsystemd-analyze blame\n\n# Critical chain\nsystemd-analyze critical-chain\n\n# \uadf8\ub798\ud504 \uc0dd\uc131\nsystemd-analyze plot &gt; boot.svg\n</code></pre></p> <p>\ubd88\ud544\uc694\ud55c \uc11c\ube44\uc2a4 \ube44\ud65c\uc131\ud654: <pre><code># \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \ubd88\ud544\uc694\ud55c \uc11c\ube44\uc2a4\nsudo systemctl disable bluetooth.service\nsudo systemctl disable ModemManager.service\nsudo systemctl disable wpa_supplicant.service\n\n# \ubd80\ud305 \ud6c4 \ud655\uc778\nsudo systemctl list-unit-files --state=enabled\n</code></pre></p> <p>\ucee4\ub110 \ud30c\ub77c\ubbf8\ud130 \ud29c\ub2dd: <pre><code># /etc/default/grub \uc218\uc815\nGRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash nomodeset\"\n\n# \uc801\uc6a9\nsudo update-grub\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#54","title":"5.4 \uc774\ubbf8\uc9c0 \uac80\uc99d \ubc0f \ud14c\uc2a4\ud2b8","text":"<p>\uc790\ub3d9\ud654\ub41c \ud14c\uc2a4\ud2b8 \uc2a4\ud06c\ub9bd\ud2b8: <pre><code>#!/bin/bash\n# test-image.sh\n\nset -e\n\necho \"=== Testing Image ===\"\n\n# 1. \ud544\uc218 \ud328\ud0a4\uc9c0 \ud655\uc778\nREQUIRED_PACKAGES=\"docker.io kubectl nginx\"\nfor pkg in $REQUIRED_PACKAGES; do\n  if dpkg -l | grep -q \"^ii  $pkg\"; then\n    echo \"\u2713 $pkg is installed\"\n  else\n    echo \"\u2717 $pkg is NOT installed\"\n    exit 1\n  fi\ndone\n\n# 2. \uc11c\ube44\uc2a4 \uc0c1\ud0dc \ud655\uc778\nREQUIRED_SERVICES=\"docker nginx\"\nfor svc in $REQUIRED_SERVICES; do\n  if systemctl is-active --quiet \"$svc\"; then\n    echo \"\u2713 $svc is running\"\n  else\n    echo \"\u2717 $svc is NOT running\"\n    exit 1\n  fi\ndone\n\n# 3. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \ud655\uc778\nif ping -c 3 8.8.8.8 &gt; /dev/null 2&gt;&amp;1; then\n  echo \"\u2713 Network connectivity OK\"\nelse\n  echo \"\u2717 Network connectivity FAILED\"\n  exit 1\nfi\n\n# 4. \ud3ec\ud2b8 \ud655\uc778\nif sudo netstat -tuln | grep -q \":80 \"; then\n  echo \"\u2713 Port 80 is listening\"\nelse\n  echo \"\u2717 Port 80 is NOT listening\"\n  exit 1\nfi\n\n# 5. \ub514\uc2a4\ud06c \uacf5\uac04 \ud655\uc778\nDISK_USAGE=$(df / | tail -1 | awk '{print $5}' | sed 's/%//')\nif [ \"$DISK_USAGE\" -lt 80 ]; then\n  echo \"\u2713 Disk usage is $DISK_USAGE% (&lt; 80%)\"\nelse\n  echo \"\u2717 Disk usage is $DISK_USAGE% (&gt;= 80%)\"\n  exit 1\nfi\n\necho \"=== All tests passed ===\"\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#1-packer-qemu","title":"\uc2e4\uc2b5 1: Packer\ub85c \ub85c\uceec QEMU \uc774\ubbf8\uc9c0 \ube4c\ub4dc","text":"<p>\ubaa9\ud45c: Ubuntu 22.04 \ud074\ub77c\uc6b0\ub4dc \uc774\ubbf8\uc9c0 \uae30\ubc18 \ucee4\uc2a4\ud140 \uc774\ubbf8\uc9c0 \ube4c\ub4dc</p> <p>\ub2e8\uacc4:</p> <pre><code># 1. \ud504\ub85c\uc81d\ud2b8 \ub514\ub809\ud1a0\ub9ac \uc0dd\uc131\nmkdir -p packer-lab/{scripts,cloud-init,ansible}\ncd packer-lab\n\n# 2. Packer \uc124\uce58 (Ubuntu)\nwget -O- https://apt.releases.hashicorp.com/gpg | sudo gpg --dearmor -o /usr/share/keyrings/hashicorp-archive-keyring.gpg\necho \"deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] https://apt.releases.hashicorp.com $(lsb_release -cs) main\" | sudo tee /etc/apt/sources.list.d/hashicorp.list\nsudo apt update &amp;&amp; sudo apt install packer\n\n# 3. QEMU \uc124\uce58\nsudo apt install -y qemu-kvm qemu-utils\n\n# 4. cloud-init \ud30c\uc77c \uc0dd\uc131\ncat &gt; cloud-init/meta-data &lt;&lt;EOF\ninstance-id: packer-$(date +%s)\nlocal-hostname: packer-ubuntu\nEOF\n\ncat &gt; cloud-init/user-data &lt;&lt;'EOF'\n#cloud-config\npassword: ubuntu\nchpasswd: { expire: False }\nssh_pwauth: True\nEOF\n\n# 5. Packer \ud15c\ud50c\ub9bf \uc0dd\uc131 (\uc704\uc758 Part 2.2 HCL \ucf54\ub4dc \uc0ac\uc6a9)\n# ubuntu.pkr.hcl \ud30c\uc77c \uc0dd\uc131\n\n# 6. Packer \ucd08\uae30\ud654 \ubc0f \uac80\uc99d\npacker init ubuntu.pkr.hcl\npacker validate ubuntu.pkr.hcl\n\n# 7. \ube4c\ub4dc \uc2e4\ud589\npacker build ubuntu.pkr.hcl\n\n# 8. \uacb0\uacfc \ud655\uc778\nls -lh output-qemu/\n\n# 9. \uc774\ubbf8\uc9c0 \ud14c\uc2a4\ud2b8 (QEMU\ub85c \ubd80\ud305)\nqemu-system-x86_64 \\\n  -hda output-qemu/packer-ubuntu \\\n  -m 2048 \\\n  -enable-kvm \\\n  -nographic\n</code></pre>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#2-aws-ami","title":"\uc2e4\uc2b5 2: AWS AMI \ube4c\ub4dc \ubc0f \ubc30\ud3ec","text":"<pre><code># 1. AWS \uc790\uaca9\uc99d\uba85 \uc124\uc815\nexport AWS_REGION=ap-northeast-2\nexport AWS_PROFILE=default\n\n# 2. Packer \ud15c\ud50c\ub9bf (Part 2.2\uc758 amazon-ebs source \uc0ac\uc6a9)\n\n# 3. \ube4c\ub4dc\npacker build -only=\"amazon-ebs.ubuntu\" ubuntu.pkr.hcl\n\n# 4. AMI ID \ucd94\ucd9c\nAMI_ID=$(jq -r '.builds[0].artifact_id' manifest.json | cut -d':' -f2)\n\n# 5. Terraform\uc73c\ub85c \uc778\uc2a4\ud134\uc2a4 \uc2dc\uc791\ncat &gt; main.tf &lt;&lt;EOF\nprovider \"aws\" {\n  region = \"ap-northeast-2\"\n}\n\nresource \"aws_instance\" \"test\" {\n  ami           = \"$AMI_ID\"\n  instance_type = \"t3.micro\"\n\n  tags = {\n    Name = \"packer-test\"\n  }\n}\n\noutput \"public_ip\" {\n  value = aws_instance.test.public_ip\n}\nEOF\n\nterraform init\nterraform apply -auto-approve\n\n# 6. SSH \uc811\uc18d \ud14c\uc2a4\ud2b8\nssh ubuntu@$(terraform output -raw public_ip)\n\n# 7. \uc815\ub9ac\nterraform destroy -auto-approve\n</code></pre>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#3-cloud-init","title":"\uc2e4\uc2b5 3: cloud-init \uace0\uae09 \ud65c\uc6a9","text":"<p>\ub3d9\uc801 user-data \uc0dd\uc131 (Jinja2 \ud15c\ud50c\ub9bf):</p> <pre><code># generate-userdata.py\nfrom jinja2 import Template\nimport yaml\n\ntemplate = Template('''\n#cloud-config\n\nhostname: {{ hostname }}\n\nusers:\n  - name: {{ admin_user }}\n    groups: sudo, docker\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    ssh_authorized_keys:\n{% for key in ssh_keys %}\n      - {{ key }}\n{% endfor %}\n\npackages:\n{% for pkg in packages %}\n  - {{ pkg }}\n{% endfor %}\n\nruncmd:\n{% for cmd in runcmd %}\n  - {{ cmd }}\n{% endfor %}\n''')\n\nconfig = {\n    'hostname': 'web-server-prod-01',\n    'admin_user': 'devops',\n    'ssh_keys': [\n        'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC... user1@example.com',\n        'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD... user2@example.com'\n    ],\n    'packages': ['docker.io', 'nginx', 'postgresql'],\n    'runcmd': [\n        'systemctl enable docker',\n        'systemctl start docker',\n        'docker run -d -p 80:80 nginx:latest'\n    ]\n}\n\nuserdata = template.render(**config)\nprint(userdata)\n</code></pre>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_4","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#1","title":"\uc608\uc81c 1: \uba40\ud2f0 \ud074\ub77c\uc6b0\ub4dc \uc774\ubbf8\uc9c0 \ube4c\ub4dc","text":"<pre><code># multi-cloud.pkr.hcl\nvariable \"version\" {\n  type = string\n}\n\nlocals {\n  timestamp = formatdate(\"YYYYMMDD-hhmm\", timestamp())\n}\n\n# AWS\nsource \"amazon-ebs\" \"ubuntu\" {\n  ami_name      = \"ubuntu-2204-${local.timestamp}\"\n  instance_type = \"t3.small\"\n  region        = \"ap-northeast-2\"\n\n  source_ami_filter {\n    filters = {\n      name = \"ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*\"\n    }\n    most_recent = true\n    owners      = [\"099720109477\"]\n  }\n\n  ssh_username = \"ubuntu\"\n}\n\n# Azure\nsource \"azure-arm\" \"ubuntu\" {\n  client_id       = var.azure_client_id\n  client_secret   = var.azure_client_secret\n  subscription_id = var.azure_subscription_id\n  tenant_id       = var.azure_tenant_id\n\n  managed_image_name                = \"ubuntu-2204-${local.timestamp}\"\n  managed_image_resource_group_name = \"packer-images\"\n\n  os_type         = \"Linux\"\n  image_publisher = \"Canonical\"\n  image_offer     = \"0001-com-ubuntu-server-jammy\"\n  image_sku       = \"22_04-lts-gen2\"\n\n  location = \"koreacentral\"\n  vm_size  = \"Standard_B2s\"\n}\n\n# GCP\nsource \"googlecompute\" \"ubuntu\" {\n  project_id   = var.gcp_project_id\n  source_image = \"ubuntu-2204-jammy-v20231213\"\n  ssh_username = \"ubuntu\"\n  zone         = \"asia-northeast3-a\"\n\n  image_name        = \"ubuntu-2204-${local.timestamp}\"\n  image_description = \"Ubuntu 22.04 Golden Image\"\n}\n\n# OpenStack\nsource \"openstack\" \"ubuntu\" {\n  identity_endpoint = var.openstack_auth_url\n  username          = var.openstack_username\n  password          = var.openstack_password\n  region            = \"RegionOne\"\n\n  image_name        = \"ubuntu-2204-${local.timestamp}\"\n  source_image_name = \"Ubuntu 22.04 LTS\"\n  flavor            = \"m1.small\"\n\n  ssh_username = \"ubuntu\"\n}\n\nbuild {\n  sources = [\n    \"source.amazon-ebs.ubuntu\",\n    \"source.azure-arm.ubuntu\",\n    \"source.googlecompute.ubuntu\",\n    \"source.openstack.ubuntu\"\n  ]\n\n  # \uacf5\ud1b5 \ud504\ub85c\ube44\uc800\ub2dd\n  provisioner \"shell\" {\n    scripts = [\n      \"./scripts/install-packages.sh\",\n      \"./scripts/security-hardening.sh\",\n      \"./scripts/cleanup.sh\"\n    ]\n  }\n}\n</code></pre>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#2-ansible-provisioner","title":"\uc608\uc81c 2: Ansible Provisioner \ud65c\uc6a9","text":"<p>ansible/setup.yml: <pre><code>---\n- name: Setup Golden Image\n  hosts: all\n  become: yes\n  vars:\n    docker_version: \"24.0\"\n    kubectl_version: \"1.28.0\"\n\n  tasks:\n    - name: Update APT cache\n      apt:\n        update_cache: yes\n        cache_valid_time: 3600\n\n    - name: Install base packages\n      apt:\n        name:\n          - curl\n          - wget\n          - vim\n          - git\n          - htop\n          - jq\n        state: present\n\n    - name: Add Docker GPG key\n      apt_key:\n        url: https://download.docker.com/linux/ubuntu/gpg\n        state: present\n\n    - name: Add Docker repository\n      apt_repository:\n        repo: \"deb [arch=amd64] https://download.docker.com/linux/ubuntu {{ ansible_distribution_release }} stable\"\n        state: present\n\n    - name: Install Docker\n      apt:\n        name:\n          - docker-ce\n          - docker-ce-cli\n          - containerd.io\n        state: present\n\n    - name: Add ubuntu user to docker group\n      user:\n        name: ubuntu\n        groups: docker\n        append: yes\n\n    - name: Download kubectl\n      get_url:\n        url: \"https://dl.k8s.io/release/v{{ kubectl_version }}/bin/linux/amd64/kubectl\"\n        dest: /usr/local/bin/kubectl\n        mode: '0755'\n\n    - name: Configure security - UFW\n      ufw:\n        rule: allow\n        port: \"{{ item }}\"\n        proto: tcp\n      loop:\n        - \"22\"\n        - \"80\"\n        - \"443\"\n\n    - name: Enable UFW\n      ufw:\n        state: enabled\n        policy: deny\n\n    - name: Configure fail2ban\n      apt:\n        name: fail2ban\n        state: present\n\n    - name: Start fail2ban\n      systemd:\n        name: fail2ban\n        state: started\n        enabled: yes\n</code></pre></p> <p>Packer\uc5d0\uc11c \uc0ac\uc6a9: <pre><code>provisioner \"ansible\" {\n  playbook_file = \"./ansible/setup.yml\"\n  user          = \"ubuntu\"\n\n  extra_arguments = [\n    \"--extra-vars\",\n    \"ansible_python_interpreter=/usr/bin/python3\"\n  ]\n}\n</code></pre></p>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ol> <li>HashiCorp Packer</li> <li>Packer \uacf5\uc2dd \ubb38\uc11c</li> <li>HCL2 Templates</li> <li>Builders</li> <li> <p>Provisioners</p> </li> <li> <p>cloud-init</p> </li> <li>cloud-init \uacf5\uc2dd \ubb38\uc11c</li> <li>Examples</li> <li> <p>Modules Reference</p> </li> <li> <p>HCP Packer</p> </li> <li>HCP Packer \ubb38\uc11c</li> <li>Golden Image Pipeline Tutorial</li> </ol>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#2025-best-practices","title":"2025 Best Practices","text":"<ol> <li>Packer Build Pipelines</li> <li>Building preconfigured OS images with HashiCorp Packer</li> <li>Customized Ubuntu Images using Packer + QEMU + Cloud-Init</li> <li>3 Essential Tips for Success in Virtual Machine Image Development</li> </ol>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_7","title":"\ud29c\ud1a0\ub9ac\uc5bc \ubc0f \uc608\uc81c","text":"<ol> <li>Creating custom OS images with Packer - Dask</li> <li>Building a Golden Image Pipeline with Azure DevOps</li> <li>GitHub: packer-ubuntu-cloud-image</li> </ol>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_8","title":"\ucee4\ubba4\ub2c8\ud2f0 \ubc0f \ub3c4\uad6c","text":"<ol> <li>Awesome Packer: https://github.com/dawitnida/awesome-packer</li> <li>Packer Examples: https://github.com/hashicorp/packer-examples</li> <li>cloud-init Examples: https://github.com/canonical/cloud-init</li> </ol>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_9","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_10","title":"\uae30\ubcf8 \uac1c\ub150","text":"<ul> <li> Linux \ubd80\ud305 \ud504\ub85c\uc138\uc2a4 (BIOS/UEFI \u2192 kernel \u2192 init) \uc774\ud574</li> <li> ISO \uc774\ubbf8\uc9c0\uc640 Cloud \uc774\ubbf8\uc9c0\uc758 \ucc28\uc774\uc810 \uc774\ud574</li> <li> GPT/MBR \ud30c\ud2f0\uc158 \uc2a4\ud0b4 \ucc28\uc774 \uc774\ud574</li> <li> cloud-init\uc758 \uc5ed\ud560 \ubc0f 4\ub2e8\uacc4 \uc2e4\ud589 \ud750\ub984 \uc774\ud574</li> </ul>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#packer","title":"Packer","text":"<ul> <li> HCL2 \ubb38\ubc95\uc73c\ub85c Packer \ud15c\ud50c\ub9bf \uc791\uc131</li> <li> Source, Build, Provisioner, Post-Processor \uad6c\uc870 \uc774\ud574</li> <li> QEMU builder\ub85c \ub85c\uceec \uc774\ubbf8\uc9c0 \ube4c\ub4dc</li> <li> AWS AMI \ube4c\ub4dc \ubc0f \ubc30\ud3ec</li> <li> Ansible Provisioner \ud1b5\ud569</li> </ul>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#cloud-init","title":"cloud-init","text":"<ul> <li> user-data (cloud-config) \uc791\uc131</li> <li> meta-data \ubc0f network-config \uc124\uc815</li> <li> \uba40\ud2f0\ud30c\ud2b8 user-data \uc791\uc131</li> <li> Packer\uc640 cloud-init \ud1b5\ud569</li> <li> cloud-init clean \uba85\ub839 \uc774\ud574</li> </ul>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#golden-image-pipeline","title":"Golden Image Pipeline","text":"<ul> <li> GitHub Actions\ub85c \uc774\ubbf8\uc9c0 \ube4c\ub4dc \uc790\ub3d9\ud654</li> <li> OIDC \uae30\ubc18 \uc778\uc99d \uc124\uc815</li> <li> HCP Packer \uc5f0\ub3d9</li> <li> Terraform\uc5d0\uc11c HCP Packer \uc774\ubbf8\uc9c0 \uc0ac\uc6a9</li> <li> \ubcf4\uc548 \uc2a4\uce94 (Trivy) \ud1b5\ud569</li> </ul>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_11","title":"\ub514\ubc84\uae45 \ubc0f \ucd5c\uc801\ud654","text":"<ul> <li> chroot \ud658\uacbd\uc73c\ub85c \uc774\ubbf8\uc9c0 \uc218\uc815</li> <li> QCOW2 \uc774\ubbf8\uc9c0 \uc555\ucd95 \ubc0f \ucd5c\uc801\ud654</li> <li> \ubd80\ud305 \uc2dc\uac04 \ubd84\uc11d (systemd-analyze)</li> <li> \uc774\ubbf8\uc9c0 \ud06c\uae30 \ucd5c\uc18c\ud654</li> <li> \uc790\ub3d9\ud654\ub41c \uc774\ubbf8\uc9c0 \ud14c\uc2a4\ud2b8 \uc2a4\ud06c\ub9bd\ud2b8 \uc791\uc131</li> </ul>"},{"location":"infrastructure-platform/Ch6.Linux_OS_%EC%9D%B4%EB%AF%B8%EC%A7%80/#_12","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Infrastructure Platform \uc139\uc158\uc744 \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4! \ub2e4\uc74c\uc740 Computing Service\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4.</p> <ol> <li>../computing-service/Ch1.OpenStack.md</li> <li>OpenStack \uc544\ud0a4\ud14d\ucc98 (Nova, Cinder, Glance, Ironic)</li> <li>\ucef4\ud4e8\ud305 \ub9ac\uc18c\uc2a4 \uad00\ub9ac \ubc0f \uc2a4\ucf00\uc904\ub9c1</li> <li> <p>\uac00\uc0c1\ud654 \ubc0f \ubca0\uc5b4\uba54\ud0c8 \ud504\ub85c\ube44\uc800\ub2dd</p> </li> <li> <p>\uc2ec\ud654 \uc8fc\uc81c</p> </li> <li>Immutable Infrastructure: \ucee8\ud14c\uc774\ub108 \uc774\ubbf8\uc9c0 + Packer \uc870\ud569</li> <li>Image Bakery: Netflix Aminator, Spinnaker Bakery</li> <li> <p>OSTree/rpm-ostree: Fedora CoreOS, Flatcar Container Linux</p> </li> <li> <p>\uc2e4\uc804 \ud504\ub85c\uc81d\ud2b8</p> </li> <li>\uc644\uc804 \uc790\ub3d9\ud654\ub41c Golden Image Pipeline \uad6c\ucd95</li> <li>Multi-cloud \uc774\ubbf8\uc9c0 \ubc30\ud3ec \uc790\ub3d9\ud654</li> <li>CIS Benchmark \uc900\uc218 \uc774\ubbf8\uc9c0 \ube4c\ub4dc</li> </ol> <p>\ub9c8\uc9c0\ub9c9 \uc5c5\ub370\uc774\ud2b8: 2025-11-24 \ub2e4\uc74c \uc139\uc158: Computing Service</p>"},{"location":"networking-service/","title":"\ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc","text":"<p>KakaoCloud \ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc790 \ud3ec\uc9c0\uc158\uc744 \uc704\ud55c \uc2a4\ud130\ub514 \uac00\uc774\ub4dc\uc785\ub2c8\ub2e4.</p>"},{"location":"networking-service/#_2","title":"\ud3ec\uc9c0\uc158 \uac1c\uc694","text":"<p>KakaoCloud\uc758 \ud575\uc2ec\uc778 IaaS \ub124\ud2b8\uc6cc\ud0b9 \uc11c\ube44\uc2a4(Beyond Networking Service)\ub97c \uac1c\ubc1c\ud569\ub2c8\ub2e4.</p> <ul> <li>Public Cloud \ud658\uacbd\uc5d0\uc11c \ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc548\uc815\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c \uc2dc\uc2a4\ud15c \uc124\uacc4</li> <li>API \uae30\ubc18 \uac00\uc0c1\ud654\ub41c \uc5b8\ub354\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</li> <li>Network Function \uac1c\ubc1c \ubc0f \uc870\ud569\uc744 \ud1b5\ud55c \uc0c8\ub85c\uc6b4 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uad6c\ud604</li> </ul>"},{"location":"networking-service/#_3","title":"\ud544\uc218 \uc5ed\ub7c9","text":""},{"location":"networking-service/#1","title":"1. \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \ubc0f \uc2dc\uc2a4\ud15c \uc124\uacc4","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\uc2dc\uc2a4\ud15c \uad6c\uc870\uc640 \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c\uc5d0 \ub300\ud55c \uae4a\uc740 \uc774\ud574</li> <li>\uc548\uc815\uc801\uc774\uace0 \ud655\uc7a5 \uac00\ub2a5\ud55c \uc2dc\uc2a4\ud15c \uc124\uacc4 \ub2a5\ub825</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \uc2ec\ud654</li> <li>TCP/IP \uc2a4\ud0dd \uc2ec\ud654 \uc774\ud574</li> <li>BGP, OSPF \ub4f1 \ub77c\uc6b0\ud305 \ud504\ub85c\ud1a0\ucf5c</li> <li>VLAN, VXLAN \ub4f1 \uac00\uc0c1\ud654 \uae30\uc220</li> <li>SDN (Software Defined Networking) \uac1c\ub150</li> <li> \ub124\ud2b8\uc6cc\ud06c \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> <li>\uc2a4\ucf00\uc77c \uc544\uc6c3 vs \uc2a4\ucf00\uc77c \uc5c5</li> <li>\ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc804\ub7b5</li> <li>\uace0\uac00\uc6a9\uc131 \uc124\uacc4</li> <li>\ub124\ud2b8\uc6cc\ud06c \ubd84\ud560 \ubc0f \uaca9\ub9ac</li> <li> \ubd84\uc0b0 \uc2dc\uc2a4\ud15c \uc124\uacc4</li> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98</li> <li>\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0 \ud328\ud134</li> <li>\uc774\ubca4\ud2b8 \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ub124\ud2b8\uc6cc\ud06c \ud1a0\ud3f4\ub85c\uc9c0 \uc124\uacc4</li> <li>\ubd84\uc0b0 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Computer Networks: A Systems Approach</li> <li>High Performance Browser Networking</li> </ul>"},{"location":"networking-service/#2-api","title":"2. API \uc124\uacc4 \ubc0f \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Stateless\ud55c API \uc11c\ubc84 \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li>RESTful \ub610\ub294 gRPC \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> RESTful API \uc124\uacc4</li> <li>REST \uc6d0\uce59 \uc774\ud574</li> <li>\ub9ac\uc18c\uc2a4 \ubaa8\ub378\ub9c1</li> <li>HTTP \uba54\uc11c\ub4dc \ubc0f \uc0c1\ud0dc \ucf54\ub4dc</li> <li>API \ubc84\uc804 \uad00\ub9ac</li> <li>OpenAPI/Swagger \uc2a4\ud399 \uc791\uc131</li> <li> gRPC \uac1c\ubc1c</li> <li>Protocol Buffers</li> <li>gRPC \uc11c\ubc84/\ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\ubc1c</li> <li>\uc2a4\ud2b8\ub9ac\ubc0d (Unary, Server Streaming, Client Streaming, Bidirectional)</li> <li>\uc778\ud130\uc149\ud130 \ubc0f \ubbf8\ub4e4\uc6e8\uc5b4</li> <li> API \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>\uce90\uc2f1 \uc804\ub7b5</li> <li>Rate Limiting</li> <li>Connection Pooling</li> <li>\ube44\ub3d9\uae30 \ucc98\ub9ac</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>RESTful API \uc11c\ubc84 \uad6c\ud604</li> <li>gRPC \uc11c\ube44\uc2a4 \uad6c\ud604</li> <li>API \uac8c\uc774\ud2b8\uc6e8\uc774 \uad6c\uc131</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>RESTful API Design Guide</li> <li>gRPC \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service/#3-openstack","title":"3. OpenStack \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>OpenStack \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c \uc8fc\ub3c4\uc801 \uc218\ud589</li> <li>\ud37c\ube14\ub9ad \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c\uc758 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4 \ubc0f \uc6b4\uc601</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> OpenStack \uae30\ucd08</li> <li>OpenStack \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li>\uc8fc\uc694 \ucef4\ud3ec\ub10c\ud2b8 (Nova, Neutron, Cinder \ub4f1)</li> <li>OpenStack API \uc0ac\uc6a9\ubc95</li> <li> Neutron (Networking Service)</li> <li>Neutron \uc544\ud0a4\ud14d\ucc98</li> <li>\ub124\ud2b8\uc6cc\ud06c, \uc11c\ube0c\ub137, \ub77c\uc6b0\ud130 \ub9ac\uc18c\uc2a4</li> <li>\ud50c\ub7ec\uadf8\uc778 \ubc0f \ub4dc\ub77c\uc774\ubc84</li> <li>ML2 (Modular Layer 2) \ud50c\ub7ec\uadf8\uc778</li> <li> OpenStack \uac1c\ubc1c</li> <li>OpenStack SDK \uc0ac\uc6a9</li> <li>\ucee4\uc2a4\ud140 \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li>API \ud655\uc7a5 \uac1c\ubc1c</li> <li> \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</li> <li>\uac00\uc0c1 \ub124\ud2b8\uc6cc\ud06c \uad6c\ucd95</li> <li>\ub124\ud2b8\uc6cc\ud06c \uaca9\ub9ac \ubc0f \ubcf4\uc548</li> <li>\uba40\ud2f0 \ud14c\ub10c\ud2b8 \ub124\ud2b8\uc6cc\ud06c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>OpenStack Neutron\uc744 \ud65c\uc6a9\ud55c \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\ucee4\uc2a4\ud140 \ub124\ud2b8\uc6cc\ud06c \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>OpenStack \uacf5\uc2dd \ubb38\uc11c</li> <li>Neutron \uac1c\ubc1c\uc790 \uac00\uc774\ub4dc</li> </ul>"},{"location":"networking-service/#4-nfv-sdn","title":"4. \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654 (NFV, SDN)","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub370\uc774\ud130\uc13c\ud130 \ub124\ud2b8\uc6cc\ud06c \ubc0f \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654\uc5d0 \ub300\ud55c \uae4a\uc774 \uc788\ub294 \uc774\ud574</li> <li>\ubcf5\uc7a1\ud55c \ub124\ud2b8\uc6cc\ud06c \ud658\uacbd\uc5d0\uc11c\uc758 \ubb38\uc81c \ud574\uacb0 \ub2a5\ub825</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> NFV (Network Functions Virtualization)</li> <li>NFV \uc544\ud0a4\ud14d\ucc98</li> <li>VNF (Virtual Network Function) \uac1c\ubc1c</li> <li>NFV \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158</li> <li> SDN (Software Defined Networking)</li> <li>SDN \ucee8\ud2b8\ub864\ub7ec (OpenDaylight, ONOS \ub4f1)</li> <li>OpenFlow \ud504\ub85c\ud1a0\ucf5c</li> <li>\ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\uadf8\ub798\ubc0d</li> <li> \ub124\ud2b8\uc6cc\ud06c \uc624\ubc84\ub808\uc774</li> <li>VXLAN, GRE, Geneve</li> <li>\uc624\ubc84\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4</li> <li>\uc5b8\ub354\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \ucd5c\uc801\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uac04\ub2e8\ud55c VNF \uac1c\ubc1c</li> <li>SDN \ucee8\ud2b8\ub864\ub7ec \uc5f0\ub3d9</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>ETSI NFV \ubb38\uc11c</li> <li>OpenDaylight \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service/#5","title":"5. \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc5f0\ub3d9","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ub2e4\uc591\ud55c \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4(FW, LB, Switch)\ub97c \ub0b4\ubd80 \uc2dc\uc2a4\ud15c\uacfc \uc5f0\ub3d9</li> <li>\uace0\uac00\uc6a9\uc131\uacfc \ud655\uc7a5\uc131\uc744 \uace0\ub824\ud55c \uc548\uc815\uc801\uc778 \ud1b5\ud569 \uc11c\ube44\uc2a4 \uad6c\ucd95</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \ubc29\ud654\ubcbd (Firewall) \uc5f0\ub3d9</li> <li>\ubc29\ud654\ubcbd API \uc774\ud574</li> <li>\uc815\ucc45 \uad00\ub9ac \uc790\ub3d9\ud654</li> <li>\ubc29\ud654\ubcbd \ud074\ub7ec\uc2a4\ud130\ub9c1</li> <li> \ub85c\ub4dc \ubc38\ub7f0\uc11c (Load Balancer) \uc5f0\ub3d9</li> <li>\ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc54c\uace0\ub9ac\uc998</li> <li>Health Check \uad6c\uc131</li> <li>SSL/TLS \uc885\ub8cc</li> <li>\uace0\uac00\uc6a9\uc131 \uad6c\uc131</li> <li> \uc2a4\uc704\uce58 (Switch) \uc5f0\ub3d9</li> <li>\uad00\ub9ac\ud615 \uc2a4\uc704\uce58 API</li> <li>VLAN \uad6c\uc131 \uc790\ub3d9\ud654</li> <li>\uc2a4\uc704\uce58 \ubaa8\ub2c8\ud130\ub9c1</li> <li> \ud1b5\ud569 \uc11c\ube44\uc2a4 \uc124\uacc4</li> <li>\uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158</li> <li>\uc790\ub3d9 \uc2a4\ucf00\uc77c\ub9c1</li> <li>\uc7a5\uc560 \ubcf5\uad6c \uc790\ub3d9\ud654</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\ubc29\ud654\ubcbd \uc815\ucc45 \uc790\ub3d9\ud654 \ub3c4\uad6c \uac1c\ubc1c</li> <li>\ub85c\ub4dc \ubc38\ub7f0\uc11c \uc790\ub3d9 \uad6c\uc131 \uc2dc\uc2a4\ud15c</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>F5 Networks API \ubb38\uc11c</li> <li>HAProxy \ubb38\uc11c</li> </ul>"},{"location":"networking-service/#6-event-driven","title":"6. Event-driven \uc544\ud0a4\ud14d\ucc98","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Event-driven \uc544\ud0a4\ud14d\ucc98 \uae30\ubc18 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc124\uacc4 \ubc0f \uac1c\ubc1c</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> \uc774\ubca4\ud2b8 \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98 \ud328\ud134</li> <li>Event Sourcing</li> <li>CQRS (Command Query Responsibility Segregation)</li> <li>Pub/Sub \ud328\ud134</li> <li> \uba54\uc2dc\uc9c0 \ube0c\ub85c\ucee4</li> <li>RabbitMQ, Kafka \ub4f1</li> <li>\uba54\uc2dc\uc9c0 \ud050 \ud328\ud134</li> <li>\uc774\ubca4\ud2b8 \uc2a4\ud2b8\ub9ac\ubc0d</li> <li> \uc774\ubca4\ud2b8 \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>\uc774\ubca4\ud2b8 \ubc1c\ud589 \ubc0f \uad6c\ub3c5</li> <li>\uc774\ubca4\ud2b8 \uc21c\uc11c \ubcf4\uc7a5</li> <li>\uc774\ubca4\ud2b8 \uc7ac\uc0dd \ubc0f \ubcf5\uad6c</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>\uc774\ubca4\ud2b8 \uae30\ubc18 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uad6c\ud604</li> <li>\uba54\uc2dc\uc9c0 \ube0c\ub85c\ucee4\ub97c \ud65c\uc6a9\ud55c \uc11c\ube44\uc2a4 \ud1b5\uc2e0</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Event-Driven Architecture Patterns</li> <li>Apache Kafka \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service/#7-cloud-native","title":"7. Cloud-native \ud658\uacbd \uac1c\ubc1c","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>Cloud-native \ud658\uacbd\uc5d0\uc11c\uc758 \uac1c\ubc1c \ubc0f \uc6b4\uc601</li> <li>Kubernetes, GitOps \ub4f1 \uc0dd\uc0b0\uc131 \ub3c4\uad6c \ud65c\uc6a9</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> Kubernetes \ub124\ud2b8\uc6cc\ud0b9</li> <li>CNI (Container Network Interface) \uc774\ud574</li> <li>Service, Ingress \ub9ac\uc18c\uc2a4</li> <li>Network Policy</li> <li>Service Mesh (Istio, Linkerd)</li> <li> Kubernetes \ub124\ud2b8\uc6cc\ud06c \ud50c\ub7ec\uadf8\uc778</li> <li>Calico, Flannel, Cilium \ub4f1</li> <li>\ucee4\uc2a4\ud140 CNI \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> <li> GitOps\ub97c \ud1b5\ud55c \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131 \uad00\ub9ac</li> <li>ArgoCD\ub97c \ud65c\uc6a9\ud55c \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45 \ubc30\ud3ec</li> <li>\uc120\uc5b8\uc801 \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131</li> </ul> <p>\uc2e4\uc2b5 \ud504\ub85c\uc81d\ud2b8:</p> <ul> <li>Kubernetes \uae30\ubc18 \ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uac1c\ubc1c</li> <li>Service Mesh \uad6c\uc131 \ubc0f \ud65c\uc6a9</li> </ul> <p>\ucd94\uac00 \ud559\uc2b5 \uc790\ub8cc:</p> <ul> <li>Kubernetes \ub124\ud2b8\uc6cc\ud0b9 \uacf5\uc2dd \ubb38\uc11c</li> <li>Cilium \uacf5\uc2dd \ubb38\uc11c</li> </ul>"},{"location":"networking-service/#_4","title":"\uc6b0\ub300 \uc5ed\ub7c9","text":""},{"location":"networking-service/#_5","title":"\ud37c\ube14\ub9ad \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud06c \uacbd\ud5d8","text":"<p>\ud559\uc2b5 \ubaa9\ud45c:</p> <ul> <li>\ud37c\ube14\ub9ad \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c\uc758 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4 \ubc0f \uc6b4\uc601 \uc2e4\ubb34 \uacbd\ud5d8</li> </ul> <p>\ud559\uc2b5 \ub0b4\uc6a9:</p> <ul> <li> AWS \ub124\ud2b8\uc6cc\ud0b9</li> <li>VPC, Subnet, Route Table</li> <li>Security Group, NACL</li> <li>ELB, ALB, NLB</li> <li>Direct Connect, VPN</li> <li> GCP \ub124\ud2b8\uc6cc\ud0b9</li> <li>VPC, Subnet</li> <li>Cloud Load Balancing</li> <li>Cloud Interconnect</li> <li> Azure \ub124\ud2b8\uc6cc\ud0b9</li> <li>Virtual Network</li> <li>Load Balancer</li> <li>ExpressRoute</li> </ul> <p>\uc2e4\uc2b5:</p> <ul> <li>\uac01 \ud074\ub77c\uc6b0\ub4dc \ud50c\ub7ab\ud3fc\uc5d0\uc11c \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131 \uc2e4\uc2b5</li> </ul>"},{"location":"networking-service/#_6","title":"\ud559\uc2b5 \ub85c\ub4dc\ub9f5","text":""},{"location":"networking-service/#1-1-2","title":"1\ub2e8\uacc4: \uae30\ucd08 (1-2\uac1c\uc6d4)","text":"<ol> <li>\ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \uc2ec\ud654 \ud559\uc2b5</li> <li>RESTful API \ubc0f gRPC \uac1c\ubc1c</li> <li>OpenStack \uae30\ucd08</li> </ol>"},{"location":"networking-service/#2-3-4","title":"2\ub2e8\uacc4: \uc911\uae09 (3-4\uac1c\uc6d4)","text":"<ol> <li>OpenStack Neutron \uc2ec\ud654</li> <li>NFV, SDN \ud559\uc2b5</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc5f0\ub3d9</li> </ol>"},{"location":"networking-service/#3-5-6","title":"3\ub2e8\uacc4: \uace0\uae09 (5-6\uac1c\uc6d4)","text":"<ol> <li>Event-driven \uc544\ud0a4\ud14d\ucc98 \uad6c\ud604</li> <li>Kubernetes \ub124\ud2b8\uc6cc\ud0b9</li> <li>Service Mesh \uad6c\uc131</li> </ol>"},{"location":"networking-service/#4-7","title":"4\ub2e8\uacc4: \uc2e4\ubb34 (7\uac1c\uc6d4 \uc774\uc0c1)","text":"<ol> <li>\ub300\uaddc\ubaa8 \ub124\ud2b8\uc6cc\ud06c \uc2dc\uc2a4\ud15c \uc124\uacc4</li> <li>\uc885\ud569 \ud504\ub85c\uc81d\ud2b8</li> <li>\uc2e4\uc81c \uc6b4\uc601 \ud658\uacbd \uacbd\ud5d8</li> </ol>"},{"location":"networking-service/#_7","title":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c \ubc0f \uc2dc\uc2a4\ud15c \uc124\uacc4 \ub2a5\ub825 \ubcf4\uc720</li> <li> RESTful API \ubc0f gRPC \uc11c\ube44\uc2a4 \uac1c\ubc1c \uac00\ub2a5</li> <li> OpenStack \uae30\ubc18 \uc11c\ube44\uc2a4 \uac1c\ubc1c \uac00\ub2a5</li> <li> NFV, SDN\uc5d0 \ub300\ud55c \uc774\ud574</li> <li> \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc5f0\ub3d9 \uacbd\ud5d8</li> <li> Event-driven \uc544\ud0a4\ud14d\ucc98 \uad6c\ud604 \uac00\ub2a5</li> <li> Kubernetes \ub124\ud2b8\uc6cc\ud0b9 \uc774\ud574 \ubc0f \ud65c\uc6a9 \uac00\ub2a5</li> </ul>"},{"location":"networking-service/#_8","title":"\uad00\ub828 \uc790\ub8cc","text":"<ul> <li>\uacf5\ud1b5 \uc5ed\ub7c9 \uc2a4\ud130\ub514 \uac00\uc774\ub4dc - \uba3c\uc800 \ud559\uc2b5 \uad8c\uc7a5</li> <li>\uc804\uccb4 \ud559\uc2b5 \ucee4\ub9ac\ud058\ub7fc</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/","title":"Ch1. \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c\uc740 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c\uc758 \uadfc\uac04\uc774 \ub418\ub294 \ud575\uc2ec \uae30\uc220\uc785\ub2c8\ub2e4. TCP/IP\ubd80\ud130 BGP, OSPF\uc640 \uac19\uc740 \ub77c\uc6b0\ud305 \ud504\ub85c\ud1a0\ucf5c, VLAN/VXLAN\uc744 \ud65c\uc6a9\ud55c \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654, \uadf8\ub9ac\uace0 SDN(Software Defined Networking)\uae4c\uc9c0 \ud604\ub300 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c \ud544\uc218\uc801\uc778 \ub124\ud2b8\uc6cc\ud0b9 \uae30\uc220\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, BBRv3 \ud63c\uc7a1 \uc81c\uc5b4, P4 \ud504\ub85c\uadf8\ub798\uba38\ube14 \ub370\uc774\ud130 \ud50c\ub808\uc778, VXLAN EVPN \ud328\ube0c\ub9ad\uc774 \ub370\uc774\ud130\uc13c\ud130 \ud45c\uc900\uc73c\ub85c \uc790\ub9ac\uc7a1\uc558\uc73c\uba70, \uc774\ub7ec\ud55c \uae30\uc220\ub4e4\uc744 \uc774\ud574\ud558\ub294 \uac83\uc740 \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud0b9 \uc5d4\uc9c0\ub2c8\uc5b4\uc5d0\uac8c \ud544\uc218\uc801\uc785\ub2c8\ub2e4.</p>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>TCP/IP \uc2a4\ud0dd\uc758 \ub3d9\uc791 \uc6d0\ub9ac\uc640 BBR \ud63c\uc7a1 \uc81c\uc5b4 \uc54c\uace0\ub9ac\uc998 \uc774\ud574</li> <li>BGP\uc640 OSPF\uc758 \ucc28\uc774\uc810\uacfc \uc801\uc808\ud55c \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624 \ud310\ub2e8</li> <li>VXLAN \uc624\ubc84\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li>SDN \uc544\ud0a4\ud14d\ucc98\uc640 OpenFlow/P4 \ud504\ub85c\ud1a0\ucf5c \ud65c\uc6a9</li> <li>\ub300\uaddc\ubaa8 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c\uc758 \ub77c\uc6b0\ud305 \uc804\ub7b5 \uc218\ub9bd</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#part-1-tcpip","title":"Part 1: TCP/IP \uae30\ucd08 \ubc0f \ucd5c\uc801\ud654","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#1-1-tcpip","title":"1-1. TCP/IP \uc2a4\ud0dd \uad6c\uc870","text":"<p>OSI 7\uacc4\uce35 vs TCP/IP 4\uacc4\uce35</p> <pre><code>OSI 7\uacc4\uce35              TCP/IP 4\uacc4\uce35\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nApplication            Application\nPresentation           (\uc560\ud50c\ub9ac\ucf00\uc774\uc158)\nSession\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nTransport              Transport\n                       (\uc804\uc1a1)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nNetwork                Internet\n                       (\uc778\ud130\ub137)\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nData Link              Network Access\nPhysical               (\ub124\ud2b8\uc6cc\ud06c \uc561\uc138\uc2a4)\n</code></pre> <p>\ud575\uc2ec \ud504\ub85c\ud1a0\ucf5c</p> <ul> <li>IP (Internet Protocol): \ud328\ud0b7 \ub77c\uc6b0\ud305 \ubc0f \uc8fc\uc18c \uc9c0\uc815</li> <li>TCP (Transmission Control Protocol): \uc2e0\ub8b0\uc131 \uc788\ub294 \uc5f0\uacb0 \uc9c0\ud5a5 \ud1b5\uc2e0</li> <li>UDP (User Datagram Protocol): \ube44\uc5f0\uacb0\ud615 \uace0\uc18d \ud1b5\uc2e0</li> <li>ICMP (Internet Control Message Protocol): \uc5d0\ub7ec \ubcf4\uace0 \ubc0f \uc9c4\ub2e8</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#1-2-tcp","title":"1-2. TCP \ud63c\uc7a1 \uc81c\uc5b4\uc758 \uc9c4\ud654","text":"<p>\uc804\ud1b5\uc801\uc778 \ud63c\uc7a1 \uc81c\uc5b4 \uc54c\uace0\ub9ac\uc998</p> <p>Loss-based \uc54c\uace0\ub9ac\uc998 (Reno, CUBIC):</p> <pre><code>\ucc98\ub9ac\ub7c9\n  \u25b2\n  \u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502    \u2571       \u2572      \ud328\ud0b7 \uc190\uc2e4 \ubc1c\uc0dd\n  \u2502   \u2571         \u2572    \u250c\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  \u2571           \u2572  \u2571       \u2572\n  \u2502 \u2571             \u2572\u2571         \u2572\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba \uc2dc\uac04\n\n  \ubb38\uc81c\uc810:\n  - \ud328\ud0b7 \uc190\uc2e4\uc774 \ubc1c\uc0dd\ud574\uc57c\ub9cc \ub300\uc5ed\ud3ed \uc778\uc9c0\n  - \ubc84\ud37c \ube14\ub85c\ud2b8(Bufferbloat) \ubb38\uc81c\n  - \ub79c\ub364 \uc190\uc2e4\uc5d0 \ucde8\uc57d\n</code></pre> <p>BBR (Bottleneck Bandwidth and RTT)</p> <p>Google\uc774 \uac1c\ubc1c\ud55c BBR\uc740 \ud328\ud0b7 \uc190\uc2e4\uc774 \uc544\ub2cc **\uc2e4\uc81c \ub300\uc5ed\ud3ed\uacfc RTT \uce21\uc815**\uc744 \uae30\ubc18\uc73c\ub85c \ub3d9\uc791\ud569\ub2c8\ub2e4.</p> <p>BBR \ubc84\uc804\ubcc4 \ubc1c\uc804\uc0ac\ud56d (2025):</p> <ul> <li>BBRv1 (2016): \ucd08\uae30 \ubc84\uc804, loss-based \ub300\ube44 4% \ucc98\ub9ac\ub7c9 \uc99d\uac00, RTT 33% \uac10\uc18c</li> <li>BBRv2 (2018): \uacf5\uc815\uc131 \uac1c\uc120, \ud558\uc9c0\ub9cc \ub300\uc5ed\ud3ed \ud65c\uc6a9\ub960\uc740 \uac10\uc18c</li> <li>BBRv3 (2023): BBRv2\uc758 \ub450 \uac00\uc9c0 \ubc84\uadf8 \uc218\uc815</li> <li>\ub300\uc5ed\ud3ed \ud504\ub85c\ube59 \uc870\uae30 \uc885\ub8cc \ubb38\uc81c</li> <li>\ub300\uc5ed\ud3ed \uc218\ub834 \ubb38\uc81c</li> <li>\ucd08\uae30 \uc804\uc1a1 \uacf5\uc815\uc131 \uac1c\uc120</li> </ul> <p>2025\ub144 \ucd5c\uc2e0 \uc5f0\uad6c:</p> <p>TCP QtColFair \uc54c\uace0\ub9ac\uc998\uc774 BBR\uc744 \ub2a5\uac00\ud558\ub294 \uc131\ub2a5\uc744 \ubcf4\uc5ec\uc90d\ub2c8\ub2e4:</p> <ul> <li>TCP QtColFair: \uc57d 96% \ub300\uc5ed\ud3ed \ud65c\uc6a9</li> <li>TCP BBR: \uc57d 94% \ub300\uc5ed\ud3ed \ud65c\uc6a9</li> <li>TCP CUBIC: \uc57d 93% \ub300\uc5ed\ud3ed \ud65c\uc6a9</li> </ul> <p>BBR \ub3d9\uc791 \uc6d0\ub9ac:</p> <pre><code># BBR \ud575\uc2ec \uc0c1\ud0dc \uba38\uc2e0\nclass BBRState:\n    STARTUP = 0      # \ucd5c\ub300 \ub300\uc5ed\ud3ed \ud0d0\uc0c9\n    DRAIN = 1        # \ud050 \ub4dc\ub808\uc778\n    PROBE_BW = 2     # \ub300\uc5ed\ud3ed \ud504\ub85c\ube59 (\uc8fc \uc0c1\ud0dc)\n    PROBE_RTT = 3    # RTT \ud504\ub85c\ube59\n\n# BBR \ud575\uc2ec \ubcc0\uc218\nclass BBRConnection:\n    def __init__(self):\n        self.btlbw = 0          # Bottleneck bandwidth\n        self.rtprop = float('inf')  # Round-trip propagation time\n        self.pacing_rate = 0    # \uc804\uc1a1 \uc18d\ub3c4\n        self.cwnd = 0           # \ud63c\uc7a1 \uc708\ub3c4\uc6b0\n\n    def update_model(self, delivered, rtt):\n        # \ucd5c\ub300 \ub300\uc5ed\ud3ed \ucd94\uc815\n        self.btlbw = max(self.btlbw, delivered / rtt)\n\n        # \ucd5c\uc18c RTT \ucd94\uc815 (10\ucd08 \uc708\ub3c4\uc6b0)\n        if rtt &lt; self.rtprop:\n            self.rtprop = rtt\n\n    def set_pacing_rate(self):\n        # \uc804\uc1a1 \uc18d\ub3c4 = BtlBw \u00d7 pacing_gain\n        self.pacing_rate = self.btlbw * self.pacing_gain\n\n    def set_cwnd(self):\n        # cwnd = BDP \u00d7 cwnd_gain\n        bdp = self.btlbw * self.rtprop\n        self.cwnd = bdp * self.cwnd_gain\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#1-3-linux-bbr","title":"1-3. Linux\uc5d0\uc11c BBR \ud65c\uc131\ud654","text":"<p>\uc2dc\uc2a4\ud15c \uc124\uc815:</p> <pre><code># BBR \uc0ac\uc6a9 \uac00\ub2a5 \ud655\uc778 (\ucee4\ub110 4.9 \uc774\uc0c1)\nmodprobe tcp_bbr\n\n# sysctl \uc124\uc815\ncat &gt;&gt; /etc/sysctl.conf &lt;&lt; EOF\n# BBR \ud63c\uc7a1 \uc81c\uc5b4 \ud65c\uc131\ud654\nnet.core.default_qdisc=fq\nnet.ipv4.tcp_congestion_control=bbr\n\n# TCP \ubc84\ud37c \ud06c\uae30 \ucd5c\uc801\ud654\nnet.core.rmem_max=134217728\nnet.core.wmem_max=134217728\nnet.ipv4.tcp_rmem=4096 87380 67108864\nnet.ipv4.tcp_wmem=4096 65536 67108864\n\n# TCP \uc131\ub2a5 \ud29c\ub2dd\nnet.ipv4.tcp_mtu_probing=1\nnet.ipv4.tcp_slow_start_after_idle=0\nnet.ipv4.tcp_tw_reuse=1\nEOF\n\nsysctl -p\n\n# \ud655\uc778\nsysctl net.ipv4.tcp_congestion_control\n# \ucd9c\ub825: net.ipv4.tcp_congestion_control = bbr\n\nsysctl net.core.default_qdisc\n# \ucd9c\ub825: net.core.default_qdisc = fq\n</code></pre> <p>BBR \uc131\ub2a5 \uce21\uc815:</p> <pre><code>#!/bin/bash\n# bbr-test.sh - BBR vs CUBIC \uc131\ub2a5 \ube44\uad50\n\ntest_throughput() {\n    local cc_algo=$1\n    local server=$2\n\n    # \ud63c\uc7a1 \uc81c\uc5b4 \uc54c\uace0\ub9ac\uc998 \ubcc0\uacbd\n    sysctl -w net.ipv4.tcp_congestion_control=$cc_algo\n\n    echo \"Testing $cc_algo...\"\n\n    # iperf3\ub85c \ucc98\ub9ac\ub7c9 \uce21\uc815\n    iperf3 -c $server -t 60 -P 4 --json &gt; result_${cc_algo}.json\n\n    # \uacb0\uacfc \ud30c\uc2f1\n    throughput=$(jq '.end.sum_received.bits_per_second' result_${cc_algo}.json)\n    echo \"$cc_algo: $(echo \"scale=2; $throughput / 1000000000\" | bc) Gbps\"\n}\n\n# \ud14c\uc2a4\ud2b8 \uc2e4\ud589\ntest_throughput \"cubic\" \"test-server.example.com\"\nsleep 10\ntest_throughput \"bbr\" \"test-server.example.com\"\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#part-2-bgp-vs-ospf","title":"Part 2: \ub77c\uc6b0\ud305 \ud504\ub85c\ud1a0\ucf5c (BGP vs OSPF)","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#2-1-ospf-open-shortest-path-first","title":"2-1. OSPF (Open Shortest Path First)","text":"<p>OSPF \uac1c\uc694:</p> <ul> <li>\ud0c0\uc785: IGP (Interior Gateway Protocol), Link State \ub77c\uc6b0\ud305</li> <li>\uc54c\uace0\ub9ac\uc998: Dijkstra's Shortest Path First</li> <li>\uba54\ud2b8\ub9ad: Cost (\ub300\uc5ed\ud3ed \uae30\ubc18)</li> <li>\uc801\uc6a9 \ubc94\uc704: Autonomous System \ub0b4\ubd80</li> <li>\uc218\ub834 \uc18d\ub3c4: \ub9e4\uc6b0 \ube60\ub984 (\ucd08 \ub2e8\uc704)</li> </ul> <p>OSPF \ub3d9\uc791 \uc6d0\ub9ac:</p> <pre><code>1. \uc774\uc6c3 \ubc1c\uacac (Neighbor Discovery)\n   \u2514\u2500&gt; Hello \ud328\ud0b7 \uad50\ud658 (10\ucd08\ub9c8\ub2e4)\n\n2. \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub3d9\uae30\ud654 (Database Synchronization)\n   \u2514\u2500&gt; LSA (Link State Advertisement) \uad50\ud658\n\n3. \ucd5c\ub2e8 \uacbd\ub85c \uacc4\uc0b0 (SPF Calculation)\n   \u2514\u2500&gt; Dijkstra \uc54c\uace0\ub9ac\uc998\uc73c\ub85c SPF \ud2b8\ub9ac \uc0dd\uc131\n\n4. \ub77c\uc6b0\ud305 \ud14c\uc774\ube14 \uc5c5\ub370\uc774\ud2b8\n   \u2514\u2500&gt; \ucd5c\uc801 \uacbd\ub85c\ub97c \ub77c\uc6b0\ud305 \ud14c\uc774\ube14\uc5d0 \uc124\uce58\n</code></pre> <p>OSPF Area \uc124\uacc4:</p> <pre><code>           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502      Area 0 (Backbone)       \u2502\n           \u2502  \u250c\u2500\u2500\u2510    \u250c\u2500\u2500\u2510    \u250c\u2500\u2500\u2510       \u2502\n           \u2502  \u2502R1\u251c\u2500\u2500\u2500\u2500\u2524R2\u251c\u2500\u2500\u2500\u2500\u2524R3\u2502       \u2502\n           \u2502  \u2514\u2500\u2500\u2518    \u2514\u2500\u2500\u2518    \u2514\u2500\u2500\u2518       \u2502\n           \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502        \u2502        \u2502\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2510  \u250c\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2510  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502  Area 1    \u2502  \u2502 Area 2 \u2502  \u2502  Area 3   \u2502\n     \u2502  (\uc77c\ubc18)     \u2502  \u2502(Stub)  \u2502  \u2502  (NSSA)   \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nArea \ud0c0\uc785:\n- Backbone (Area 0): \ubaa8\ub4e0 area\uc758 \uc911\uc2ec\n- Standard Area: \uc77c\ubc18 \uc601\uc5ed\n- Stub Area: \uc678\ubd80 LSA \ucc28\ub2e8\n- NSSA: Stub + \uc81c\ud55c\uc801 \uc678\ubd80 \ub77c\uc6b0\ud2b8 \ud5c8\uc6a9\n</code></pre> <p>OSPF \uc124\uc815 \uc608\uc81c (FRRouting):</p> <pre><code># FRR \uc124\uc815\nvtysh\n\nconfigure terminal\n\n# OSPF \ud504\ub85c\uc138\uc2a4 \uc2dc\uc791\nrouter ospf\n  ospf router-id 1.1.1.1\n\n  # \ub124\ud2b8\uc6cc\ud06c \uc120\uc5b8\n  network 10.0.1.0/24 area 0\n  network 10.0.2.0/24 area 1\n\n  # Area \uc124\uc815\n  area 1 stub\n\n  # \uc778\ud130\ud398\uc774\uc2a4 \ud0c0\uc774\uba38 \uc870\uc815\n  interface eth0\n    ip ospf hello-interval 5\n    ip ospf dead-interval 20\n    ip ospf cost 10\n  exit\n\n  # \uc218\ub3d9 \uacbd\ub85c \uc7ac\ubd84\ubc30\n  redistribute connected\n\n  # \ucd5c\ub300 \uacbd\ub85c \uc218\n  maximum-paths 4\n\n  exit\n\n# \uc800\uc7a5 \ubc0f \uc801\uc6a9\nwrite memory\nexit\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#2-2-bgp-border-gateway-protocol","title":"2-2. BGP (Border Gateway Protocol)","text":"<p>BGP \uac1c\uc694:</p> <ul> <li>\ud0c0\uc785: EGP (Exterior Gateway Protocol), Path Vector \ub77c\uc6b0\ud305</li> <li>\uba54\ud2b8\ub9ad: AS Path, Local Preference, MED \ub4f1 \ub2e4\uc591\ud55c \uc18d\uc131</li> <li>\uc801\uc6a9 \ubc94\uc704: Autonomous System \uac04</li> <li>\uc218\ub834 \uc18d\ub3c4: \uc0c1\ub300\uc801\uc73c\ub85c \ub290\ub9bc (\ubd84 \ub2e8\uc704)</li> </ul> <p>BGP\uc758 \ud575\uc2ec \uac1c\ub150:</p> <p>AS (Autonomous System):</p> <pre><code>AS 64512 (Private)          AS 64513 (Private)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   \u250c\u2500\u2500\u2510      \u2502             \u2502      \u250c\u2500\u2500\u2510   \u2502\n\u2502   \u2502R1\u2502      \u2502   eBGP      \u2502      \u2502R3\u2502   \u2502\n\u2502   \u2514\u252c\u2500\u2518      \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502      \u2514\u2500\u252c\u2518   \u2502\n\u2502    \u2502 iBGP   \u2502             \u2502  iBGP  \u2502    \u2502\n\u2502   \u250c\u25bc\u2500\u2510      \u2502             \u2502      \u250c\u25bc\u2510   \u2502\n\u2502   \u2502R2\u2502      \u2502             \u2502      \u2502R4\u2502   \u2502\n\u2502   \u2514\u2500\u2500\u2518      \u2502             \u2502      \u2514\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n- eBGP: AS \uac04 BGP (\uc678\ubd80)\n- iBGP: AS \ub0b4\ubd80 BGP (\ub0b4\ubd80)\n</code></pre> <p>BGP Path Selection Process:</p> <pre><code>BGP Best Path Selection (\uc21c\uc11c\ub300\ub85c \ud3c9\uac00):\n\n1. Weight (Cisco \uc804\uc6a9, \ub192\uc744\uc218\ub85d \uc120\ud638)\n2. Local Preference (\ub192\uc744\uc218\ub85d \uc120\ud638)\n3. Locally Originated (\ub85c\uceec \uc6b0\uc120)\n4. AS Path Length (\uc9e7\uc744\uc218\ub85d \uc120\ud638)\n5. Origin Code (IGP &gt; EGP &gt; Incomplete)\n6. MED (Multi-Exit Discriminator, \ub0ae\uc744\uc218\ub85d \uc120\ud638)\n7. eBGP &gt; iBGP\n8. IGP Metric to Next Hop (\ub0ae\uc744\uc218\ub85d \uc120\ud638)\n9. Oldest Route (\uc548\uc815\uc131)\n10. Router ID (\ub0ae\uc744\uc218\ub85d \uc120\ud638)\n</code></pre> <p>BGP \uc124\uc815 \uc608\uc81c (FRRouting):</p> <pre><code>vtysh\n\nconfigure terminal\n\n# BGP \ud504\ub85c\uc138\uc2a4 \uc2dc\uc791\nrouter bgp 64512\n  bgp router-id 1.1.1.1\n\n  # eBGP \ud53c\uc5b4 \uc124\uc815\n  neighbor 192.168.1.2 remote-as 64513\n  neighbor 192.168.1.2 description \"ISP-1\"\n  neighbor 192.168.1.2 password secretpass\n\n  # iBGP \ud53c\uc5b4 \uc124\uc815\n  neighbor 10.0.0.2 remote-as 64512\n  neighbor 10.0.0.2 update-source lo0\n  neighbor 10.0.0.2 next-hop-self\n\n  # Address Family \uc124\uc815\n  address-family ipv4 unicast\n    # \ub124\ud2b8\uc6cc\ud06c \uad11\uace0\n    network 10.0.0.0/8\n\n    # \uc774\uc6c3\ubcc4 \uc815\ucc45\n    neighbor 192.168.1.2 route-map ISP1-IN in\n    neighbor 192.168.1.2 route-map ISP1-OUT out\n\n    # \ucd5c\ub300 \uacbd\ub85c \uc218\n    maximum-paths 4\n    maximum-paths ibgp 4\n  exit-address-family\n\n  exit\n\n# Route Map \uc124\uc815\nroute-map ISP1-IN permit 10\n  set local-preference 200\n  exit\n\nroute-map ISP1-OUT permit 10\n  match ip address prefix-list ADVERTISE\n  exit\n\n# Prefix List\nip prefix-list ADVERTISE seq 5 permit 10.0.0.0/8\nip prefix-list ADVERTISE seq 10 deny any\n\nwrite memory\nexit\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#2-3-bgp-vs-ospf","title":"2-3. BGP vs OSPF \ube44\uad50 \ubc0f \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624","text":"<p>\ud504\ub85c\ud1a0\ucf5c \ube44\uad50\ud45c:</p> \ud2b9\uc131 OSPF BGP \ub77c\uc6b0\ud305 \ud0c0\uc785 Link State Path Vector \uc801\uc6a9 \ubc94\uc704 AS \ub0b4\ubd80 (IGP) AS \uac04 (EGP) \uc218\ub834 \uc18d\ub3c4 \ube60\ub984 (\ucd08 \ub2e8\uc704) \ub290\ub9bc (\ubd84 \ub2e8\uc704) \ud655\uc7a5\uc131 \uc911\uac04 (~200 \ub77c\uc6b0\ud130) \ub9e4\uc6b0 \ub192\uc74c (\uc778\ud130\ub137 \uc804\uccb4) \uba54\ud2b8\ub9ad Cost (\ub2e8\uc77c) \ub2e4\uc911 \uc18d\uc131 CPU/\uba54\ubaa8\ub9ac \ub192\uc74c (SPF \uacc4\uc0b0) \uc911\uac04 \uc8fc \uc0ac\uc6a9\ucc98 \ub370\uc774\ud130\uc13c\ud130, LAN WAN, \uc778\ud130\ub137, \ud074\ub77c\uc6b0\ub4dc \uac04 \uc5f0\uacb0 <p>2025 Best Practices (\uc911\uc694!):</p> <p>\uc808\ub300 \uae08\uc9c0 \uc0ac\ud56d:</p> <ul> <li>\uc808\ub300 BGP \ud504\ub9ac\ud53d\uc2a4\ub97c IGP\ub85c \uc7ac\ubd84\ubc30\ud558\uc9c0 \ub9c8\uc138\uc694 - \ub124\ud2b8\uc6cc\ud06c\uac00 \ud655\uc7a5\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4</li> <li>IGP \ub77c\uc6b0\ud2b8\ub97c BGP\ub85c \uc7ac\ubd84\ubc30\ud560 \ub54c \uc801\uc808\ud55c RPL(Route Policy Language) \uc5c6\uc774 \ud558\uc9c0 \ub9c8\uc138\uc694</li> <li>\uace0\uac1d \ud504\ub9ac\ud53d\uc2a4\ub97c IGP\ub85c \uc804\ub2ec\ud558\uc9c0 \ub9c8\uc138\uc694 - \ub77c\uc6b0\ud130 \ub9ac\uc18c\uc2a4 \uace0\uac08 \ubc1c\uc0dd</li> </ul> <p>\uad8c\uc7a5 \uc0ac\ud56d:</p> <ul> <li>OSPF \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624:</li> <li>\ub370\uc774\ud130\uc13c\ud130 \ucf54\uc5b4</li> <li>\uae30\uc5c5 LAN</li> <li> <p>\ub124\ud2b8\uc6cc\ud06c \uc131\ub2a5 \uae30\ubc18 \uacbd\ub85c \uc120\ud0dd \ud544\uc694 \uc2dc</p> </li> <li> <p>BGP \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624:</p> </li> <li>\uc778\ud130\ub137 \uc774\uc911\ud654</li> <li>WAN \ud658\uacbd</li> <li>IaaS/\uba40\ud2f0 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd</li> <li> <p>AS \uac04 \uc5f0\uacb0</p> </li> <li> <p>BGP \ucd5c\uc801\ud654:</p> </li> <li>Route Summarization\uc73c\ub85c \ub77c\uc6b0\ud305 \ud14c\uc774\ube14 \ud06c\uae30 \uac10\uc18c</li> <li>Route Filtering\uc73c\ub85c \ud6a8\uc728\uc801\uc778 \uad11\uace0/\uc218\uc2e0</li> <li>Route Reflector/Confederation\uc73c\ub85c \ud655\uc7a5\uc131 \ud655\ubcf4</li> </ul> <p>\ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c\uc758 \uc120\ud0dd:</p> <pre><code>\uc2dc\ub098\ub9ac\uc624\ubcc4 \ud504\ub85c\ud1a0\ucf5c \uc120\ud0dd \uac00\uc774\ub4dc:\n\n1. \ud504\ub77c\uc774\ube57 \ub370\uc774\ud130\uc13c\ud130 \ub0b4\ubd80\n   \u2514\u2500&gt; OSPF (\ube60\ub978 \uc218\ub834, \uc131\ub2a5 \uae30\ubc18 \ub77c\uc6b0\ud305)\n\n2. \uba40\ud2f0 \ub370\uc774\ud130\uc13c\ud130 \uc5f0\uacb0\n   \u2514\u2500&gt; BGP (\uc720\uc5f0\ud55c \uc815\ucc45, \ud655\uc7a5\uc131)\n\n3. \ud074\ub77c\uc6b0\ub4dc-\uc628\ud504\ub808\ubbf8\uc2a4 \ud558\uc774\ube0c\ub9ac\ub4dc\n   \u2514\u2500&gt; BGP (AS \ubd84\ub9ac, \ub3c5\ub9bd\uc801\uc778 \uad00\ub9ac)\n\n4. VXLAN EVPN Underlay\n   \u2514\u2500&gt; OSPF, IS-IS, \ub610\ub294 eBGP \uc911 \uc120\ud0dd\n\n5. VXLAN EVPN Overlay\n   \u2514\u2500&gt; iBGP \ub610\ub294 eBGP\n</code></pre> <p>\ud558\uc774\ube0c\ub9ac\ub4dc \uc811\uadfc\ubc95:</p> <pre><code># OSPF\ub97c Underlay\ub85c, BGP\ub97c Overlay\ub85c \uc0ac\uc6a9\ud558\ub294 \uc608\uc81c\n\n# 1. Underlay: OSPF\ub85c \uae30\ubcf8 \uc5f0\uacb0\uc131 \uc81c\uacf5\nrouter ospf\n  network 10.0.0.0/8 area 0\n  passive-interface default\n  no passive-interface eth1\n  no passive-interface eth2\n  exit\n\n# 2. Overlay: BGP EVPN\uc73c\ub85c L2/L3 \uc11c\ube44\uc2a4 \uc81c\uacf5\nrouter bgp 64512\n  neighbor SPINE peer-group\n  neighbor SPINE remote-as 64512\n  neighbor SPINE update-source lo0\n\n  neighbor 10.0.1.1 peer-group SPINE\n  neighbor 10.0.1.2 peer-group SPINE\n\n  address-family l2vpn evpn\n    neighbor SPINE activate\n    advertise-all-vni\n  exit-address-family\n\n  exit\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#part-3-vlanvxlan","title":"Part 3: VLAN/VXLAN \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#3-1-vlan-vxlan","title":"3-1. VLAN\uc758 \ud55c\uacc4\uc640 VXLAN\uc758 \ub4f1\uc7a5","text":"<p>\uc804\ud1b5\uc801\uc778 VLAN:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   802.1Q VLAN Tag (4 bytes)     \u2502\n\u251c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502TPID\u2502PCP\u2502 CFI   \u2502   VLAN ID      \u2502\n\u25022B  \u25023b \u2502 1b    \u2502   12 bits      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n- VLAN ID: 12\ube44\ud2b8 = 4,094\uac1c \ub124\ud2b8\uc6cc\ud06c (0, 4095 \uc608\uc57d)\n- Layer 2 \ub3c4\uba54\uc778\uc5d0 \uc81c\ud55c\n- \uba40\ud2f0\ud14c\ub10c\ud2b8 \ud074\ub77c\uc6b0\ub4dc\uc5d0 \ubd80\uc871\n</code></pre> <p>VXLAN (Virtual Extensible LAN):</p> <pre><code>VXLAN \ud5e4\ub354 \uad6c\uc870:\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Outer Ethernet Header          \u2502  \u2190 L2\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         Outer IP Header               \u2502  \u2190 L3\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         Outer UDP Header              \u2502  \u2190 L4\n\u2502         (Dest Port: 4789)             \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    VXLAN Header (8 bytes)             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502   Flags    \u2502   Reserved   \u2502       \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524       \u2502\n\u2502  \u2502   VNI (24 bits)           \u2502       \u2502  \u2190 16M \ub124\ud2b8\uc6cc\ud06c\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502     Inner Ethernet Frame              \u2502  \u2190 \uc6d0\ubcf8 \ud504\ub808\uc784\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nVNI (VXLAN Network Identifier):\n- 24\ube44\ud2b8 = 16,777,216\uac1c \ub124\ud2b8\uc6cc\ud06c\n- VLAN\uc758 4,094\ubc30 \ud655\uc7a5\uc131\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#3-2-vxlan","title":"3-2. VXLAN \ub3d9\uc791 \uc6d0\ub9ac","text":"<p>VTEP (VXLAN Tunnel Endpoint):</p> <pre><code>     Tenant VM 1           Tenant VM 2\n     (VLAN 10)             (VLAN 10)\n         \u2502                     \u2502\n         \u2502                     \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n    \u2502  VTEP1  \u2502           \u2502  VTEP2  \u2502\n    \u250210.1.1.1 \u2502           \u250210.1.1.2 \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n         \u2502                     \u2502\n         \u2502   L3 Network        \u2502\n         \u2502   (Underlay)        \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ud504\ub85c\uc138\uc2a4:\n1. VM1\uc774 VM2\ub85c \ud504\ub808\uc784 \uc804\uc1a1\n2. VTEP1\uc774 \ud504\ub808\uc784 \ucea1\uc290\ud654:\n   - \uc6d0\ubcf8 \ud504\ub808\uc784\uc5d0 VXLAN \ud5e4\ub354 \ucd94\uac00\n   - UDP/IP \ud5e4\ub354 \ucd94\uac00 (Dest: VTEP2)\n3. L3 \ub124\ud2b8\uc6cc\ud06c\ub97c \ud1b5\ud574 \uc804\uc1a1\n4. VTEP2\uac00 \ub514\ucea1\uc290\ud654 \ud6c4 VM2\uc5d0 \uc804\ub2ec\n</code></pre> <p>VXLAN \uc81c\uc5b4 \ud3c9\uba74 \uc635\uc158:</p> <p>1. Multicast \uae30\ubc18 (\ub808\uac70\uc2dc):</p> <pre><code># Multicast \uadf8\ub8f9 \uc124\uc815\nip link add vxlan10 type vxlan \\\n  id 10 \\\n  group 239.1.1.1 \\\n  dev eth0 \\\n  dstport 4789\n\n# \ubb38\uc81c\uc810:\n# - \ubb3c\ub9ac \ub124\ud2b8\uc6cc\ud06c\uc5d0 \uba40\ud2f0\uce90\uc2a4\ud2b8 \uc9c0\uc6d0 \ud544\uc694\n# - \ube0c\ub85c\ub4dc\uce90\uc2a4\ud2b8 \ud2b8\ub798\ud53d \uc99d\uac00\n</code></pre> <p>2. EVPN (Ethernet VPN) - 2025 \ud45c\uc900:</p> <pre><code>BGP EVPN \uc81c\uc5b4 \ud3c9\uba74:\n\n           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n           \u2502 BGP Route    \u2502\n           \u2502 Reflector    \u2502\n           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502         \u2502         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n    \u2502 VTEP 1 \u2502 \u2502VTEP 2 \u2502 \u2502VTEP 3 \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nEVPN Route Types:\n- Type 2: MAC/IP Advertisement\n- Type 3: Inclusive Multicast Ethernet Tag\n- Type 5: IP Prefix Route (L3 VPN)\n\n\uc7a5\uc810:\n\u2713 \uba40\ud2f0\uce90\uc2a4\ud2b8 \ubd88\ud544\uc694\n\u2713 \ud6a8\uc728\uc801\uc778 MAC \ud559\uc2b5\n\u2713 ARP \uc5b5\uc81c\n\u2713 L2/L3 \ud1b5\ud569\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#3-3-vxlan-linux-frr","title":"3-3. VXLAN \uad6c\ud604 (Linux + FRR)","text":"<p>\uae30\ubcf8 VXLAN \uc778\ud130\ud398\uc774\uc2a4 \uc0dd\uc131:</p> <pre><code>#!/bin/bash\n# vxlan-setup.sh - VXLAN \uc778\ud130\ud398\uc774\uc2a4 \uc124\uc815\n\nVXLAN_ID=100\nVXLAN_PORT=4789\nVTEP_IP=10.0.1.1\nBRIDGE_NAME=br-vxlan100\n\n# VXLAN \uc778\ud130\ud398\uc774\uc2a4 \uc0dd\uc131\nip link add vxlan${VXLAN_ID} type vxlan \\\n  id ${VXLAN_ID} \\\n  dstport ${VXLAN_PORT} \\\n  local ${VTEP_IP} \\\n  nolearning\n\n# \ube0c\ub9ac\uc9c0 \uc0dd\uc131\nip link add ${BRIDGE_NAME} type bridge\n\n# VXLAN\uc744 \ube0c\ub9ac\uc9c0\uc5d0 \ucd94\uac00\nip link set vxlan${VXLAN_ID} master ${BRIDGE_NAME}\n\n# \uc778\ud130\ud398\uc774\uc2a4 \ud65c\uc131\ud654\nip link set vxlan${VXLAN_ID} up\nip link set ${BRIDGE_NAME} up\n\n# VM \uc5f0\uacb0 (\uc608: tap \uc778\ud130\ud398\uc774\uc2a4)\nip link set tap0 master ${BRIDGE_NAME}\n</code></pre> <p>EVPN VXLAN \uc124\uc815 (FRR):</p> <pre><code># FRRouting \uc124\uc815\nvtysh\n\nconfigure terminal\n\n# 1. Underlay: OSPF \uc124\uc815\nrouter ospf\n  ospf router-id 10.0.1.1\n  network 10.0.0.0/8 area 0\n  exit\n\n# 2. Overlay: BGP EVPN \uc124\uc815\nrouter bgp 64512\n  bgp router-id 10.0.1.1\n  no bgp default ipv4-unicast\n\n  # Route Reflector\uc640 \ud53c\uc5b4\ub9c1\n  neighbor 10.0.0.1 remote-as 64512\n  neighbor 10.0.0.1 update-source lo\n\n  # L2VPN EVPN Address Family\n  address-family l2vpn evpn\n    neighbor 10.0.0.1 activate\n    advertise-all-vni\n    advertise-default-gw\n  exit-address-family\n\n  exit\n\n# 3. VXLAN \uc778\ud130\ud398\uc774\uc2a4\ub97c BGP\uc5d0 \ub9e4\ud551\nvrf VRF-TENANT-A\n  vni 1000\n  exit\n\ninterface vxlan100\n  vxlan id 100\n  vxlan local-tunnelip 10.0.1.1\n  bridge-access 100\n  exit\n\nwrite memory\nexit\n</code></pre> <p>VXLAN \ubaa8\ub2c8\ud130\ub9c1:</p> <pre><code># VXLAN \uc778\ud130\ud398\uc774\uc2a4 \ud655\uc778\nip -d link show type vxlan\n\n# FDB (Forwarding Database) \ud655\uc778\nbridge fdb show dev vxlan100\n\n# EVPN \ub77c\uc6b0\ud2b8 \ud655\uc778\nvtysh -c \"show bgp l2vpn evpn route\"\n\n# VNI \uc815\ubcf4 \ud655\uc778\nvtysh -c \"show evpn vni\"\n\n# VTEP \uc815\ubcf4 \ud655\uc778\nvtysh -c \"show evpn vni 100 detail\"\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#3-4-vxlan","title":"3-4. VXLAN \uc131\ub2a5 \ucd5c\uc801\ud654","text":"<p>\ud558\ub4dc\uc6e8\uc5b4 \uc624\ud504\ub85c\ub4dc:</p> <pre><code># NIC \uc624\ud504\ub85c\ub4dc \uae30\ub2a5 \ud655\uc778\nethtool -k eth0 | grep -E \"tx-udp_tnl-segmentation|rx-udp_tnl-port-offload\"\n\n# VXLAN \uc624\ud504\ub85c\ub4dc \ud65c\uc131\ud654\nethtool -K eth0 tx-udp_tnl-segmentation on\nethtool -K eth0 rx-udp_tnl-port-offload on\n\n# RSS (Receive Side Scaling) \uc124\uc815\nethtool -X eth0 equal $(nproc)\n\n# Ring buffer \ud06c\uae30 \uc99d\uac00\nethtool -G eth0 rx 4096 tx 4096\n</code></pre> <p>MTU \ucd5c\uc801\ud654:</p> <pre><code># VXLAN \uc624\ubc84\ud5e4\ub4dc \uacc4\uc0b0\n# \uc6d0\ubcf8 \ud504\ub808\uc784: 1500 bytes\n# + Outer Ethernet: 14 bytes\n# + Outer IP: 20 bytes\n# + Outer UDP: 8 bytes\n# + VXLAN: 8 bytes\n# = 1550 bytes\n\n# \ubb3c\ub9ac \uc778\ud130\ud398\uc774\uc2a4 MTU \uc99d\uac00\nip link set dev eth0 mtu 9000  # Jumbo frame\n\n# VXLAN \uc778\ud130\ud398\uc774\uc2a4 MTU\nip link set dev vxlan100 mtu 8950\n\n# \ube0c\ub9ac\uc9c0 MTU\nip link set dev br-vxlan100 mtu 8950\n</code></pre> <p>VXLAN \ud2b8\ub798\ud53d \ubd84\uc11d:</p> <pre><code>#!/bin/bash\n# vxlan-analyze.sh - VXLAN \ud2b8\ub798\ud53d \ubd84\uc11d\n\n# VXLAN \ud2b8\ub798\ud53d \ucea1\ucc98\ntcpdump -i eth0 -nn 'udp port 4789' -w vxlan.pcap\n\n# \ud1b5\uacc4 \ucd9c\ub825\ntcpdump -r vxlan.pcap -nn | \\\n  awk '{print $3}' | \\\n  cut -d. -f1-4 | \\\n  sort | uniq -c | sort -nr\n\n# VXLAN \ub514\ucea1\uc290\ub808\uc774\uc158 \ud6c4 \ub0b4\uc6a9 \ud655\uc778\ntshark -r vxlan.pcap -Y vxlan -V\n\n# \uc131\ub2a5 \uba54\ud2b8\ub9ad\nsar -n DEV 1 10 | grep vxlan100\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#part-4-sdn-software-defined-networking","title":"Part 4: SDN (Software Defined Networking)","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#4-1-sdn","title":"4-1. SDN \uc544\ud0a4\ud14d\ucc98","text":"<p>\uc804\ud1b5\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c vs SDN:</p> <pre><code>\uc804\ud1b5\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Application   \u2502  \u2502  Application   \u2502  \u2502  Application   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Control Plane  \u2502  \u2502 Control Plane  \u2502  \u2502 Control Plane  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Data Plane    \u2502  \u2502  Data Plane    \u2502  \u2502  Data Plane    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     Switch 1            Switch 2            Switch 3\n\n\ubb38\uc81c\uc810: \ubd84\uc0b0\ub41c \uc81c\uc5b4, \uc815\ucc45 \ubd88\uc77c\uce58, \uc790\ub3d9\ud654 \uc5b4\ub824\uc6c0\n\n\nSDN \uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Application Layer                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502Monitoring\u2502  \u2502Firewall  \u2502  \u2502 Load     \u2502       \u2502\n\u2502  \u2502          \u2502  \u2502          \u2502  \u2502 Balancer \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502 Northbound API (REST)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Control Layer (SDN Controller)           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502\n\u2502  \u2502  OpenDaylight / ONOS / Ryu / Floodlight\u2502      \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502 Southbound API (OpenFlow/P4)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Data Plane Layer                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502\n\u2502  \u2502 Switch 1 \u2502  \u2502 Switch 2 \u2502  \u2502 Switch 3 \u2502       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810: \uc911\uc559\ud654\ub41c \uc81c\uc5b4, \ud504\ub85c\uadf8\ub798\uba38\ube4c\ub9ac\ud2f0, \uc790\ub3d9\ud654\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#4-2-openflow","title":"4-2. OpenFlow \ud504\ub85c\ud1a0\ucf5c","text":"<p>OpenFlow \uac1c\ub150:</p> <p>OpenFlow\ub294 SDN\uc758 \ucd08\uae30 southbound \ud504\ub85c\ud1a0\ucf5c\ub85c, \uc81c\uc5b4 \ud3c9\uba74\uacfc \ub370\uc774\ud130 \ud3c9\uba74\uc744 \ubd84\ub9ac\ud569\ub2c8\ub2e4.</p> <p>OpenFlow Switch \uad6c\uc870:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       OpenFlow Switch                 \u2502\n\u2502                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   Flow Tables                   \u2502 \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2502\n\u2502  \u2502  \u2502 Table 0  \u2502Table 1 \u2502Table N \u2502 \u2502 \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   Group Table                   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   Meter Table                   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   OpenFlow Channel              \u2502 \u2502\n\u2502  \u2502   (TLS Connection to Controller)\u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Flow Entry \uad6c\uc870:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Match    \u2502 Priority \u2502 Counters \u2502 Instructions\u2502 Timeouts\u2502 Cookie \u2502\n\u2502   Fields   \u2502          \u2502          \u2502  Actions  \u2502          \u2502        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nMatch Fields (\uc608):\n- Ingress Port\n- Ethernet Src/Dst\n- VLAN ID\n- IP Src/Dst\n- TCP/UDP Port\n- MPLS Label\n- etc...\n\nActions (\uc608):\n- OUTPUT: \ud2b9\uc815 \ud3ec\ud2b8\ub85c \uc804\uc1a1\n- DROP: \ud328\ud0b7 \ud3d0\uae30\n- SET_FIELD: \ud5e4\ub354 \ud544\ub4dc \uc218\uc815\n- PUSH_VLAN: VLAN \ud0dc\uadf8 \ucd94\uac00\n- POP_VLAN: VLAN \ud0dc\uadf8 \uc81c\uac70\n</code></pre> <p>OpenFlow \ucee8\ud2b8\ub864\ub7ec \uc608\uc81c (Ryu):</p> <pre><code># simple_switch.py - \uac04\ub2e8\ud55c L2 \uc2a4\uc704\uce58\n\nfrom ryu.base import app_manager\nfrom ryu.controller import ofp_event\nfrom ryu.controller.handler import CONFIG_DISPATCHER, MAIN_DISPATCHER\nfrom ryu.controller.handler import set_ev_cls\nfrom ryu.ofproto import ofproto_v1_3\nfrom ryu.lib.packet import packet, ethernet\n\nclass SimpleSwitch(app_manager.RyuApp):\n    OFP_VERSIONS = [ofproto_v1_3.OFP_VERSION]\n\n    def __init__(self, *args, **kwargs):\n        super(SimpleSwitch, self).__init__(*args, **kwargs)\n        # MAC \uc8fc\uc18c \ud14c\uc774\ube14: {dpid: {mac: port}}\n        self.mac_to_port = {}\n\n    @set_ev_cls(ofp_event.EventOFPSwitchFeatures, CONFIG_DISPATCHER)\n    def switch_features_handler(self, ev):\n        \"\"\"\uc2a4\uc704\uce58 \uc5f0\uacb0 \uc2dc \ucd08\uae30 \uc124\uc815\"\"\"\n        datapath = ev.msg.datapath\n        ofproto = datapath.ofproto\n        parser = datapath.ofproto_parser\n\n        # Table-miss flow entry \uc124\uce58\n        # \ub9e4\uce6d\ub418\ub294 flow\uac00 \uc5c6\uc73c\uba74 \ucee8\ud2b8\ub864\ub7ec\ub85c \uc804\uc1a1\n        match = parser.OFPMatch()\n        actions = [parser.OFPActionOutput(ofproto.OFPP_CONTROLLER,\n                                         ofproto.OFPCML_NO_BUFFER)]\n        self.add_flow(datapath, 0, match, actions)\n\n    def add_flow(self, datapath, priority, match, actions, buffer_id=None):\n        \"\"\"Flow entry \ucd94\uac00\"\"\"\n        ofproto = datapath.ofproto\n        parser = datapath.ofproto_parser\n\n        inst = [parser.OFPInstructionActions(ofproto.OFPIT_APPLY_ACTIONS,\n                                            actions)]\n\n        if buffer_id:\n            mod = parser.OFPFlowMod(datapath=datapath, buffer_id=buffer_id,\n                                   priority=priority, match=match,\n                                   instructions=inst)\n        else:\n            mod = parser.OFPFlowMod(datapath=datapath, priority=priority,\n                                   match=match, instructions=inst,\n                                   idle_timeout=30, hard_timeout=60)\n\n        datapath.send_msg(mod)\n\n    @set_ev_cls(ofp_event.EventOFPPacketIn, MAIN_DISPATCHER)\n    def packet_in_handler(self, ev):\n        \"\"\"Packet-In \uba54\uc2dc\uc9c0 \ucc98\ub9ac\"\"\"\n        msg = ev.msg\n        datapath = msg.datapath\n        ofproto = datapath.ofproto\n        parser = datapath.ofproto_parser\n        in_port = msg.match['in_port']\n\n        pkt = packet.Packet(msg.data)\n        eth = pkt.get_protocols(ethernet.ethernet)[0]\n\n        dst = eth.dst\n        src = eth.src\n        dpid = datapath.id\n\n        # MAC \uc8fc\uc18c \ud559\uc2b5\n        self.mac_to_port.setdefault(dpid, {})\n        self.mac_to_port[dpid][src] = in_port\n\n        # \ubaa9\uc801\uc9c0 \ud3ec\ud2b8 \uacb0\uc815\n        if dst in self.mac_to_port[dpid]:\n            out_port = self.mac_to_port[dpid][dst]\n        else:\n            out_port = ofproto.OFPP_FLOOD\n\n        actions = [parser.OFPActionOutput(out_port)]\n\n        # Flow entry \uc124\uce58 (flooding\uc774 \uc544\ub2cc \uacbd\uc6b0)\n        if out_port != ofproto.OFPP_FLOOD:\n            match = parser.OFPMatch(in_port=in_port, eth_dst=dst)\n            self.add_flow(datapath, 1, match, actions, msg.buffer_id)\n\n            if msg.buffer_id != ofproto.OFP_NO_BUFFER:\n                return\n\n        # Packet-Out\n        data = None\n        if msg.buffer_id == ofproto.OFP_NO_BUFFER:\n            data = msg.data\n\n        out = parser.OFPPacketOut(datapath=datapath, buffer_id=msg.buffer_id,\n                                 in_port=in_port, actions=actions, data=data)\n        datapath.send_msg(out)\n</code></pre> <p>OpenFlow \uc2a4\uc704\uce58 \uc124\uc815 (Open vSwitch):</p> <pre><code># Open vSwitch \uc124\uce58\napt-get install openvswitch-switch\n\n# \ube0c\ub9ac\uc9c0 \uc0dd\uc131\novs-vsctl add-br br0\n\n# OpenFlow 1.3 \uc0ac\uc6a9\novs-vsctl set bridge br0 protocols=OpenFlow13\n\n# \ucee8\ud2b8\ub864\ub7ec \uc5f0\uacb0\novs-vsctl set-controller br0 tcp:192.168.1.100:6653\n\n# \ud3ec\ud2b8 \ucd94\uac00\novs-vsctl add-port br0 eth1\novs-vsctl add-port br0 eth2\n\n# \uc124\uc815 \ud655\uc778\novs-vsctl show\n\n# Flow \ud655\uc778\novs-ofctl -O OpenFlow13 dump-flows br0\n\n# \ud3ec\ud2b8 \ud1b5\uacc4\novs-ofctl -O OpenFlow13 dump-ports br0\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#4-3-p4-programming-protocol-independent-packet-processors","title":"4-3. P4 (Programming Protocol-independent Packet Processors)","text":"<p>OpenFlow\uc758 \ud55c\uacc4:</p> <ul> <li>\uace0\uc815\ub41c \ud5e4\ub354 \ud544\ub4dc\ub9cc \uc9c0\uc6d0</li> <li>\uc0c8\ub85c\uc6b4 \ud504\ub85c\ud1a0\ucf5c \ucd94\uac00 \uc5b4\ub824\uc6c0</li> <li>\ud30c\uc2f1 \ub85c\uc9c1 \ubcc0\uacbd \ubd88\uac00</li> </ul> <p>P4\uc758 \ud601\uc2e0:</p> <p>P4\ub294 \ub370\uc774\ud130 \ud50c\ub808\uc778\uc744 \uc644\uc804\ud788 \ud504\ub85c\uadf8\ub798\ubc0d \uac00\ub2a5\ud558\uac8c \ub9cc\ub4ed\ub2c8\ub2e4.</p> <p>P4 \uc544\ud0a4\ud14d\ucc98:</p> <pre><code>P4 \ud504\ub85c\uadf8\ub7a8 \uad6c\uc870:\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Headers \uc815\uc758                  \u2502\n\u2502  (\ud328\ud0b7\uc758 \uc5b4\ub5a4 \ud544\ub4dc\ub97c \ud30c\uc2f1\ud560\uc9c0)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Parser                        \u2502\n\u2502  (\ud328\ud0b7\uc744 \uc5b4\ub5bb\uac8c \ud30c\uc2f1\ud560\uc9c0)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Match-Action Tables                \u2502\n\u2502  (\ud328\ud0b7\uc744 \uc5b4\ub5bb\uac8c \ucc98\ub9ac\ud560\uc9c0)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Deparser                      \u2502\n\u2502  (\ud328\ud0b7\uc744 \uc5b4\ub5bb\uac8c \uc7ac\uc870\ud569\ud560\uc9c0)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>P4 \ucf54\ub4dc \uc608\uc81c - \uac04\ub2e8\ud55c L3 \ud3ec\uc6cc\ub529:</p> <pre><code>/* simple_l3_forwarding.p4 */\n\n#include &lt;core.p4&gt;\n#include &lt;v1model.p4&gt;\n\n/* \ud5e4\ub354 \uc815\uc758 */\nheader ethernet_t {\n    bit&lt;48&gt; dstAddr;\n    bit&lt;48&gt; srcAddr;\n    bit&lt;16&gt; etherType;\n}\n\nheader ipv4_t {\n    bit&lt;4&gt;  version;\n    bit&lt;4&gt;  ihl;\n    bit&lt;8&gt;  diffserv;\n    bit&lt;16&gt; totalLen;\n    bit&lt;16&gt; identification;\n    bit&lt;3&gt;  flags;\n    bit&lt;13&gt; fragOffset;\n    bit&lt;8&gt;  ttl;\n    bit&lt;8&gt;  protocol;\n    bit&lt;16&gt; hdrChecksum;\n    bit&lt;32&gt; srcAddr;\n    bit&lt;32&gt; dstAddr;\n}\n\n/* \uba54\ud0c0\ub370\uc774\ud130 */\nstruct metadata {\n    bit&lt;9&gt; egress_port;\n}\n\nstruct headers {\n    ethernet_t ethernet;\n    ipv4_t     ipv4;\n}\n\n/* Parser */\nparser MyParser(packet_in packet,\n                out headers hdr,\n                inout metadata meta,\n                inout standard_metadata_t standard_metadata) {\n\n    state start {\n        transition parse_ethernet;\n    }\n\n    state parse_ethernet {\n        packet.extract(hdr.ethernet);\n        transition select(hdr.ethernet.etherType) {\n            0x0800: parse_ipv4;\n            default: accept;\n        }\n    }\n\n    state parse_ipv4 {\n        packet.extract(hdr.ipv4);\n        transition accept;\n    }\n}\n\n/* Ingress Processing */\ncontrol MyIngress(inout headers hdr,\n                  inout metadata meta,\n                  inout standard_metadata_t standard_metadata) {\n\n    /* IPv4 \ub77c\uc6b0\ud305 \ud14c\uc774\ube14 */\n    action drop() {\n        mark_to_drop(standard_metadata);\n    }\n\n    action ipv4_forward(bit&lt;48&gt; dstAddr, bit&lt;9&gt; port) {\n        standard_metadata.egress_spec = port;\n        hdr.ethernet.srcAddr = hdr.ethernet.dstAddr;\n        hdr.ethernet.dstAddr = dstAddr;\n        hdr.ipv4.ttl = hdr.ipv4.ttl - 1;\n    }\n\n    table ipv4_lpm {\n        key = {\n            hdr.ipv4.dstAddr: lpm;  // Longest Prefix Match\n        }\n        actions = {\n            ipv4_forward;\n            drop;\n            NoAction;\n        }\n        size = 1024;\n        default_action = drop();\n    }\n\n    apply {\n        if (hdr.ipv4.isValid()) {\n            ipv4_lpm.apply();\n        }\n    }\n}\n\n/* Egress Processing */\ncontrol MyEgress(inout headers hdr,\n                 inout metadata meta,\n                 inout standard_metadata_t standard_metadata) {\n    apply { }\n}\n\n/* Checksum Verification */\ncontrol MyVerifyChecksum(inout headers hdr, inout metadata meta) {\n    apply {\n        verify_checksum(\n            hdr.ipv4.isValid(),\n            { hdr.ipv4.version,\n              hdr.ipv4.ihl,\n              hdr.ipv4.diffserv,\n              hdr.ipv4.totalLen,\n              hdr.ipv4.identification,\n              hdr.ipv4.flags,\n              hdr.ipv4.fragOffset,\n              hdr.ipv4.ttl,\n              hdr.ipv4.protocol,\n              hdr.ipv4.srcAddr,\n              hdr.ipv4.dstAddr },\n            hdr.ipv4.hdrChecksum,\n            HashAlgorithm.csum16);\n    }\n}\n\n/* Checksum Computation */\ncontrol MyComputeChecksum(inout headers hdr, inout metadata meta) {\n    apply {\n        update_checksum(\n            hdr.ipv4.isValid(),\n            { hdr.ipv4.version,\n              hdr.ipv4.ihl,\n              hdr.ipv4.diffserv,\n              hdr.ipv4.totalLen,\n              hdr.ipv4.identification,\n              hdr.ipv4.flags,\n              hdr.ipv4.fragOffset,\n              hdr.ipv4.ttl,\n              hdr.ipv4.protocol,\n              hdr.ipv4.srcAddr,\n              hdr.ipv4.dstAddr },\n            hdr.ipv4.hdrChecksum,\n            HashAlgorithm.csum16);\n    }\n}\n\n/* Deparser */\ncontrol MyDeparser(packet_out packet, in headers hdr) {\n    apply {\n        packet.emit(hdr.ethernet);\n        packet.emit(hdr.ipv4);\n    }\n}\n\n/* Switch \uc778\uc2a4\ud134\uc2a4 */\nV1Switch(\n    MyParser(),\n    MyVerifyChecksum(),\n    MyIngress(),\n    MyEgress(),\n    MyComputeChecksum(),\n    MyDeparser()\n) main;\n</code></pre> <p>P4 vs OpenFlow \ube44\uad50:</p> \ud2b9\uc131 OpenFlow P4 \ud5e4\ub354 \ud544\ub4dc \uace0\uc815 \ud504\ub85c\uadf8\ub798\ubc0d \uac00\ub2a5 \ud504\ub85c\ud1a0\ucf5c \uc9c0\uc6d0 \uc0ac\uc804 \uc815\uc758\ub41c \uac83\ub9cc \uc784\uc758 \ud504\ub85c\ud1a0\ucf5c \ud30c\uc11c \ud558\ub4dc\ucf54\ub529 \ud504\ub85c\uadf8\ub798\ubc0d \uac00\ub2a5 \uc720\uc5f0\uc131 \ub0ae\uc74c \ub9e4\uc6b0 \ub192\uc74c \uc131\ub2a5 \ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d \ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d \ud559\uc2b5 \uace1\uc120 \ub0ae\uc74c \ub192\uc74c \ud604 \uc0c1\ud0dc \uc131\uc219 \uc131\uc7a5 \uc911 <p>2025\ub144 P4 \ud65c\uc6a9 \uc0ac\ub840:</p> <ul> <li>In-Network Computing: \ub124\ud2b8\uc6cc\ud06c\uc5d0\uc11c \uc9c1\uc811 \uc5f0\uc0b0 \uc218\ud589</li> <li>Telemetry: INT (In-band Network Telemetry)</li> <li>\ubcf4\uc548: DDoS \ubc29\uc5b4, \uc774\uc0c1 \ud0d0\uc9c0</li> <li>\ucd5c\uc801\ud654: \ucee4\uc2a4\ud140 \ub85c\ub4dc \ubc38\ub7f0\uc2f1, \ud2b8\ub798\ud53d \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#4-4-openflow-p4","title":"4-4. \ud558\uc774\ube0c\ub9ac\ub4dc OpenFlow-P4 \uc544\ud0a4\ud14d\ucc98","text":"<p>\uc0ac\uc6a9 \uc0ac\ub840: SDN-WAN \ud2b8\ub798\ud53d \ub77c\uc6b0\ud305</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         SDN Controller                         \u2502\n\u2502  (OpenFlow + P4 Runtime API)                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502                        \u2502\n    OpenFlow\u2502                        \u2502P4 Runtime\n            \u2502                        \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   P4 Switch (Ingress) \u2502  \u2502 OpenFlow Core      \u2502\n\u2502   - \ud328\ud0b7 \ubcc0\ud658          \u2502  \u2502 - L2/L3 \ud3ec\uc6cc\ub529     \u2502\n\u2502   - QoS \ub9c8\ud0b9          \u2502\u2500\u2500&gt;\u2502 - Flow \uad00\ub9ac        \u2502\u2500\u2500&gt;\n\u2502   - Telemetry \uc0bd\uc785    \u2502  \u2502                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                          \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                          \u2502 P4 Switch (Egress)  \u2502\n                          \u2502 - \ud328\ud0b7 \ubcf5\uc6d0         \u2502\n                          \u2502 - Telemetry \ucd94\ucd9c    \u2502\n                          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ud750\ub984:\n1. P4 \uc2a4\uc704\uce58\uac00 ingress\uc5d0\uc11c \ud328\ud0b7 \ubcc0\ud658\n2. OpenFlow \ucf54\uc5b4\uac00 \ud45c\uc900 L2/L3 \ud3ec\uc6cc\ub529\n3. P4 \uc2a4\uc704\uce58\uac00 egress\uc5d0\uc11c \uc6d0\ub798 \ud615\ud0dc\ub85c \ubcf5\uc6d0\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#1-bbr","title":"\uc2e4\uc2b5 1: BBR \ud63c\uc7a1 \uc81c\uc5b4 \uc131\ub2a5 \uce21\uc815","text":"<p>\ubaa9\ud45c: BBR\uacfc CUBIC\uc758 \uc131\ub2a5 \ube44\uad50</p> <p>\ud658\uacbd \uc694\uad6c\uc0ac\ud56d:</p> <ul> <li>Linux \uc11c\ubc84 2\ub300 (\ucee4\ub110 4.9 \uc774\uc0c1)</li> <li>iperf3 \uc124\uce58</li> <li>\ucda9\ubd84\ud55c \ub300\uc5ed\ud3ed (1Gbps \uc774\uc0c1 \uad8c\uc7a5)</li> </ul> <p>\uc2e4\uc2b5 \ub2e8\uacc4:</p> <pre><code># === \uc11c\ubc84 \uce21 (test-server) ===\n\n# 1. BBR \ucee4\ub110 \ubaa8\ub4c8 \ub85c\ub4dc\nsudo modprobe tcp_bbr\n\n# 2. iperf3 \uc11c\ubc84 \uc2dc\uc791\niperf3 -s -p 5201\n\n\n# === \ud074\ub77c\uc774\uc5b8\ud2b8 \uce21 ===\n\n# 3. CUBIC\uc73c\ub85c \ud14c\uc2a4\ud2b8\nsudo sysctl -w net.ipv4.tcp_congestion_control=cubic\niperf3 -c test-server -t 60 -P 4 -i 5 | tee cubic_result.txt\n\n# 30\ucd08 \ub300\uae30\nsleep 30\n\n# 4. BBR\ub85c \ud14c\uc2a4\ud2b8\nsudo sysctl -w net.ipv4.tcp_congestion_control=bbr\niperf3 -c test-server -t 60 -P 4 -i 5 | tee bbr_result.txt\n\n# 5. \uacb0\uacfc \ube44\uad50\necho \"=== CUBIC ===\"\ngrep \"sender\" cubic_result.txt | tail -1\n\necho \"=== BBR ===\"\ngrep \"sender\" bbr_result.txt | tail -1\n</code></pre> <p>\uc608\uc0c1 \uacb0\uacfc:</p> <pre><code>=== CUBIC ===\n[SUM]   0.00-60.00  sec  5.12 GBytes   733 Mbits/sec  125    sender\n\n=== BBR ===\n[SUM]   0.00-60.00  sec  5.33 GBytes   763 Mbits/sec   42    sender\n\n\ubd84\uc11d:\n- BBR\uc774 \uc57d 4% \ub354 \ub192\uc740 \ucc98\ub9ac\ub7c9\n- \uc7ac\uc804\uc1a1(retransmits) \ud69f\uc218 \uac10\uc18c\n- \ub354 \uc548\uc815\uc801\uc778 \uc131\ub2a5\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#2-vxlan-evpn","title":"\uc2e4\uc2b5 2: VXLAN EVPN \ub124\ud2b8\uc6cc\ud06c \uad6c\ucd95","text":"<p>\ubaa9\ud45c: 3\uac1c \ub178\ub4dc\ub85c VXLAN EVPN \ud328\ube0c\ub9ad \uad6c\uc131</p> <p>\ud1a0\ud3f4\ub85c\uc9c0:</p> <pre><code>        10.0.0.1 (Route Reflector)\n             \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502        \u2502        \u2502\n10.0.1.1  10.0.1.2  10.0.1.3\n VTEP1     VTEP2     VTEP3\n   \u2502         \u2502         \u2502\n  VM1       VM2       VM3\n</code></pre> <p>\uc2e4\uc2b5 \ub2e8\uacc4:</p> <p>Node 1 (Route Reflector):</p> <pre><code># FRR \uc124\uc815\nsudo vtysh\n\nconfigure terminal\n\n# OSPF Underlay\nrouter ospf\n  ospf router-id 10.0.0.1\n  network 10.0.0.0/24 area 0\n  network 10.0.1.0/24 area 0\n  exit\n\n# BGP EVPN\nrouter bgp 64512\n  bgp router-id 10.0.0.1\n  neighbor VTEPS peer-group\n  neighbor VTEPS remote-as 64512\n  neighbor VTEPS update-source lo\n  bgp listen range 10.0.1.0/24 peer-group VTEPS\n\n  address-family l2vpn evpn\n    neighbor VTEPS activate\n    neighbor VTEPS route-reflector-client\n  exit-address-family\n\n  exit\n\nwrite memory\nexit\n</code></pre> <p>Node 2 (VTEP1):</p> <pre><code># 1. VXLAN \uc778\ud130\ud398\uc774\uc2a4 \uc0dd\uc131\nsudo ip link add vxlan100 type vxlan \\\n  id 100 \\\n  dstport 4789 \\\n  local 10.0.1.1 \\\n  nolearning\n\nsudo ip link add br100 type bridge\nsudo ip link set vxlan100 master br100\nsudo ip link set vxlan100 up\nsudo ip link set br100 up\n\n# VM tap \uc778\ud130\ud398\uc774\uc2a4 \uc5f0\uacb0 (\uac00\uc815)\nsudo ip link set tap0 master br100\n\n# 2. FRR \uc124\uc815\nsudo vtysh\n\nconfigure terminal\n\nrouter ospf\n  ospf router-id 10.0.1.1\n  network 10.0.0.0/24 area 0\n  network 10.0.1.0/24 area 0\n  exit\n\nrouter bgp 64512\n  bgp router-id 10.0.1.1\n  neighbor 10.0.0.1 remote-as 64512\n  neighbor 10.0.0.1 update-source lo\n\n  address-family l2vpn evpn\n    neighbor 10.0.0.1 activate\n    advertise-all-vni\n  exit-address-family\n\n  exit\n\nwrite memory\nexit\n</code></pre> <p>Node 3, 4 (VTEP2, VTEP3):</p> <p>Node 2\uc640 \ub3d9\uc77c\ud558\uac8c \uc124\uc815 (IP \uc8fc\uc18c\ub9cc \ubcc0\uacbd)</p> <p>\ud655\uc778:</p> <pre><code># EVPN \ub77c\uc6b0\ud2b8 \ud655\uc778\nsudo vtysh -c \"show bgp l2vpn evpn\"\n\n# VNI \uc815\ubcf4 \ud655\uc778\nsudo vtysh -c \"show evpn vni\"\n\n# VTEP \ud53c\uc5b4 \ud655\uc778\nsudo vtysh -c \"show evpn vni 100 detail\"\n\n# MAC \uc8fc\uc18c \ud655\uc778\nsudo bridge fdb show dev vxlan100\n\n# \uc5f0\uacb0\uc131 \ud14c\uc2a4\ud2b8 (VM1\uc5d0\uc11c VM2\ub85c)\nping &lt;VM2-IP&gt;\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#3-ryu-sdn","title":"\uc2e4\uc2b5 3: Ryu\ub85c \uac04\ub2e8\ud55c SDN \ucee8\ud2b8\ub864\ub7ec \uad6c\ucd95","text":"<p>\ubaa9\ud45c: OpenFlow \uae30\ubc18 L2 \ud559\uc2b5 \uc2a4\uc704\uce58 \uad6c\ud604</p> <p>\ud658\uacbd \uc694\uad6c\uc0ac\ud56d:</p> <ul> <li>Linux \uc11c\ubc84 1\ub300</li> <li>Mininet \uc124\uce58</li> <li>Ryu \ucee8\ud2b8\ub864\ub7ec \uc124\uce58</li> </ul> <p>\uc124\uce58:</p> <pre><code># Ryu \uc124\uce58\nsudo pip3 install ryu\n\n# Mininet \uc124\uce58\nsudo apt-get install mininet\n</code></pre> <p>\ucee8\ud2b8\ub864\ub7ec \ucf54\ub4dc (\uc704\uc758 simple_switch.py \uc800\uc7a5):</p> <pre><code># simple_switch.py \uc2e4\ud589\nryu-manager simple_switch.py\n</code></pre> <p>\ub124\ud2b8\uc6cc\ud06c \ud1a0\ud3f4\ub85c\uc9c0 \uc0dd\uc131:</p> <pre><code># \ubcc4\ub3c4 \ud130\ubbf8\ub110\uc5d0\uc11c Mininet \uc2e4\ud589\nsudo mn --controller=remote,ip=127.0.0.1 --mac --switch=ovsk,protocols=OpenFlow13 --topo=tree,2,2\n\n# Mininet CLI\uc5d0\uc11c:\nmininet&gt; pingall    # \uc5f0\uacb0\uc131 \ud14c\uc2a4\ud2b8\nmininet&gt; h1 ping h4  # \uac1c\ubcc4 \ud14c\uc2a4\ud2b8\n</code></pre> <p>Flow \ud655\uc778:</p> <pre><code># \ub610 \ub2e4\ub978 \ud130\ubbf8\ub110\uc5d0\uc11c\nsudo ovs-ofctl -O OpenFlow13 dump-flows s1\nsudo ovs-ofctl -O OpenFlow13 dump-flows s2\nsudo ovs-ofctl -O OpenFlow13 dump-flows s3\n</code></pre> <p>\uc608\uc0c1 \ucd9c\ub825:</p> <pre><code>cookie=0x0, duration=5.123s, table=0, n_packets=10, n_bytes=980, priority=1,in_port=1,dl_dst=00:00:00:00:00:02 actions=output:2\ncookie=0x0, duration=5.123s, table=0, n_packets=10, n_bytes=980, priority=1,in_port=2,dl_dst=00:00:00:00:00:01 actions=output:1\n\n\ubd84\uc11d:\n- MAC \uc8fc\uc18c \uae30\ubc18 \ud3ec\uc6cc\ub529 flow \uc124\uce58\ub428\n- Packet-In \uc5c6\uc774 \uc2a4\uc704\uce58\uc5d0\uc11c \uc9c1\uc811 \ucc98\ub9ac\n- \ud559\uc2b5 \uc2a4\uc704\uce58 \ub3d9\uc791 \ud655\uc778\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#4-p4","title":"\uc2e4\uc2b5 4: P4 \uae30\ubcf8 \ud504\ub85c\uadf8\ub798\ubc0d","text":"<p>\ubaa9\ud45c: P4 \uae30\ubcf8 \ubb38\ubc95 \ud559\uc2b5 \ubc0f BMv2\ub85c \ud14c\uc2a4\ud2b8</p> <p>\ud658\uacbd \uc694\uad6c\uc0ac\ud56d:</p> <ul> <li>Ubuntu 20.04 \uc774\uc0c1</li> <li>P4 \ucef4\ud30c\uc77c\ub7ec \ubc0f BMv2 \uc124\uce58</li> </ul> <p>\uc124\uce58:</p> <pre><code># \uc758\uc874\uc131 \uc124\uce58\nsudo apt-get install -y \\\n  automake cmake g++ git libgc-dev \\\n  libgmp-dev libpcap-dev libtool \\\n  python3 python3-pip\n\n# P4C \ucef4\ud30c\uc77c\ub7ec \uc124\uce58\ngit clone https://github.com/p4lang/p4c.git\ncd p4c\nmkdir build &amp;&amp; cd build\ncmake ..\nmake -j4\nsudo make install\n\n# Behavioral Model v2 (BMv2) \uc124\uce58\ngit clone https://github.com/p4lang/behavioral-model.git\ncd behavioral-model\n./install_deps.sh\n./autogen.sh\n./configure\nmake -j4\nsudo make install\n</code></pre> <p>P4 \ud504\ub85c\uadf8\ub7a8 \ucef4\ud30c\uc77c \ubc0f \uc2e4\ud589:</p> <pre><code># 1. P4 \ucf54\ub4dc \ucef4\ud30c\uc77c (\uc704\uc758 simple_l3_forwarding.p4 \uc0ac\uc6a9)\np4c --target bmv2 --arch v1model \\\n    --p4runtime-files simple_l3.p4info.txt \\\n    -o simple_l3.json simple_l3_forwarding.p4\n\n# 2. BMv2 \uc2a4\uc704\uce58 \uc2dc\uc791\nsudo simple_switch_grpc \\\n    --log-console \\\n    -i 0@veth0 -i 1@veth2 \\\n    --no-p4 \\\n    -- --grpc-server-addr 0.0.0.0:50051\n\n# 3. Runtime CLI\ub85c \ud14c\uc774\ube14 \uc5d4\ud2b8\ub9ac \ucd94\uac00\nsimple_switch_CLI\n\n# CLI\uc5d0\uc11c:\nRuntimeCmd: table_add ipv4_lpm ipv4_forward 10.0.1.0/24 =&gt; 00:00:00:00:01:01 1\nRuntimeCmd: table_add ipv4_lpm ipv4_forward 10.0.2.0/24 =&gt; 00:00:00:00:02:01 2\nRuntimeCmd: table_dump ipv4_lpm\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_4","title":"\ud83d\udcbb \uc608\uc81c \ucf54\ub4dc","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#1","title":"\uc608\uc81c 1: \ub124\ud2b8\uc6cc\ud06c \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \uc2a4\ud06c\ub9bd\ud2b8","text":"<pre><code>#!/usr/bin/env python3\n# network_monitor.py - \ub124\ud2b8\uc6cc\ud06c \uc131\ub2a5 \uc2e4\uc2dc\uac04 \ubaa8\ub2c8\ud130\ub9c1\n\nimport psutil\nimport time\nfrom datetime import datetime\nfrom collections import defaultdict\n\nclass NetworkMonitor:\n    def __init__(self, interval=1):\n        self.interval = interval\n        self.prev_stats = {}\n\n    def get_interface_stats(self):\n        \"\"\"\uc778\ud130\ud398\uc774\uc2a4\ubcc4 \ud1b5\uacc4 \uc218\uc9d1\"\"\"\n        stats = psutil.net_io_counters(pernic=True)\n        return stats\n\n    def calculate_rates(self, current, previous):\n        \"\"\"\uc804\uc1a1 \uc18d\ub3c4 \uacc4\uc0b0 (bps, pps)\"\"\"\n        rates = {}\n\n        for iface, curr_stat in current.items():\n            if iface not in previous:\n                continue\n\n            prev_stat = previous[iface]\n\n            # \ubc14\uc774\ud2b8 \uc18d\ub3c4 (Mbps)\n            bytes_sent = (curr_stat.bytes_sent - prev_stat.bytes_sent) / self.interval\n            bytes_recv = (curr_stat.bytes_recv - prev_stat.bytes_recv) / self.interval\n\n            # \ud328\ud0b7 \uc18d\ub3c4 (pps)\n            pkts_sent = (curr_stat.packets_sent - prev_stat.packets_sent) / self.interval\n            pkts_recv = (curr_stat.packets_recv - prev_stat.packets_recv) / self.interval\n\n            # \uc5d0\ub7ec \ubc0f \ub4dc\ub86d\n            errors = curr_stat.errin + curr_stat.errout\n            drops = curr_stat.dropin + curr_stat.dropout\n\n            rates[iface] = {\n                'tx_mbps': bytes_sent * 8 / 1_000_000,\n                'rx_mbps': bytes_recv * 8 / 1_000_000,\n                'tx_pps': pkts_sent,\n                'rx_pps': pkts_recv,\n                'errors': errors,\n                'drops': drops\n            }\n\n        return rates\n\n    def print_stats(self, rates):\n        \"\"\"\ud1b5\uacc4 \ucd9c\ub825\"\"\"\n        print(f\"\\n{'='*80}\")\n        print(f\"Network Statistics - {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\")\n        print(f\"{'='*80}\")\n        print(f\"{'Interface':&lt;15} {'TX Mbps':&gt;10} {'RX Mbps':&gt;10} {'TX pps':&gt;10} {'RX pps':&gt;10} {'Errors':&gt;8} {'Drops':&gt;8}\")\n        print(f\"{'-'*80}\")\n\n        for iface, stat in sorted(rates.items()):\n            if stat['tx_mbps'] &gt; 0 or stat['rx_mbps'] &gt; 0:\n                print(f\"{iface:&lt;15} {stat['tx_mbps']:&gt;10.2f} {stat['rx_mbps']:&gt;10.2f} \"\n                      f\"{stat['tx_pps']:&gt;10.0f} {stat['rx_pps']:&gt;10.0f} \"\n                      f\"{stat['errors']:&gt;8} {stat['drops']:&gt;8}\")\n\n    def run(self):\n        \"\"\"\ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc791\"\"\"\n        print(\"Network monitoring started. Press Ctrl+C to stop.\")\n\n        try:\n            self.prev_stats = self.get_interface_stats()\n            time.sleep(self.interval)\n\n            while True:\n                current_stats = self.get_interface_stats()\n                rates = self.calculate_rates(current_stats, self.prev_stats)\n                self.print_stats(rates)\n\n                self.prev_stats = current_stats\n                time.sleep(self.interval)\n\n        except KeyboardInterrupt:\n            print(\"\\n\\nMonitoring stopped.\")\n\nif __name__ == \"__main__\":\n    monitor = NetworkMonitor(interval=2)\n    monitor.run()\n</code></pre> <p>\uc0ac\uc6a9\ubc95:</p> <pre><code>sudo python3 network_monitor.py\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#2-bgp","title":"\uc608\uc81c 2: BGP \ub77c\uc6b0\ud2b8 \ubd84\uc11d \ub3c4\uad6c","text":"<pre><code>#!/usr/bin/env python3\n# bgp_route_analyzer.py - BGP \ub77c\uc6b0\ud2b8 \ud14c\uc774\ube14 \ubd84\uc11d\n\nimport subprocess\nimport json\nfrom collections import Counter, defaultdict\n\nclass BGPRouteAnalyzer:\n    def __init__(self):\n        self.routes = []\n\n    def fetch_bgp_routes(self):\n        \"\"\"FRR\uc5d0\uc11c BGP \ub77c\uc6b0\ud2b8 \uac00\uc838\uc624\uae30\"\"\"\n        try:\n            cmd = \"vtysh -c 'show ip bgp json'\"\n            output = subprocess.check_output(cmd, shell=True)\n            data = json.loads(output)\n\n            if 'routes' in data:\n                self.routes = data['routes']\n\n            return len(self.routes)\n        except Exception as e:\n            print(f\"Error fetching BGP routes: {e}\")\n            return 0\n\n    def analyze_as_paths(self):\n        \"\"\"AS Path \ubd84\uc11d\"\"\"\n        path_lengths = []\n        as_counter = Counter()\n\n        for prefix, info in self.routes.items():\n            for path_info in info:\n                if 'path' in path_info:\n                    as_path = path_info['path'].split()\n                    path_lengths.append(len(as_path))\n\n                    for asn in as_path:\n                        as_counter[asn] += 1\n\n        print(\"\\n=== AS Path Analysis ===\")\n        print(f\"Total Routes: {len(self.routes)}\")\n        print(f\"Average AS Path Length: {sum(path_lengths)/len(path_lengths):.2f}\")\n        print(f\"Max AS Path Length: {max(path_lengths)}\")\n        print(f\"Min AS Path Length: {min(path_lengths)}\")\n\n        print(\"\\nTop 10 Transit ASNs:\")\n        for asn, count in as_counter.most_common(10):\n            print(f\"  AS{asn}: {count} occurrences\")\n\n    def analyze_next_hops(self):\n        \"\"\"Next Hop \ubd84\uc11d\"\"\"\n        next_hop_counter = Counter()\n\n        for prefix, info in self.routes.items():\n            for path_info in info:\n                if 'nexthops' in path_info:\n                    for nh in path_info['nexthops']:\n                        if 'ip' in nh:\n                            next_hop_counter[nh['ip']] += 1\n\n        print(\"\\n=== Next Hop Analysis ===\")\n        for nh, count in next_hop_counter.most_common():\n            print(f\"  {nh}: {count} routes\")\n\n    def find_redundant_paths(self):\n        \"\"\"\uc911\ubcf5 \uacbd\ub85c \ucc3e\uae30\"\"\"\n        prefix_count = Counter()\n\n        for prefix in self.routes.keys():\n            # /24\ub85c \uc9d1\uacc4\n            network = '.'.join(prefix.split('/')[0].split('.')[:3]) + '.0/24'\n            prefix_count[network] += 1\n\n        print(\"\\n=== Potential Route Summarization ===\")\n        candidates = {k: v for k, v in prefix_count.items() if v &gt; 5}\n\n        if candidates:\n            print(\"Networks with many specific routes (summarization candidates):\")\n            for network, count in sorted(candidates.items(), key=lambda x: x[1], reverse=True)[:10]:\n                print(f\"  {network}: {count} specific routes\")\n        else:\n            print(\"No obvious summarization candidates found.\")\n\n    def analyze_origin(self):\n        \"\"\"Origin \ubd84\uc11d\"\"\"\n        origin_counter = Counter()\n\n        for prefix, info in self.routes.items():\n            for path_info in info:\n                if 'origin' in path_info:\n                    origin_counter[path_info['origin']] += 1\n\n        print(\"\\n=== Origin Analysis ===\")\n        for origin, count in origin_counter.items():\n            print(f\"  {origin}: {count} routes\")\n\n    def run_analysis(self):\n        \"\"\"\uc804\uccb4 \ubd84\uc11d \uc2e4\ud589\"\"\"\n        print(\"Fetching BGP routes...\")\n        route_count = self.fetch_bgp_routes()\n\n        if route_count == 0:\n            print(\"No BGP routes found.\")\n            return\n\n        print(f\"Analyzing {route_count} BGP routes...\\n\")\n\n        self.analyze_as_paths()\n        self.analyze_next_hops()\n        self.find_redundant_paths()\n        self.analyze_origin()\n\nif __name__ == \"__main__\":\n    analyzer = BGPRouteAnalyzer()\n    analyzer.run_analysis()\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#3-vxlan","title":"\uc608\uc81c 3: VXLAN \ud130\ub110 \uc0c1\ud0dc \ubaa8\ub2c8\ud130\ub9c1","text":"<pre><code>#!/bin/bash\n# vxlan_monitor.sh - VXLAN \ud130\ub110 \uc0c1\ud0dc \ubaa8\ub2c8\ud130\ub9c1\n\nset -e\n\n# \uc0c9\uc0c1 \uc815\uc758\nRED='\\033[0;31m'\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nNC='\\033[0m' # No Color\n\nprint_header() {\n    echo \"\"\n    echo \"==========================================\"\n    echo \"  VXLAN Tunnel Monitoring\"\n    echo \"  $(date '+%Y-%m-%d %H:%M:%S')\"\n    echo \"==========================================\"\n}\n\ncheck_vxlan_interfaces() {\n    echo \"\"\n    echo \"=== VXLAN Interfaces ===\"\n\n    ip -d link show type vxlan | while read -r line; do\n        if [[ $line =~ ^[0-9]+: ]]; then\n            iface=$(echo $line | cut -d: -f2 | tr -d ' ')\n            echo -e \"\\n${GREEN}Interface: $iface${NC}\"\n        elif [[ $line =~ vxlan ]]; then\n            echo \"  $line\"\n        fi\n    done\n}\n\ncheck_fdb() {\n    echo \"\"\n    echo \"=== FDB Entries per VXLAN ===\"\n\n    for vxlan in $(ip -o link show type vxlan | cut -d: -f2 | tr -d ' '); do\n        count=$(bridge fdb show dev $vxlan | grep -v \"permanent\" | wc -l)\n        echo \"  $vxlan: $count entries\"\n\n        # Top 5 entries\n        echo \"    Top remote VTEPs:\"\n        bridge fdb show dev $vxlan | grep -v \"permanent\" | \\\n            awk '{print $3}' | sort | uniq -c | sort -rn | head -5 | \\\n            while read count ip; do\n                echo \"      $ip: $count MACs\"\n            done\n    done\n}\n\ncheck_evpn_status() {\n    echo \"\"\n    echo \"=== EVPN Status ===\"\n\n    if command -v vtysh &amp;&gt; /dev/null; then\n        # VNI \uc815\ubcf4\n        echo \"  VNI Summary:\"\n        vtysh -c \"show evpn vni\" 2&gt;/dev/null | grep -E \"VNI|Number\" || \\\n            echo \"    EVPN not configured or FRR not running\"\n\n        # BGP EVPN \ud53c\uc5b4\n        echo \"\"\n        echo \"  BGP EVPN Peers:\"\n        vtysh -c \"show bgp l2vpn evpn summary\" 2&gt;/dev/null | \\\n            tail -n +8 || echo \"    No EVPN peers\"\n    else\n        echo \"  FRR/vtysh not available\"\n    fi\n}\n\ncheck_traffic() {\n    echo \"\"\n    echo \"=== VXLAN Traffic Statistics ===\"\n\n    for vxlan in $(ip -o link show type vxlan | cut -d: -f2 | tr -d ' '); do\n        echo \"  $vxlan:\"\n        ip -s link show $vxlan | grep -A 1 \"RX:\\|TX:\" | \\\n            awk '/RX:/{rx=1; next} rx{print \"    RX: \" $0; rx=0} /TX:/{tx=1; next} tx{print \"    TX: \" $0; tx=0}'\n    done\n}\n\ncheck_errors() {\n    echo \"\"\n    echo \"=== Error Detection ===\"\n\n    errors_found=0\n\n    for vxlan in $(ip -o link show type vxlan | cut -d: -f2 | tr -d ' '); do\n        # \uc778\ud130\ud398\uc774\uc2a4 down \uccb4\ud06c\n        if ! ip link show $vxlan | grep -q \"UP\"; then\n            echo -e \"  ${RED}[ERROR]${NC} $vxlan is DOWN\"\n            errors_found=1\n        fi\n\n        # \uc5d0\ub7ec \uce74\uc6b4\ud130 \uccb4\ud06c\n        errors=$(ip -s link show $vxlan | grep \"errors\" | head -1 | awk '{print $3}')\n        if [ \"$errors\" -gt 0 ]; then\n            echo -e \"  ${YELLOW}[WARNING]${NC} $vxlan has $errors errors\"\n            errors_found=1\n        fi\n\n        # \ub4dc\ub86d \uce74\uc6b4\ud130 \uccb4\ud06c\n        drops=$(ip -s link show $vxlan | grep \"dropped\" | head -1 | awk '{print $4}')\n        if [ \"$drops\" -gt 100 ]; then\n            echo -e \"  ${YELLOW}[WARNING]${NC} $vxlan has $drops dropped packets\"\n            errors_found=1\n        fi\n    done\n\n    if [ $errors_found -eq 0 ]; then\n        echo -e \"  ${GREEN}[OK]${NC} No errors detected\"\n    fi\n}\n\ncheck_mtu() {\n    echo \"\"\n    echo \"=== MTU Configuration ===\"\n\n    for vxlan in $(ip -o link show type vxlan | cut -d: -f2 | tr -d ' '); do\n        mtu=$(ip link show $vxlan | grep mtu | awk '{print $5}')\n        echo \"  $vxlan: MTU $mtu\"\n\n        if [ \"$mtu\" -lt 1450 ]; then\n            echo -e \"    ${YELLOW}[WARNING]${NC} MTU might be too small for VXLAN\"\n        fi\n    done\n}\n\n# Main\nmain() {\n    while true; do\n        clear\n        print_header\n        check_vxlan_interfaces\n        check_fdb\n        check_evpn_status\n        check_traffic\n        check_errors\n        check_mtu\n\n        echo \"\"\n        echo \"Press Ctrl+C to stop. Refreshing in 10 seconds...\"\n        sleep 10\n    done\n}\n\n# Ctrl+C \ud578\ub4e4\ub7ec\ntrap 'echo \"\"; echo \"Monitoring stopped.\"; exit 0' INT\n\nmain\n</code></pre> <p>\uc0ac\uc6a9\ubc95:</p> <pre><code>chmod +x vxlan_monitor.sh\nsudo ./vxlan_monitor.sh\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#4-openflow-flow","title":"\uc608\uc81c 4: OpenFlow Flow \ucd5c\uc801\ud654 \uc2a4\ud06c\ub9bd\ud2b8","text":"<pre><code>#!/usr/bin/env python3\n# flow_optimizer.py - OpenFlow Flow \ud14c\uc774\ube14 \ucd5c\uc801\ud654\n\nimport subprocess\nimport re\nfrom collections import defaultdict\n\nclass FlowOptimizer:\n    def __init__(self, bridge='br0'):\n        self.bridge = bridge\n        self.flows = []\n\n    def fetch_flows(self):\n        \"\"\"OVS\uc5d0\uc11c flow \uac00\uc838\uc624\uae30\"\"\"\n        cmd = f\"ovs-ofctl -O OpenFlow13 dump-flows {self.bridge}\"\n        output = subprocess.check_output(cmd.split()).decode()\n\n        self.flows = []\n        for line in output.strip().split('\\n'):\n            if 'cookie' in line:\n                self.flows.append(line)\n\n        return len(self.flows)\n\n    def analyze_utilization(self):\n        \"\"\"Flow \uc0ac\uc6a9\ub960 \ubd84\uc11d\"\"\"\n        print(\"\\n=== Flow Utilization Analysis ===\")\n\n        total_flows = len(self.flows)\n        active_flows = 0\n        idle_flows = []\n\n        for flow in self.flows:\n            # n_packets \ucd94\ucd9c\n            match = re.search(r'n_packets=(\\d+)', flow)\n            if match:\n                packets = int(match.group(1))\n                if packets &gt; 0:\n                    active_flows += 1\n                else:\n                    idle_flows.append(flow)\n\n        print(f\"Total Flows: {total_flows}\")\n        print(f\"Active Flows: {active_flows} ({active_flows/total_flows*100:.1f}%)\")\n        print(f\"Idle Flows: {len(idle_flows)} ({len(idle_flows)/total_flows*100:.1f}%)\")\n\n        return idle_flows\n\n    def find_overlapping_flows(self):\n        \"\"\"\uc911\ubcf5/\uc911\ucca9 flow \ucc3e\uae30\"\"\"\n        print(\"\\n=== Overlapping Flow Detection ===\")\n\n        matches = defaultdict(list)\n\n        for flow in self.flows:\n            # match \ud544\ub4dc \ucd94\ucd9c\n            if 'priority=' in flow:\n                match_str = re.search(r'priority=\\d+,(.+?)\\s+actions=', flow)\n                if match_str:\n                    match_fields = match_str.group(1)\n                    matches[match_fields].append(flow)\n\n        overlaps = {k: v for k, v in matches.items() if len(v) &gt; 1}\n\n        if overlaps:\n            print(f\"Found {len(overlaps)} overlapping match patterns:\")\n            for match, flows in list(overlaps.items())[:5]:\n                print(f\"\\n  Match: {match}\")\n                print(f\"  Count: {len(flows)} flows\")\n        else:\n            print(\"No overlapping flows detected.\")\n\n    def suggest_aggregation(self):\n        \"\"\"Flow \uc9d1\uacc4 \uc81c\uc548\"\"\"\n        print(\"\\n=== Flow Aggregation Suggestions ===\")\n\n        # IP prefix\ubcc4\ub85c \uadf8\ub8f9\ud654\n        ip_flows = defaultdict(list)\n\n        for flow in self.flows:\n            # nw_dst \ucd94\ucd9c\n            match = re.search(r'nw_dst=([\\d.]+/\\d+)', flow)\n            if match:\n                prefix = match.group(1)\n                network = '.'.join(prefix.split('/')[0].split('.')[:3]) + '.0/24'\n                ip_flows[network].append(prefix)\n\n        aggregation_candidates = {k: v for k, v in ip_flows.items() if len(v) &gt; 3}\n\n        if aggregation_candidates:\n            print(\"Networks with multiple specific flows (aggregation candidates):\")\n            for network, prefixes in list(aggregation_candidates.items())[:5]:\n                print(f\"\\n  {network}:\")\n                print(f\"    {len(prefixes)} specific flows can be aggregated\")\n                print(f\"    Examples: {', '.join(prefixes[:3])}\")\n        else:\n            print(\"No obvious aggregation opportunities found.\")\n\n    def check_timeouts(self):\n        \"\"\"Timeout \uc124\uc815 \ubd84\uc11d\"\"\"\n        print(\"\\n=== Timeout Analysis ===\")\n\n        idle_timeouts = []\n        hard_timeouts = []\n        no_timeout = 0\n\n        for flow in self.flows:\n            idle_match = re.search(r'idle_timeout=(\\d+)', flow)\n            hard_match = re.search(r'hard_timeout=(\\d+)', flow)\n\n            if idle_match:\n                idle_timeouts.append(int(idle_match.group(1)))\n            else:\n                no_timeout += 1\n\n            if hard_match:\n                hard_timeouts.append(int(hard_match.group(1)))\n\n        if idle_timeouts:\n            print(f\"Flows with idle_timeout: {len(idle_timeouts)}\")\n            print(f\"  Average: {sum(idle_timeouts)/len(idle_timeouts):.0f}s\")\n            print(f\"  Range: {min(idle_timeouts)}-{max(idle_timeouts)}s\")\n\n        if hard_timeouts:\n            print(f\"Flows with hard_timeout: {len(hard_timeouts)}\")\n            print(f\"  Average: {sum(hard_timeouts)/len(hard_timeouts):.0f}s\")\n\n        if no_timeout &gt; 0:\n            print(f\"Permanent flows (no timeout): {no_timeout}\")\n\n    def generate_report(self):\n        \"\"\"\ucd5c\uc801\ud654 \ub9ac\ud3ec\ud2b8 \uc0dd\uc131\"\"\"\n        print(\"\\n\" + \"=\"*60)\n        print(\"OpenFlow Flow Optimization Report\")\n        print(f\"Bridge: {self.bridge}\")\n        print(\"=\"*60)\n\n        flow_count = self.fetch_flows()\n        if flow_count == 0:\n            print(\"No flows found.\")\n            return\n\n        idle_flows = self.analyze_utilization()\n        self.find_overlapping_flows()\n        self.suggest_aggregation()\n        self.check_timeouts()\n\n        # \ucd5c\uc801\ud654 \uc81c\uc548\n        print(\"\\n=== Optimization Recommendations ===\")\n\n        if len(idle_flows) &gt; flow_count * 0.2:\n            print(\"\u2022 Consider reducing idle_timeout to remove unused flows faster\")\n\n        print(\"\u2022 Review overlapping flows and merge if possible\")\n        print(\"\u2022 Consider aggregating flows with similar match patterns\")\n        print(\"\u2022 Use flow priority carefully to avoid conflicts\")\n\n        print(\"\\n\" + \"=\"*60)\n\nif __name__ == \"__main__\":\n    import argparse\n\n    parser = argparse.ArgumentParser(description='OpenFlow Flow Optimizer')\n    parser.add_argument('--bridge', default='br0', help='OVS bridge name')\n    args = parser.parse_args()\n\n    optimizer = FlowOptimizer(bridge=args.bridge)\n    optimizer.generate_report()\n</code></pre>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_5","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_6","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>TCP/IP \ubc0f \ud63c\uc7a1 \uc81c\uc5b4:</p> <ul> <li>BBR: Congestion-Based Congestion Control (ACM Queue)</li> <li>IETF BBR Congestion Control Draft</li> <li>Google Cloud: TCP BBR Congestion Control</li> <li>TCP Congestion Control Algorithms (F5 Networks)</li> </ul> <p>BGP &amp; OSPF:</p> <ul> <li>BGP Best Current Practices (NSRC, April 2025)</li> <li>Cisco IOS XR Deployment Best Practices for OSPF/IS-IS and BGP</li> <li>BGP vs OSPF: Complete Comparison 2025</li> </ul> <p>VXLAN &amp; EVPN:</p> <ul> <li>Cisco Nexus 9000 VXLAN BGP EVPN Design Guide</li> <li>Juniper: Understanding VXLANs</li> <li>Azure Local: VXLAN Overlay Networking (2025)</li> </ul> <p>SDN, OpenFlow, P4:</p> <ul> <li>Advancing SDN from OpenFlow to P4: A Survey (ACM)</li> <li>A Performance Evaluation for SDN with P4 (MDPI, June 2025)</li> <li>P4 Language Specification</li> <li>OpenFlow Switch Specification</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_7","title":"\ud29c\ud1a0\ub9ac\uc5bc \ubc0f \uac00\uc774\ub4dc","text":"<p>\uc2e4\uc2b5 \uc790\ub8cc:</p> <ul> <li>FRRouting Documentation</li> <li>Open vSwitch Documentation</li> <li>Ryu SDN Framework</li> <li>P4 Tutorials (P4.org)</li> <li>Mininet Walkthrough</li> </ul> <p>\uc628\ub77c\uc778 \uac15\uc758:</p> <ul> <li>30+ VXLAN Online Courses for 2025 (Class Central)</li> <li>NSRC Training: BGP/OSPF Best Practices</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_8","title":"\ub3c4\uc11c","text":"<ul> <li>TCP/IP Illustrated, Volume 1 - W. Richard Stevens</li> <li>Routing TCP/IP, Volume 1 &amp; 2 - Jeff Doyle</li> <li>Computer Networking: A Top-Down Approach - Kurose &amp; Ross</li> <li>SDN: Software Defined Networks - Thomas D. Nadeau</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_9","title":"\ube14\ub85c\uadf8 \ubc0f \uc544\ud2f0\ud074","text":"<ul> <li>Increase Linux Internet Speed with TCP BBR (nixCraft)</li> <li>TCP BBR: Exploring TCP Congestion Control (Medium)</li> <li>Dynamic Routing in NSX-T: OSPF, BGP (Digital Thought Disruption, 2025)</li> <li>Can P4 Save Software-Defined Networking? (Net Automated)</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_10","title":"\ucee4\ubba4\ub2c8\ud2f0 \ubc0f \ud3ec\ub7fc","text":"<ul> <li>NANOG (North American Network Operators' Group)</li> <li>P4 Community</li> <li>OpenFlow Reddit</li> <li>FRRouting Slack</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_11","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#tcpip","title":"TCP/IP \ubc0f \ud63c\uc7a1 \uc81c\uc5b4","text":"<ul> <li> TCP/IP 4\uacc4\uce35 \uad6c\uc870 \uc774\ud574 \ubc0f \uc124\uba85 \uac00\ub2a5</li> <li> BBR \ud63c\uc7a1 \uc81c\uc5b4 \uc54c\uace0\ub9ac\uc998\uc758 \ub3d9\uc791 \uc6d0\ub9ac \uc774\ud574</li> <li> BBRv1, BBRv2, BBRv3\uc758 \ucc28\uc774\uc810 \uc124\uba85 \uac00\ub2a5</li> <li> Linux\uc5d0\uc11c BBR \ud65c\uc131\ud654 \ubc0f \uc131\ub2a5 \uce21\uc815 \uacbd\ud5d8</li> <li> Loss-based vs Delay-based \ud63c\uc7a1 \uc81c\uc5b4 \ube44\uad50 \uac00\ub2a5</li> <li> TCP \uc131\ub2a5 \ud29c\ub2dd \ud30c\ub77c\ubbf8\ud130 \uc774\ud574 \ubc0f \uc801\uc6a9 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_12","title":"\ub77c\uc6b0\ud305 \ud504\ub85c\ud1a0\ucf5c","text":"<ul> <li> OSPF\uc758 Link State \ub77c\uc6b0\ud305 \uc6d0\ub9ac \uc774\ud574</li> <li> OSPF Area \uc124\uacc4 \ubc0f \uad6c\ud604 \uacbd\ud5d8</li> <li> BGP Path Selection \ud504\ub85c\uc138\uc2a4 \uc644\uc804 \uc774\ud574</li> <li> eBGP vs iBGP \ucc28\uc774\uc810 \ubc0f \uc0ac\uc6a9 \uc2dc\ub098\ub9ac\uc624 \uc124\uba85 \uac00\ub2a5</li> <li> BGP \uc815\ucc45 (Route Map, Prefix List) \uad6c\ud604 \uacbd\ud5d8</li> <li> BGP\uc640 OSPF\uc758 \uc801\uc808\ud55c \uc120\ud0dd \uae30\uc900 \uc774\ud574</li> <li> 2025 Best Practices (IGP/EGP \uc7ac\ubd84\ubc30 \uae08\uc9c0 \ub4f1) \uc219\uc9c0</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#vxlan","title":"VXLAN \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654","text":"<ul> <li> VLAN\uc758 \ud55c\uacc4\uc640 VXLAN\uc758 \ud544\uc694\uc131 \uc774\ud574</li> <li> VXLAN \ucea1\uc290\ud654 \ud5e4\ub354 \uad6c\uc870 \uc124\uba85 \uac00\ub2a5</li> <li> VTEP \ub3d9\uc791 \uc6d0\ub9ac \ubc0f \uc5ed\ud560 \uc774\ud574</li> <li> Multicast vs EVPN \uc81c\uc5b4 \ud3c9\uba74 \ube44\uad50 \uac00\ub2a5</li> <li> Linux\uc5d0\uc11c VXLAN \uc778\ud130\ud398\uc774\uc2a4 \uc0dd\uc131 \ubc0f \uc124\uc815 \uacbd\ud5d8</li> <li> BGP EVPN \uc124\uc815 \ubc0f \uc6b4\uc601 \uacbd\ud5d8</li> <li> VXLAN \uc131\ub2a5 \ucd5c\uc801\ud654 (MTU, \uc624\ud504\ub85c\ub4dc) \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#sdn-software-defined-networking","title":"SDN (Software Defined Networking)","text":"<ul> <li> SDN 3\uacc4\uce35 \uc544\ud0a4\ud14d\ucc98 \uc774\ud574</li> <li> OpenFlow \ud504\ub85c\ud1a0\ucf5c\uc758 \ub3d9\uc791 \uc6d0\ub9ac \uc774\ud574</li> <li> OpenFlow Flow Entry \uad6c\uc870 \uc124\uba85 \uac00\ub2a5</li> <li> Ryu \ub610\ub294 \ub2e4\ub978 SDN \ucee8\ud2b8\ub864\ub7ec \uc0ac\uc6a9 \uacbd\ud5d8</li> <li> Open vSwitch \uc124\uc815 \ubc0f \uad00\ub9ac \uacbd\ud5d8</li> <li> P4 \uc5b8\uc5b4\uc758 \uae30\ubcf8 \ubb38\ubc95 \uc774\ud574</li> <li> OpenFlow vs P4\uc758 \ucc28\uc774\uc810 \ubc0f \uc7a5\ub2e8\uc810 \ube44\uad50 \uac00\ub2a5</li> <li> SDN \uc0ac\uc6a9 \uc0ac\ub840 \ubc0f \uc2e4\ubb34 \uc801\uc6a9 \uac00\ub2a5\uc131 \ud3c9\uac00 \ub2a5\ub825</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_13","title":"\uc885\ud569 \uc5ed\ub7c9","text":"<ul> <li> \ub300\uaddc\ubaa8 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc758 \ub124\ud2b8\uc6cc\ud06c \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4 \uac00\ub2a5</li> <li> \uc131\ub2a5, \ud655\uc7a5\uc131, \uac00\uc6a9\uc131\uc744 \uace0\ub824\ud55c \ud504\ub85c\ud1a0\ucf5c \uc120\ud0dd \uac00\ub2a5</li> <li> \ub124\ud2b8\uc6cc\ud06c \ubb38\uc81c \uc9c4\ub2e8 \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305 \uacbd\ud5d8</li> <li> \ub124\ud2b8\uc6cc\ud06c \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc131\ub2a5 \ubd84\uc11d \ub3c4\uad6c \ud65c\uc6a9 \uacbd\ud5d8</li> <li> \uc790\ub3d9\ud654 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ud1b5\ud55c \ub124\ud2b8\uc6cc\ud06c \uc6b4\uc601 \ud6a8\uc728\ud654 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch1.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%94%84%EB%A1%9C%ED%86%A0%EC%BD%9C/#_14","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch1. \ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ud1a0\ucf5c\uc744 \uc644\ub8cc\ud588\ub2e4\uba74, \ub2e4\uc74c \ud559\uc2b5 \uc8fc\uc81c\ub85c \uc9c4\ud589\ud558\uc138\uc694:</p> <p>Ch2. API \uc124\uacc4</p> <ul> <li>RESTful API \uc124\uacc4 \uc6d0\uce59</li> <li>gRPC \ubc0f \uc131\ub2a5 \ube44\uad50</li> <li>API Gateway \ud328\ud134</li> <li>API \ubc84\uc800\ub2dd \uc804\ub7b5</li> <li>\uc131\ub2a5 \ucd5c\uc801\ud654 \ubc0f \uce90\uc2f1</li> </ul> <p>\ub610\ub294 \uc2ec\ud654 \ud559\uc2b5:</p> <ul> <li>\ub124\ud2b8\uc6cc\ud06c \uc790\ub3d9\ud654: Ansible, Nornir, Netmiko</li> <li>\uace0\uae09 BGP: BGP Communities, AS-Path Filtering, Route Reflection</li> <li>\uba40\ud2f0\ud14c\ub10c\ud2b8 \ub124\ud2b8\uc6cc\ud0b9: VRF, MPLS L3VPN</li> <li>\ub124\ud2b8\uc6cc\ud06c \ubcf4\uc548: ACL, \ubc29\ud654\ubcbd \uc815\ucc45, DDoS \ubc29\uc5b4</li> <li>Service Mesh: Istio, Linkerd (Ch7\uc5d0\uc11c \ub2e4\ub8f8)</li> </ul> <p>\uc2e4\ubb34 \ud504\ub85c\uc81d\ud2b8 \uc544\uc774\ub514\uc5b4:</p> <ol> <li>VXLAN EVPN \ub370\uc774\ud130\uc13c\ud130 \ud328\ube0c\ub9ad \uad6c\ucd95</li> <li>3-Tier (Spine-Leaf) \ud1a0\ud3f4\ub85c\uc9c0 \uc124\uacc4</li> <li>BGP EVPN\uc73c\ub85c L2/L3 \uc11c\ube44\uc2a4 \uc81c\uacf5</li> <li> <p>\ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uc790\ub3d9\ud654 \uad6c\ud604</p> </li> <li> <p>SDN \uae30\ubc18 \ud2b8\ub798\ud53d \uc5d4\uc9c0\ub2c8\uc5b4\ub9c1</p> </li> <li>Ryu \ucee8\ud2b8\ub864\ub7ec\ub85c \ub3d9\uc801 \uacbd\ub85c \uc81c\uc5b4</li> <li>QoS \uc815\ucc45 \uad6c\ud604</li> <li> <p>\uc7a5\uc560 \uc790\ub3d9 \uac10\uc9c0 \ubc0f \uc6b0\ud68c</p> </li> <li> <p>\ub124\ud2b8\uc6cc\ud06c \uc131\ub2a5 \ubd84\uc11d \ud50c\ub7ab\ud3fc</p> </li> <li>BBR vs CUBIC \uc131\ub2a5 \ube44\uad50 \uc790\ub3d9\ud654</li> <li>\uc2e4\uc2dc\uac04 \ub300\uc2dc\ubcf4\ub4dc (Grafana + Prometheus)</li> <li>\uc54c\ub78c \ubc0f \ub9ac\ud3ec\ud305 \uae30\ub2a5</li> </ol> <p>\uacc4\uc18d\ud574\uc11c \ud559\uc2b5\ud558\uace0 \uc2e4\uc2b5\ud558\uba74\uc11c \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud0b9 \uc804\ubb38\uac00\ub85c \uc131\uc7a5\ud558\uc138\uc694!</p>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/","title":"Ch2. API \uc124\uacc4","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>API(Application Programming Interface)\ub294 \ud604\ub300 \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\uc785\ub2c8\ub2e4. \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc544\ud0a4\ud14d\ucc98, \uc11c\ubc84\ub9ac\uc2a4 \ucef4\ud4e8\ud305, \uba40\ud2f0 \ud074\ub77c\uc6b0\ub4dc \ud658\uacbd\uc5d0\uc11c API\ub294 \uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0\uc758 \uc911\ucd94 \uc5ed\ud560\uc744 \ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, RESTful API\uac00 \uc5ec\uc804\ud788 \uac00\uc7a5 \ub110\ub9ac \uc0ac\uc6a9\ub418\ub294 \ud328\ud134\uc774\uc9c0\ub9cc, 61% \uc774\uc0c1\uc758 \uc870\uc9c1\uc774 GraphQL\uc744 \ud568\uaed8 \ud65c\uc6a9\ud558\uace0 \uc788\uc73c\uba70, gRPC\ub294 \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uac04 \ud1b5\uc2e0\uc5d0\uc11c \ucd5c\ub300 47% \ub354 \ub192\uc740 \ucc98\ub9ac\ub7c9\uc744 \ubcf4\uc5ec\uc8fc\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc774 \ucc55\ud130\uc5d0\uc11c\ub294 RESTful API \uc124\uacc4 \uc6d0\uce59, gRPC \uc131\ub2a5 \ucd5c\uc801\ud654, API Gateway \ud328\ud134, \uadf8\ub9ac\uace0 \ud6a8\uacfc\uc801\uc778 \ubc84\uc800\ub2dd \uc804\ub7b5\uae4c\uc9c0 \uc2e4\ubb34\uc5d0\uc11c \ubc14\ub85c \uc801\uc6a9\ud560 \uc218 \uc788\ub294 API \uc124\uacc4 \uc9c0\uc2dd\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>RESTful API \uc124\uacc4 Best Practices \uc801\uc6a9 \ubc0f OpenAPI 3.2 \ud65c\uc6a9</li> <li>gRPC\uc640 REST\uc758 \uc131\ub2a5 \ucc28\uc774 \uc774\ud574 \ubc0f \uc801\uc808\ud55c \uc120\ud0dd</li> <li>API Gateway (Kong, Envoy) \ud328\ud134 \uad6c\ud604 \ubc0f Rate Limiting \uc124\uc815</li> <li>Semantic Versioning\uc744 \ud65c\uc6a9\ud55c API \ubc84\uc804 \uad00\ub9ac</li> <li>\uce90\uc2f1, \uc555\ucd95, \ud398\uc774\uc9c0\ub124\uc774\uc158\uc744 \ud1b5\ud55c API \uc131\ub2a5 \ucd5c\uc801\ud654</li> <li>GraphQL\uc758 \uc7a5\ub2e8\uc810 \uc774\ud574 \ubc0f \ud558\uc774\ube0c\ub9ac\ub4dc \uc811\uadfc\ubc95 \uc801\uc6a9</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#part-1-restful-api","title":"Part 1: RESTful API \uc124\uacc4","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#1-1-rest","title":"1-1. REST \uc544\ud0a4\ud14d\ucc98 \uc6d0\uce59","text":"<p>REST (Representational State Transfer) 6\uac00\uc9c0 \uc81c\uc57d\uc870\uac74:</p> <pre><code>1. Client-Server \ubd84\ub9ac\n   \u251c\u2500 \ud074\ub77c\uc774\uc5b8\ud2b8\uc640 \uc11c\ubc84\uc758 \ub3c5\ub9bd\uc801\uc778 \ubc1c\uc804\n   \u2514\u2500 UI\uc640 \ube44\uc988\ub2c8\uc2a4 \ub85c\uc9c1 \ubd84\ub9ac\n\n2. Stateless (\ubb34\uc0c1\ud0dc\uc131)\n   \u251c\u2500 \uac01 \uc694\uccad\uc740 \ub3c5\ub9bd\uc801\n   \u251c\u2500 \uc11c\ubc84\ub294 \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0c1\ud0dc\ub97c \uc800\uc7a5\ud558\uc9c0 \uc54a\uc74c\n   \u2514\u2500 \ud655\uc7a5\uc131 \ud5a5\uc0c1\n\n3. Cacheable (\uce90\uc2dc \uac00\ub2a5)\n   \u251c\u2500 \uc751\ub2f5\uc740 \uce90\uc2dc \uac00\ub2a5 \uc5ec\ubd80\ub97c \uba85\uc2dc\n   \u251c\u2500 Cache-Control \ud5e4\ub354 \ud65c\uc6a9\n   \u2514\u2500 \uc131\ub2a5 \ubc0f \ud655\uc7a5\uc131 \uac1c\uc120\n\n4. Uniform Interface (\ud1b5\uc77c\ub41c \uc778\ud130\ud398\uc774\uc2a4)\n   \u251c\u2500 \ub9ac\uc18c\uc2a4 \uae30\ubc18 URL\n   \u251c\u2500 HTTP \uba54\uc11c\ub4dc \uc0ac\uc6a9 (GET, POST, PUT, DELETE)\n   \u251c\u2500 \ud45c\uc900 \uc0c1\ud0dc \ucf54\ub4dc\n   \u2514\u2500 HATEOAS (\uc120\ud0dd\uc801)\n\n5. Layered System (\uacc4\uce35\ud654 \uc2dc\uc2a4\ud15c)\n   \u251c\u2500 \ub85c\ub4dc \ubc38\ub7f0\uc11c, \uce90\uc2dc, API Gateway\n   \u2514\u2500 \ud074\ub77c\uc774\uc5b8\ud2b8\ub294 \uc911\uac04 \uacc4\uce35\uc744 \uc778\uc2dd\ud558\uc9c0 \ubabb\ud568\n\n6. Code on Demand (\uc120\ud0dd\uc801)\n   \u2514\u2500 \uc11c\ubc84\uac00 \ud074\ub77c\uc774\uc5b8\ud2b8 \ucf54\ub4dc\ub97c \uc804\uc1a1 \uac00\ub2a5\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#1-2-restful-api-best-practices-2025","title":"1-2. RESTful API \uc124\uacc4 Best Practices (2025)","text":"<p>\ub9ac\uc18c\uc2a4 \uba85\uba85 \uaddc\uce59:</p> <pre><code>\uc88b\uc740 \uc608:\nGET    /users              # \uc0ac\uc6a9\uc790 \ubaa9\ub85d\nGET    /users/123          # \ud2b9\uc815 \uc0ac\uc6a9\uc790\nPOST   /users              # \uc0ac\uc6a9\uc790 \uc0dd\uc131\nPUT    /users/123          # \uc0ac\uc6a9\uc790 \uc804\uccb4 \uc5c5\ub370\uc774\ud2b8\nPATCH  /users/123          # \uc0ac\uc6a9\uc790 \ubd80\ubd84 \uc5c5\ub370\uc774\ud2b8\nDELETE /users/123          # \uc0ac\uc6a9\uc790 \uc0ad\uc81c\nGET    /users/123/posts    # \uc0ac\uc6a9\uc790\uc758 \uac8c\uc2dc\uae00\n\n\ub098\uc05c \uc608:\nGET    /getUsers           # \ub3d9\uc0ac \uc0ac\uc6a9 X\nPOST   /createUser         # \ub3d9\uc0ac \uc0ac\uc6a9 X\nGET    /user?id=123        # \ub2e8\uc218\ud615 + \ucffc\ub9ac \ud30c\ub77c\ubbf8\ud130 X\nDELETE /deleteUserById/123 # \ubd88\ud544\uc694\ud558\uac8c \uae38\uace0 \ubcf5\uc7a1\n</code></pre> <p>HTTP \uba54\uc11c\ub4dc \uc0ac\uc6a9:</p> \uba54\uc11c\ub4dc \uc6a9\ub3c4 \uba71\ub4f1\uc131 \uc548\uc804\uc131 \ubc14\ub514 GET \ub9ac\uc18c\uc2a4 \uc870\ud68c O O X POST \ub9ac\uc18c\uc2a4 \uc0dd\uc131 X X O PUT \ub9ac\uc18c\uc2a4 \uc804\uccb4 \uc5c5\ub370\uc774\ud2b8 O X O PATCH \ub9ac\uc18c\uc2a4 \ubd80\ubd84 \uc5c5\ub370\uc774\ud2b8 X X O DELETE \ub9ac\uc18c\uc2a4 \uc0ad\uc81c O X X HEAD \uba54\ud0c0\ub370\uc774\ud130\ub9cc \uc870\ud68c O O X OPTIONS \uc9c0\uc6d0 \uba54\uc11c\ub4dc \ud655\uc778 O O X <p>HTTP \uc0c1\ud0dc \ucf54\ub4dc (2025 Best Practices):</p> <pre><code>\uc131\uacf5 \uc751\ub2f5 (2xx):\n200 OK               - \uc694\uccad \uc131\uacf5 (GET, PUT, PATCH)\n201 Created          - \ub9ac\uc18c\uc2a4 \uc0dd\uc131 \uc131\uacf5 (POST)\n202 Accepted         - \ube44\ub3d9\uae30 \ucc98\ub9ac \uc2dc\uc791\n204 No Content       - \uc131\uacf5\ud588\uc9c0\ub9cc \ubc18\ud658 \ub370\uc774\ud130 \uc5c6\uc74c (DELETE)\n\n\ub9ac\ub2e4\uc774\ub809\uc158 (3xx):\n301 Moved Permanently - \ub9ac\uc18c\uc2a4 \uc601\uad6c \uc774\ub3d9\n304 Not Modified     - \uce90\uc2dc\ub41c \ubc84\uc804 \uc0ac\uc6a9\n\n\ud074\ub77c\uc774\uc5b8\ud2b8 \uc5d0\ub7ec (4xx):\n400 Bad Request      - \uc798\ubabb\ub41c \uc694\uccad \ud615\uc2dd\n401 Unauthorized     - \uc778\uc99d \ud544\uc694\n403 Forbidden        - \uad8c\ud55c \uc5c6\uc74c\n404 Not Found        - \ub9ac\uc18c\uc2a4 \uc5c6\uc74c\n409 Conflict         - \ub9ac\uc18c\uc2a4 \ucda9\ub3cc (\uc911\ubcf5 \uc0dd\uc131 \ub4f1)\n422 Unprocessable Entity - \uc720\ud6a8\uc131 \uac80\uc0ac \uc2e4\ud328\n429 Too Many Requests - Rate Limit \ucd08\uacfc\n\n\uc11c\ubc84 \uc5d0\ub7ec (5xx):\n500 Internal Server Error - \uc11c\ubc84 \uc624\ub958\n502 Bad Gateway      - \uac8c\uc774\ud2b8\uc6e8\uc774 \uc624\ub958\n503 Service Unavailable - \uc11c\ube44\uc2a4 \uc77c\uc2dc \uc911\ub2e8\n504 Gateway Timeout  - \uac8c\uc774\ud2b8\uc6e8\uc774 \ud0c0\uc784\uc544\uc6c3\n</code></pre> <p>\ud398\uc774\uc9c0\ub124\uc774\uc158 (2025 \ud328\ud134):</p> <pre><code>// Offset-based Pagination (\uc804\ud1b5\uc801)\nGET /users?page=2&amp;limit=20\n\nResponse:\n{\n  \"data\": [ /* 20 users */ ],\n  \"pagination\": {\n    \"page\": 2,\n    \"limit\": 20,\n    \"total\": 1000,\n    \"totalPages\": 50\n  }\n}\n\n// Cursor-based Pagination (\ub300\uaddc\ubaa8 \ub370\uc774\ud130\uc14b, 2025 \uad8c\uc7a5)\nGET /users?cursor=eyJpZCI6MTIzfQ==&amp;limit=20\n\nResponse:\n{\n  \"data\": [ /* 20 users */ ],\n  \"pagination\": {\n    \"nextCursor\": \"eyJpZCI6MTQzfQ==\",\n    \"hasMore\": true\n  }\n}\n\n\uc7a5\uc810:\n- Deep pagination \uc131\ub2a5 \ubb38\uc81c \ud574\uacb0\n- \uc2e4\uc2dc\uac04 \ub370\uc774\ud130 \uc77c\uad00\uc131\n- \ubb34\ud55c \uc2a4\ud06c\ub864\uc5d0 \uc801\ud569\n</code></pre> <p>\ud544\ud130\ub9c1 \ubc0f \uc815\ub82c:</p> <pre><code>\ud544\ud130\ub9c1:\nGET /users?status=active&amp;role=admin\nGET /products?category=electronics&amp;price_min=100&amp;price_max=500\n\n\uc815\ub82c:\nGET /users?sort=created_at:desc\nGET /products?sort=price:asc,name:asc\n\n\ud544\ub4dc \uc120\ud0dd (Sparse Fieldsets):\nGET /users?fields=id,name,email\n</code></pre> <p>\uc5d0\ub7ec \uc751\ub2f5 \ud45c\uc900\ud654 (RFC 7807 - Problem Details):</p> <pre><code>{\n  \"type\": \"https://api.example.com/errors/validation-error\",\n  \"title\": \"Validation Error\",\n  \"status\": 422,\n  \"detail\": \"The email field is required and must be a valid email address\",\n  \"instance\": \"/users\",\n  \"errors\": [\n    {\n      \"field\": \"email\",\n      \"message\": \"must be a valid email address\",\n      \"code\": \"INVALID_EMAIL\"\n    }\n  ],\n  \"traceId\": \"a1b2c3d4-e5f6-7890-abcd-ef1234567890\"\n}\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#1-3-openapi-32-specification-2025","title":"1-3. OpenAPI 3.2 Specification (2025)","text":"<p>OpenAPI\ub780?</p> <p>OpenAPI\ub294 RESTful API\ub97c \uae30\uc220\ud558\ub294 \ud45c\uc900 \uc2a4\ud399\uc785\ub2c8\ub2e4. 2025\ub144 \ud604\uc7ac OpenAPI 3.2\uac00 \uc9c0\ubc30\uc801\uc778 \ud45c\uc900\uc774\uba70, \ub2e4\uc74c\uc744 \uac1c\uc120\ud588\uc2b5\ub2c8\ub2e4:</p> <ul> <li>\ud5a5\uc0c1\ub41c \uc6f9\ud6c5 \uc9c0\uc6d0</li> <li>\uac1c\uc120\ub41c \ubcf4\uc548 \uc2a4\ud0a4\ub9c8</li> <li>API Gateway \ud1b5\ud569 \uac1c\uc120</li> <li>JSON Schema 2020-12 \ud638\ud658\uc131</li> </ul> <p>OpenAPI \uc608\uc81c:</p> <pre><code>openapi: 3.2.0\ninfo:\n  title: User Management API\n  version: 1.0.0\n  description: API for managing users\n  contact:\n    name: API Support\n    email: support@example.com\n  license:\n    name: MIT\n\nservers:\n  - url: https://api.example.com/v1\n    description: Production server\n  - url: https://staging-api.example.com/v1\n    description: Staging server\n\nsecurity:\n  - bearerAuth: []\n\npaths:\n  /users:\n    get:\n      summary: List all users\n      description: Returns a paginated list of users\n      tags:\n        - Users\n      parameters:\n        - name: page\n          in: query\n          schema:\n            type: integer\n            default: 1\n        - name: limit\n          in: query\n          schema:\n            type: integer\n            default: 20\n            maximum: 100\n        - name: status\n          in: query\n          schema:\n            type: string\n            enum: [active, inactive, suspended]\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  data:\n                    type: array\n                    items:\n                      $ref: '#/components/schemas/User'\n                  pagination:\n                    $ref: '#/components/schemas/Pagination'\n        '401':\n          $ref: '#/components/responses/UnauthorizedError'\n\n    post:\n      summary: Create a new user\n      tags:\n        - Users\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/CreateUserRequest'\n      responses:\n        '201':\n          description: User created successfully\n          headers:\n            Location:\n              schema:\n                type: string\n              description: URL of the created user\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        '422':\n          $ref: '#/components/responses/ValidationError'\n\n  /users/{userId}:\n    get:\n      summary: Get user by ID\n      tags:\n        - Users\n      parameters:\n        - name: userId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n        '404':\n          $ref: '#/components/responses/NotFoundError'\n\n    put:\n      summary: Update user\n      tags:\n        - Users\n      parameters:\n        - name: userId\n          in: path\n          required: true\n          schema:\n            type: integer\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              $ref: '#/components/schemas/UpdateUserRequest'\n      responses:\n        '200':\n          description: User updated successfully\n          content:\n            application/json:\n              schema:\n                $ref: '#/components/schemas/User'\n\n    delete:\n      summary: Delete user\n      tags:\n        - Users\n      parameters:\n        - name: userId\n          in: path\n          required: true\n          schema:\n            type: integer\n      responses:\n        '204':\n          description: User deleted successfully\n\ncomponents:\n  schemas:\n    User:\n      type: object\n      properties:\n        id:\n          type: integer\n          readOnly: true\n        email:\n          type: string\n          format: email\n        name:\n          type: string\n        status:\n          type: string\n          enum: [active, inactive, suspended]\n        createdAt:\n          type: string\n          format: date-time\n          readOnly: true\n        updatedAt:\n          type: string\n          format: date-time\n          readOnly: true\n\n    CreateUserRequest:\n      type: object\n      required:\n        - email\n        - name\n      properties:\n        email:\n          type: string\n          format: email\n        name:\n          type: string\n          minLength: 2\n          maxLength: 100\n        password:\n          type: string\n          format: password\n          minLength: 8\n\n    UpdateUserRequest:\n      type: object\n      properties:\n        name:\n          type: string\n        status:\n          type: string\n          enum: [active, inactive, suspended]\n\n    Pagination:\n      type: object\n      properties:\n        page:\n          type: integer\n        limit:\n          type: integer\n        total:\n          type: integer\n        totalPages:\n          type: integer\n\n    Error:\n      type: object\n      properties:\n        type:\n          type: string\n        title:\n          type: string\n        status:\n          type: integer\n        detail:\n          type: string\n        instance:\n          type: string\n        traceId:\n          type: string\n\n  responses:\n    UnauthorizedError:\n      description: Authentication required\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Error'\n\n    NotFoundError:\n      description: Resource not found\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Error'\n\n    ValidationError:\n      description: Validation failed\n      content:\n        application/json:\n          schema:\n            $ref: '#/components/schemas/Error'\n\n  securitySchemes:\n    bearerAuth:\n      type: http\n      scheme: bearer\n      bearerFormat: JWT\n</code></pre> <p>OpenAPI \ub3c4\uad6c (2025):</p> <ul> <li>Swagger UI: \uc778\ud130\ub799\ud2f0\ube0c API \ubb38\uc11c</li> <li>Redoc: \uae54\ub054\ud55c \ubb38\uc11c \uc0dd\uc131</li> <li>Postman: API \ud14c\uc2a4\ud2b8 \ubc0f \ubb38\uc11c\ud654</li> <li>OpenAPI Generator: \ud074\ub77c\uc774\uc5b8\ud2b8/\uc11c\ubc84 \ucf54\ub4dc \uc0dd\uc131</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#part-2-grpc-vs-rest","title":"Part 2: gRPC vs REST \uc131\ub2a5 \ube44\uad50","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#2-1-grpc","title":"2-1. gRPC \uac1c\uc694","text":"<p>gRPC (Google Remote Procedure Call):</p> <ul> <li>Google\uc774 \uac1c\ubc1c\ud55c \uace0\uc131\ub2a5 RPC \ud504\ub808\uc784\uc6cc\ud06c</li> <li>HTTP/2 \uae30\ubc18</li> <li>Protocol Buffers (Protobuf) \uc9c1\ub82c\ud654</li> <li>4\uac00\uc9c0 \ud1b5\uc2e0 \ud328\ud134 \uc9c0\uc6d0:</li> <li>Unary (\ub2e8\uc77c \uc694\uccad-\uc751\ub2f5)</li> <li>Server Streaming</li> <li>Client Streaming</li> <li>Bidirectional Streaming</li> </ul> <p>gRPC \uc544\ud0a4\ud14d\ucc98:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   Client Application                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502         Generated Stub (from .proto)                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              gRPC Client Library                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  HTTP/2 Transport                            \u2502  \u2502\n\u2502  \u2502  - Multiplexing (\ub2e4\uc911\ud654)                      \u2502  \u2502\n\u2502  \u2502  - Header Compression (\ud5e4\ub354 \uc555\ucd95)            \u2502  \u2502\n\u2502  \u2502  - Flow Control (\ud750\ub984 \uc81c\uc5b4)                  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n                      \u2502 Protobuf Binary\n                      \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              gRPC Server Library                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502    Generated Server Code (from .proto)              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                Server Application                    \u2502\n\u2502         (Business Logic Implementation)             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#2-2-2025","title":"2-2. 2025 \uc131\ub2a5 \ubca4\uce58\ub9c8\ud06c","text":"<p>gRPC vs REST \uc131\ub2a5 \ube44\uad50 (\ucd5c\uc2e0 \uc5f0\uad6c):</p> <pre><code>\ucc98\ub9ac\ub7c9 (Requests/Second):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 gRPC:      4,700 req/s    (\uae30\uc900)     \u2502\n\u2502 REST/HTTP2: 3,200 req/s   (-47%)    \u2502\n\u2502 REST/HTTP1: 1,900 req/s   (-60%)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc751\ub2f5 \uc2dc\uac04:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 gRPC \ub2e8\uc21c CRUD:     12ms             \u2502\n\u2502 REST \ub2e8\uc21c CRUD:     22ms (+45%)      \u2502\n\u2502                                      \u2502\n\u2502 gRPC \ubcf5\uc7a1 \ucffc\ub9ac:     45ms             \u2502\n\u2502 REST \ubcf5\uc7a1 \ucffc\ub9ac:     80ms (+44%)      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ub3d9\uc2dc \ucc98\ub9ac \ub2a5\ub825:\ngRPC\ub294 REST \ub300\ube44 2-3\ubc30 \ub354 \ub9ce\uc740 \ub3d9\uc2dc \uc694\uccad \ucc98\ub9ac\n\n\uba54\ubaa8\ub9ac \uc0ac\uc6a9\ub7c9:\ngRPC\uac00 REST/HTTP2 \ub300\ube44 20% \ub0ae\uc74c\n\n\ud398\uc774\ub85c\ub4dc \ud06c\uae30:\nProtobuf\ub294 JSON \ub300\ube44 5-10\ubc30 \uc791\uc74c\n</code></pre> <p>\ud559\uc220\uc801 \ubca4\uce58\ub9c8\ud06c (2025):</p> <p>\ucd5c\ub300 \ucc98\ub9ac\ub7c9 \ud14c\uc2a4\ud2b8\uc5d0\uc11c gRPC\ub294 \uc57d 8,700 req/s\ub97c \ucc98\ub9ac\ud588\uc73c\uba70, \uc774\ub294 JSON/HTTP REST\uc758 \uc57d 2.5\ubc30\uc785\ub2c8\ub2e4.</p> <p>\ud398\uc774\ub85c\ub4dc \ud06c\uae30\uc5d0 \ub530\ub978 \uc131\ub2a5 \ucc28\uc774:</p> <pre><code>\uc791\uc740 \ud398\uc774\ub85c\ub4dc (&lt; 1KB):\n- gRPC: \ud3c9\uade0 5ms\n- REST: \ud3c9\uade0 8ms\n- \ucc28\uc774: 37%\n\n\uc911\uac04 \ud398\uc774\ub85c\ub4dc (1-10KB):\n- gRPC: \ud3c9\uade0 15ms\n- REST: \ud3c9\uade0 30ms\n- \ucc28\uc774: 50%\n\n\ud070 \ud398\uc774\ub85c\ub4dc (&gt; 10KB):\n- gRPC: \ud3c9\uade0 45ms\n- REST: \ud3c9\uade0 120ms\n- \ucc28\uc774: 63%\n\n\uacb0\ub860: \ud398\uc774\ub85c\ub4dc\uac00 \ud074\uc218\ub85d gRPC\uc758 \uc774\uc810\uc774 \ucee4\uc9d0\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#2-3-protocol-buffers-vs-json","title":"2-3. Protocol Buffers vs JSON","text":"<p>Protobuf \uc815\uc758 \uc608\uc81c:</p> <pre><code>// user.proto\nsyntax = \"proto3\";\n\npackage user;\n\n// \uba54\uc2dc\uc9c0 \uc815\uc758\nmessage User {\n  int32 id = 1;\n  string email = 2;\n  string name = 3;\n  UserStatus status = 4;\n  google.protobuf.Timestamp created_at = 5;\n}\n\nenum UserStatus {\n  UNKNOWN = 0;\n  ACTIVE = 1;\n  INACTIVE = 2;\n  SUSPENDED = 3;\n}\n\n// \uc11c\ube44\uc2a4 \uc815\uc758\nservice UserService {\n  // Unary RPC\n  rpc GetUser(GetUserRequest) returns (User);\n\n  // Server Streaming\n  rpc ListUsers(ListUsersRequest) returns (stream User);\n\n  // Client Streaming\n  rpc CreateUsers(stream CreateUserRequest) returns (CreateUsersResponse);\n\n  // Bidirectional Streaming\n  rpc SyncUsers(stream User) returns (stream SyncResponse);\n}\n\nmessage GetUserRequest {\n  int32 id = 1;\n}\n\nmessage ListUsersRequest {\n  int32 page = 1;\n  int32 limit = 2;\n  UserStatus status = 3;\n}\n\nmessage CreateUserRequest {\n  string email = 1;\n  string name = 2;\n  string password = 3;\n}\n\nmessage CreateUsersResponse {\n  int32 count = 1;\n  repeated int32 ids = 2;\n}\n\nmessage SyncResponse {\n  bool success = 1;\n  string message = 2;\n}\n</code></pre> <p>\ud06c\uae30 \ube44\uad50:</p> <pre><code>\ub3d9\uc77c\ud55c User \uac1d\uccb4:\n\nJSON (169 bytes):\n{\n  \"id\": 12345,\n  \"email\": \"user@example.com\",\n  \"name\": \"John Doe\",\n  \"status\": \"ACTIVE\",\n  \"created_at\": \"2025-01-15T10:30:00Z\"\n}\n\nProtobuf (\uc57d 30-40 bytes):\nBinary encoding, \uc57d 75-80% \uc791\uc74c\n\ngzip \uc555\ucd95 \ud6c4:\n- JSON: \uc57d 90 bytes\n- Protobuf: \uc57d 25 bytes\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#2-4-grpc-go","title":"2-4. gRPC \uc11c\ubc84 \uad6c\ud604 (Go \uc608\uc81c)","text":"<pre><code>// server.go\npackage main\n\nimport (\n    \"context\"\n    \"log\"\n    \"net\"\n    \"time\"\n\n    \"google.golang.org/grpc\"\n    \"google.golang.org/grpc/codes\"\n    \"google.golang.org/grpc/status\"\n    pb \"example.com/user/proto\"\n)\n\ntype userServer struct {\n    pb.UnimplementedUserServiceServer\n    users map[int32]*pb.User\n}\n\nfunc newServer() *userServer {\n    return &amp;userServer{\n        users: make(map[int32]*pb.User),\n    }\n}\n\n// Unary RPC\nfunc (s *userServer) GetUser(ctx context.Context, req *pb.GetUserRequest) (*pb.User, error) {\n    log.Printf(\"GetUser called with ID: %d\", req.Id)\n\n    user, exists := s.users[req.Id]\n    if !exists {\n        return nil, status.Errorf(codes.NotFound, \"user not found: %d\", req.Id)\n    }\n\n    return user, nil\n}\n\n// Server Streaming RPC\nfunc (s *userServer) ListUsers(req *pb.ListUsersRequest, stream pb.UserService_ListUsersServer) error {\n    log.Printf(\"ListUsers called with page=%d, limit=%d\", req.Page, req.Limit)\n\n    count := 0\n    for _, user := range s.users {\n        // \ud544\ud130\ub9c1\n        if req.Status != pb.UserStatus_UNKNOWN &amp;&amp; user.Status != req.Status {\n            continue\n        }\n\n        // \uc2a4\ud2b8\ub9ac\ubc0d \uc804\uc1a1\n        if err := stream.Send(user); err != nil {\n            return err\n        }\n\n        count++\n        if count &gt;= int(req.Limit) {\n            break\n        }\n\n        // \uc2dc\ubbac\ub808\uc774\uc158: \uc2e4\uc2dc\uac04 \uc2a4\ud2b8\ub9ac\ubc0d\n        time.Sleep(100 * time.Millisecond)\n    }\n\n    return nil\n}\n\n// Client Streaming RPC\nfunc (s *userServer) CreateUsers(stream pb.UserService_CreateUsersServer) error {\n    log.Println(\"CreateUsers called (client streaming)\")\n\n    var ids []int32\n    count := int32(0)\n\n    for {\n        req, err := stream.Recv()\n        if err == io.EOF {\n            // \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc804\uc1a1 \uc644\ub8cc\n            return stream.SendAndClose(&amp;pb.CreateUsersResponse{\n                Count: count,\n                Ids:   ids,\n            })\n        }\n        if err != nil {\n            return err\n        }\n\n        // \uc0ac\uc6a9\uc790 \uc0dd\uc131\n        id := int32(len(s.users) + 1)\n        user := &amp;pb.User{\n            Id:    id,\n            Email: req.Email,\n            Name:  req.Name,\n            Status: pb.UserStatus_ACTIVE,\n        }\n\n        s.users[id] = user\n        ids = append(ids, id)\n        count++\n\n        log.Printf(\"Created user: %s (%d)\", user.Name, id)\n    }\n}\n\n// Bidirectional Streaming RPC\nfunc (s *userServer) SyncUsers(stream pb.UserService_SyncUsersServer) error {\n    log.Println(\"SyncUsers called (bidirectional streaming)\")\n\n    for {\n        user, err := stream.Recv()\n        if err == io.EOF {\n            return nil\n        }\n        if err != nil {\n            return err\n        }\n\n        // \uc0ac\uc6a9\uc790 \ub3d9\uae30\ud654\n        s.users[user.Id] = user\n\n        // \uc989\uc2dc \uc751\ub2f5\n        resp := &amp;pb.SyncResponse{\n            Success: true,\n            Message: fmt.Sprintf(\"Synced user %d\", user.Id),\n        }\n\n        if err := stream.Send(resp); err != nil {\n            return err\n        }\n    }\n}\n\nfunc main() {\n    lis, err := net.Listen(\"tcp\", \":50051\")\n    if err != nil {\n        log.Fatalf(\"failed to listen: %v\", err)\n    }\n\n    // gRPC \uc11c\ubc84 \uc0dd\uc131\n    s := grpc.NewServer(\n        grpc.MaxRecvMsgSize(10 * 1024 * 1024), // 10MB\n        grpc.MaxSendMsgSize(10 * 1024 * 1024),\n    )\n\n    pb.RegisterUserServiceServer(s, newServer())\n\n    log.Println(\"gRPC server listening on :50051\")\n    if err := s.Serve(lis); err != nil {\n        log.Fatalf(\"failed to serve: %v\", err)\n    }\n}\n</code></pre> <p>gRPC \ud074\ub77c\uc774\uc5b8\ud2b8 \uad6c\ud604:</p> <pre><code>// client.go\npackage main\n\nimport (\n    \"context\"\n    \"io\"\n    \"log\"\n    \"time\"\n\n    \"google.golang.org/grpc\"\n    \"google.golang.org/grpc/credentials/insecure\"\n    pb \"example.com/user/proto\"\n)\n\nfunc main() {\n    // \uc11c\ubc84 \uc5f0\uacb0\n    conn, err := grpc.Dial(\"localhost:50051\",\n        grpc.WithTransportCredentials(insecure.NewCredentials()),\n    )\n    if err != nil {\n        log.Fatalf(\"did not connect: %v\", err)\n    }\n    defer conn.Close()\n\n    client := pb.NewUserServiceClient(conn)\n    ctx := context.Background()\n\n    // 1. Unary RPC\n    log.Println(\"=== Unary RPC ===\")\n    user, err := client.GetUser(ctx, &amp;pb.GetUserRequest{Id: 1})\n    if err != nil {\n        log.Printf(\"GetUser failed: %v\", err)\n    } else {\n        log.Printf(\"Got user: %+v\", user)\n    }\n\n    // 2. Server Streaming RPC\n    log.Println(\"\\n=== Server Streaming RPC ===\")\n    stream, err := client.ListUsers(ctx, &amp;pb.ListUsersRequest{\n        Page:   1,\n        Limit:  10,\n        Status: pb.UserStatus_ACTIVE,\n    })\n    if err != nil {\n        log.Fatalf(\"ListUsers failed: %v\", err)\n    }\n\n    for {\n        user, err := stream.Recv()\n        if err == io.EOF {\n            break\n        }\n        if err != nil {\n            log.Fatalf(\"stream error: %v\", err)\n        }\n        log.Printf(\"Received user: %s\", user.Name)\n    }\n\n    // 3. Client Streaming RPC\n    log.Println(\"\\n=== Client Streaming RPC ===\")\n    createStream, err := client.CreateUsers(ctx)\n    if err != nil {\n        log.Fatalf(\"CreateUsers failed: %v\", err)\n    }\n\n    users := []struct {\n        email string\n        name  string\n    }{\n        {\"alice@example.com\", \"Alice\"},\n        {\"bob@example.com\", \"Bob\"},\n        {\"carol@example.com\", \"Carol\"},\n    }\n\n    for _, u := range users {\n        req := &amp;pb.CreateUserRequest{\n            Email: u.email,\n            Name:  u.name,\n        }\n        if err := createStream.Send(req); err != nil {\n            log.Fatalf(\"send error: %v\", err)\n        }\n        log.Printf(\"Sent user: %s\", u.name)\n        time.Sleep(500 * time.Millisecond)\n    }\n\n    resp, err := createStream.CloseAndRecv()\n    if err != nil {\n        log.Fatalf(\"CloseAndRecv error: %v\", err)\n    }\n    log.Printf(\"Created %d users: %v\", resp.Count, resp.Ids)\n}\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#2-5-rest-vs-grpc","title":"2-5. REST vs gRPC \uc120\ud0dd \uac00\uc774\ub4dc","text":"<p>REST\ub97c \uc120\ud0dd\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:</p> <ul> <li>\uacf5\uac1c API (Public API)</li> <li>\ube0c\ub77c\uc6b0\uc800 \ud074\ub77c\uc774\uc5b8\ud2b8</li> <li>\uac04\ub2e8\ud55c CRUD \uc791\uc5c5</li> <li>\uce90\uc2f1\uc774 \uc911\uc694\ud55c \uacbd\uc6b0</li> <li>\uae30\uc874 \uc778\ud504\ub77c (HTTP/1.1)\uc640\uc758 \ud638\ud658\uc131</li> </ul> <p>gRPC\ub97c \uc120\ud0dd\ud574\uc57c \ud558\ub294 \uacbd\uc6b0:</p> <ul> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uac04 \ub0b4\ubd80 \ud1b5\uc2e0</li> <li>\uc2e4\uc2dc\uac04 \uc591\ubc29\ud5a5 \uc2a4\ud2b8\ub9ac\ubc0d \ud544\uc694</li> <li>\ub192\uc740 \ucc98\ub9ac\ub7c9 \ubc0f \ub0ae\uc740 \uc9c0\uc5f0\uc2dc\uac04 \uc694\uad6c</li> <li>\ud070 \ub370\uc774\ud130 \uc804\uc1a1 (Protobuf \ud6a8\uc728\uc131)</li> <li>Polyglot \ud658\uacbd (\ub2e4\uc591\ud55c \uc5b8\uc5b4 \uc9c0\uc6d0)</li> </ul> <p>\ud558\uc774\ube0c\ub9ac\ub4dc \uc811\uadfc\ubc95 (2025 \ud2b8\ub80c\ub4dc):</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Public Clients                 \u2502\n\u2502   (Web, Mobile, 3rd Party)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 REST/HTTP\n               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        API Gateway                  \u2502\n\u2502    (REST \u2192 gRPC \ubcc0\ud658)                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502 gRPC\n               \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Microservices                  \u2502\n\u2502  (Service A \u2190gRPC\u2192 Service B)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n- \uc678\ubd80\uc5d0\ub294 REST\uc758 \ub2e8\uc21c\uc131\n- \ub0b4\ubd80\uc5d0\ub294 gRPC\uc758 \uc131\ub2a5\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#part-3-api-gateway","title":"Part 3: API Gateway \ud328\ud134","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#3-1-api-gateway","title":"3-1. API Gateway \uac1c\uc694","text":"<p>API Gateway\uc758 \uc5ed\ud560:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            API Gateway                       \u2502\n\u2502                                              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502 Request Routing (\uc694\uccad \ub77c\uc6b0\ud305)           \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Authentication (\uc778\uc99d)                   \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Authorization (\uc778\uac00)                    \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Rate Limiting (\uc18d\ub3c4 \uc81c\ud55c)               \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Request/Response Transformation         \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Protocol Translation (REST\u2194gRPC)        \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Load Balancing (\ub85c\ub4dc \ubc38\ub7f0\uc2f1)            \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Caching (\uce90\uc2f1)                          \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Logging &amp; Monitoring                   \u2502 \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 \u2502\n\u2502  \u2502 Circuit Breaking (\uc11c\ud0b7 \ube0c\ub808\uc774\ucee4)        \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#3-2-kong-gateway-2025","title":"3-2. Kong Gateway (2025)","text":"<p>Kong \uc544\ud0a4\ud14d\ucc98:</p> <pre><code>Client Request\n      \u2502\n      \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Kong Gateway                 \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Request Phase                \u2502  \u2502\n\u2502  \u2502  - Routing                    \u2502  \u2502\n\u2502  \u2502  - Plugins (Authentication)   \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Upstream                     \u2502  \u2502\n\u2502  \u2502  - Load Balancing             \u2502  \u2502\n\u2502  \u2502  - Health Checks              \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Response Phase               \u2502  \u2502\n\u2502  \u2502  - Plugins (Rate Limiting)    \u2502  \u2502\n\u2502  \u2502  - Transformation             \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n      \u2502\n      \u25bc\nUpstream Services\n</code></pre> <p>Kong Rate Limiting \uc124\uc815 (2025):</p> <pre><code># Kong Gateway \uc124\uce58 (Kubernetes)\nkubectl create namespace kong\nhelm repo add kong https://charts.konghq.com\nhelm install kong kong/kong -n kong\n\n# Service \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/services \\\n  --data name=user-service \\\n  --data url='http://user-service:8080'\n\n# Route \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/services/user-service/routes \\\n  --data 'paths[]=/users' \\\n  --data name=user-route\n\n# Rate Limiting \ud50c\ub7ec\uadf8\uc778 \ud65c\uc131\ud654 (Token Bucket \uc54c\uace0\ub9ac\uc998)\ncurl -i -X POST http://localhost:8001/services/user-service/plugins \\\n  --data name=rate-limiting \\\n  --data config.minute=5000 \\\n  --data config.policy=redis \\\n  --data config.redis_host=redis \\\n  --data config.redis_port=6379\n\n# Response Rate Limiting (\ucd9c\ub825 \ub300\uc5ed\ud3ed \uc81c\ud55c)\ncurl -i -X POST http://localhost:8001/services/user-service/plugins \\\n  --data name=response-ratelimiting \\\n  --data config.limits.sms.minute=20\n\n# Key Auth \ud50c\ub7ec\uadf8\uc778\ncurl -i -X POST http://localhost:8001/services/user-service/plugins \\\n  --data name=key-auth\n\n# Consumer \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/consumers \\\n  --data username=mobile-app\n\n# API Key \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/consumers/mobile-app/key-auth \\\n  --data key=secret-api-key-12345\n</code></pre> <p>Kong \ud50c\ub7ec\uadf8\uc778 \uccb4\uc778 (2025 \uc2e4\ubb34 \uc0ac\ub840):</p> <pre><code># kong-plugins.yaml\napiVersion: configuration.konghq.com/v1\nkind: KongPlugin\nmetadata:\n  name: rate-limit-by-device\nplugin: rate-limiting\nconfig:\n  minute: 5000\n  policy: redis\n  redis_host: redis\n  redis_port: 6379\n  limit_by: consumer\n---\napiVersion: configuration.konghq.com/v1\nkind: KongPlugin\nmetadata:\n  name: request-transformer\nplugin: request-transformer\nconfig:\n  add:\n    headers:\n      - \"X-Gateway:Kong\"\n      - \"X-Request-ID:$(uuid)\"\n---\napiVersion: configuration.konghq.com/v1\nkind: KongPlugin\nmetadata:\n  name: correlation-id\nplugin: correlation-id\nconfig:\n  header_name: X-Request-ID\n  generator: uuid\n---\napiVersion: configuration.konghq.com/v1\nkind: KongIngress\nmetadata:\n  name: user-service-ingress\nroute:\n  plugins:\n    - rate-limit-by-device\n    - correlation-id\n    - request-transformer\n</code></pre> <p>2025 \uc2e4\ubb34 \uc0ac\ub840: Agora Systems</p> <p>Q1 2025\uc5d0 Agora Systems\ub294 Kong\uc744 Kubernetes\uc758 \uc911\uc559 API Gateway\ub85c \ucc44\ud0dd\ud588\uc2b5\ub2c8\ub2e4:</p> <ul> <li>50\uac1c \uc774\uc0c1\uc758 \ub77c\uc6b0\ud2b8 \uc124\uc815</li> <li>\uac00\uc911\uce58 \uae30\ubc18 \ub77c\uc6b4\ub4dc \ub85c\ube48 \ub85c\ub4dc \ubc38\ub7f0\uc2f1</li> <li>Device ID\ub2f9 5000 RPS Rate Limiting (Token Bucket)</li> <li>\uacb0\uacfc: \ubb34\ud6a8 \uc694\uccad 85% \uac10\uc18c</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#3-3-envoy-gateway-2025","title":"3-3. Envoy Gateway (2025)","text":"<p>Envoy \ud2b9\uc9d5:</p> <ul> <li>C++\ub85c \uc791\uc131\ub41c \uace0\uc131\ub2a5 \ud504\ub85d\uc2dc</li> <li>Service Mesh (Istio, Linkerd)\uc758 \ub370\uc774\ud130 \ud50c\ub808\uc778</li> <li>L3/L4 + L7 \ud504\ub85c\ud1a0\ucf5c \uc9c0\uc6d0</li> <li>\ub3d9\uc801 \uc124\uc815 (xDS API)</li> </ul> <p>Envoy Local Rate Limiting:</p> <pre><code># envoy-ratelimit.yaml\napiVersion: gateway.envoyproxy.io/v1alpha1\nkind: BackendTrafficPolicy\nmetadata:\n  name: rate-limit-policy\nspec:\n  targetRef:\n    group: gateway.networking.k8s.io\n    kind: HTTPRoute\n    name: user-route\n  rateLimit:\n    type: Local\n    local:\n      rules:\n        - clientSelectors:\n          - headers:\n            - name: x-user-id\n              type: Distinct\n          limit:\n            requests: 100\n            unit: Minute\n        - limit:\n            requests: 1000\n            unit: Second\n</code></pre> <p>Envoy Global Rate Limiting (Redis \ubc31\uc5d4\ub4dc):</p> <pre><code>apiVersion: gateway.envoyproxy.io/v1alpha1\nkind: BackendTrafficPolicy\nmetadata:\n  name: global-rate-limit\nspec:\n  targetRef:\n    group: gateway.networking.k8s.io\n    kind: Gateway\n    name: api-gateway\n  rateLimit:\n    type: Global\n    global:\n      rules:\n        - clientSelectors:\n          - headers:\n            - name: x-api-key\n              type: Distinct\n          limit:\n            requests: 10000\n            unit: Hour\n</code></pre> <p>Envoy vs Kong \ube44\uad50 (2025):</p> \ud2b9\uc131 Kong Envoy Gateway \uc131\ub2a5 \ub192\uc74c \ub9e4\uc6b0 \ub192\uc74c (C++) \ud50c\ub7ec\uadf8\uc778 50+ \uacf5\uc2dd \ud50c\ub7ec\uadf8\uc778 \uc81c\ud55c\uc801 (xDS \uae30\ubc18) \uc124\uc815 \ubcf5\uc7a1\ub3c4 \ub0ae\uc74c \ub192\uc74c Service Mesh \uc81c\ud55c\uc801 \ub124\uc774\ud2f0\ube0c (Istio) Kubernetes \ud1b5\ud569 \uc6b0\uc218 \ub9e4\uc6b0 \uc6b0\uc218 \uc624\ud508\uc18c\uc2a4 Yes (Kong OSS) Yes \uc0c1\uc6a9 \uc9c0\uc6d0 Kong Enterprise Envoy Proxy (CNCF)"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#3-4-rate-limiting","title":"3-4. Rate Limiting \uc54c\uace0\ub9ac\uc998","text":"<p>Token Bucket (\uac00\uc7a5 \ub110\ub9ac \uc0ac\uc6a9):</p> <pre><code>import time\nfrom threading import Lock\n\nclass TokenBucket:\n    def __init__(self, capacity, refill_rate):\n        \"\"\"\n        capacity: \ubc84\ud0b7 \ucd5c\ub300 \uc6a9\ub7c9 (\ud1a0\ud070 \uc218)\n        refill_rate: \ucd08\ub2f9 \ucd94\uac00\ub418\ub294 \ud1a0\ud070 \uc218\n        \"\"\"\n        self.capacity = capacity\n        self.tokens = capacity\n        self.refill_rate = refill_rate\n        self.last_refill = time.time()\n        self.lock = Lock()\n\n    def consume(self, tokens=1):\n        \"\"\"\ud1a0\ud070 \uc18c\ube44 \uc2dc\ub3c4\"\"\"\n        with self.lock:\n            # \ud1a0\ud070 \ub9ac\ud544\n            now = time.time()\n            elapsed = now - self.last_refill\n            refill = elapsed * self.refill_rate\n\n            self.tokens = min(self.capacity, self.tokens + refill)\n            self.last_refill = now\n\n            # \ud1a0\ud070 \uc18c\ube44\n            if self.tokens &gt;= tokens:\n                self.tokens -= tokens\n                return True\n            else:\n                return False\n\n# \uc0ac\uc6a9 \uc608\uc81c\nbucket = TokenBucket(capacity=100, refill_rate=10)  # 100\uac1c \uc6a9\ub7c9, \ucd08\ub2f9 10\uac1c \ub9ac\ud544\n\nfor i in range(150):\n    if bucket.consume():\n        print(f\"Request {i+1}: Allowed\")\n    else:\n        print(f\"Request {i+1}: Rate Limited\")\n    time.sleep(0.05)  # 50ms \uac04\uaca9\n</code></pre> <p>Leaky Bucket:</p> <pre><code>import time\nfrom collections import deque\nfrom threading import Lock\n\nclass LeakyBucket:\n    def __init__(self, capacity, leak_rate):\n        \"\"\"\n        capacity: \ubc84\ud0b7 \ucd5c\ub300 \uc6a9\ub7c9\n        leak_rate: \ucd08\ub2f9 \ucc98\ub9ac(\ub204\ucd9c) \uc18d\ub3c4\n        \"\"\"\n        self.capacity = capacity\n        self.leak_rate = leak_rate\n        self.queue = deque()\n        self.last_leak = time.time()\n        self.lock = Lock()\n\n    def add_request(self):\n        \"\"\"\uc694\uccad \ucd94\uac00\"\"\"\n        with self.lock:\n            # \ub204\ucd9c \ucc98\ub9ac\n            now = time.time()\n            elapsed = now - self.last_leak\n            leak_count = int(elapsed * self.leak_rate)\n\n            for _ in range(min(leak_count, len(self.queue))):\n                self.queue.popleft()\n\n            self.last_leak = now\n\n            # \uc6a9\ub7c9 \uccb4\ud06c\n            if len(self.queue) &lt; self.capacity:\n                self.queue.append(now)\n                return True\n            else:\n                return False\n\n# \uc0ac\uc6a9 \uc608\uc81c\nbucket = LeakyBucket(capacity=50, leak_rate=5)  # 50\uac1c \uc6a9\ub7c9, \ucd08\ub2f9 5\uac1c \ucc98\ub9ac\n</code></pre> <p>Fixed Window:</p> <pre><code>import time\nfrom collections import defaultdict\nfrom threading import Lock\n\nclass FixedWindow:\n    def __init__(self, limit, window_size=60):\n        \"\"\"\n        limit: \uc708\ub3c4\uc6b0\ub2f9 \ucd5c\ub300 \uc694\uccad \uc218\n        window_size: \uc708\ub3c4\uc6b0 \ud06c\uae30 (\ucd08)\n        \"\"\"\n        self.limit = limit\n        self.window_size = window_size\n        self.windows = defaultdict(int)\n        self.lock = Lock()\n\n    def allow_request(self, key):\n        \"\"\"\uc694\uccad \ud5c8\uc6a9 \uc5ec\ubd80 \ud310\ub2e8\"\"\"\n        with self.lock:\n            now = time.time()\n            window = int(now / self.window_size)\n\n            # \uc774\uc804 \uc708\ub3c4\uc6b0 \uc815\ub9ac\n            old_windows = [w for w in self.windows.keys() if w &lt; window - 1]\n            for w in old_windows:\n                del self.windows[w]\n\n            # \ud604\uc7ac \uc708\ub3c4\uc6b0 \uce74\uc6b4\ud2b8\n            if self.windows[window] &lt; self.limit:\n                self.windows[window] += 1\n                return True\n            else:\n                return False\n\n# \uc0ac\uc6a9 \uc608\uc81c\nlimiter = FixedWindow(limit=100, window_size=60)  # \ubd84\ub2f9 100\uac1c\n\nfor i in range(150):\n    if limiter.allow_request(\"user_123\"):\n        print(f\"Request {i+1}: Allowed\")\n    else:\n        print(f\"Request {i+1}: Rate Limited\")\n</code></pre> <p>Sliding Window Log:</p> <pre><code>import time\nfrom collections import deque\nfrom threading import Lock\n\nclass SlidingWindowLog:\n    def __init__(self, limit, window_size=60):\n        \"\"\"\n        limit: \uc708\ub3c4\uc6b0\ub2f9 \ucd5c\ub300 \uc694\uccad \uc218\n        window_size: \uc708\ub3c4\uc6b0 \ud06c\uae30 (\ucd08)\n        \"\"\"\n        self.limit = limit\n        self.window_size = window_size\n        self.logs = defaultdict(deque)\n        self.lock = Lock()\n\n    def allow_request(self, key):\n        \"\"\"\uc694\uccad \ud5c8\uc6a9 \uc5ec\ubd80 \ud310\ub2e8\"\"\"\n        with self.lock:\n            now = time.time()\n            log = self.logs[key]\n\n            # \uc624\ub798\ub41c \ub85c\uadf8 \uc81c\uac70\n            while log and log[0] &lt; now - self.window_size:\n                log.popleft()\n\n            # \ud604\uc7ac \uc694\uccad \uc218 \uccb4\ud06c\n            if len(log) &lt; self.limit:\n                log.append(now)\n                return True\n            else:\n                return False\n\n# \uc0ac\uc6a9 \uc608\uc81c\nlimiter = SlidingWindowLog(limit=100, window_size=60)\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#part-4-api","title":"Part 4: API \ubc84\uc800\ub2dd \uc804\ub7b5","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#4-1","title":"4-1. \ubc84\uc800\ub2dd \ubc29\ubc95","text":"<p>1. URL Path Versioning (\uac00\uc7a5 \uc77c\ubc18\uc801):</p> <pre><code>\uc7a5\uc810:\n\u2713 \uba85\ud655\ud558\uace0 \uc9c1\uad00\uc801\n\u2713 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc27d\uac8c \ud14c\uc2a4\ud2b8\n\u2713 \ubb38\uc11c\ud654 \uc6a9\uc774\n\u2713 \uce90\uc2f1 \uce5c\ud654\uc801\n\n\ub2e8\uc810:\n\u2717 URL \uc99d\uac00\n\u2717 \ub77c\uc6b0\ud305 \ubcf5\uc7a1\ub3c4 \uc99d\uac00\n\n\uc608\uc81c:\nGET https://api.example.com/v1/users\nGET https://api.example.com/v2/users\nGET https://api.example.com/v3/users\n</code></pre> <p>2. Header Versioning:</p> <pre><code>\uc7a5\uc810:\n\u2713 URL \uae54\ub054\ud568\n\u2713 \ubc84\uc804 \ub85c\uc9c1\uacfc \ub77c\uc6b0\ud305 \ubd84\ub9ac\n\n\ub2e8\uc810:\n\u2717 \ube0c\ub77c\uc6b0\uc800 \ud14c\uc2a4\ud2b8 \uc5b4\ub824\uc6c0\n\u2717 \ubb38\uc11c\ud654 \ubcf5\uc7a1\n\u2717 \uce90\uc2f1 \ubcf5\uc7a1\n\n\uc608\uc81c:\nGET https://api.example.com/users\nHeaders:\n  Accept-Version: 1.0\n  API-Version: 2.0\n</code></pre> <p>3. Media Type Versioning (Content Negotiation):</p> <pre><code>\uc7a5\uc810:\n\u2713 RESTful \uc6d0\uce59\uc5d0 \ubd80\ud569\n\u2713 \uac19\uc740 \ub9ac\uc18c\uc2a4, \ub2e4\ub978 \ud45c\ud604\n\n\ub2e8\uc810:\n\u2717 \ubcf5\uc7a1\ud568\n\u2717 \ud074\ub77c\uc774\uc5b8\ud2b8 \uad6c\ud604 \uc5b4\ub824\uc6c0\n\n\uc608\uc81c:\nGET https://api.example.com/users\nHeaders:\n  Accept: application/vnd.example.v2+json\n</code></pre> <p>4. Query Parameter Versioning:</p> <pre><code>\uc7a5\uc810:\n\u2713 \uad6c\ud604 \uac04\ub2e8\n\u2713 \uae30\ubcf8 \ubc84\uc804 \uc81c\uacf5 \uac00\ub2a5\n\n\ub2e8\uc810:\n\u2717 \uc9c1\uad00\uc801\uc774\uc9c0 \uc54a\uc74c\n\u2717 \uce90\uc2f1 \ubcf5\uc7a1\n\n\uc608\uc81c:\nGET https://api.example.com/users?version=2\nGET https://api.example.com/users?api-version=v2\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#4-2-semantic-versioning-2025","title":"4-2. Semantic Versioning (2025 \ud45c\uc900)","text":"<p>Semantic Versioning 2.0 (MAJOR.MINOR.PATCH):</p> <pre><code>\ud615\uc2dd: X.Y.Z\n\nX (MAJOR): \ud638\ud658\ub418\uc9c0 \uc54a\ub294 API \ubcc0\uacbd\nY (MINOR): \ud558\uc704 \ud638\ud658\ub418\ub294 \uae30\ub2a5 \ucd94\uac00\nZ (PATCH): \ud558\uc704 \ud638\ud658\ub418\ub294 \ubc84\uadf8 \uc218\uc815\n\n\uc608\uc81c:\n1.0.0 \u2192 1.0.1 (\ubc84\uadf8 \uc218\uc815)\n1.0.1 \u2192 1.1.0 (\uc0c8 \uae30\ub2a5 \ucd94\uac00, \ud558\uc704 \ud638\ud658)\n1.1.0 \u2192 2.0.0 (Breaking Change)\n</code></pre> <p>Breaking Changes (MAJOR \ubc84\uc804 \uc99d\uac00):</p> <ul> <li>\uc5d4\ub4dc\ud3ec\uc778\ud2b8 \uc81c\uac70</li> <li>\ud544\uc218 \ud544\ub4dc \ucd94\uac00</li> <li>\uc751\ub2f5 \uad6c\uc870 \ubcc0\uacbd</li> <li>\uc5d0\ub7ec \ucf54\ub4dc \ubcc0\uacbd</li> <li>\uc778\uc99d \ubc29\uc2dd \ubcc0\uacbd</li> </ul> <p>Non-Breaking Changes (MINOR \ubc84\uc804 \uc99d\uac00):</p> <ul> <li>\uc0c8 \uc5d4\ub4dc\ud3ec\uc778\ud2b8 \ucd94\uac00</li> <li>\uc120\ud0dd\uc801 \ud544\ub4dc \ucd94\uac00</li> <li>\uc0c8 HTTP \ud5e4\ub354 \ucd94\uac00</li> <li>\uc0c8 \ucffc\ub9ac \ud30c\ub77c\ubbf8\ud130 \ucd94\uac00 (\uc120\ud0dd\uc801)</li> </ul> <p>Bug Fixes (PATCH \ubc84\uc804 \uc99d\uac00):</p> <ul> <li>\ubc84\uadf8 \uc218\uc815</li> <li>\uc131\ub2a5 \uac1c\uc120</li> <li>\ubb38\uc11c \uc5c5\ub370\uc774\ud2b8</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#4-3-deprecation-2025","title":"4-3. Deprecation \uc804\ub7b5 (2025)","text":"<p>Graceful Deprecation \ud504\ub85c\uc138\uc2a4:</p> <pre><code>Phase 1: \uacf5\uc9c0 (3-6\uac1c\uc6d4 \uc804)\n\u251c\u2500 \ubb38\uc11c\uc5d0 Deprecated \ud45c\uc2dc\n\u251c\u2500 \ub9b4\ub9ac\uc2a4 \ub178\ud2b8 \uc5c5\ub370\uc774\ud2b8\n\u2514\u2500 \uc774\uba54\uc77c \uacf5\uc9c0\n\nPhase 2: Deprecation \ud5e4\ub354 (RFC 9745)\n\u251c\u2500 Deprecation: @1735689600 (2025-01-01)\n\u251c\u2500 Sunset: @1748304000 (2025-05-01)\n\u2514\u2500 Link: &lt;https://api.example.com/v2/users&gt;; rel=\"alternate\"\n\nPhase 3: Warning \uc751\ub2f5\n\u251c\u2500 HTTP 200 (\uc544\uc9c1 \ub3d9\uc791)\n\u251c\u2500 X-API-Warn \ud5e4\ub354 \ucd94\uac00\n\u2514\u2500 \uacbd\uace0 \uba54\uc2dc\uc9c0 \ubcf8\ubb38 \ud3ec\ud568\n\nPhase 4: \uc81c\ud55c\uc801 \ub3d9\uc791\n\u251c\u2500 Rate Limit \uac10\uc18c\n\u2514\u2500 \uc131\ub2a5 \uc800\ud558 (\uc758\ub3c4\uc801)\n\nPhase 5: \uc644\uc804 \uc81c\uac70\n\u2514\u2500 HTTP 410 Gone\n</code></pre> <p>Deprecation \ud5e4\ub354 \uc608\uc81c:</p> <pre><code>GET /v1/users HTTP/1.1\nHost: api.example.com\n\nHTTP/1.1 200 OK\nDeprecation: @1735689600\nSunset: @1748304000\nLink: &lt;https://api.example.com/v2/users&gt;; rel=\"alternate\"\nX-API-Warn: \"This endpoint is deprecated and will be removed on 2025-05-01. Please migrate to /v2/users\"\nContent-Type: application/json\n\n{\n  \"data\": [...],\n  \"_meta\": {\n    \"deprecated\": true,\n    \"sunset\": \"2025-05-01T00:00:00Z\",\n    \"migration_url\": \"https://docs.example.com/migration-guide\"\n  }\n}\n</code></pre> <p>Spring Boot API Versioning (2025):</p> <pre><code>// UserControllerV1.java\n@RestController\n@RequestMapping(\"/v1/users\")\npublic class UserControllerV1 {\n\n    @GetMapping\n    @Deprecated\n    public ResponseEntity&lt;List&lt;UserV1&gt;&gt; getUsers() {\n        // Deprecation \ud5e4\ub354 \ucd94\uac00\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(\"Deprecation\", \"@1735689600\");\n        headers.add(\"Sunset\", \"@1748304000\");\n        headers.add(\"Link\", \"&lt;/v2/users&gt;; rel=\\\"alternate\\\"\");\n\n        List&lt;UserV1&gt; users = userService.getAllUsersV1();\n        return ResponseEntity.ok()\n            .headers(headers)\n            .body(users);\n    }\n}\n\n// UserControllerV2.java\n@RestController\n@RequestMapping(\"/v2/users\")\npublic class UserControllerV2 {\n\n    @GetMapping\n    public ResponseEntity&lt;Page&lt;UserV2&gt;&gt; getUsers(\n        @RequestParam(defaultValue = \"0\") int page,\n        @RequestParam(defaultValue = \"20\") int size\n    ) {\n        Page&lt;UserV2&gt; users = userService.getAllUsersV2(page, size);\n        return ResponseEntity.ok(users);\n    }\n}\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#4-4","title":"4-4. \ubc84\uc804 \uac04 \ubcc0\ud658 \ub808\uc774\uc5b4","text":"<p>API Gateway\uc5d0\uc11c \ubc84\uc804 \ubcc0\ud658:</p> <pre><code># version_adapter.py - FastAPI \uc608\uc81c\nfrom fastapi import FastAPI, Request, Header\nfrom typing import Optional\n\napp = FastAPI()\n\nclass VersionAdapter:\n    \"\"\"API \ubc84\uc804 \uac04 \ubcc0\ud658\"\"\"\n\n    @staticmethod\n    def v1_to_v2_user(user_v1: dict) -&gt; dict:\n        \"\"\"V1 \uc0ac\uc6a9\uc790\ub97c V2 \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658\"\"\"\n        return {\n            \"id\": user_v1[\"id\"],\n            \"profile\": {\n                \"email\": user_v1[\"email\"],\n                \"full_name\": user_v1[\"name\"],  # V1\uc758 name \u2192 V2\uc758 full_name\n                \"display_name\": user_v1[\"name\"].split()[0]  # \uc0c8 \ud544\ub4dc\n            },\n            \"status\": {\n                \"value\": user_v1[\"status\"],\n                \"updated_at\": user_v1.get(\"updated_at\", \"\")  # \uc0c8 \ud544\ub4dc\n            },\n            \"created_at\": user_v1[\"created_at\"],\n            \"metadata\": {}  # V2\uc758 \uc0c8 \ud544\ub4dc\n        }\n\n    @staticmethod\n    def v2_to_v1_user(user_v2: dict) -&gt; dict:\n        \"\"\"V2 \uc0ac\uc6a9\uc790\ub97c V1 \ud615\uc2dd\uc73c\ub85c \ubcc0\ud658\"\"\"\n        return {\n            \"id\": user_v2[\"id\"],\n            \"email\": user_v2[\"profile\"][\"email\"],\n            \"name\": user_v2[\"profile\"][\"full_name\"],\n            \"status\": user_v2[\"status\"][\"value\"],\n            \"created_at\": user_v2[\"created_at\"]\n        }\n\n@app.get(\"/users\")\nasync def get_users(\n    accept_version: Optional[str] = Header(None, alias=\"Accept-Version\")\n):\n    \"\"\"\ubc84\uc804 \ud611\uc0c1\uc744 \ud1b5\ud55c \uc0ac\uc6a9\uc790 \ubaa9\ub85d \uc870\ud68c\"\"\"\n\n    # \uc2e4\uc81c \ub370\uc774\ud130\ub294 V2 \ud615\uc2dd\uc73c\ub85c \uc800\uc7a5\n    users_v2 = get_users_from_db()\n\n    # \ud074\ub77c\uc774\uc5b8\ud2b8 \ubc84\uc804\uc5d0 \ub530\ub77c \ubcc0\ud658\n    if accept_version == \"1.0\":\n        users_v1 = [VersionAdapter.v2_to_v1_user(u) for u in users_v2]\n        return {\n            \"data\": users_v1,\n            \"_meta\": {\n                \"version\": \"1.0\",\n                \"deprecated\": True,\n                \"sunset\": \"2025-05-01T00:00:00Z\"\n            }\n        }\n    else:\n        return {\n            \"data\": users_v2,\n            \"pagination\": {\"page\": 1, \"limit\": 20},\n            \"_meta\": {\"version\": \"2.0\"}\n        }\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#part-5-api","title":"Part 5: API \uc131\ub2a5 \ucd5c\uc801\ud654","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#5-1-http","title":"5-1. HTTP \uce90\uc2f1","text":"<p>Cache-Control \ud5e4\ub354 (2025 Best Practices):</p> <pre><code># \uacf5\uac1c \ub9ac\uc18c\uc2a4, 1\uc2dc\uac04 \uce90\uc2f1\nCache-Control: public, max-age=3600\n\n# \uc0ac\uc6a9\uc790\ubcc4 \ub370\uc774\ud130, CDN \uce90\uc2f1 \uae08\uc9c0\nCache-Control: private, max-age=300\n\n# \uc808\ub300 \uce90\uc2f1 \uae08\uc9c0 (\ubbfc\uac10\ud55c \ub370\uc774\ud130)\nCache-Control: no-store\n\n# \uc7ac\uac80\uc99d \ud544\uc694 (ETag \uc0ac\uc6a9)\nCache-Control: no-cache, must-revalidate\n\n# CDN\uc5d0\uc11c 1\uc77c, \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c 1\uc2dc\uac04\nCache-Control: public, max-age=3600, s-maxage=86400\n\n# Stale-while-revalidate (2025 \uad8c\uc7a5)\nCache-Control: max-age=3600, stale-while-revalidate=86400\n</code></pre> <p>ETag\ub97c \ud65c\uc6a9\ud55c \uc870\uac74\ubd80 \uc694\uccad:</p> <pre><code># FastAPI ETag \uc608\uc81c\nfrom fastapi import FastAPI, Response, Request, status\nimport hashlib\nimport json\n\napp = FastAPI()\n\n@app.get(\"/users/{user_id}\")\nasync def get_user(user_id: int, request: Request, response: Response):\n    user = get_user_from_db(user_id)\n\n    if not user:\n        return Response(status_code=status.HTTP_404_NOT_FOUND)\n\n    # ETag \uc0dd\uc131 (\ucf58\ud150\uce20 \ud574\uc2dc)\n    user_json = json.dumps(user, sort_keys=True)\n    etag = hashlib.md5(user_json.encode()).hexdigest()\n\n    # If-None-Match \ud5e4\ub354 \ud655\uc778\n    if_none_match = request.headers.get(\"if-none-match\")\n\n    if if_none_match == f'\"{etag}\"':\n        # \ubcc0\uacbd \uc5c6\uc74c\n        return Response(status_code=status.HTTP_304_NOT_MODIFIED)\n\n    # \ubcc0\uacbd\ub428, ETag \ud3ec\ud568\ud558\uc5ec \ubc18\ud658\n    response.headers[\"ETag\"] = f'\"{etag}\"'\n    response.headers[\"Cache-Control\"] = \"private, max-age=300\"\n\n    return user\n</code></pre> <p>Last-Modified \ud5e4\ub354:</p> <pre><code>from datetime import datetime\nfrom fastapi import FastAPI, Response, Request, status\n\n@app.get(\"/posts/{post_id}\")\nasync def get_post(post_id: int, request: Request, response: Response):\n    post = get_post_from_db(post_id)\n\n    if not post:\n        return Response(status_code=status.HTTP_404_NOT_FOUND)\n\n    last_modified = post[\"updated_at\"]  # datetime \uac1d\uccb4\n\n    # If-Modified-Since \ud5e4\ub354 \ud655\uc778\n    if_modified_since = request.headers.get(\"if-modified-since\")\n\n    if if_modified_since:\n        ims_date = datetime.strptime(if_modified_since, \"%a, %d %b %Y %H:%M:%S GMT\")\n        if last_modified &lt;= ims_date:\n            return Response(status_code=status.HTTP_304_NOT_MODIFIED)\n\n    # Last-Modified \ud5e4\ub354 \uc124\uc815\n    response.headers[\"Last-Modified\"] = last_modified.strftime(\"%a, %d %b %Y %H:%M:%S GMT\")\n    response.headers[\"Cache-Control\"] = \"public, max-age=600\"\n\n    return post\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#5-2","title":"5-2. \uc751\ub2f5 \uc555\ucd95","text":"<p>Gzip/Brotli \uc555\ucd95:</p> <pre><code># FastAPI \uc555\ucd95 \ubbf8\ub4e4\uc6e8\uc5b4\nfrom fastapi import FastAPI\nfrom fastapi.middleware.gzip import GZipMiddleware\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp = FastAPI()\n\n# Gzip \uc555\ucd95 (\ucd5c\uc18c 500 bytes)\napp.add_middleware(GZipMiddleware, minimum_size=500)\n\n@app.get(\"/large-data\")\nasync def get_large_data():\n    # \ud070 \uc751\ub2f5 \ub370\uc774\ud130\n    data = [{\"id\": i, \"name\": f\"Item {i}\"} for i in range(10000)]\n    return {\"data\": data}\n</code></pre> <p>\uc555\ucd95 \ud6a8\uc728 \ube44\uad50 (2025):</p> <pre><code>100KB JSON \uc751\ub2f5:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \uc555\ucd95 \uc5c6\uc74c:     100 KB               \u2502\n\u2502 Gzip:           15 KB (-85%)        \u2502\n\u2502 Brotli:         12 KB (-88%)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nBrotli \uc7a5\uc810:\n- Gzip\ubcf4\ub2e4 15-20% \ub354 \uc791\uc74c\n- \ube0c\ub77c\uc6b0\uc800 \uc9c0\uc6d0 \uc6b0\uc218 (2025)\n- CPU \uc0ac\uc6a9\ub7c9 Gzip\uacfc \uc720\uc0ac\n</code></pre> <p>Nginx Brotli \uc124\uc815:</p> <pre><code># nginx.conf\nhttp {\n    # Gzip \uc124\uc815\n    gzip on;\n    gzip_vary on;\n    gzip_min_length 1024;\n    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n\n    # Brotli \uc124\uc815 (\ubaa8\ub4c8 \ud544\uc694)\n    brotli on;\n    brotli_comp_level 6;\n    brotli_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;\n}\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#5-3","title":"5-3. \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ucffc\ub9ac \ucd5c\uc801\ud654","text":"<p>N+1 \ucffc\ub9ac \ubb38\uc81c \ud574\uacb0:</p> <pre><code># \ub098\uc05c \uc608: N+1 \ucffc\ub9ac\n@app.get(\"/users\")\nasync def get_users_bad():\n    users = db.query(User).all()  # 1 \ucffc\ub9ac\n\n    result = []\n    for user in users:\n        posts = db.query(Post).filter(Post.user_id == user.id).all()  # N \ucffc\ub9ac\n        result.append({\n            \"user\": user,\n            \"posts\": posts\n        })\n\n    return result\n\n# \uc88b\uc740 \uc608: Eager Loading\nfrom sqlalchemy.orm import joinedload\n\n@app.get(\"/users\")\nasync def get_users_good():\n    users = db.query(User).options(joinedload(User.posts)).all()  # 1 \ucffc\ub9ac (JOIN)\n\n    return [\n        {\n            \"user\": user,\n            \"posts\": user.posts\n        }\n        for user in users\n    ]\n</code></pre> <p>DataLoader \ud328\ud134 (GraphQL \uc2a4\ud0c0\uc77c):</p> <pre><code>from collections import defaultdict\nfrom typing import List, Dict\n\nclass UserLoader:\n    def __init__(self):\n        self.cache = {}\n        self.queue = []\n\n    async def load(self, user_id: int):\n        \"\"\"\uc0ac\uc6a9\uc790 \ub85c\ub4dc (\ubc30\uce58 \ucc98\ub9ac)\"\"\"\n        if user_id in self.cache:\n            return self.cache[user_id]\n\n        self.queue.append(user_id)\n        return await self._flush()\n\n    async def _flush(self):\n        \"\"\"\ud050\uc758 \ubaa8\ub4e0 ID\ub97c \ud55c \ubc88\uc5d0 \uc870\ud68c\"\"\"\n        if not self.queue:\n            return\n\n        user_ids = self.queue\n        self.queue = []\n\n        # \ud55c \ubc88\uc758 \ucffc\ub9ac\ub85c \ubaa8\ub4e0 \uc0ac\uc6a9\uc790 \uc870\ud68c\n        users = db.query(User).filter(User.id.in_(user_ids)).all()\n\n        for user in users:\n            self.cache[user.id] = user\n\n        return users\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#5-4-redis","title":"5-4. Redis \uce90\uc2f1","text":"<p>Redis\ub97c \ud65c\uc6a9\ud55c API \uc751\ub2f5 \uce90\uc2f1:</p> <pre><code># FastAPI + Redis \uce90\uc2f1\nfrom fastapi import FastAPI\nimport redis\nimport json\nfrom functools import wraps\n\napp = FastAPI()\nredis_client = redis.Redis(host='localhost', port=6379, decode_responses=True)\n\ndef cache_response(expiration=300):\n    \"\"\"API \uc751\ub2f5 \uce90\uc2f1 \ub370\ucf54\ub808\uc774\ud130\"\"\"\n    def decorator(func):\n        @wraps(func)\n        async def wrapper(*args, **kwargs):\n            # \uce90\uc2dc \ud0a4 \uc0dd\uc131\n            cache_key = f\"api:{func.__name__}:{str(args)}:{str(kwargs)}\"\n\n            # \uce90\uc2dc \ud655\uc778\n            cached = redis_client.get(cache_key)\n            if cached:\n                return json.loads(cached)\n\n            # \uc2e4\ud589 \ubc0f \uce90\uc2f1\n            result = await func(*args, **kwargs)\n            redis_client.setex(cache_key, expiration, json.dumps(result))\n\n            return result\n\n        return wrapper\n    return decorator\n\n@app.get(\"/expensive-query\")\n@cache_response(expiration=600)  # 10\ubd84 \uce90\uc2f1\nasync def expensive_query():\n    # \ubb34\uac70\uc6b4 \ucffc\ub9ac\n    result = perform_expensive_database_query()\n    return result\n</code></pre> <p>\uce90\uc2dc \ubb34\ud6a8\ud654 \uc804\ub7b5:</p> <pre><code>class CacheManager:\n    def __init__(self, redis_client):\n        self.redis = redis_client\n\n    def invalidate_user(self, user_id: int):\n        \"\"\"\uc0ac\uc6a9\uc790 \uad00\ub828 \uce90\uc2dc \ubb34\ud6a8\ud654\"\"\"\n        pattern = f\"api:*:user_id={user_id}*\"\n        keys = self.redis.keys(pattern)\n        if keys:\n            self.redis.delete(*keys)\n\n    def invalidate_pattern(self, pattern: str):\n        \"\"\"\ud328\ud134 \uae30\ubc18 \uce90\uc2dc \ubb34\ud6a8\ud654\"\"\"\n        keys = self.redis.keys(pattern)\n        if keys:\n            self.redis.delete(*keys)\n\n# \uc0ac\uc6a9 \uc608\uc81c\ncache_manager = CacheManager(redis_client)\n\n@app.put(\"/users/{user_id}\")\nasync def update_user(user_id: int, user_data: dict):\n    # \uc0ac\uc6a9\uc790 \uc5c5\ub370\uc774\ud2b8\n    update_user_in_db(user_id, user_data)\n\n    # \uad00\ub828 \uce90\uc2dc \ubb34\ud6a8\ud654\n    cache_manager.invalidate_user(user_id)\n\n    return {\"status\": \"updated\"}\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#1-restful-api-fastapi","title":"\uc2e4\uc2b5 1: RESTful API \uad6c\ud604 (FastAPI)","text":"<p>\ubaa9\ud45c: OpenAPI 3.2 \uc2a4\ud399\uc744 \uc900\uc218\ud558\ub294 User Management API \uad6c\ud604</p> <pre><code># main.py\nfrom fastapi import FastAPI, HTTPException, status, Header, Response\nfrom pydantic import BaseModel, EmailStr\nfrom typing import List, Optional\nfrom datetime import datetime\nimport uvicorn\n\napp = FastAPI(\n    title=\"User Management API\",\n    version=\"1.0.0\",\n    description=\"RESTful API for user management\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# \ubaa8\ub378\nclass UserCreate(BaseModel):\n    email: EmailStr\n    name: str\n    password: str\n\nclass UserUpdate(BaseModel):\n    name: Optional[str] = None\n    status: Optional[str] = None\n\nclass User(BaseModel):\n    id: int\n    email: str\n    name: str\n    status: str\n    created_at: datetime\n\n    class Config:\n        from_attributes = True\n\n# \uc778\uba54\ubaa8\ub9ac DB (\uc2e4\uc2b5\uc6a9)\nusers_db = {}\nuser_id_counter = 1\n\n# \uc5d4\ub4dc\ud3ec\uc778\ud2b8\n@app.get(\"/users\", response_model=List[User], tags=[\"Users\"])\nasync def list_users(\n    page: int = 1,\n    limit: int = 20,\n    status: Optional[str] = None\n):\n    \"\"\"\uc0ac\uc6a9\uc790 \ubaa9\ub85d \uc870\ud68c (\ud398\uc774\uc9c0\ub124\uc774\uc158)\"\"\"\n    filtered_users = [\n        u for u in users_db.values()\n        if status is None or u['status'] == status\n    ]\n\n    start = (page - 1) * limit\n    end = start + limit\n\n    return filtered_users[start:end]\n\n@app.post(\"/users\", response_model=User, status_code=status.HTTP_201_CREATED, tags=[\"Users\"])\nasync def create_user(user: UserCreate, response: Response):\n    \"\"\"\uc0ac\uc6a9\uc790 \uc0dd\uc131\"\"\"\n    global user_id_counter\n\n    # \uc774\uba54\uc77c \uc911\ubcf5 \uccb4\ud06c\n    if any(u['email'] == user.email for u in users_db.values()):\n        raise HTTPException(\n            status_code=status.HTTP_409_CONFLICT,\n            detail=\"Email already exists\"\n        )\n\n    new_user = {\n        \"id\": user_id_counter,\n        \"email\": user.email,\n        \"name\": user.name,\n        \"status\": \"active\",\n        \"created_at\": datetime.now()\n    }\n\n    users_db[user_id_counter] = new_user\n    response.headers[\"Location\"] = f\"/users/{user_id_counter}\"\n\n    user_id_counter += 1\n\n    return new_user\n\n@app.get(\"/users/{user_id}\", response_model=User, tags=[\"Users\"])\nasync def get_user(user_id: int):\n    \"\"\"\uc0ac\uc6a9\uc790 \uc870\ud68c\"\"\"\n    if user_id not in users_db:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=f\"User {user_id} not found\"\n        )\n\n    return users_db[user_id]\n\n@app.put(\"/users/{user_id}\", response_model=User, tags=[\"Users\"])\nasync def update_user(user_id: int, user_update: UserUpdate):\n    \"\"\"\uc0ac\uc6a9\uc790 \uc5c5\ub370\uc774\ud2b8\"\"\"\n    if user_id not in users_db:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=f\"User {user_id} not found\"\n        )\n\n    user = users_db[user_id]\n\n    if user_update.name:\n        user['name'] = user_update.name\n    if user_update.status:\n        user['status'] = user_update.status\n\n    return user\n\n@app.delete(\"/users/{user_id}\", status_code=status.HTTP_204_NO_CONTENT, tags=[\"Users\"])\nasync def delete_user(user_id: int):\n    \"\"\"\uc0ac\uc6a9\uc790 \uc0ad\uc81c\"\"\"\n    if user_id not in users_db:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=f\"User {user_id} not found\"\n        )\n\n    del users_db[user_id]\n\nif __name__ == \"__main__\":\n    uvicorn.run(app, host=\"0.0.0.0\", port=8000)\n</code></pre> <p>\uc2e4\ud589 \ubc0f \ud14c\uc2a4\ud2b8:</p> <pre><code># \uc2e4\ud589\npython main.py\n\n# Swagger UI \uc811\uc18d\nopen http://localhost:8000/docs\n\n# cURL \ud14c\uc2a4\ud2b8\n# \uc0ac\uc6a9\uc790 \uc0dd\uc131\ncurl -X POST http://localhost:8000/users \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"test@example.com\",\"name\":\"Test User\",\"password\":\"secret123\"}'\n\n# \uc0ac\uc6a9\uc790 \ubaa9\ub85d\ncurl http://localhost:8000/users?page=1&amp;limit=10\n\n# \uc0ac\uc6a9\uc790 \uc870\ud68c\ncurl http://localhost:8000/users/1\n\n# \uc0ac\uc6a9\uc790 \uc5c5\ub370\uc774\ud2b8\ncurl -X PUT http://localhost:8000/users/1 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"name\":\"Updated Name\"}'\n\n# \uc0ac\uc6a9\uc790 \uc0ad\uc81c\ncurl -X DELETE http://localhost:8000/users/1\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#2-grpc","title":"\uc2e4\uc2b5 2: gRPC \uc11c\ube44\uc2a4 \uad6c\ud604 \ubc0f \uc131\ub2a5 \ubca4\uce58\ub9c8\ud06c","text":"<p>\ubaa9\ud45c: REST\uc640 gRPC \uc131\ub2a5 \ube44\uad50</p> <p>\ud504\ub85c\ud1a0\ucf5c \uc815\uc758 (user.proto):</p> <pre><code>syntax = \"proto3\";\npackage user;\noption go_package = \"github.com/example/user/proto\";\n\nservice UserService {\n  rpc GetUser(GetUserRequest) returns (User);\n  rpc ListUsers(ListUsersRequest) returns (ListUsersResponse);\n  rpc CreateUser(CreateUserRequest) returns (User);\n}\n\nmessage User {\n  int32 id = 1;\n  string email = 2;\n  string name = 3;\n  string status = 4;\n}\n\nmessage GetUserRequest {\n  int32 id = 1;\n}\n\nmessage ListUsersRequest {\n  int32 page = 1;\n  int32 limit = 2;\n}\n\nmessage ListUsersResponse {\n  repeated User users = 1;\n  int32 total = 2;\n}\n\nmessage CreateUserRequest {\n  string email = 1;\n  string name = 2;\n}\n</code></pre> <p>gRPC \uc11c\ubc84 (Go):</p> <pre><code>// server.go\npackage main\n\nimport (\n    \"context\"\n    \"log\"\n    \"net\"\n\n    \"google.golang.org/grpc\"\n    pb \"github.com/example/user/proto\"\n)\n\ntype userServer struct {\n    pb.UnimplementedUserServiceServer\n    users map[int32]*pb.User\n}\n\nfunc (s *userServer) GetUser(ctx context.Context, req *pb.GetUserRequest) (*pb.User, error) {\n    user, exists := s.users[req.Id]\n    if !exists {\n        return nil, grpc.Errorf(codes.NotFound, \"user not found\")\n    }\n    return user, nil\n}\n\nfunc (s *userServer) ListUsers(ctx context.Context, req *pb.ListUsersRequest) (*pb.ListUsersResponse, error) {\n    var users []*pb.User\n    for _, u := range s.users {\n        users = append(users, u)\n    }\n\n    return &amp;pb.ListUsersResponse{\n        Users: users,\n        Total: int32(len(users)),\n    }, nil\n}\n\nfunc main() {\n    lis, err := net.Listen(\"tcp\", \":50051\")\n    if err != nil {\n        log.Fatalf(\"failed to listen: %v\", err)\n    }\n\n    s := grpc.NewServer()\n    pb.RegisterUserServiceServer(s, &amp;userServer{users: make(map[int32]*pb.User)})\n\n    log.Println(\"gRPC server listening on :50051\")\n    if err := s.Serve(lis); err != nil {\n        log.Fatalf(\"failed to serve: %v\", err)\n    }\n}\n</code></pre> <p>\ubca4\uce58\ub9c8\ud06c \uc2a4\ud06c\ub9bd\ud2b8:</p> <pre><code># benchmark.py\nimport time\nimport requests\nimport grpc\nimport statistics\nfrom concurrent.futures import ThreadPoolExecutor\n\n# gRPC \ud074\ub77c\uc774\uc5b8\ud2b8 import (\uc0dd\uc131\ub41c \ucf54\ub4dc)\nimport user_pb2\nimport user_pb2_grpc\n\ndef benchmark_rest(url, num_requests=1000, concurrency=10):\n    \"\"\"REST API \ubca4\uce58\ub9c8\ud06c\"\"\"\n    times = []\n\n    def make_request():\n        start = time.time()\n        response = requests.get(url)\n        elapsed = time.time() - start\n        return elapsed\n\n    with ThreadPoolExecutor(max_workers=concurrency) as executor:\n        times = list(executor.map(lambda _: make_request(), range(num_requests)))\n\n    return {\n        \"total_requests\": num_requests,\n        \"avg_time\": statistics.mean(times),\n        \"median_time\": statistics.median(times),\n        \"p95_time\": statistics.quantiles(times, n=20)[18],\n        \"p99_time\": statistics.quantiles(times, n=100)[98],\n        \"throughput\": num_requests / sum(times)\n    }\n\ndef benchmark_grpc(host, port, num_requests=1000, concurrency=10):\n    \"\"\"gRPC \ubca4\uce58\ub9c8\ud06c\"\"\"\n    times = []\n\n    def make_request():\n        with grpc.insecure_channel(f'{host}:{port}') as channel:\n            stub = user_pb2_grpc.UserServiceStub(channel)\n            start = time.time()\n            response = stub.GetUser(user_pb2.GetUserRequest(id=1))\n            elapsed = time.time() - start\n            return elapsed\n\n    with ThreadPoolExecutor(max_workers=concurrency) as executor:\n        times = list(executor.map(lambda _: make_request(), range(num_requests)))\n\n    return {\n        \"total_requests\": num_requests,\n        \"avg_time\": statistics.mean(times),\n        \"median_time\": statistics.median(times),\n        \"p95_time\": statistics.quantiles(times, n=20)[18],\n        \"p99_time\": statistics.quantiles(times, n=100)[98],\n        \"throughput\": num_requests / sum(times)\n    }\n\n# \uc2e4\ud589\nprint(\"Benchmarking REST API...\")\nrest_results = benchmark_rest(\"http://localhost:8000/users/1\")\n\nprint(\"\\nBenchmarking gRPC API...\")\ngrpc_results = benchmark_grpc(\"localhost\", 50051)\n\nprint(\"\\n=== Results ===\")\nprint(f\"REST - Avg: {rest_results['avg_time']*1000:.2f}ms, P95: {rest_results['p95_time']*1000:.2f}ms, Throughput: {rest_results['throughput']:.0f} req/s\")\nprint(f\"gRPC - Avg: {grpc_results['avg_time']*1000:.2f}ms, P95: {grpc_results['p95_time']*1000:.2f}ms, Throughput: {grpc_results['throughput']:.0f} req/s\")\nprint(f\"\\ngRPC is {(rest_results['avg_time'] / grpc_results['avg_time'] - 1) * 100:.1f}% faster\")\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#3-kong-api-gateway","title":"\uc2e4\uc2b5 3: Kong API Gateway \uc124\uc815","text":"<p>\ubaa9\ud45c: Kong\uc73c\ub85c Rate Limiting \ubc0f \uc778\uc99d \uad6c\ud604</p> <pre><code># Kong &amp; PostgreSQL \uc124\uce58 (Docker Compose)\n# docker-compose.yml\nversion: '3.8'\nservices:\n  kong-database:\n    image: postgres:15\n    environment:\n      POSTGRES_USER: kong\n      POSTGRES_DB: kong\n      POSTGRES_PASSWORD: kong\n    ports:\n      - \"5432:5432\"\n\n  kong-migration:\n    image: kong:3.5\n    command: kong migrations bootstrap\n    environment:\n      KONG_DATABASE: postgres\n      KONG_PG_HOST: kong-database\n      KONG_PG_PASSWORD: kong\n    depends_on:\n      - kong-database\n\n  kong:\n    image: kong:3.5\n    environment:\n      KONG_DATABASE: postgres\n      KONG_PG_HOST: kong-database\n      KONG_PG_PASSWORD: kong\n      KONG_ADMIN_LISTEN: 0.0.0.0:8001\n      KONG_PROXY_LISTEN: 0.0.0.0:8000\n    ports:\n      - \"8000:8000\"\n      - \"8001:8001\"\n    depends_on:\n      - kong-migration\n\n# \uc2e4\ud589\ndocker-compose up -d\n\n# Service \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/services \\\n  --data name=user-service \\\n  --data url='http://host.docker.internal:8000'\n\n# Route \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/services/user-service/routes \\\n  --data 'paths[]=/api/users' \\\n  --data name=user-route\n\n# Rate Limiting \ud50c\ub7ec\uadf8\uc778\ncurl -i -X POST http://localhost:8001/services/user-service/plugins \\\n  --data name=rate-limiting \\\n  --data config.minute=100 \\\n  --data config.hour=1000 \\\n  --data config.policy=local\n\n# Key Authentication \ud50c\ub7ec\uadf8\uc778\ncurl -i -X POST http://localhost:8001/services/user-service/plugins \\\n  --data name=key-auth \\\n  --data config.key_names=apikey\n\n# Consumer \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/consumers \\\n  --data username=test-user\n\n# API Key \uc0dd\uc131\ncurl -i -X POST http://localhost:8001/consumers/test-user/key-auth \\\n  --data key=my-secret-key\n\n# \ud14c\uc2a4\ud2b8\ncurl -H \"apikey: my-secret-key\" http://localhost:8000/api/users/1\n</code></pre>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_4","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_5","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>REST &amp; OpenAPI:</p> <ul> <li>OpenAPI Specification 3.2</li> <li>RFC 7807: Problem Details for HTTP APIs</li> <li>RFC 9745: Deprecation HTTP Header Field</li> <li>Semantic Versioning 2.0.0</li> </ul> <p>gRPC &amp; Protobuf:</p> <ul> <li>gRPC Official Documentation</li> <li>Protocol Buffers Language Guide</li> <li>gRPC Performance Best Practices</li> </ul> <p>API Gateway:</p> <ul> <li>Kong Gateway Documentation</li> <li>Envoy Gateway Documentation</li> <li>Kong Rate Limiting Plugin</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#2025","title":"\ucd5c\uc2e0 \uc5f0\uad6c \ubc0f \ubca4\uce58\ub9c8\ud06c (2025)","text":"<p>Performance Comparisons:</p> <ul> <li>gRPC vs REST in 2025: Performance Benchmarks (Markaicode)</li> <li>tRPC vs gRPC vs REST: API Performance Battle 2025</li> <li>Scaling up REST versus gRPC Benchmark Tests (Medium)</li> </ul> <p>API Design:</p> <ul> <li>API Design Best Practices in 2025 (DEV Community)</li> <li>MyAppAPI: API Design Best Practices 2025</li> <li>GraphQL vs REST API: Comparison 2025 (API7.ai)</li> </ul> <p>Versioning &amp; Deprecation:</p> <ul> <li>API Versioning Best Practices 2025 (DevZery)</li> <li>Semantic Versioning for APIs (Zuplo)</li> <li>API Versioning in Spring (Spring Blog, 2025)</li> </ul> <p>API Gateway:</p> <ul> <li>Kong Gateway in Kubernetes (2025)</li> <li>API Gateway Patterns with Kong 2025 (Johal.in)</li> <li>Envoy Gateway: Enterprise API Management (2025)</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_6","title":"\ub3c4\uc11c","text":"<ul> <li>RESTful Web APIs - Leonard Richardson, Mike Amundsen</li> <li>Designing Web APIs - Brenda Jin, Saurabh Sahni</li> <li>gRPC: Up and Running - Kasun Indrasiri, Danesh Kuruppu</li> <li>API Design Patterns - JJ Geewax</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_7","title":"\ucee4\ubba4\ub2c8\ud2f0 \ubc0f \ub3c4\uad6c","text":"<ul> <li>Postman</li> <li>Swagger/OpenAPI Tools</li> <li>grpcurl - gRPC CLI \ub3c4\uad6c</li> <li>Buf - Protobuf \ub3c4\uad6c\uccb4\uc778</li> <li>API Blueprint</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_8","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#restful-api","title":"RESTful API \uc124\uacc4","text":"<ul> <li> REST 6\uac00\uc9c0 \uc81c\uc57d\uc870\uac74 \uc774\ud574 \ubc0f \uc124\uba85 \uac00\ub2a5</li> <li> RESTful URL \ub124\uc774\ubc0d Best Practices \uc801\uc6a9 \uacbd\ud5d8</li> <li> HTTP \uba54\uc11c\ub4dc \uc801\uc808\ud55c \uc0ac\uc6a9 (\uba71\ub4f1\uc131, \uc548\uc804\uc131 \uc774\ud574)</li> <li> HTTP \uc0c1\ud0dc \ucf54\ub4dc \uc815\ud655\ud55c \uc0ac\uc6a9</li> <li> \ud398\uc774\uc9c0\ub124\uc774\uc158 \uad6c\ud604 (Offset/Cursor-based)</li> <li> \ud544\ud130\ub9c1, \uc815\ub82c, \ud544\ub4dc \uc120\ud0dd \uad6c\ud604 \uacbd\ud5d8</li> <li> RFC 7807 \uc5d0\ub7ec \uc751\ub2f5 \ud45c\uc900\ud654 \uc801\uc6a9</li> <li> OpenAPI 3.2 \uc2a4\ud399 \uc791\uc131 \uacbd\ud5d8</li> <li> Swagger UI/Redoc \ubb38\uc11c \uc0dd\uc131 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#grpc","title":"gRPC","text":"<ul> <li> Protobuf \ubb38\ubc95 \uc774\ud574 \ubc0f \uc791\uc131 \uac00\ub2a5</li> <li> gRPC 4\uac00\uc9c0 \ud1b5\uc2e0 \ud328\ud134 \uc774\ud574</li> <li> gRPC \uc11c\ubc84/\ud074\ub77c\uc774\uc5b8\ud2b8 \uad6c\ud604 \uacbd\ud5d8 (Go/Python/Java \uc911 \ud558\ub098)</li> <li> Protobuf vs JSON \uc131\ub2a5 \ucc28\uc774 \uc774\ud574</li> <li> gRPC\uc640 REST \uc120\ud0dd \uae30\uc900 \ud310\ub2e8 \uac00\ub2a5</li> <li> \ud558\uc774\ube0c\ub9ac\ub4dc \uc811\uadfc\ubc95(REST\u2192gRPC) \uc124\uacc4 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#api-gateway","title":"API Gateway","text":"<ul> <li> API Gateway\uc758 \uc5ed\ud560 \ubc0f \ud544\uc694\uc131 \uc774\ud574</li> <li> Kong Gateway \uc124\uce58 \ubc0f \uae30\ubcf8 \uc124\uc815 \uacbd\ud5d8</li> <li> Envoy Gateway \uae30\ubcf8 \uac1c\ub150 \uc774\ud574</li> <li> Rate Limiting \uc54c\uace0\ub9ac\uc998 \uc774\ud574 (Token Bucket, Leaky Bucket)</li> <li> Kong \ud50c\ub7ec\uadf8\uc778 \uc124\uc815 \uacbd\ud5d8 (Rate Limiting, Authentication)</li> <li> API Gateway\ub97c \ud1b5\ud55c \ud504\ub85c\ud1a0\ucf5c \ubcc0\ud658 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#api","title":"API \ubc84\uc800\ub2dd","text":"<ul> <li> 4\uac00\uc9c0 \ubc84\uc800\ub2dd \ubc29\ubc95 \ube44\uad50 \uac00\ub2a5</li> <li> Semantic Versioning \uc774\ud574 \ubc0f \uc801\uc6a9</li> <li> Breaking vs Non-Breaking Changes \uad6c\ubd84 \uac00\ub2a5</li> <li> Deprecation \uc804\ub7b5 \uc218\ub9bd \ubc0f \uc801\uc6a9 \uacbd\ud5d8</li> <li> RFC 9745 Deprecation \ud5e4\ub354 \uc0ac\uc6a9 \uacbd\ud5d8</li> <li> \ubc84\uc804 \uac04 \ubcc0\ud658 \ub808\uc774\uc5b4 \uad6c\ud604 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_9","title":"\uc131\ub2a5 \ucd5c\uc801\ud654","text":"<ul> <li> HTTP \uce90\uc2f1 (Cache-Control, ETag, Last-Modified) \uc774\ud574</li> <li> \uc870\uac74\ubd80 \uc694\uccad (304 Not Modified) \uad6c\ud604 \uacbd\ud5d8</li> <li> Gzip/Brotli \uc555\ucd95 \uc124\uc815 \uacbd\ud5d8</li> <li> N+1 \ucffc\ub9ac \ubb38\uc81c \uc778\uc2dd \ubc0f \ud574\uacb0 \uacbd\ud5d8</li> <li> Redis\ub97c \ud65c\uc6a9\ud55c API \uc751\ub2f5 \uce90\uc2f1 \uacbd\ud5d8</li> <li> \uce90\uc2dc \ubb34\ud6a8\ud654 \uc804\ub7b5 \uad6c\ud604 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_10","title":"\uc885\ud569 \uc5ed\ub7c9","text":"<ul> <li> \ub300\uaddc\ubaa8 \ud2b8\ub798\ud53d \ucc98\ub9ac\ub97c \uc704\ud55c API \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4 \uac00\ub2a5</li> <li> API \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \uba54\ud2b8\ub9ad \uc218\uc9d1 \uacbd\ud5d8</li> <li> API \ubcf4\uc548 (OAuth 2.0, JWT) \uc801\uc6a9 \uacbd\ud5d8</li> <li> API \ubb38\uc11c \uc790\ub3d9\ud654 \ud30c\uc774\ud504\ub77c\uc778 \uad6c\ucd95 \uacbd\ud5d8</li> <li> API \ud14c\uc2a4\ud2b8 \uc790\ub3d9\ud654 (Unit, Integration) \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch2.API_%EC%84%A4%EA%B3%84/#_11","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch2. API \uc124\uacc4\ub97c \uc644\ub8cc\ud588\ub2e4\uba74, \ub2e4\uc74c \ud559\uc2b5 \uc8fc\uc81c\ub85c \uc9c4\ud589\ud558\uc138\uc694:</p> <p>Ch3. OpenStack \ub124\ud2b8\uc6cc\ud0b9</p> <ul> <li>Neutron \uc544\ud0a4\ud14d\ucc98</li> <li>ML2 \ud50c\ub7ec\uadf8\uc778</li> <li>SDN \ud1b5\ud569 (OVN, OVS)</li> <li>\ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654</li> <li>\ucee4\uc2a4\ud140 \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c</li> </ul> <p>\ub610\ub294 \uc2ec\ud654 \ud559\uc2b5:</p> <ul> <li>GraphQL: Schema, Resolvers, Apollo Server</li> <li>WebSocket: \uc2e4\uc2dc\uac04 \uc591\ubc29\ud5a5 \ud1b5\uc2e0</li> <li>API Security: OAuth 2.0, OIDC, mTLS</li> <li>API Governance: API Catalog, Contract Testing</li> <li>Event-Driven API: AsyncAPI, WebHooks, SSE</li> </ul> <p>\uc2e4\ubb34 \ud504\ub85c\uc81d\ud2b8 \uc544\uc774\ub514\uc5b4:</p> <ol> <li>\ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 API Gateway \uad6c\ucd95</li> <li>Kong/Envoy\ub85c \uc911\uc559\ud654\ub41c Gateway</li> <li>Rate Limiting, Circuit Breaker</li> <li>\uc778\uc99d/\uc778\uac00 \ud1b5\ud569</li> <li> <p>\ubaa8\ub2c8\ud130\ub9c1 \ub300\uc2dc\ubcf4\ub4dc</p> </li> <li> <p>gRPC \u2194 REST \ud504\ub85d\uc2dc \uc11c\ubc84</p> </li> <li>\uc678\ubd80 REST, \ub0b4\ubd80 gRPC</li> <li>Protobuf \u2194 JSON \ubcc0\ud658</li> <li>\uc2a4\ud2b8\ub9ac\ubc0d \uc9c0\uc6d0</li> <li> <p>\uc131\ub2a5 \ubca4\uce58\ub9c8\ud06c</p> </li> <li> <p>API \ubc84\uc804 \uad00\ub9ac \uc2dc\uc2a4\ud15c</p> </li> <li>\uc790\ub3d9 Deprecation \ud5e4\ub354</li> <li>\ubc84\uc804\ubcc4 \ud2b8\ub798\ud53d \ubd84\uc11d</li> <li>\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uac00\uc774\ub4dc \uc0dd\uc131</li> <li>A/B \ud14c\uc2a4\ud2b8 \uc9c0\uc6d0</li> </ol> <p>API \uc124\uacc4\ub294 \uc2dc\uc2a4\ud15c \uc544\ud0a4\ud14d\ucc98\uc758 \ud575\uc2ec\uc785\ub2c8\ub2e4. \uacc4\uc18d\ud574\uc11c \ud559\uc2b5\ud558\uace0 \uc2e4\uc2b5\ud558\uba74\uc11c \ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \uc720\uc9c0\ubcf4\uc218\ud558\uae30 \uc26c\uc6b4 API\ub97c \uc124\uacc4\ud558\ub294 \uc804\ubb38\uac00\ub85c \uc131\uc7a5\ud558\uc138\uc694!</p>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/","title":"Ch3. OpenStack \ub124\ud2b8\uc6cc\ud0b9","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>OpenStack Neutron\uc740 \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud0b9\uc758 \ud575\uc2ec \uc11c\ube44\uc2a4\ub85c, Software-Defined Networking (SDN)\uc744 \ud1b5\ud574 \uac00\uc0c1 \ub124\ud2b8\uc6cc\ud06c \uc778\ud504\ub77c\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. Neutron\uc740 \ub2e4\uc591\ud55c \ub124\ud2b8\uc6cc\ud0b9 \uae30\uc220\uc744 \uc9c0\uc6d0\ud558\uba70, ML2 (Modular Layer 2) \ud50c\ub7ec\uadf8\uc778\uc744 \ud1b5\ud574 \uc720\uc5f0\ud55c \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131\uc744 \uac00\ub2a5\ud558\uac8c \ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, OpenStack Epoxy (2025.1)\uc5d0\uc11c\ub294 LinuxBridge \ub4dc\ub77c\uc774\ubc84\uac00 \uc81c\uac70\ub418\uace0 OVN (Open Virtual Network)\uc73c\ub85c\uc758 \uc804\ud658\uc774 \uac00\uc18d\ud654\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4. OVN\uc740 stateless NAT, \ud5a5\uc0c1\ub41c L3 \ub77c\uc6b0\ud305, \uadf8\ub9ac\uace0 DPDK \uae30\ubc18 \uace0\uc131\ub2a5 \ub124\ud2b8\uc6cc\ud0b9\uc744 \uc9c0\uc6d0\ud569\ub2c8\ub2e4.</p> <p>\uc774 \ucc55\ud130\uc5d0\uc11c\ub294 Neutron \uc544\ud0a4\ud14d\ucc98, ML2 \ud50c\ub7ec\uadf8\uc778 \uba54\ucee4\ub2c8\uc998, OVN \ub9c8\uc774\uadf8\ub808\uc774\uc158, \uadf8\ub9ac\uace0 \ucee4\uc2a4\ud140 \ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c\uae4c\uc9c0 OpenStack \ub124\ud2b8\uc6cc\ud0b9\uc758 \ubaa8\ub4e0 \uce21\uba74\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Neutron \uc544\ud0a4\ud14d\ucc98\uc758 \ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8 \uc774\ud574</li> <li>ML2 \ud50c\ub7ec\uadf8\uc778\uc758 Type/Mechanism Driver \uad6c\uc870 \ud30c\uc545</li> <li>OVN vs OVS \ucc28\uc774\uc810 \uc774\ud574 \ubc0f \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc218\ud589</li> <li>Neutron API\ub97c \ud65c\uc6a9\ud55c \ub124\ud2b8\uc6cc\ud06c \ub9ac\uc18c\uc2a4 \uad00\ub9ac</li> <li>L2/L3 \uc5d0\uc774\uc804\ud2b8\uc758 \ub3d9\uc791 \uc6d0\ub9ac \uc774\ud574</li> <li>Security Groups \ubc0f FWaaS \uad6c\ud604</li> <li>\ucee4\uc2a4\ud140 ML2 Mechanism Driver \uac1c\ubc1c</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#part-1-neutron","title":"Part 1: Neutron \uc544\ud0a4\ud14d\ucc98","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#1-1-neutron","title":"1-1. Neutron \ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8","text":"<p>Neutron \uc544\ud0a4\ud14d\ucc98 (2025):</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Neutron API Server                         \u2502\n\u2502  - RESTful API                                                \u2502\n\u2502  - RBAC (Role-Based Access Control)                          \u2502\n\u2502  - Request Validation &amp; Authentication                        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502                \u2502                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   ML2 Plugin \u2502  \u2502 L3 Plugin  \u2502  \u2502 Other Plugins\u2502\n\u2502              \u2502  \u2502            \u2502  \u2502 (LBaaS,FWaaS)\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             Message Queue (RabbitMQ/AMQP)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502\n        \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502          \u2502          \u2502          \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 L2 Agent \u2502  \u2502L3 Agent \u2502 \u2502DHCP     \u2502 \u2502Metadata \u2502\n\u2502 (OVN/OVS)\u2502  \u2502         \u2502 \u2502Agent    \u2502 \u2502Agent    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502         \u2502           \u2502         \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Compute/Network Nodes                   \u2502\n\u2502   (OVS, Linux Bridge, SR-IOV, etc.)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8 \uc124\uba85:</p> <p>1. Neutron Server (neutron-server):</p> <ul> <li>RESTful API \uc81c\uacf5</li> <li>\ud50c\ub7ec\uadf8\uc778 \uad00\ub9ac \ubc0f \uc694\uccad \ub77c\uc6b0\ud305</li> <li>\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\ub3d9 (MySQL/PostgreSQL)</li> <li>\uc778\uc99d/\uc778\uac00 (Keystone \ud1b5\ud569)</li> </ul> <p>2. ML2 Plugin:</p> <ul> <li>Modular Layer 2 \ud50c\ub7ec\uadf8\uc778</li> <li>\ub2e4\uc591\ud55c \ub124\ud2b8\uc6cc\ud06c \ud0c0\uc785 \uc9c0\uc6d0 (VLAN, VXLAN, GRE, Geneve)</li> <li>Type Driver: \ub124\ud2b8\uc6cc\ud06c \ud0c0\uc785 \uc815\uc758</li> <li>Mechanism Driver: \uc2e4\uc81c \ub124\ud2b8\uc6cc\ud06c \uad6c\ud604</li> </ul> <p>3. L3 Agent (neutron-l3-agent):</p> <ul> <li>Virtual Router \uad6c\ud604</li> <li>Floating IP \uad00\ub9ac</li> <li>NAT (SNAT/DNAT)</li> <li>Network Namespace \uae30\ubc18</li> </ul> <p>4. DHCP Agent (neutron-dhcp-agent):</p> <ul> <li>\uac00\uc0c1 \ub124\ud2b8\uc6cc\ud06c\uc5d0 DHCP \uc11c\ube44\uc2a4 \uc81c\uacf5</li> <li>Dnsmasq \ud504\ub85c\uc138\uc2a4 \uad00\ub9ac</li> <li>Network Namespace \ud65c\uc6a9</li> </ul> <p>5. Metadata Agent (neutron-metadata-agent):</p> <ul> <li>\uc778\uc2a4\ud134\uc2a4\uc5d0 \uba54\ud0c0\ub370\uc774\ud130 \uc81c\uacf5</li> <li>Nova Metadata API \ud504\ub85d\uc2dc</li> <li>2025.2\uc5d0\uc11c OVN Agent\ub85c \ud1b5\ud569</li> </ul> <p>6. L2 Agent:</p> <ul> <li>OVN Agent: OVN \uba54\ucee4\ub2c8\uc998 (2025 \uad8c\uc7a5)</li> <li>OVS Agent: Open vSwitch \uba54\ucee4\ub2c8\uc998 (\ub808\uac70\uc2dc)</li> <li>LinuxBridge Agent: 2025.1\uc5d0\uc11c \uc81c\uac70\ub428</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#1-2-neutron","title":"1-2. Neutron \ub124\ud2b8\uc6cc\ud06c \ub9ac\uc18c\uc2a4","text":"<p>\ub124\ud2b8\uc6cc\ud06c \ub9ac\uc18c\uc2a4 \uacc4\uce35:</p> <pre><code>Tenant (Project)\n\u251c\u2500\u2500 Network\n\u2502   \u251c\u2500\u2500 Subnet\n\u2502   \u2502   \u251c\u2500\u2500 Allocation Pool\n\u2502   \u2502   \u251c\u2500\u2500 Gateway IP\n\u2502   \u2502   \u2514\u2500\u2500 DNS Nameservers\n\u2502   \u2514\u2500\u2500 Ports\n\u2502       \u251c\u2500\u2500 Fixed IP\n\u2502       \u251c\u2500\u2500 MAC Address\n\u2502       \u251c\u2500\u2500 Security Groups\n\u2502       \u2514\u2500\u2500 Device (VM, Router, LB, etc.)\n\u251c\u2500\u2500 Router\n\u2502   \u251c\u2500\u2500 Internal Interfaces (Subnets)\n\u2502   \u251c\u2500\u2500 External Gateway\n\u2502   \u2514\u2500\u2500 Floating IPs\n\u2514\u2500\u2500 Security Groups\n    \u2514\u2500\u2500 Rules (Ingress/Egress)\n</code></pre> <p>\ub124\ud2b8\uc6cc\ud06c \ud0c0\uc785:</p> \ud0c0\uc785 \uc124\uba85 \uc0ac\uc6a9 \uc0ac\ub840 Local \ub2e8\uc77c \ud638\uc2a4\ud2b8 \ub124\ud2b8\uc6cc\ud06c \ud14c\uc2a4\ud2b8 Flat \ud0dc\uadf8 \uc5c6\ub294 \ub124\ud2b8\uc6cc\ud06c Provider \ub124\ud2b8\uc6cc\ud06c VLAN 802.1Q VLAN \ud0dc\uae45 \ub808\uac70\uc2dc \ud658\uacbd VXLAN L3 \uc624\ubc84 L2 \ud130\ub110 \uba40\ud2f0\ud14c\ub10c\ud2b8 (\uad8c\uc7a5) GRE Generic Routing Encapsulation \ub808\uac70\uc2dc \uc624\ubc84\ub808\uc774 Geneve Generic Network Virtualization \ucc28\uc138\ub300 \ucea1\uc290\ud654"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#1-3-neutron-api","title":"1-3. Neutron API \uc0ac\uc6a9","text":"<p>OpenStack CLI\ub97c \ud1b5\ud55c \ub124\ud2b8\uc6cc\ud06c \uad00\ub9ac:</p> <pre><code># \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131\nopenstack network create \\\n  --project demo \\\n  --provider-network-type vxlan \\\n  demo-network\n\n# \uc11c\ube0c\ub137 \uc0dd\uc131\nopenstack subnet create \\\n  --network demo-network \\\n  --subnet-range 192.168.100.0/24 \\\n  --gateway 192.168.100.1 \\\n  --dns-nameserver 8.8.8.8 \\\n  --allocation-pool start=192.168.100.10,end=192.168.100.200 \\\n  demo-subnet\n\n# \ub77c\uc6b0\ud130 \uc0dd\uc131\nopenstack router create demo-router\n\n# \ub77c\uc6b0\ud130\uc5d0 \uc11c\ube0c\ub137 \uc5f0\uacb0\nopenstack router add subnet demo-router demo-subnet\n\n# \uc678\ubd80 \uac8c\uc774\ud2b8\uc6e8\uc774 \uc124\uc815\nopenstack router set \\\n  --external-gateway public-network \\\n  demo-router\n\n# \ud3ec\ud2b8 \uc0dd\uc131 (\ud2b9\uc815 IP \uc9c0\uc815)\nopenstack port create \\\n  --network demo-network \\\n  --fixed-ip subnet=demo-subnet,ip-address=192.168.100.50 \\\n  demo-port\n\n# Floating IP \uc0dd\uc131\nopenstack floating ip create public-network\n\n# Floating IP \uc5f0\uacb0\nopenstack server add floating ip &lt;instance-id&gt; &lt;floating-ip&gt;\n</code></pre> <p>Neutron REST API \uc9c1\uc811 \ud638\ucd9c (Python):</p> <pre><code># neutron_api.py\nimport requests\nfrom keystoneauth1 import session\nfrom keystoneauth1.identity import v3\nfrom neutronclient.v2_0 import client\n\n# Keystone \uc778\uc99d\nauth = v3.Password(\n    auth_url='http://controller:5000/v3',\n    username='admin',\n    password='secret',\n    project_name='admin',\n    user_domain_id='default',\n    project_domain_id='default'\n)\n\nsess = session.Session(auth=auth)\nneutron = client.Client(session=sess)\n\n# \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131\nnetwork_body = {\n    'network': {\n        'name': 'api-network',\n        'admin_state_up': True,\n        'shared': False,\n        'provider:network_type': 'vxlan',\n    }\n}\n\nnetwork = neutron.create_network(body=network_body)\nnetwork_id = network['network']['id']\n\nprint(f\"Network created: {network_id}\")\n\n# \uc11c\ube0c\ub137 \uc0dd\uc131\nsubnet_body = {\n    'subnet': {\n        'network_id': network_id,\n        'cidr': '10.0.1.0/24',\n        'ip_version': 4,\n        'gateway_ip': '10.0.1.1',\n        'dns_nameservers': ['8.8.8.8', '8.8.4.4'],\n        'allocation_pools': [\n            {'start': '10.0.1.10', 'end': '10.0.1.200'}\n        ]\n    }\n}\n\nsubnet = neutron.create_subnet(body=subnet_body)\nprint(f\"Subnet created: {subnet['subnet']['id']}\")\n\n# \ud3ec\ud2b8 \uc0dd\uc131 \ubc0f \ubcf4\uc548 \uadf8\ub8f9 \uc801\uc6a9\nport_body = {\n    'port': {\n        'network_id': network_id,\n        'name': 'vm-port-1',\n        'admin_state_up': True,\n        'fixed_ips': [\n            {'subnet_id': subnet['subnet']['id'], 'ip_address': '10.0.1.50'}\n        ],\n        'security_groups': ['default']\n    }\n}\n\nport = neutron.create_port(body=port_body)\nprint(f\"Port created: {port['port']['id']}\")\n\n# \ub124\ud2b8\uc6cc\ud06c \ubaa9\ub85d \uc870\ud68c\nnetworks = neutron.list_networks()\nfor net in networks['networks']:\n    print(f\"Network: {net['name']} ({net['id']})\")\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#part-2-ml2","title":"Part 2: ML2 \ud50c\ub7ec\uadf8\uc778","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2-1-ml2","title":"2-1. ML2 \uc544\ud0a4\ud14d\ucc98","text":"<p>ML2 (Modular Layer 2) \uac1c\ub150:</p> <p>ML2\ub294 OpenStack Neutron\uc758 \ud50c\ub7ec\uadf8\uc778 \ud504\ub808\uc784\uc6cc\ud06c\ub85c, \ub2e4\uc591\ud55c Layer 2 \ub124\ud2b8\uc6cc\ud0b9 \uae30\uc220\uc744 \ub3d9\uc2dc\uc5d0 \ud65c\uc6a9\ud560 \uc218 \uc788\uac8c \ud569\ub2c8\ub2e4.</p> <p>ML2 \uad6c\uc870:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Neutron API Server                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              ML2 Plugin                               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502          Type Drivers                          \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502  \u2502\n\u2502  \u2502  \u2502Local \u2502 Flat \u2502 VLAN \u2502VXLAN \u2502Geneve  \u2502       \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502        Mechanism Drivers                       \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510       \u2502  \u2502\n\u2502  \u2502  \u2502 OVN  \u2502 OVS  \u2502L2Pop \u2502SR-IOV\u2502 Vendor \u2502       \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Type Driver:</p> <ul> <li>\ub124\ud2b8\uc6cc\ud06c \uc138\uadf8\uba3c\ud2b8 \ud0c0\uc785 \uc815\uc758</li> <li>VLAN ID, VNI \ub4f1 \uc138\uadf8\uba3c\ud2b8 \ud560\ub2f9</li> <li>\ub9ac\uc18c\uc2a4 \ud480 \uad00\ub9ac</li> </ul> <p>Mechanism Driver:</p> <ul> <li>\uc2e4\uc81c \ub124\ud2b8\uc6cc\ud06c \uad6c\ud604 \ubc29\uc2dd</li> <li>\uc5d0\uc774\uc804\ud2b8\uc640 \ud1b5\uc2e0</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \uc801\uc6a9</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2-2-type-drivers","title":"2-2. Type Drivers","text":"<p>ML2 \uc124\uc815 (/etc/neutron/plugins/ml2/ml2_conf.ini):</p> <pre><code>[ml2]\n# Type Drivers\ntype_drivers = flat,vlan,vxlan,geneve\ntenant_network_types = vxlan,geneve\n\n# Mechanism Drivers (2025 \uad8c\uc7a5)\nmechanism_drivers = ovn\n\n# Extension Drivers\nextension_drivers = port_security,qos,dns_domain_ports\n\n[ml2_type_flat]\n# Flat \ub124\ud2b8\uc6cc\ud06c (Provider)\nflat_networks = provider\n\n[ml2_type_vlan]\n# VLAN \ubc94\uc704\nnetwork_vlan_ranges = provider:1:1000,physnet2:2000:2999\n\n[ml2_type_vxlan]\n# VXLAN VNI \ubc94\uc704\nvni_ranges = 1:1000000\n\n# Multicast \uadf8\ub8f9 (\ub808\uac70\uc2dc, OVN\uc5d0\uc11c\ub294 \ubd88\ud544\uc694)\n# vxlan_group = 239.1.1.1\n\n[ml2_type_geneve]\n# Geneve VNI \ubc94\uc704\nvni_ranges = 1:1000000\nmax_header_size = 38\n</code></pre> <p>VLAN Type Driver \uc0c1\uc138:</p> <pre><code># neutron/plugins/ml2/drivers/type_vlan.py (\uac1c\ub150 \uc124\uba85\uc6a9)\n\nclass VlanTypeDriver(helpers.SegmentTypeDriver):\n    def __init__(self):\n        super(VlanTypeDriver, self).__init__(VlanAllocation)\n\n    def get_type(self):\n        return p_const.TYPE_VLAN\n\n    def initialize(self):\n        \"\"\"VLAN \ubc94\uc704 \ucd08\uae30\ud654\"\"\"\n        self._parse_network_vlan_ranges()\n        self._sync_vlan_allocations()\n\n    def reserve_provider_segment(self, context, segment):\n        \"\"\"Provider \ub124\ud2b8\uc6cc\ud06c\uc6a9 VLAN \uc608\uc57d\"\"\"\n        physical_network = segment.get(api.PHYSICAL_NETWORK)\n        vlan_id = segment.get(api.SEGMENTATION_ID)\n\n        # VLAN ID \uc720\ud6a8\uc131 \uac80\uc0ac\n        if not vlan_id or vlan_id &lt; 1 or vlan_id &gt; 4094:\n            raise ValueError(\"Invalid VLAN ID\")\n\n        # \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0 \ud560\ub2f9 \uae30\ub85d\n        with db_api.CONTEXT_WRITER.using(context):\n            alloc = VlanAllocation(\n                physical_network=physical_network,\n                vlan_id=vlan_id,\n                allocated=True\n            )\n            context.session.add(alloc)\n\n    def allocate_tenant_segment(self, context):\n        \"\"\"Tenant \ub124\ud2b8\uc6cc\ud06c\uc6a9 VLAN \uc790\ub3d9 \ud560\ub2f9\"\"\"\n        with db_api.CONTEXT_WRITER.using(context):\n            # \uc0ac\uc6a9 \uac00\ub2a5\ud55c VLAN ID \uc870\ud68c\n            alloc = context.session.query(VlanAllocation).filter_by(\n                allocated=False\n            ).first()\n\n            if not alloc:\n                raise exc.NoNetworkAvailable()\n\n            # VLAN \ud560\ub2f9\n            alloc.allocated = True\n\n            return {\n                api.NETWORK_TYPE: self.get_type(),\n                api.PHYSICAL_NETWORK: alloc.physical_network,\n                api.SEGMENTATION_ID: alloc.vlan_id\n            }\n\n    def release_segment(self, context, segment):\n        \"\"\"VLAN ID \ubc18\ud658\"\"\"\n        physical_network = segment[api.PHYSICAL_NETWORK]\n        vlan_id = segment[api.SEGMENTATION_ID]\n\n        with db_api.CONTEXT_WRITER.using(context):\n            alloc = context.session.query(VlanAllocation).filter_by(\n                physical_network=physical_network,\n                vlan_id=vlan_id\n            ).first()\n\n            if alloc:\n                alloc.allocated = False\n</code></pre> <p>VXLAN Type Driver:</p> <pre><code># neutron/plugins/ml2/drivers/type_vxlan.py (\uac1c\ub150)\n\nclass VxlanTypeDriver(helpers.SegmentTypeDriver):\n    def __init__(self):\n        super(VxlanTypeDriver, self).__init__(VxlanAllocation)\n\n    def get_type(self):\n        return p_const.TYPE_VXLAN\n\n    def get_mtu(self, physical_network=None):\n        \"\"\"VXLAN MTU \uacc4\uc0b0\"\"\"\n        # \uae30\ubcf8 MTU (1500) - VXLAN \uc624\ubc84\ud5e4\ub4dc (50)\n        return 1450\n\n    def allocate_tenant_segment(self, context):\n        \"\"\"VNI \uc790\ub3d9 \ud560\ub2f9\"\"\"\n        with db_api.CONTEXT_WRITER.using(context):\n            alloc = context.session.query(VxlanAllocation).filter_by(\n                allocated=False\n            ).with_for_update().first()\n\n            if not alloc:\n                raise exc.NoNetworkAvailable()\n\n            alloc.allocated = True\n\n            return {\n                api.NETWORK_TYPE: p_const.TYPE_VXLAN,\n                api.SEGMENTATION_ID: alloc.vxlan_vni,\n                api.PHYSICAL_NETWORK: None\n            }\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2-3-mechanism-drivers","title":"2-3. Mechanism Drivers","text":"<p>\uc8fc\uc694 Mechanism Drivers (2025):</p> <p>1. OVN (Open Virtual Network) - \uad8c\uc7a5:</p> <pre><code>[ml2]\nmechanism_drivers = ovn\n\n[ovn]\n# OVN Northbound Database\novn_nb_connection = tcp:192.168.1.10:6641\novn_nb_private_key = /etc/neutron/ovn-privkey.pem\novn_nb_certificate = /etc/neutron/ovn-cert.pem\novn_nb_ca_cert = /etc/neutron/ovn-cacert.pem\n\n# OVN Southbound Database\novn_sb_connection = tcp:192.168.1.10:6642\novn_sb_private_key = /etc/neutron/ovn-privkey.pem\novn_sb_certificate = /etc/neutron/ovn-cert.pem\novn_sb_ca_cert = /etc/neutron/ovn-cacert.pem\n\n# L3 \uc124\uc815\novn_l3_scheduler = leastloaded\nenable_distributed_floating_ip = True\n\n# OVN Metadata (2025.2 \uc2e0\uaddc)\novn_metadata_enabled = True\n\n# Stateless NAT (2025.2 \uc2e0\uaddc)\nstateless_nat_enabled = True\n\n# DPDK \uc9c0\uc6d0\novn_emit_need_to_frag = False\n</code></pre> <p>OVN \uc7a5\uc810 (vs OVS):</p> <ul> <li>\uc911\uc559\ud654\ub41c \uc81c\uc5b4 \ud50c\ub808\uc778 (Northbound/Southbound DB)</li> <li>\uc5d0\uc774\uc804\ud2b8\ub9ac\uc2a4 \uc544\ud0a4\ud14d\ucc98 (L2/L3 Agent \ubd88\ud544\uc694)</li> <li>\ud5a5\uc0c1\ub41c \uc131\ub2a5 (DPDK \uc9c0\uc6d0)</li> <li>Stateless NAT (2025.2 \uc2e0\uaddc)</li> <li>\uac04\uc18c\ud654\ub41c \uc6b4\uc601</li> </ul> <p>2. Open vSwitch (OVS) - \ub808\uac70\uc2dc:</p> <pre><code>[ml2]\nmechanism_drivers = openvswitch,l2population\n\n[ovs]\n# Integration Bridge\nintegration_bridge = br-int\n\n# Tunnel Bridge\ntunnel_bridge = br-tun\n\n# Local IP (VXLAN Tunnel Endpoint)\nlocal_ip = 192.168.1.20\n\n# Bridge Mappings (Provider \ub124\ud2b8\uc6cc\ud06c)\nbridge_mappings = provider:br-provider\n\n# Tunnel Types\ntunnel_types = vxlan\n\n[agent]\n# ARP Responder (L2 Population \ud544\uc694)\narp_responder = True\n\n# Prevent ARP Spoofing\nprevent_arp_spoofing = True\n\n# VXLAN UDP Port\nvxlan_udp_port = 4789\n\n[securitygroup]\n# Firewall Driver\nfirewall_driver = openvswitch\nenable_security_group = True\n</code></pre> <p>3. LinuxBridge - 2025.1\uc5d0\uc11c \uc81c\uac70\ub428:</p> <pre><code>\uacbd\uace0: LinuxBridge \ub4dc\ub77c\uc774\ubc84\ub294 OpenStack Epoxy (2025.1)\uc5d0\uc11c \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\nOVS \ub610\ub294 OVN\uc73c\ub85c \ub9c8\uc774\uadf8\ub808\uc774\uc158 \ud544\uc694.\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2-4-l2-population","title":"2-4. L2 Population","text":"<p>L2 Population (L2pop) \uac1c\ub150:</p> <p>L2 Population\uc740 VXLAN/GRE \uc624\ubc84\ub808\uc774 \ub124\ud2b8\uc6cc\ud06c\uc5d0\uc11c BUM (Broadcast, Unknown unicast, Multicast) \ud2b8\ub798\ud53d\uc744 \ucd5c\uc801\ud654\ud558\ub294 \uba54\ucee4\ub2c8\uc998 \ub4dc\ub77c\uc774\ubc84\uc785\ub2c8\ub2e4.</p> <p>\ubb38\uc81c\uc810 (L2pop \uc5c6\uc774):</p> <pre><code>VXLAN without L2pop:\n\nVM1 (Host A)\uac00 VM3 (Host C)\uc758 MAC\ub97c \ubaa8\ub97c \ub54c:\n1. VM1\uc774 ARP Request \uc804\uc1a1 (Broadcast)\n2. Host A\ub294 \ubaa8\ub4e0 VTEP\uc5d0 BUM \ud2b8\ub798\ud53d \uc804\uc1a1\n   \u2514\u2500&gt; Host B, Host C, Host D, Host E, ...\n3. \ubaa8\ub4e0 \ud638\uc2a4\ud2b8\uac00 ARP Request \uc218\uc2e0\n4. Host C\uc758 VM3\ub9cc ARP Reply\n\n\ubb38\uc81c: \ubd88\ud544\uc694\ud55c \ub124\ud2b8\uc6cc\ud06c \ud2b8\ub798\ud53d \uc99d\uac00\n</code></pre> <p>\ud574\uacb0\ucc45 (L2pop \uc0ac\uc6a9):</p> <pre><code>VXLAN with L2pop:\n\n1. Neutron Server\uac00 \ubaa8\ub4e0 (MAC, IP, VTEP) \ub9e4\ud551 \ucd94\uc801\n2. \uc0c8 \ud3ec\ud2b8 \uc0dd\uc131 \uc2dc \ubaa8\ub4e0 \uc5d0\uc774\uc804\ud2b8\uc5d0 \uc815\ubcf4 \uc804\ud30c\n3. \uac01 \ud638\uc2a4\ud2b8\uc758 OVS FDB\uc5d0 \uc6d0\uaca9 MAC \ub4f1\ub85d\n\nVM1\uc774 VM3\uc73c\ub85c \ud1b5\uc2e0:\n1. VM1\uc774 ARP Request (\ub85c\uceec OVS\uac00 \uac00\ub85c\ucc54)\n2. OVS FDB\uc5d0\uc11c VM3\uc758 MAC \ud655\uc778\n3. ARP Reply \uc704\uc870 (Proxy ARP)\n4. VM1\uc774 VM3\uc73c\ub85c \uc9c1\uc811 \uc720\ub2c8\uce90\uc2a4\ud2b8\n\n\uacb0\uacfc: BUM \ud2b8\ub798\ud53d \uc81c\uac70, \ub124\ud2b8\uc6cc\ud06c \ud6a8\uc728\uc131 \ub300\ud3ed \ud5a5\uc0c1\n</code></pre> <p>L2pop \uc124\uc815:</p> <pre><code>[ml2]\nmechanism_drivers = openvswitch,l2population\n\n[agent]\nl2_population = True\narp_responder = True\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#part-3-ovn-open-virtual-network","title":"Part 3: OVN (Open Virtual Network)","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#3-1-ovn","title":"3-1. OVN \uc544\ud0a4\ud14d\ucc98","text":"<p>OVN vs OVS \ube44\uad50:</p> <pre><code>OVS \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       Neutron Server + ML2 Plugin      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502           \u2502           \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n\u2502L2 Agent\u2502  \u2502L3 Agnt\u2502  \u2502DHCP Ag \u2502  (\uac01 \ucef4\ud4e8\ud2b8 \ub178\ub4dc)\n\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518\n    \u2502          \u2502           \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n\u2502      Open vSwitch (OVS)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ubb38\uc81c\uc810:\n- \uac01 \ub178\ub4dc\uc5d0 \uc5ec\ub7ec \uc5d0\uc774\uc804\ud2b8 \ud544\uc694\n- RabbitMQ\ub97c \ud1b5\ud55c \ub290\ub9b0 \ub3d9\uae30\ud654\n- \ubcf5\uc7a1\ud55c \ub514\ubc84\uae45\n\n\nOVN \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Neutron Server + ML2/OVN Plugin     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      OVN Northbound Database           \u2502  (\ub17c\ub9ac\uc801 \ub124\ud2b8\uc6cc\ud06c)\n\u2502  - \ub17c\ub9ac\uc801 \uc2a4\uc704\uce58, \ub77c\uc6b0\ud130, ACL           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           ovn-northd                   \u2502  (\ubcc0\ud658 \uacc4\uce35)\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      OVN Southbound Database           \u2502  (\ubb3c\ub9ac\uc801 \ubc14\uc778\ub529)\n\u2502  - \ud3ec\ud2b8 \ubc14\uc778\ub529, \ud130\ub110, Flow              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502       \u2502       \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2510 \u250c\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510 \u250c\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502OVN Agent \u2502 \u2502OVN Agt\u2502 \u2502OVN Agt \u2502  (\uac01 \ucef4\ud4e8\ud2b8 \ub178\ub4dc)\n\u2502+ Metadata\u2502 \u2502       \u2502 \u2502        \u2502\n\u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2518 \u2514\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n    \u2502           \u2502        \u2502\n\u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n\u2502         OVS + OVN           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n- \ub2e8\uc77c OVN Agent\n- \uc911\uc559\ud654\ub41c \ub370\uc774\ud130\ubca0\uc774\uc2a4\n- \ube60\ub978 \ub3d9\uae30\ud654\n- \uac04\ud3b8\ud55c \ub514\ubc84\uae45\n</code></pre> <p>OVN \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uad6c\uc870:</p> <pre><code>Northbound DB (\ub17c\ub9ac\uc801 \ubdf0):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Logical_Switch (\ub124\ud2b8\uc6cc\ud06c)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Logical_Switch_Port (\ud3ec\ud2b8)        \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Logical_Router (\ub77c\uc6b0\ud130)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Logical_Router_Port (\ub77c\uc6b0\ud130 \ud3ec\ud2b8) \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 ACL (\ubcf4\uc548 \uadf8\ub8f9 \uaddc\uce59)              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 NAT (Floating IP, SNAT)          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 DHCP_Options                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nSouthbound DB (\ubb3c\ub9ac\uc801 \ubc14\uc778\ub529):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Chassis (\ud638\uc2a4\ud2b8)                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Port_Binding (\ud3ec\ud2b8 \u2192 \ud638\uc2a4\ud2b8)      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Datapath_Binding (\ub124\ud2b8\uc6cc\ud06c ID)    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Encap (\ud130\ub110 \uc124\uc815)                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#3-2-ovn","title":"3-2. OVN \uc124\uce58 \ubc0f \uc124\uc815","text":"<p>\ucee8\ud2b8\ub864\ub7ec \ub178\ub4dc (OVN Central):</p> <pre><code># OVN Central \uc124\uce58\napt-get install ovn-central\n\n# OVN Northbound DB \uc2dc\uc791\novn-ctl start_nb_ovsdb \\\n  --db-nb-addr=192.168.1.10 \\\n  --db-nb-create-insecure-remote=yes\n\n# OVN Southbound DB \uc2dc\uc791\novn-ctl start_sb_ovsdb \\\n  --db-sb-addr=192.168.1.10 \\\n  --db-sb-create-insecure-remote=yes\n\n# ovn-northd \uc2dc\uc791\novn-ctl start_northd\n\n# \uc0c1\ud0dc \ud655\uc778\novn-nbctl show\novn-sbctl show\n</code></pre> <p>Neutron \uc11c\ubc84 \uc124\uc815:</p> <pre><code># /etc/neutron/neutron.conf\n[DEFAULT]\ncore_plugin = ml2\nservice_plugins = ovn-router,trunk,qos,segments\n\n[ml2]\nmechanism_drivers = ovn\ntype_drivers = geneve,vlan,flat\ntenant_network_types = geneve\nextension_drivers = port_security,qos,dns_domain_ports\n\n[ovn]\novn_nb_connection = tcp:192.168.1.10:6641\novn_sb_connection = tcp:192.168.1.10:6642\novn_l3_scheduler = leastloaded\nenable_distributed_floating_ip = True\n\n# 2025.2 \uc2e0\uaddc \uae30\ub2a5\nstateless_nat_enabled = True\novn_metadata_enabled = True\n</code></pre> <p>\ucef4\ud4e8\ud2b8 \ub178\ub4dc \uc124\uc815:</p> <pre><code># OVN Host \uc124\uce58\napt-get install ovn-host ovn-common\n\n# OVS \uc2dc\uc791\nsystemctl start openvswitch-switch\n\n# OVN Controller \uc124\uc815\novs-vsctl set open . \\\n  external-ids:ovn-remote=tcp:192.168.1.10:6642 \\\n  external-ids:ovn-encap-type=geneve \\\n  external-ids:ovn-encap-ip=192.168.1.20\n\n# Integration Bridge \uc0dd\uc131\novs-vsctl --may-exist add-br br-int \\\n  -- set bridge br-int fail-mode=secure\n\n# OVN Controller \uc2dc\uc791\nsystemctl start ovn-controller\n\n# OVN Metadata Agent \uc2dc\uc791 (2025.2\uc5d0\uc11c\ub294 OVN Agent\ub85c \ub300\uccb4)\n# \uad6c \ubc29\uc2dd:\n# systemctl start neutron-ovn-metadata-agent\n\n# \uc2e0 \ubc29\uc2dd (2025.2):\nsystemctl start neutron-ovn-agent\n</code></pre> <p>OVN Agent \uc124\uc815 (2025.2):</p> <pre><code># /etc/neutron/plugins/ml2/ovn_agent.ini\n[DEFAULT]\ndebug = True\n\n[agent]\n# Metadata Extension \ud65c\uc131\ud654\nextensions = metadata\n\n[ovs]\novsdb_connection = unix:/var/run/openvswitch/db.sock\n\n[ovn]\novn_sb_connection = tcp:192.168.1.10:6642\novn_sb_private_key = /etc/neutron/ovn-privkey.pem\novn_sb_certificate = /etc/neutron/ovn-cert.pem\novn_sb_ca_cert = /etc/neutron/ovn-cacert.pem\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#3-3-linuxbridge-ovn","title":"3-3. LinuxBridge\uc5d0\uc11c OVN\uc73c\ub85c \ub9c8\uc774\uadf8\ub808\uc774\uc158","text":"<p>\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uac1c\uc694 (2025\ub144 11\uc6d4 \uc2e4\uc81c \uc0ac\ub840):</p> <pre><code>Before (LinuxBridge):\nmechanism_drivers = linuxbridge,sriovnicswitch\n\nAfter (OVN):\nmechanism_drivers = ovn,sriovnicswitch\n</code></pre> <p>\ub9c8\uc774\uadf8\ub808\uc774\uc158 \ub2e8\uacc4:</p> <pre><code>#!/bin/bash\n# migrate-to-ovn.sh - LinuxBridge to OVN Migration\n\nset -e\n\necho \"=== OpenStack Neutron Migration: LinuxBridge \u2192 OVN ===\"\n\n# 1. \ud604\uc7ac \uc0c1\ud0dc \ubc31\uc5c5\necho \"[Step 1] Backing up current configuration...\"\nmysqldump -u root -p neutron &gt; neutron_backup_$(date +%F).sql\ncp -r /etc/neutron /etc/neutron.backup.$(date +%F)\n\n# 2. OVN \ud328\ud0a4\uc9c0 \uc124\uce58\necho \"[Step 2] Installing OVN packages...\"\napt-get update\napt-get install -y ovn-central ovn-host neutron-ovn-metadata-agent\n\n# 3. Neutron \uc11c\ube44\uc2a4 \uc911\uc9c0\necho \"[Step 3] Stopping Neutron services...\"\nsystemctl stop neutron-server\nsystemctl stop neutron-linuxbridge-agent\nsystemctl stop neutron-dhcp-agent\nsystemctl stop neutron-l3-agent\nsystemctl stop neutron-metadata-agent\n\n# 4. ML2 \uc124\uc815 \ubcc0\uacbd\necho \"[Step 4] Updating ML2 configuration...\"\ncat &gt; /etc/neutron/plugins/ml2/ml2_conf.ini &lt;&lt;EOF\n[ml2]\ntype_drivers = geneve,vlan,flat\ntenant_network_types = geneve\nmechanism_drivers = ovn\nextension_drivers = port_security,qos\n\n[ml2_type_geneve]\nvni_ranges = 1:65536\nmax_header_size = 38\n\n[ovn]\novn_nb_connection = tcp:192.168.1.10:6641\novn_sb_connection = tcp:192.168.1.10:6642\novn_l3_scheduler = leastloaded\nenable_distributed_floating_ip = True\nEOF\n\n# 5. \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub9c8\uc774\uadf8\ub808\uc774\uc158\necho \"[Step 5] Migrating database...\"\nneutron-db-manage upgrade heads\n\n# 6. OVN \ucd08\uae30\ud654\necho \"[Step 6] Initializing OVN...\"\novn-ctl start_nb_ovsdb --db-nb-addr=192.168.1.10\novn-ctl start_sb_ovsdb --db-sb-addr=192.168.1.10\novn-ctl start_northd\n\n# 7. \ub124\ud2b8\uc6cc\ud06c \ub3d9\uae30\ud654\necho \"[Step 7] Synchronizing networks to OVN...\"\nneutron-ovn-db-sync-util \\\n  --config-file /etc/neutron/neutron.conf \\\n  --config-file /etc/neutron/plugins/ml2/ml2_conf.ini \\\n  --ovn-ovn_nb_connection tcp:192.168.1.10:6641 \\\n  --ovn-ovn_sb_connection tcp:192.168.1.10:6642\n\n# 8. \uac01 \ucef4\ud4e8\ud2b8 \ub178\ub4dc\uc5d0\uc11c \uc2e4\ud589\necho \"[Step 8] Configuring compute nodes...\"\n# (\uac01 \ucef4\ud4e8\ud2b8 \ub178\ub4dc\uc5d0\uc11c \uc2e4\ud589 \ud544\uc694)\n# ovs-vsctl set open . external-ids:ovn-remote=tcp:192.168.1.10:6642\n# ovs-vsctl set open . external-ids:ovn-encap-type=geneve\n# ovs-vsctl set open . external-ids:ovn-encap-ip=&lt;NODE_IP&gt;\n\n# 9. Neutron \uc11c\ube44\uc2a4 \uc2dc\uc791\necho \"[Step 9] Starting Neutron with OVN...\"\nsystemctl start neutron-server\nsystemctl start ovn-controller\nsystemctl start neutron-ovn-metadata-agent\n\n# 10. \uac80\uc99d\necho \"[Step 10] Verifying migration...\"\nopenstack network agent list\novn-nbctl show\novn-sbctl show\n\necho \"=== Migration Complete ===\"\necho \"Please verify all networks and instances are functioning correctly.\"\n</code></pre> <p>\ub9c8\uc774\uadf8\ub808\uc774\uc158 \uac80\uc99d:</p> <pre><code># Neutron \uc5d0\uc774\uc804\ud2b8 \ud655\uc778\nopenstack network agent list\n# OVN Controller\ub9cc \ud45c\uc2dc\ub418\uc5b4\uc57c \ud568\n\n# OVN Northbound DB \ud655\uc778\novn-nbctl show\n# \ubaa8\ub4e0 \ub17c\ub9ac\uc801 \uc2a4\uc704\uce58\uc640 \ub77c\uc6b0\ud130 \ud655\uc778\n\n# OVN Southbound DB \ud655\uc778\novn-sbctl show\n# \ubaa8\ub4e0 chassis\uc640 port binding \ud655\uc778\n\n# \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc131 \ud14c\uc2a4\ud2b8\n# VM \uac04 ping \ud14c\uc2a4\ud2b8\n# Floating IP \uc811\uadfc \ud14c\uc2a4\ud2b8\n# \uc678\ubd80 \ub124\ud2b8\uc6cc\ud06c \uc811\uadfc \ud14c\uc2a4\ud2b8\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#3-4-ovn-stateless-nat-20252","title":"3-4. OVN Stateless NAT (2025.2 \uc2e0\uaddc)","text":"<p>Stateless NAT \uac1c\ub150:</p> <p>\uc804\ud1b5\uc801\uc778 Stateful NAT\ub294 Connection Tracking (conntrack)\uc744 \uc0ac\uc6a9\ud558\uc5ec \uac01 \uc5f0\uacb0\uc758 \uc0c1\ud0dc\ub97c \ucd94\uc801\ud569\ub2c8\ub2e4. Stateless NAT\ub294 \uc0c1\ud0dc \ucd94\uc801 \uc5c6\uc774 \ub2e8\uc21c\ud788 IP \uc8fc\uc18c\ub9cc \ubcc0\ud658\ud569\ub2c8\ub2e4.</p> <p>\uc7a5\uc810:</p> <ul> <li>DPDK \uae30\ubc18 \ubc30\ud3ec\uc5d0\uc11c \uc131\ub2a5 \ud5a5\uc0c1</li> <li>conntrack \uc624\ubc84\ud5e4\ub4dc \uc81c\uac70</li> <li>\ub192\uc740 PPS (Packets Per Second) \ucc98\ub9ac</li> </ul> <p>\uc124\uc815:</p> <pre><code>[ovn]\nstateless_nat_enabled = True\n</code></pre> <p>Stateful vs Stateless NAT \ube44\uad50:</p> <pre><code>Stateful NAT (\uae30\uc874):\nVM (10.0.1.5:5000) \u2192 NAT \u2192 \uc678\ubd80 (203.0.113.10:5000)\n                    \u2193\n              Conntrack Table\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502 10.0.1.5:5000 \u2190\u2192        \u2502\n         \u2502 203.0.113.10:5000       \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc751\ub2f5 \ud328\ud0b7:\n\uc678\ubd80 (203.0.113.10:5000) \u2192 NAT (Conntrack \uc870\ud68c) \u2192 VM (10.0.1.5:5000)\n\n\uc624\ubc84\ud5e4\ub4dc: Conntrack \ud14c\uc774\ube14 \uc870\ud68c, \uc0c1\ud0dc \uc720\uc9c0\n\n\nStateless NAT (2025.2):\nVM (10.0.1.5:5000) \u2192 NAT \u2192 \uc678\ubd80 (203.0.113.10:5000)\n                    (\ub2e8\uc21c IP \ubcc0\ud658)\n\n\uc751\ub2f5 \ud328\ud0b7:\n\uc678\ubd80 (203.0.113.10:5000) \u2192 NAT (\uc5ed\ubcc0\ud658) \u2192 VM (10.0.1.5:5000)\n                          (\uaddc\uce59 \uae30\ubc18)\n\n\uc624\ubc84\ud5e4\ub4dc: \uc5c6\uc74c (DPDK \ud658\uacbd\uc5d0\uc11c \ub9e4\uc6b0 \ube60\ub984)\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#part-4-security-groups","title":"Part 4: Security Groups \ubc0f \ubc29\ud654\ubcbd","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#4-1-security-groups","title":"4-1. Security Groups","text":"<p>Security Group \uad6c\uc870:</p> <pre><code>Security Group (\ubc29\ud654\ubcbd \uaddc\uce59 \uc9d1\ud569)\n\u251c\u2500\u2500 Ingress Rules (\uc778\ubc14\uc6b4\ub4dc)\n\u2502   \u251c\u2500\u2500 Rule 1: Allow TCP 22 from 0.0.0.0/0\n\u2502   \u251c\u2500\u2500 Rule 2: Allow TCP 80 from 0.0.0.0/0\n\u2502   \u2514\u2500\u2500 Rule 3: Allow ICMP from Security Group \"web-sg\"\n\u2514\u2500\u2500 Egress Rules (\uc544\uc6c3\ubc14\uc6b4\ub4dc)\n    \u2514\u2500\u2500 Rule 1: Allow All to 0.0.0.0/0 (\uae30\ubcf8)\n</code></pre> <p>Security Group \uc0dd\uc131 \ubc0f \uad00\ub9ac:</p> <pre><code># Security Group \uc0dd\uc131\nopenstack security group create \\\n  --description \"Web Server Security Group\" \\\n  web-sg\n\n# HTTP \ud5c8\uc6a9\nopenstack security group rule create \\\n  --protocol tcp \\\n  --dst-port 80 \\\n  --remote-ip 0.0.0.0/0 \\\n  web-sg\n\n# HTTPS \ud5c8\uc6a9\nopenstack security group rule create \\\n  --protocol tcp \\\n  --dst-port 443 \\\n  --remote-ip 0.0.0.0/0 \\\n  web-sg\n\n# SSH \ud5c8\uc6a9 (\ud2b9\uc815 IP\ub9cc)\nopenstack security group rule create \\\n  --protocol tcp \\\n  --dst-port 22 \\\n  --remote-ip 203.0.113.0/24 \\\n  web-sg\n\n# ICMP (Ping) \ud5c8\uc6a9\nopenstack security group rule create \\\n  --protocol icmp \\\n  --remote-ip 0.0.0.0/0 \\\n  web-sg\n\n# Security Group \uac04 \ud1b5\uc2e0 \ud5c8\uc6a9\nopenstack security group rule create \\\n  --protocol tcp \\\n  --dst-port 3306 \\\n  --remote-group web-sg \\\n  db-sg\n\n# \uaddc\uce59 \ubaa9\ub85d \ud655\uc778\nopenstack security group rule list web-sg\n</code></pre> <p>OVN\uc5d0\uc11c Security Group \uad6c\ud604:</p> <pre><code>OVN ACL (Access Control List)\ub85c \uad6c\ud604:\n\novn-nbctl acl-list &lt;logical-switch&gt;\n\n\uc608\uc81c \ucd9c\ub825:\n  from-lport  1002 (inport == \"port1\" &amp;&amp; ip4 &amp;&amp; tcp &amp;&amp; tcp.dst == 80) allow-related\n  from-lport  1002 (inport == \"port1\" &amp;&amp; ip4 &amp;&amp; tcp &amp;&amp; tcp.dst == 443) allow-related\n  from-lport  1002 (inport == \"port1\" &amp;&amp; ip4 &amp;&amp; tcp &amp;&amp; tcp.dst == 22 &amp;&amp; ip4.src == 203.0.113.0/24) allow-related\n  from-lport  1001 (inport == \"port1\" &amp;&amp; ip4) drop\n  to-lport    1002 (outport == \"port1\" &amp;&amp; ip4.dst == 10.0.1.5) allow-related\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#4-2-firewall-as-a-service-fwaas","title":"4-2. Firewall as a Service (FWaaS)","text":"<p>FWaaS v2 \uac1c\uc694:</p> <p>FWaaS\ub294 \ub77c\uc6b0\ud130 \ub808\ubca8\uc758 \ubc29\ud654\ubcbd \uc11c\ube44\uc2a4\ub85c, Security Group (VM \ub808\ubca8)\uacfc \ub2ec\ub9ac \ub77c\uc6b0\ud130\uc5d0 \uc801\uc6a9\ub429\ub2c8\ub2e4.</p> <p>FWaaS \uacc4\uce35 \uad6c\uc870:</p> <pre><code>Firewall Group\n\u251c\u2500\u2500 Ingress Firewall Policy\n\u2502   \u251c\u2500\u2500 Rule 1: Allow HTTP (Priority 100)\n\u2502   \u251c\u2500\u2500 Rule 2: Allow HTTPS (Priority 101)\n\u2502   \u2514\u2500\u2500 Rule 3: Deny All (Priority 1000)\n\u2514\u2500\u2500 Egress Firewall Policy\n    \u2514\u2500\u2500 Rule 1: Allow All (Priority 100)\n</code></pre> <p>FWaaS \uc124\uc815:</p> <pre><code># Firewall Rule \uc0dd\uc131\nopenstack firewall group rule create \\\n  --name allow-http \\\n  --protocol tcp \\\n  --destination-port 80 \\\n  --action allow\n\nopenstack firewall group rule create \\\n  --name allow-https \\\n  --protocol tcp \\\n  --destination-port 443 \\\n  --action allow\n\nopenstack firewall group rule create \\\n  --name deny-all \\\n  --action deny\n\n# Firewall Policy \uc0dd\uc131\nopenstack firewall group policy create \\\n  --firewall-rule allow-http \\\n  --firewall-rule allow-https \\\n  --firewall-rule deny-all \\\n  web-policy\n\n# Firewall Group \uc0dd\uc131 \ubc0f \ub77c\uc6b0\ud130\uc5d0 \uc801\uc6a9\nopenstack firewall group create \\\n  --name web-firewall \\\n  --ingress-firewall-policy web-policy \\\n  --port &lt;router-port-id&gt;\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#part-5-ml2-mechanism-driver","title":"Part 5: \ucee4\uc2a4\ud140 ML2 Mechanism Driver \uac1c\ubc1c","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#5-1-mechanism-driver-api","title":"5-1. Mechanism Driver API","text":"<p>\uae30\ubcf8 \uad6c\uc870:</p> <pre><code># my_mechanism_driver.py\nfrom neutron_lib.plugins.ml2 import api\nfrom neutron.plugins.ml2.drivers import mech_agent\n\nclass MyMechanismDriver(mech_agent.SimpleAgentMechanismDriverBase):\n    \"\"\"\ucee4\uc2a4\ud140 ML2 Mechanism Driver\"\"\"\n\n    def __init__(self):\n        super(MyMechanismDriver, self).__init__(\n            agent_type='my-agent',\n            vif_type='ovs',\n            vif_details={'port_filter': True}\n        )\n\n    def get_allowed_network_types(self, agent=None):\n        \"\"\"\uc9c0\uc6d0\ud558\ub294 \ub124\ud2b8\uc6cc\ud06c \ud0c0\uc785\"\"\"\n        return ['vlan', 'vxlan']\n\n    def get_mappings(self, agent):\n        \"\"\"\ubb3c\ub9ac\uc801 \ub124\ud2b8\uc6cc\ud06c \ub9e4\ud551\"\"\"\n        return agent.get('configurations', {}).get('bridge_mappings', {})\n\n    def create_network_precommit(self, context):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131 \uc804 (DB \ud2b8\ub79c\uc7ad\uc158 \ub0b4)\"\"\"\n        network = context.current\n        print(f\"Creating network: {network['id']}\")\n\n    def create_network_postcommit(self, context):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131 \ud6c4 (DB \ucee4\ubc0b \uc644\ub8cc)\"\"\"\n        network = context.current\n        # \uc2e4\uc81c \ub124\ud2b8\uc6cc\ud06c \uc124\uc815 \uc218\ud589\n        self._provision_network(network)\n\n    def update_network_precommit(self, context):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \uc5c5\ub370\uc774\ud2b8 \uc804\"\"\"\n        pass\n\n    def update_network_postcommit(self, context):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \uc5c5\ub370\uc774\ud2b8 \ud6c4\"\"\"\n        pass\n\n    def delete_network_precommit(self, context):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \uc0ad\uc81c \uc804\"\"\"\n        pass\n\n    def delete_network_postcommit(self, context):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \uc0ad\uc81c \ud6c4\"\"\"\n        network = context.current\n        self._cleanup_network(network)\n\n    def create_port_precommit(self, context):\n        \"\"\"\ud3ec\ud2b8 \uc0dd\uc131 \uc804\"\"\"\n        pass\n\n    def create_port_postcommit(self, context):\n        \"\"\"\ud3ec\ud2b8 \uc0dd\uc131 \ud6c4\"\"\"\n        port = context.current\n        self._bind_port(port)\n\n    def update_port_precommit(self, context):\n        \"\"\"\ud3ec\ud2b8 \uc5c5\ub370\uc774\ud2b8 \uc804\"\"\"\n        pass\n\n    def update_port_postcommit(self, context):\n        \"\"\"\ud3ec\ud2b8 \uc5c5\ub370\uc774\ud2b8 \ud6c4\"\"\"\n        pass\n\n    def delete_port_precommit(self, context):\n        \"\"\"\ud3ec\ud2b8 \uc0ad\uc81c \uc804\"\"\"\n        pass\n\n    def delete_port_postcommit(self, context):\n        \"\"\"\ud3ec\ud2b8 \uc0ad\uc81c \ud6c4\"\"\"\n        port = context.current\n        self._unbind_port(port)\n\n    def bind_port(self, context):\n        \"\"\"\ud3ec\ud2b8 \ubc14\uc778\ub529\"\"\"\n        for segment in context.segments_to_bind:\n            if self._check_segment(segment):\n                context.set_binding(\n                    segment[api.ID],\n                    self.vif_type,\n                    self.vif_details\n                )\n                return\n\n    # \ucee4\uc2a4\ud140 \uba54\uc11c\ub4dc\n    def _provision_network(self, network):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \ud504\ub85c\ube44\uc800\ub2dd (\ud558\ub4dc\uc6e8\uc5b4/SDN \uc124\uc815)\"\"\"\n        # TODO: \uc2e4\uc81c \ub124\ud2b8\uc6cc\ud06c \uc7a5\ube44 \uc124\uc815\n        pass\n\n    def _cleanup_network(self, network):\n        \"\"\"\ub124\ud2b8\uc6cc\ud06c \uc815\ub9ac\"\"\"\n        # TODO: \ub124\ud2b8\uc6cc\ud06c \uc7a5\ube44\uc5d0\uc11c \uc124\uc815 \uc81c\uac70\n        pass\n\n    def _bind_port(self, port):\n        \"\"\"\ud3ec\ud2b8 \ubc14\uc778\ub529 (VLAN \ud560\ub2f9 \ub4f1)\"\"\"\n        # TODO: \ud3ec\ud2b8\uc5d0 VLAN \ud560\ub2f9\n        pass\n\n    def _unbind_port(self, port):\n        \"\"\"\ud3ec\ud2b8 \uc5b8\ubc14\uc778\ub529\"\"\"\n        # TODO: VLAN \ud560\ub2f9 \ud574\uc81c\n        pass\n\n    def _check_segment(self, segment):\n        \"\"\"\uc138\uadf8\uba3c\ud2b8 \uc9c0\uc6d0 \uc5ec\ubd80 \ud655\uc778\"\"\"\n        return segment[api.NETWORK_TYPE] in self.get_allowed_network_types()\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#5-2-entry-point","title":"5-2. Entry Point \ub4f1\ub85d","text":"<p>setup.cfg:</p> <pre><code>[entry_points]\nneutron.ml2.mechanism_drivers =\n    my_driver = my_neutron_plugin.mechanism_driver:MyMechanismDriver\n\nneutron.ml2.type_drivers =\n    my_type = my_neutron_plugin.type_driver:MyTypeDriver\n</code></pre> <p>ml2_conf.ini\uc5d0 \ucd94\uac00:</p> <pre><code>[ml2]\nmechanism_drivers = ovn,my_driver\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#5-3","title":"5-3. \uc5d0\uc774\uc804\ud2b8\uc640 \ud1b5\uc2e0","text":"<p>RPC \uae30\ubc18 \ud1b5\uc2e0 (OVS \uc2a4\ud0c0\uc77c):</p> <pre><code># mechanism_driver.py\nfrom neutron.plugins.ml2.drivers import mech_agent\n\nclass MyDriver(mech_agent.SimpleAgentMechanismDriverBase):\n\n    def update_port_postcommit(self, context):\n        \"\"\"\ud3ec\ud2b8 \uc5c5\ub370\uc774\ud2b8\ub97c \uc5d0\uc774\uc804\ud2b8\uc5d0 \ud1b5\uc9c0\"\"\"\n        port = context.current\n\n        # RPC Cast (\ube44\ub3d9\uae30)\n        self.notifier.port_update(\n            context._plugin_context,\n            port,\n            context.network.current,\n            context.host\n        )\n</code></pre> <p>\uc5d0\uc774\uc804\ud2b8 \uce21 \uc218\uc2e0:</p> <pre><code># my_agent.py\nfrom neutron.agent import rpc as agent_rpc\n\nclass MyNeutronAgent(object):\n\n    def __init__(self):\n        self.setup_rpc()\n\n    def setup_rpc(self):\n        \"\"\"RPC \uc124\uc815\"\"\"\n        self.endpoints = [self]\n        self.topic = 'my-agent'\n\n        self.connection = agent_rpc.create_consumers(\n            self.endpoints,\n            self.topic,\n            [[topics.PORT, topics.UPDATE]]\n        )\n\n    def port_update(self, context, **kwargs):\n        \"\"\"\ud3ec\ud2b8 \uc5c5\ub370\uc774\ud2b8 \uc218\uc2e0\"\"\"\n        port = kwargs.get('port')\n        print(f\"Received port update: {port['id']}\")\n\n        # \uc2e4\uc81c \ud3ec\ud2b8 \uc124\uc815 \uc218\ud589\n        self._configure_port(port)\n\n    def _configure_port(self, port):\n        \"\"\"\ud3ec\ud2b8 \uc124\uc815 (OVS, VLAN \ub4f1)\"\"\"\n        # TODO: \uc2e4\uc81c \ud3ec\ud2b8 \uc124\uc815\n        pass\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#1-neutron-vm","title":"\uc2e4\uc2b5 1: Neutron \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131 \ubc0f VM \uc5f0\uacb0","text":"<p>\ubaa9\ud45c: Neutron API\ub85c \uc644\uc804\ud55c \ub124\ud2b8\uc6cc\ud06c \ud658\uacbd \uad6c\uc131</p> <pre><code>#!/bin/bash\n# create-network-env.sh\n\nset -e\n\nPROJECT=\"demo\"\n\necho \"=== Creating Network Environment ===\"\n\n# 1. Internal \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131\necho \"[1] Creating internal network...\"\nNET_ID=$(openstack network create \\\n  --project $PROJECT \\\n  demo-network \\\n  -f value -c id)\n\necho \"Network created: $NET_ID\"\n\n# 2. \uc11c\ube0c\ub137 \uc0dd\uc131\necho \"[2] Creating subnet...\"\nSUBNET_ID=$(openstack subnet create \\\n  --network $NET_ID \\\n  --subnet-range 192.168.100.0/24 \\\n  --gateway 192.168.100.1 \\\n  --dns-nameserver 8.8.8.8 \\\n  --allocation-pool start=192.168.100.10,end=192.168.100.200 \\\n  demo-subnet \\\n  -f value -c id)\n\necho \"Subnet created: $SUBNET_ID\"\n\n# 3. \ub77c\uc6b0\ud130 \uc0dd\uc131\necho \"[3] Creating router...\"\nROUTER_ID=$(openstack router create demo-router -f value -c id)\n\n# 4. \ub77c\uc6b0\ud130\uc5d0 \uc11c\ube0c\ub137 \uc5f0\uacb0\necho \"[4] Connecting subnet to router...\"\nopenstack router add subnet $ROUTER_ID $SUBNET_ID\n\n# 5. \uc678\ubd80 \uac8c\uc774\ud2b8\uc6e8\uc774 \uc124\uc815\necho \"[5] Setting external gateway...\"\nopenstack router set --external-gateway public $ROUTER_ID\n\n# 6. Security Group \uc0dd\uc131\necho \"[6] Creating security group...\"\nSG_ID=$(openstack security group create \\\n  --description \"Allow SSH and ICMP\" \\\n  demo-sg \\\n  -f value -c id)\n\n# SSH \ud5c8\uc6a9\nopenstack security group rule create \\\n  --protocol tcp \\\n  --dst-port 22 \\\n  --remote-ip 0.0.0.0/0 \\\n  $SG_ID\n\n# ICMP \ud5c8\uc6a9\nopenstack security group rule create \\\n  --protocol icmp \\\n  $SG_ID\n\n# 7. \ud3ec\ud2b8 \uc0dd\uc131 (\ud2b9\uc815 IP \uc9c0\uc815)\necho \"[7] Creating port...\"\nPORT_ID=$(openstack port create \\\n  --network $NET_ID \\\n  --fixed-ip subnet=$SUBNET_ID,ip-address=192.168.100.50 \\\n  --security-group $SG_ID \\\n  demo-port \\\n  -f value -c id)\n\necho \"Port created: $PORT_ID (192.168.100.50)\"\n\n# 8. VM \uc0dd\uc131\necho \"[8] Creating VM...\"\nopenstack server create \\\n  --flavor m1.small \\\n  --image ubuntu-22.04 \\\n  --port $PORT_ID \\\n  --key-name my-keypair \\\n  demo-vm\n\n# 9. Floating IP \ud560\ub2f9\necho \"[9] Allocating floating IP...\"\nFIP=$(openstack floating ip create public -f value -c floating_ip_address)\nopenstack server add floating ip demo-vm $FIP\n\necho \"\"\necho \"=== Network Environment Created ===\"\necho \"VM: demo-vm\"\necho \"Internal IP: 192.168.100.50\"\necho \"Floating IP: $FIP\"\necho \"\"\necho \"Connect via: ssh ubuntu@$FIP\"\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2-ovn","title":"\uc2e4\uc2b5 2: OVN \ub124\ud2b8\uc6cc\ud06c \ub514\ubc84\uae45","text":"<p>\ubaa9\ud45c: OVN \ub17c\ub9ac \ub124\ud2b8\uc6cc\ud06c \ubc0f Flow \ubd84\uc11d</p> <pre><code>#!/bin/bash\n# ovn-debug.sh - OVN Network Debugging\n\nset -e\n\necho \"=== OVN Network Debugging ===\"\n\n# 1. Logical Switches \ud655\uc778\necho -e \"\\n[1] Logical Switches:\"\novn-nbctl ls-list\n\n# 2. Logical Switch Ports \ud655\uc778\necho -e \"\\n[2] Logical Switch Ports:\"\nLS_UUID=$(ovn-nbctl ls-list | head -1 | awk '{print $1}')\novn-nbctl lsp-list $LS_UUID\n\n# 3. Logical Routers \ud655\uc778\necho -e \"\\n[3] Logical Routers:\"\novn-nbctl lr-list\n\n# 4. Router Ports \ud655\uc778\necho -e \"\\n[4] Router Ports:\"\nLR_UUID=$(ovn-nbctl lr-list | head -1 | awk '{print $1}')\novn-nbctl lrp-list $LR_UUID\n\n# 5. ACLs \ud655\uc778 (Security Groups)\necho -e \"\\n[5] ACLs:\"\novn-nbctl acl-list $LS_UUID\n\n# 6. NAT \uaddc\uce59 \ud655\uc778\necho -e \"\\n[6] NAT Rules:\"\novn-nbctl lr-nat-list $LR_UUID\n\n# 7. Chassis \ud655\uc778 (Compute Nodes)\necho -e \"\\n[7] Chassis:\"\novn-sbctl chassis-list\n\n# 8. Port Bindings \ud655\uc778\necho -e \"\\n[8] Port Bindings:\"\novn-sbctl list Port_Binding\n\n# 9. OVS Flows \ud655\uc778\necho -e \"\\n[9] OVS Flows (br-int):\"\novs-ofctl dump-flows br-int -O OpenFlow13 | head -20\n\n# 10. Geneve Tunnels \ud655\uc778\necho -e \"\\n[10] Geneve Tunnels:\"\novs-vsctl show | grep -A 5 genev_sys\n\necho -e \"\\n=== Debugging Complete ===\"\n</code></pre> <p>OVN \ud2b8\ub7ec\ube14\uc288\ud305 \uccb4\ud06c\ub9ac\uc2a4\ud2b8:</p> <pre><code># \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \uc548 \ub428?\n\n# 1. \ud3ec\ud2b8\uac00 OVN\uc5d0 \ub4f1\ub85d\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\novn-nbctl show | grep &lt;port-id&gt;\n\n# 2. \ud3ec\ud2b8\uac00 chassis\uc5d0 \ubc14\uc778\ub529\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\novn-sbctl find Port_Binding logical_port=&lt;port-id&gt;\n\n# 3. OVS\uc5d0\uc11c \ud3ec\ud2b8 \ud655\uc778\novs-vsctl show | grep &lt;port-id&gt;\n\n# 4. Security Group (ACL) \ud655\uc778\novn-nbctl acl-list &lt;logical-switch-uuid&gt;\n\n# 5. OVS Flow \ud655\uc778\novs-ofctl dump-flows br-int table=0\n\n# 6. Geneve \ud130\ub110 \ud655\uc778\novs-vsctl list Interface genev_sys_6081\n\n# 7. OVN Controller \ub85c\uadf8 \ud655\uc778\njournalctl -u ovn-controller -f\n\n# 8. Neutron \uc11c\ubc84 \ub85c\uadf8 \ud655\uc778\njournalctl -u neutron-server -f\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#3-ml2-mechanism-driver","title":"\uc2e4\uc2b5 3: \ucee4\uc2a4\ud140 ML2 Mechanism Driver \uac1c\ubc1c","text":"<p>\ubaa9\ud45c: \uac04\ub2e8\ud55c \ub85c\uae45 Mechanism Driver \uc791\uc131</p> <p>\ub514\ub809\ud1a0\ub9ac \uad6c\uc870:</p> <pre><code>my-neutron-plugin/\n\u251c\u2500\u2500 setup.py\n\u251c\u2500\u2500 setup.cfg\n\u2514\u2500\u2500 my_neutron_plugin/\n    \u251c\u2500\u2500 __init__.py\n    \u2514\u2500\u2500 mechanism_driver.py\n</code></pre> <p>setup.py:</p> <pre><code>from setuptools import setup, find_packages\n\nsetup(\n    name='my-neutron-plugin',\n    version='1.0.0',\n    packages=find_packages(),\n    install_requires=[\n        'neutron-lib&gt;=2.0.0',\n        'oslo.log&gt;=4.0.0',\n    ],\n)\n</code></pre> <p>setup.cfg:</p> <pre><code>[metadata]\nname = my-neutron-plugin\nsummary = Custom Neutron ML2 Mechanism Driver\nauthor = Your Name\n\n[entry_points]\nneutron.ml2.mechanism_drivers =\n    logging = my_neutron_plugin.mechanism_driver:LoggingMechanismDriver\n</code></pre> <p>mechanism_driver.py:</p> <pre><code>from neutron_lib.plugins.ml2 import api\nfrom oslo_log import log as logging\n\nLOG = logging.getLogger(__name__)\n\nclass LoggingMechanismDriver(api.MechanismDriver):\n    \"\"\"\ubaa8\ub4e0 \ub124\ud2b8\uc6cc\ud06c \uc774\ubca4\ud2b8\ub97c \ub85c\uae45\ud558\ub294 Mechanism Driver\"\"\"\n\n    def initialize(self):\n        \"\"\"\ub4dc\ub77c\uc774\ubc84 \ucd08\uae30\ud654\"\"\"\n        LOG.info(\"LoggingMechanismDriver initialized\")\n\n    def create_network_precommit(self, context):\n        network = context.current\n        LOG.info(f\"[PRECOMMIT] Creating network: {network['id']} \"\n                 f\"name={network['name']} type={network.get('provider:network_type')}\")\n\n    def create_network_postcommit(self, context):\n        network = context.current\n        LOG.info(f\"[POSTCOMMIT] Network created: {network['id']}\")\n\n    def update_network_precommit(self, context):\n        original = context.original\n        current = context.current\n        LOG.info(f\"[PRECOMMIT] Updating network: {current['id']} \"\n                 f\"from {original} to {current}\")\n\n    def update_network_postcommit(self, context):\n        network = context.current\n        LOG.info(f\"[POSTCOMMIT] Network updated: {network['id']}\")\n\n    def delete_network_precommit(self, context):\n        network = context.current\n        LOG.info(f\"[PRECOMMIT] Deleting network: {network['id']}\")\n\n    def delete_network_postcommit(self, context):\n        network = context.current\n        LOG.info(f\"[POSTCOMMIT] Network deleted: {network['id']}\")\n\n    def create_subnet_precommit(self, context):\n        subnet = context.current\n        LOG.info(f\"[PRECOMMIT] Creating subnet: {subnet['id']} \"\n                 f\"cidr={subnet['cidr']}\")\n\n    def create_subnet_postcommit(self, context):\n        subnet = context.current\n        LOG.info(f\"[POSTCOMMIT] Subnet created: {subnet['id']}\")\n\n    def create_port_precommit(self, context):\n        port = context.current\n        LOG.info(f\"[PRECOMMIT] Creating port: {port['id']} \"\n                 f\"device_id={port.get('device_id')}\")\n\n    def create_port_postcommit(self, context):\n        port = context.current\n        LOG.info(f\"[POSTCOMMIT] Port created: {port['id']} \"\n                 f\"fixed_ips={port['fixed_ips']}\")\n\n    def update_port_precommit(self, context):\n        port = context.current\n        LOG.info(f\"[PRECOMMIT] Updating port: {port['id']}\")\n\n    def update_port_postcommit(self, context):\n        port = context.current\n        LOG.info(f\"[POSTCOMMIT] Port updated: {port['id']}\")\n\n    def delete_port_precommit(self, context):\n        port = context.current\n        LOG.info(f\"[PRECOMMIT] Deleting port: {port['id']}\")\n\n    def delete_port_postcommit(self, context):\n        port = context.current\n        LOG.info(f\"[POSTCOMMIT] Port deleted: {port['id']}\")\n</code></pre> <p>\uc124\uce58 \ubc0f \ud65c\uc131\ud654:</p> <pre><code># \uc124\uce58\ncd my-neutron-plugin\npip install -e .\n\n# ML2 \uc124\uc815\uc5d0 \ucd94\uac00\ncat &gt;&gt; /etc/neutron/plugins/ml2/ml2_conf.ini &lt;&lt;EOF\n[ml2]\nmechanism_drivers = ovn,logging\nEOF\n\n# Neutron \uc11c\ubc84 \uc7ac\uc2dc\uc791\nsystemctl restart neutron-server\n\n# \ub85c\uadf8 \ud655\uc778\ntail -f /var/log/neutron/neutron-server.log | grep LoggingMechanismDriver\n</code></pre> <p>\ud14c\uc2a4\ud2b8:</p> <pre><code># \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131\nopenstack network create test-network\n\n# \ub85c\uadf8 \ud655\uc778 (\ub2e4\uc74c\uacfc \uac19\uc774 \ucd9c\ub825\ub428):\n# [PRECOMMIT] Creating network: &lt;uuid&gt; name=test-network type=vxlan\n# [POSTCOMMIT] Network created: &lt;uuid&gt;\n</code></pre>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_4","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_5","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>OpenStack Neutron:</p> <ul> <li>Neutron Documentation (2025.1)</li> <li>ML2 Plugin Configuration</li> <li>Neutron API Reference</li> <li>Neutron Release Notes 2025.2</li> </ul> <p>OVN:</p> <ul> <li>OVN Architecture</li> <li>OVN Northbound Database Schema</li> <li>OVN Southbound Database Schema</li> </ul> <p>OpenStack Releases:</p> <ul> <li>Dalmatian Release (2024.2) Highlights</li> <li>Epoxy Release (2025.1) Schedule</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_6","title":"\ube14\ub85c\uadf8 \ubc0f \ud29c\ud1a0\ub9ac\uc5bc","text":"<p>\ub9c8\uc774\uadf8\ub808\uc774\uc158:</p> <ul> <li>Neutron Migration from LinuxBridge to OVN (Medium, Nov 2025)</li> <li>OpenStack Dalmatian: Everything You Need To Know (OpenMetal)</li> </ul> <p>\uac1c\ubc1c:</p> <ul> <li>Contributing to Neutron</li> <li>Creating Custom Neutron Plugins (Alibaba Cloud)</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_7","title":"\ub3c4\uc11c","text":"<ul> <li>OpenStack Networking Essentials - James Denton</li> <li>Learning OpenStack Networking - James Denton, Sriram Subramanian</li> <li>OpenStack in Action - V. K. Cody Bumgardner</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_8","title":"\ucee4\ubba4\ub2c8\ud2f0","text":"<ul> <li>OpenStack Neutron Wiki</li> <li>OpenStack IRC (#openstack-neutron)</li> <li>OpenStack Mailing Lists</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_9","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#neutron","title":"Neutron \uc544\ud0a4\ud14d\ucc98","text":"<ul> <li> Neutron \ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8 (Server, ML2, L3, DHCP, Metadata) \uc774\ud574</li> <li> \ub124\ud2b8\uc6cc\ud06c \ub9ac\uc18c\uc2a4 \uacc4\uce35 (Network, Subnet, Port) \ud30c\uc545</li> <li> Neutron API\ub97c \ud65c\uc6a9\ud55c \ub124\ud2b8\uc6cc\ud06c \uad00\ub9ac \uacbd\ud5d8</li> <li> Security Groups \uc124\uc815 \ubc0f \uad00\ub9ac \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#ml2","title":"ML2 \ud50c\ub7ec\uadf8\uc778","text":"<ul> <li> Type Driver vs Mechanism Driver \ucc28\uc774\uc810 \uc774\ud574</li> <li> VLAN, VXLAN, Geneve \ub124\ud2b8\uc6cc\ud06c \ud0c0\uc785 \uc774\ud574</li> <li> ML2 \uc124\uc815 \ud30c\uc77c \uc791\uc131 \ubc0f \uad00\ub9ac \uacbd\ud5d8</li> <li> L2 Population \uac1c\ub150 \ubc0f BUM \ud2b8\ub798\ud53d \ucd5c\uc801\ud654 \uc774\ud574</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#ovn","title":"OVN","text":"<ul> <li> OVN vs OVS \uc544\ud0a4\ud14d\ucc98 \ucc28\uc774\uc810 \uc774\ud574</li> <li> Northbound/Southbound Database \uad6c\uc870 \ud30c\uc545</li> <li> OVN \uc124\uce58 \ubc0f \uc124\uc815 \uacbd\ud5d8</li> <li> LinuxBridge/OVS\uc5d0\uc11c OVN\uc73c\ub85c \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uacbd\ud5d8</li> <li> Stateless NAT \uac1c\ub150 \uc774\ud574 (2025.2 \uc2e0\uaddc)</li> <li> OVN \ub514\ubc84\uae45 (ovn-nbctl, ovn-sbctl) \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_10","title":"\ubcf4\uc548","text":"<ul> <li> Security Groups \uc0dd\uc131 \ubc0f \uaddc\uce59 \uad00\ub9ac</li> <li> FWaaS (Firewall as a Service) \uc124\uc815 \uacbd\ud5d8</li> <li> Security Group\uacfc FWaaS \ucc28\uc774\uc810 \uc774\ud574</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_11","title":"\ud50c\ub7ec\uadf8\uc778 \uac1c\ubc1c","text":"<ul> <li> ML2 Mechanism Driver API \uc774\ud574</li> <li> \ucee4\uc2a4\ud140 Mechanism Driver \uac1c\ubc1c \uacbd\ud5d8</li> <li> Entry Point \ub4f1\ub85d \ubc0f \uc124\uce58 \uacbd\ud5d8</li> <li> RPC\ub97c \ud1b5\ud55c \uc5d0\uc774\uc804\ud2b8 \ud1b5\uc2e0 \uc774\ud574</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_12","title":"\uc885\ud569 \uc5ed\ub7c9","text":"<ul> <li> \uba40\ud2f0\ud14c\ub10c\ud2b8 \ub124\ud2b8\uc6cc\ud06c \ud658\uacbd \uc124\uacc4 \uac00\ub2a5</li> <li> Neutron \ud2b8\ub7ec\ube14\uc288\ud305 \ubc0f \uc131\ub2a5 \ucd5c\uc801\ud654 \uacbd\ud5d8</li> <li> \ud504\ub85c\ub355\uc158 \ud658\uacbd OVN \ubc30\ud3ec \uacbd\ud5d8</li> <li> Neutron \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ub85c\uadf8 \ubd84\uc11d \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch3.OpenStack_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_13","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch3. OpenStack \ub124\ud2b8\uc6cc\ud0b9\uc744 \uc644\ub8cc\ud588\ub2e4\uba74, \ub2e4\uc74c \ud559\uc2b5 \uc8fc\uc81c\ub85c \uc9c4\ud589\ud558\uc138\uc694:</p> <p>Ch4. \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654</p> <ul> <li>NFV (Network Functions Virtualization)</li> <li>VNF (Virtual Network Functions)</li> <li>SDN Controllers (OpenDaylight, ONOS)</li> <li>Network Service Chaining</li> <li>ETSI MANO \uc544\ud0a4\ud14d\ucc98</li> </ul> <p>\ub610\ub294 \uc2ec\ud654 \ud559\uc2b5:</p> <ul> <li>Neutron \uace0\uae09: DVR (Distributed Virtual Router), L3 HA</li> <li>OpenStack Ironic: Bare Metal \ub124\ud2b8\uc6cc\ud0b9</li> <li>Kuryr: Kubernetes\uc640 Neutron \ud1b5\ud569</li> <li>\uace0\uae09 \ubcf4\uc548: Network Segmentation, Micro-segmentation</li> </ul> <p>\uc2e4\ubb34 \ud504\ub85c\uc81d\ud2b8 \uc544\uc774\ub514\uc5b4:</p> <ol> <li>\uba40\ud2f0 \ub9ac\uc804 OpenStack \ub124\ud2b8\uc6cc\ud06c</li> <li>\uc5ec\ub7ec \ub9ac\uc804 \uac04 L2/L3 \uc5f0\uacb0</li> <li>VPN \uae30\ubc18 \uc0ac\uc774\ud2b8 \uc5f0\uacb0</li> <li> <p>\uae00\ub85c\ubc8c \ub85c\ub4dc \ubc38\ub7f0\uc2f1</p> </li> <li> <p>OVN \uae30\ubc18 \uace0\uc131\ub2a5 \ud074\ub77c\uc6b0\ub4dc</p> </li> <li>DPDK + OVN \ud1b5\ud569</li> <li>SR-IOV \ub124\ud2b8\uc6cc\ud0b9</li> <li> <p>\uc131\ub2a5 \ubca4\uce58\ub9c8\ud06c \ubc0f \ud29c\ub2dd</p> </li> <li> <p>Neutron \ubaa8\ub2c8\ud130\ub9c1 \ud50c\ub7ab\ud3fc</p> </li> <li>OVN Flow \ubd84\uc11d</li> <li>\ub124\ud2b8\uc6cc\ud06c \ud1a0\ud3f4\ub85c\uc9c0 \uc2dc\uac01\ud654</li> <li>\uc790\ub3d9 \uc7a5\uc560 \uac10\uc9c0</li> </ol> <p>OpenStack Neutron\uc740 \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud0b9\uc758 \ud575\uc2ec\uc785\ub2c8\ub2e4. \uacc4\uc18d\ud574\uc11c \ud559\uc2b5\ud558\uace0 \uc2e4\uc2b5\ud558\uba74\uc11c \ub300\uaddc\ubaa8 \ud074\ub77c\uc6b0\ub4dc \uc778\ud504\ub77c\ub97c \uc124\uacc4\ud558\uace0 \uc6b4\uc601\ud558\ub294 \uc804\ubb38\uac00\ub85c \uc131\uc7a5\ud558\uc138\uc694!</p>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/","title":"Ch4. \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654","text":""},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654\ub294 \ubb3c\ub9ac\uc801 \ub124\ud2b8\uc6cc\ud06c \uc7a5\ube44\uc758 \uae30\ub2a5\uc744 \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub85c \uad6c\ud604\ud558\uc5ec \uc720\uc5f0\uc131, \ud655\uc7a5\uc131, \ube44\uc6a9 \ud6a8\uc728\uc131\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. NFV (Network Functions Virtualization)\uc640 SDN (Software-Defined Networking)\uc740 \ud604\ub300 \ud074\ub77c\uc6b0\ub4dc \ub124\ud2b8\uc6cc\ud0b9\uc758 \ud575\uc2ec \uae30\uc220\ub85c, \ud1b5\uc2e0 \uc0ac\uc5c5\uc790\uc640 \uc5d4\ud130\ud504\ub77c\uc774\uc988 \ubaa8\ub450\uc5d0\uac8c \ud601\uc2e0\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c \uad00\ub9ac \ubc29\uc2dd\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, ETSI NFV Release 5\ub294 6G \ub124\ud2b8\uc6cc\ud06c \uc9c0\uc6d0\uacfc AI \uae30\ubc18 \uc790\uc728 \ub124\ud2b8\uc6cc\ud06c \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158\uc744 \ub3c4\uc785\ud588\uc73c\uba70, CNF (Container Network Functions)\uac00 \uae30\uc874 VNF\ub97c \ub300\uccb4\ud558\ub294 \ucd94\uc138\uc785\ub2c8\ub2e4. SDN \ucee8\ud2b8\ub864\ub7ec\ub294 \uc131\ub2a5\uacfc \ud655\uc7a5\uc131\uc774 \ud06c\uac8c \uac1c\uc120\ub418\uc5b4 \ub300\uaddc\ubaa8 \ud504\ub85c\ub355\uc158 \ud658\uacbd\uc5d0\uc11c \uc548\uc815\uc801\uc73c\ub85c \uc6b4\uc601\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc774 \ucc55\ud130\uc5d0\uc11c\ub294 NFV/SDN \uc544\ud0a4\ud14d\ucc98, VNF \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158, Service Function Chaining, \uadf8\ub9ac\uace0 \uc8fc\uc694 SDN \ucee8\ud2b8\ub864\ub7ec \ube44\uad50\uae4c\uc9c0 \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654\uc758 \ubaa8\ub4e0 \uce21\uba74\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>NFV\uc640 SDN\uc758 \ucc28\uc774\uc810 \ubc0f \uc0c1\ud638 \ubcf4\uc644\uc131 \uc774\ud574</li> <li>ETSI MANO \uc544\ud0a4\ud14d\ucc98 \ubc0f 2025 \uc5c5\ub370\uc774\ud2b8 \ud30c\uc545</li> <li>VNF vs CNF \ube44\uad50 \ubc0f \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc804\ub7b5 \uc218\ub9bd</li> <li>Service Function Chaining (SFC) \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li>SDN \ucee8\ud2b8\ub864\ub7ec (OpenDaylight, ONOS, Ryu) \uc120\ud0dd \ubc0f \ubc30\ud3ec</li> <li>NFV \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158 \ub3c4\uad6c \ud65c\uc6a9</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#part-1-nfv-network-functions-virtualization","title":"Part 1: NFV (Network Functions Virtualization)","text":""},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#1-1-nfv","title":"1-1. NFV \uac1c\uc694","text":"<p>NFV\ub780?</p> <p>NFV\ub294 \ub77c\uc6b0\ud130, \ubc29\ud654\ubcbd, \ub85c\ub4dc \ubc38\ub7f0\uc11c \ub4f1\uc758 \ub124\ud2b8\uc6cc\ud06c \uae30\ub2a5\uc744 \uc804\uc6a9 \ud558\ub4dc\uc6e8\uc5b4 \ub300\uc2e0 \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub85c \uad6c\ud604\ud558\uc5ec \uc0c1\uc6a9 \uc11c\ubc84\uc5d0\uc11c \uc2e4\ud589\ud558\ub294 \uae30\uc220\uc785\ub2c8\ub2e4.</p> <p>\uc804\ud1b5\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c vs NFV:</p> <pre><code>\uc804\ud1b5\uc801\uc778 \ub124\ud2b8\uc6cc\ud06c:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  \uc804\uc6a9 \ubc29\ud654\ubcbd \u2502  \u2502  \uc804\uc6a9 \ub77c\uc6b0\ud130 \u2502  \u2502  \uc804\uc6a9 LB    \u2502\n\u2502  (\ud558\ub4dc\uc6e8\uc5b4)  \u2502\u2192\u2502  (\ud558\ub4dc\uc6e8\uc5b4)  \u2502\u2192\u2502  (\ud558\ub4dc\uc6e8\uc5b4)  \u2502\n\u2502  $50,000    \u2502  \u2502  $100,000   \u2502  \u2502  $30,000    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ubb38\uc81c\uc810:\n- \ub192\uc740 CAPEX (\uc790\ubcf8 \uc9c0\ucd9c)\n- \uae34 \ubc30\ud3ec \uc2dc\uac04 (\uc8fc/\uc6d4 \ub2e8\uc704)\n- \ud655\uc7a5\uc131 \uc81c\ud55c\n- \ubca4\ub354 \uc885\uc18d\n\n\nNFV \ub124\ud2b8\uc6cc\ud06c:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        \uc0c1\uc6a9 \uc11c\ubc84 (x86/ARM)                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502vFirewall \u2502  \u2502 vRouter  \u2502  \u2502   vLB    \u2502 \u2502\n\u2502  \u2502   (VM)   \u2502\u2192 \u2502   (VM)   \u2502\u2192 \u2502   (VM)   \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502        Hypervisor (KVM, ESXi)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n\u2713 \ub0ae\uc740 CAPEX (1/5~1/10 \uc218\uc900)\n\u2713 \ube60\ub978 \ubc30\ud3ec (\ubd84/\uc2dc\uac04 \ub2e8\uc704)\n\u2713 \ud0c4\ub825\uc801 \ud655\uc7a5\n\u2713 \uba40\ud2f0 \ubca4\ub354 \uc9c0\uc6d0\n\u2713 \uc790\ub3d9\ud654 \uac00\ub2a5\n</code></pre> <p>NFV \uc0ac\uc6a9 \uc0ac\ub840:</p> <ul> <li>Telco (\ud1b5\uc2e0 \uc0ac\uc5c5\uc790):</li> <li>vEPC (Virtual Evolved Packet Core)</li> <li>vIMS (Virtual IP Multimedia Subsystem)</li> <li> <p>vCPE (Virtual Customer Premises Equipment)</p> </li> <li> <p>Enterprise:</p> </li> <li>Virtual Firewall</li> <li>Virtual Load Balancer</li> <li>Virtual WAN Optimizer</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#1-2-etsi-mano","title":"1-2. ETSI MANO \uc544\ud0a4\ud14d\ucc98","text":"<p>**ETSI (European Telecommunications Standards Institute)**\ub294 NFV\uc758 \ud45c\uc900\uc744 \uc815\uc758\ud558\uba70, MANO (Management and Orchestration)\ub294 NFV \uad00\ub9ac \ud504\ub808\uc784\uc6cc\ud06c\uc785\ub2c8\ub2e4.</p> <p>ETSI NFV-MANO \uc544\ud0a4\ud14d\ucc98 (2025):</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      OSS/BSS                               \u2502\n\u2502         (\uc6b4\uc601 \uc9c0\uc6d0 \uc2dc\uc2a4\ud15c / \ube44\uc988\ub2c8\uc2a4 \uc9c0\uc6d0 \uc2dc\uc2a4\ud15c)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                         \u2502 Or-Or (Orchestration)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              NFV Orchestrator (NFVO)                       \u2502\n\u2502  - Network Service Lifecycle Management                   \u2502\n\u2502  - VNF Package Onboarding                                 \u2502\n\u2502  - Resource Orchestration                                 \u2502\n\u2502  - 2025: AI-driven Autonomous Orchestration (Release 5)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502 Or-Vnfm                          \u2502 Or-Vi\n          \u2502                                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  VNF Manager (VNFM)    \u2502        \u2502 VIM (Virtualized        \u2502\n\u2502  - VNF Lifecycle Mgmt  \u2502        \u2502 Infrastructure Manager) \u2502\n\u2502  - VNF Configuration   \u2502        \u2502 - Compute/Storage/Net   \u2502\n\u2502  - Fault Management    \u2502        \u2502 - Resource Management   \u2502\n\u2502  - 2025: Intent-based  \u2502        \u2502 - 2025: Multi-VIM       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502 Ve-Vnfm                          \u2502 Vi-Vnfm\n          \u2502                                  \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              NFVI (NFV Infrastructure)                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502           Virtual Compute (VMs/Containers)           \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502           Virtual Storage (Block/Object)             \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502           Virtual Network (Neutron/OVN)              \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                                                             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502      Hardware Resources (Compute/Storage/Network)    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>\ud575\uc2ec \ucef4\ud3ec\ub10c\ud2b8:</p> <p>1. NFVO (NFV Orchestrator):</p> <ul> <li>\ub124\ud2b8\uc6cc\ud06c \uc11c\ube44\uc2a4 \uc804\uccb4 \uc0dd\uba85\uc8fc\uae30 \uad00\ub9ac</li> <li>VNF \uc628\ubcf4\ub529 \ubc0f \uce74\ud0c8\ub85c\uadf8 \uad00\ub9ac</li> <li>\ub9ac\uc18c\uc2a4 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158 (VIM \uc870\uc728)</li> <li>\uc11c\ube44\uc2a4 \uccb4\uc774\ub2dd (SFC) \uad00\ub9ac</li> </ul> <p>2. VNFM (VNF Manager):</p> <ul> <li>\uac1c\ubcc4 VNF \uc0dd\uba85\uc8fc\uae30 \uad00\ub9ac:</li> <li>Instantiation (\uc778\uc2a4\ud134\uc2a4\ud654)</li> <li>Scaling (\ud655\uc7a5/\ucd95\uc18c)</li> <li>Healing (\uc790\ub3d9 \ubcf5\uad6c)</li> <li>Termination (\uc885\ub8cc)</li> <li>VNF \uc124\uc815 \uad00\ub9ac</li> <li>\uc131\ub2a5/\uc7a5\uc560 \ubaa8\ub2c8\ud130\ub9c1</li> </ul> <p>3. VIM (Virtualized Infrastructure Manager):</p> <ul> <li>\uac00\uc0c1 \uc778\ud504\ub77c \ub9ac\uc18c\uc2a4 \uad00\ub9ac</li> <li>\uc8fc\uc694 \uad6c\ud604\uccb4:</li> <li>OpenStack (\uac00\uc7a5 \ub110\ub9ac \uc0ac\uc6a9)</li> <li>VMware vCloud Director</li> <li>Kubernetes (CNF\uc6a9)</li> </ul> <p>2025 NFV Release 5 \uc8fc\uc694 \uc5c5\ub370\uc774\ud2b8:</p> <ul> <li>AI \uae30\ubc18 \uc790\uc728 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158: \uc790\ub3d9\ud654\ub41c VNF \ubc30\uce58, \uc2a4\ucf00\uc77c\ub9c1</li> <li>6G \ub124\ud2b8\uc6cc\ud06c \uc9c0\uc6d0: Telco Cloud \uc544\ud0a4\ud14d\ucc98</li> <li>Intent-based Management: \uc120\uc5b8\uc801 \uc815\ucc45 \uae30\ubc18 \uad00\ub9ac</li> <li>Certificate Management Function (CMF): \ubcf4\uc548 \uac15\ud654</li> <li>Multi-VIM \uc9c0\uc6d0: \uc5ec\ub7ec \ud074\ub77c\uc6b0\ub4dc \ub3d9\uc2dc \uad00\ub9ac</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#1-3-vnf-virtual-network-function","title":"1-3. VNF (Virtual Network Function)","text":"<p>VNF \uc544\ud0a4\ud14d\ucc98:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    VNF Package                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  VNF Descriptor (VNFD)                             \u2502  \u2502\n\u2502  \u2502  - VNF \uba54\ud0c0\ub370\uc774\ud130                                   \u2502  \u2502\n\u2502  \u2502  - VNFC (VNF Component) \uc815\uc758                       \u2502  \u2502\n\u2502  \u2502  - Virtual Link \uc815\uc758                               \u2502  \u2502\n\u2502  \u2502  - \ub9ac\uc18c\uc2a4 \uc694\uad6c\uc0ac\ud56d (vCPU, Memory, Disk)            \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  VM Images / Container Images                      \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Configuration Scripts                             \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ubc30\ud3ec \ud6c4:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                   VNF Instance                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502  VNFC 1   \u2502  \u2502  VNFC 2   \u2502  \u2502  VNFC 3   \u2502           \u2502\n\u2502  \u2502  (VM/Pod) \u2502\u2500\u2192\u2502  (VM/Pod) \u2502\u2500\u2192\u2502  (VM/Pod) \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2502       \u2191              \u2191              \u2191                    \u2502\n\u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2502\n\u2502           Virtual Network Links                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>VNF Descriptor (VNFD) \uc608\uc81c (TOSCA):</p> <pre><code>tosca_definitions_version: tosca_simple_yaml_1_2\n\ndescription: Virtual Firewall VNF\n\nmetadata:\n  template_name: vFirewall\n  template_version: 1.0.0\n  vendor: Example Corp\n\ntopology_template:\n  node_templates:\n    VNF:\n      type: tosca.nodes.nfv.VNF\n      properties:\n        descriptor_id: vfirewall-1.0\n        descriptor_version: 1.0.0\n        provider: Example Corp\n        product_name: Virtual Firewall\n        software_version: 2.5.0\n        vnfm_info:\n          - Tacker\n\n    VNFC_Firewall:\n      type: tosca.nodes.nfv.Vdu.Compute\n      properties:\n        name: firewall-instance\n        description: Firewall VM\n        vdu_profile:\n          min_number_of_instances: 1\n          max_number_of_instances: 5\n      capabilities:\n        virtual_compute:\n          properties:\n            virtual_memory:\n              virtual_mem_size: 4 GB\n            virtual_cpu:\n              num_virtual_cpu: 2\n            virtual_local_storage:\n              - size_of_storage: 40 GB\n\n    CP_external:\n      type: tosca.nodes.nfv.VduCp\n      properties:\n        order: 0\n        vnic_type: normal\n      requirements:\n        - virtual_binding: VNFC_Firewall\n        - virtual_link: VL_external\n\n    CP_internal:\n      type: tosca.nodes.nfv.VduCp\n      properties:\n        order: 1\n        vnic_type: normal\n      requirements:\n        - virtual_binding: VNFC_Firewall\n        - virtual_link: VL_internal\n\n    VL_external:\n      type: tosca.nodes.nfv.VnfVirtualLink\n      properties:\n        connectivity_type:\n          layer_protocols:\n            - ipv4\n\n    VL_internal:\n      type: tosca.nodes.nfv.VnfVirtualLink\n      properties:\n        connectivity_type:\n          layer_protocols:\n            - ipv4\n\n  policies:\n    - scaling_aspects:\n        type: tosca.policies.nfv.ScalingAspects\n        properties:\n          aspects:\n            firewall_scale:\n              name: Firewall Scaling\n              description: Scale firewall instances\n              max_scale_level: 4\n              step_deltas:\n                - delta_1\n\n    - firewall_scale_delta:\n        type: tosca.policies.nfv.VduScalingAspectDeltas\n        properties:\n          aspect: firewall_scale\n          deltas:\n            delta_1:\n              number_of_instances: 1\n        targets: [ VNFC_Firewall ]\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#1-4-vnf-vs-cnf","title":"1-4. VNF vs CNF","text":"<p>2025 \ud2b8\ub80c\ub4dc: VNF\uc5d0\uc11c CNF\ub85c \uc804\ud658</p> <pre><code>VNF (Virtual Network Function):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         VM-based VNF           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Application            \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502   Guest OS (Linux)       \u2502  \u2502  \ubd80\ud305 \uc2dc\uac04: 2-5\ubd84\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \uba54\ubaa8\ub9ac: 2-8 GB\n\u2502         Hypervisor             \u2502  \ub514\uc2a4\ud06c: 20-100 GB\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nCNF (Container Network Function):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      Container-based CNF       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Application            \u2502  \u2502  \ubd80\ud305 \uc2dc\uac04: 1-10\ucd08\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \uba54\ubaa8\ub9ac: 100-500 MB\n\u2502     Container Runtime          \u2502  \ub514\uc2a4\ud06c: 100-500 MB\n\u2502     (containerd/CRI-O)         \u2502\n\u2502  Host OS (Linux)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>VNF vs CNF \ube44\uad50\ud45c:</p> \ud2b9\uc131 VNF CNF \ubc30\ud3ec \uc18d\ub3c4 \ub290\ub9bc (\ubd84 \ub2e8\uc704) \ube60\ub984 (\ucd08 \ub2e8\uc704) \ub9ac\uc18c\uc2a4 \ud6a8\uc728 \ub0ae\uc74c \ub192\uc74c (10\ubc30 \uc774\uc0c1) \ud655\uc7a5\uc131 \uc81c\ud55c\uc801 \ub9e4\uc6b0 \ub192\uc74c \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\ud130 OpenStack Kubernetes \uad00\ub9ac \ubcf5\uc7a1\ub3c4 \ub192\uc74c \uc911\uac04 \uc131\ub2a5 \uc88b\uc74c \uc6b0\uc218 \uc131\uc219\ub3c4 \ub9e4\uc6b0 \ub192\uc74c \ub192\uc74c (\uc131\uc7a5 \uc911) \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc5b4\ub824\uc6c0 \uc26c\uc6c0 <p>VNF to CNF \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc804\ub7b5:</p> <pre><code>Phase 1: \ud3c9\uac00 (1-2\uac1c\uc6d4)\n\u251c\u2500 \ud604\uc7ac VNF \uc778\ubca4\ud1a0\ub9ac \uc870\uc0ac\n\u251c\u2500 CNF \ud638\ud658\uc131 \ubd84\uc11d\n\u251c\u2500 ROI \uacc4\uc0b0\n\u2514\u2500 \uc6b0\uc120\uc21c\uc704 \uacb0\uc815\n\nPhase 2: Stateless VNF \uc6b0\uc120 \uc804\ud658 (3-6\uac1c\uc6d4)\n\u251c\u2500 vRouter \u2192 CNF Router\n\u251c\u2500 vLoad Balancer \u2192 CNF LB\n\u2514\u2500 vDNS \u2192 CNF DNS\n\nPhase 3: Stateful VNF \uc804\ud658 (6-12\uac1c\uc6d4)\n\u251c\u2500 vFirewall \u2192 CNF Firewall\n\u251c\u2500 vNAT \u2192 CNF NAT\n\u2514\u2500 \ub370\uc774\ud130 \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc804\ub7b5\n\nPhase 4: Legacy VNF \uc720\uc9c0/\uacf5\uc874 (\uc9c4\ud589 \uc911)\n\u251c\u2500 CNF\uc640 VNF \ud558\uc774\ube0c\ub9ac\ub4dc \uc6b4\uc601\n\u2514\u2500 \uc810\uc9c4\uc801 VNF \ud3d0\uae30\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#part-2-sdn-software-defined-networking","title":"Part 2: SDN (Software-Defined Networking)","text":""},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#2-1-sdn","title":"2-1. SDN \uc544\ud0a4\ud14d\ucc98 (\ubcf5\uc2b5 \ubc0f \uc2ec\ud654)","text":"<p>NFV\uc640 SDN\uc758 \uad00\uacc4:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    OSS/BSS                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            NFV Orchestrator (NFVO)                      \u2502\n\u2502         - VNF \ubc30\uce58, Service Chaining                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                   \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  VNF Manager     \u2502              \u2502   SDN Controller      \u2502\n\u2502  (VNFM)          \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  (ONOS/ODL/Ryu)       \u2502\n\u2502                  \u2502  VNF-SDN     \u2502                       \u2502\n\u2502  - VNF \uad00\ub9ac      \u2502  Coordination \u2502  - Flow \uad00\ub9ac         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502                                   \u2502\n         \u2502 VNF Control                       \u2502 OpenFlow/P4\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Data Plane (OVS, Hardware Switches)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc5ed\ud560 \ubd84\ub9ac:\n- NFV: \"\ubb34\uc5c7\uc744\" (Which VNF to deploy, where)\n- SDN: \"\uc5b4\ub5bb\uac8c\" (How to route traffic)\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#2-2-sdn-2025","title":"2-2. \uc8fc\uc694 SDN \ucee8\ud2b8\ub864\ub7ec \ube44\uad50 (2025)","text":"<p>OpenDaylight (ODL):</p> <pre><code>\ud2b9\uc9d5:\n- Java \uae30\ubc18 \ubaa8\ub4c8\ub7ec \ud50c\ub7ab\ud3fc\n- Linux Foundation Networking \ud504\ub85c\uc81d\ud2b8\n- \uac00\uc7a5 \ud070 \ucee4\ubba4\ub2c8\ud2f0\n- \uc5d4\ud130\ud504\ub77c\uc774\uc988 \ubc0f Service Provider \ub124\ud2b8\uc6cc\ud06c \uc911\uc2ec\n\n\uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Northbound APIs (REST)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Service Abstraction Layer (SAL)         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Plugins (OpenFlow, NETCONF, BGP, ...)   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Controller Core (MD-SAL)                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n\u2713 \ub9e4\uc6b0 \ud48d\ubd80\ud55c \uae30\ub2a5 (50+ \ud504\ub85c\uc81d\ud2b8)\n\u2713 \uc5d4\ud130\ud504\ub77c\uc774\uc988\uae09 \uc548\uc815\uc131\n\u2713 \ucd5c\uace0\uc758 \ubcf4\uc548\uc131\n\u2713 \uba40\ud2f0 \ud504\ub85c\ud1a0\ucf5c \uc9c0\uc6d0\n\n\ub2e8\uc810:\n\u2717 \ubcf5\uc7a1\ud55c \uc124\uc815\n\u2717 \ubb34\uac70\uc6c0 (Java)\n\u2717 \ud559\uc2b5 \uace1\uc120 \ub192\uc74c\n</code></pre> <p>ONOS (Open Network Operating System):</p> <pre><code>\ud2b9\uc9d5:\n- Java \uae30\ubc18 \ubd84\uc0b0 SDN OS\n- Service Provider \ub124\ud2b8\uc6cc\ud06c \uc911\uc2ec\n- \"Brown Field\" \u2192 \"Green Field\" \uc804\ud658 \uc9c0\uc6d0\n\n\uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Applications (Routing, FWD, ...)     \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Northbound APIs (REST, gRPC)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Distributed Core (Atomix/Raft)          \u2502\n\u2502  - Topology, Host, Flow, Intent Services \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Southbound (OpenFlow, P4, gNMI)         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n\u2713 \ubd84\uc0b0 \uc544\ud0a4\ud14d\ucc98 (HA \uae30\ubcf8)\n\u2713 \ub192\uc740 \ucc98\ub9ac\ub7c9 (79.2 Mbits \ubca4\uce58\ub9c8\ud06c)\n\u2713 \ub0ae\uc740 \uc9c0\ud130 (0.022 ms)\n\u2713 Service Provider \ucd5c\uc801\ud654\n\n\ub2e8\uc810:\n\u2717 ODL\ubcf4\ub2e4 \uc801\uc740 \ud50c\ub7ec\uadf8\uc778\n\u2717 \uc5d4\ud130\ud504\ub77c\uc774\uc988 \uae30\ub2a5 \ubd80\uc871\n</code></pre> <p>Ryu:</p> <pre><code>\ud2b9\uc9d5:\n- Python \uae30\ubc18 \uacbd\ub7c9 \ucee8\ud2b8\ub864\ub7ec\n- \"\ub3c4\uad6c \uc0c1\uc790\" \uc811\uadfc\ubc95\n- \uc5f0\uad6c \ubc0f \ud504\ub85c\ud1a0\ud0c0\uc774\ud551 \ucd5c\uc801\n\n\uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Ryu Applications (Python \uc571)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Ryu Libraries (OpenFlow, OVSDB, ...)    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Ryu Base (Event-driven Framework)       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n\u2713 \ub9e4\uc6b0 \uac00\ubcbc\uc6c0\n\u2713 \ucd5c\uc800 \uc9c0\uc5f0\uc2dc\uac04 (\ubca4\uce58\ub9c8\ud06c 1\uc704)\n\u2713 Python - \uc26c\uc6b4 \uac1c\ubc1c\n\u2713 \ube60\ub978 \ud504\ub85c\ud1a0\ud0c0\uc774\ud551\n\n\ub2e8\uc810:\n\u2717 \ub2e8\uc77c \ub178\ub4dc (\ubd84\uc0b0 X)\n\u2717 \ud504\ub85c\ub355\uc158 \uae30\ub2a5 \ubd80\uc871\n\u2717 \uc791\uc740 \ucee4\ubba4\ub2c8\ud2f0\n</code></pre> <p>2025 \uc131\ub2a5 \ubca4\uce58\ub9c8\ud06c \ube44\uad50:</p> <pre><code>\ucc98\ub9ac\ub7c9 (Throughput):\nONOS:  79.2 Mbits/sec   \u2b50\u2b50\u2b50\u2b50\u2b50\nODL:   65.3 Mbits/sec   \u2b50\u2b50\u2b50\u2b50\nRyu:   \ucd5c\uace0 (\uc5f0\uad6c\uc5d0\uc11c)   \u2b50\u2b50\u2b50\u2b50\u2b50\n\n\uc9c0\uc5f0\uc2dc\uac04 (Latency):\nRyu:   \ucd5c\uc800             \u2b50\u2b50\u2b50\u2b50\u2b50\nONOS:  0.117 ms         \u2b50\u2b50\u2b50\u2b50\u2b50\nODL:   \uc911\uac04             \u2b50\u2b50\u2b50\u2b50\n\n\uc9c0\ud130 (Jitter):\nONOS:  0.022 ms         \u2b50\u2b50\u2b50\u2b50\u2b50\nODL:   \uc57d\uac04 \ub192\uc74c         \u2b50\u2b50\u2b50\u2b50\nRyu:   \ub0ae\uc74c             \u2b50\u2b50\u2b50\u2b50\u2b50\n\n\ubcf4\uc548:\nODL:   \ucd5c\uace0             \u2b50\u2b50\u2b50\u2b50\u2b50\nONOS:  \uc6b0\uc218             \u2b50\u2b50\u2b50\u2b50\nRyu:   \uae30\ubcf8             \u2b50\u2b50\u2b50\n\n\ud655\uc7a5\uc131:\nONOS:  \ubd84\uc0b0 (\ucd5c\uace0)       \u2b50\u2b50\u2b50\u2b50\u2b50\nODL:   \ud074\ub7ec\uc2a4\ud130 \uc9c0\uc6d0     \u2b50\u2b50\u2b50\u2b50\nRyu:   \ub2e8\uc77c \ub178\ub4dc         \u2b50\u2b50\n\n\ucee4\ubba4\ub2c8\ud2f0:\nODL:   \uac00\uc7a5 \ud07c          \u2b50\u2b50\u2b50\u2b50\u2b50\nONOS:  \uc911\uac04             \u2b50\u2b50\u2b50\u2b50\nRyu:   \uc791\uc74c             \u2b50\u2b50\n</code></pre> <p>\uc120\ud0dd \uac00\uc774\ub4dc:</p> <ul> <li>OpenDaylight: \ub300\uaddc\ubaa8 \uc5d4\ud130\ud504\ub77c\uc774\uc988, \uba40\ud2f0 \ud504\ub85c\ud1a0\ucf5c, \ucd5c\uace0 \ubcf4\uc548 \ud544\uc694</li> <li>ONOS: Service Provider, \ubd84\uc0b0 \ud658\uacbd, \ub192\uc740 \ucc98\ub9ac\ub7c9 \ud544\uc694</li> <li>Ryu: \uc5f0\uad6c, \ud504\ub85c\ud1a0\ud0c0\uc774\ud551, \ube60\ub978 \uac1c\ubc1c \ud544\uc694</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#2-3-opendaylight","title":"2-3. OpenDaylight \uc124\uce58 \ubc0f \uc124\uc815","text":"<p>Docker\ub85c \ube60\ub978 \uc124\uce58:</p> <pre><code># OpenDaylight \ucee8\ud14c\uc774\ub108 \uc2e4\ud589\ndocker run -d \\\n  --name opendaylight \\\n  -p 8181:8181 \\\n  -p 8101:8101 \\\n  -p 6633:6633 \\\n  opendaylight/opendaylight:latest\n\n# Web UI \uc811\uc18d\n# http://localhost:8181/index.html\n# Username: admin\n# Password: admin\n\n# REST API \ud14c\uc2a4\ud2b8\ncurl -u admin:admin \\\n  http://localhost:8181/restconf/operational/network-topology:network-topology\n\n# Karaf CLI \uc811\uc18d\nssh -p 8101 karaf@localhost\n# Password: karaf\n</code></pre> <p>Feature \uc124\uce58:</p> <pre><code># Karaf CLI\uc5d0\uc11c\nfeature:install odl-restconf\nfeature:install odl-l2switch-switch\nfeature:install odl-mdsal-apidocs\nfeature:install odl-dlux-all\nfeature:install odl-openflowplugin-all\n\n# Feature \ubaa9\ub85d \ud655\uc778\nfeature:list | grep odl\n</code></pre> <p>OpenFlow \uc2a4\uc704\uce58 \uc5f0\uacb0:</p> <pre><code># OVS\ub97c ODL\uc5d0 \uc5f0\uacb0\novs-vsctl set-controller br0 tcp:localhost:6633\n\n# \uc5f0\uacb0 \ud655\uc778\novs-vsctl show\n\n# ODL\uc5d0\uc11c \uc2a4\uc704\uce58 \ud655\uc778 (REST API)\ncurl -u admin:admin \\\n  http://localhost:8181/restconf/operational/opendaylight-inventory:nodes | jq\n</code></pre> <p>Flow \ucd94\uac00 (REST API):</p> <pre><code># Flow \ucd94\uac00 \uc694\uccad\ncurl -u admin:admin \\\n  -H \"Content-Type: application/json\" \\\n  -X PUT \\\n  http://localhost:8181/restconf/config/opendaylight-inventory:nodes/node/openflow:1/table/0/flow/1 \\\n  -d '{\n    \"flow\": [{\n      \"id\": \"1\",\n      \"table_id\": 0,\n      \"priority\": 100,\n      \"match\": {\n        \"ethernet-match\": {\n          \"ethernet-type\": {\n            \"type\": 2048\n          }\n        },\n        \"ipv4-destination\": \"192.168.1.0/24\"\n      },\n      \"instructions\": {\n        \"instruction\": [{\n          \"order\": 0,\n          \"apply-actions\": {\n            \"action\": [{\n              \"order\": 0,\n              \"output-action\": {\n                \"output-node-connector\": \"2\"\n              }\n            }]\n          }\n        }]\n      }\n    }]\n  }'\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#2-4-onos","title":"2-4. ONOS \uc124\uce58 \ubc0f \uc124\uc815","text":"<p>Docker Compose\ub85c \uc124\uce58:</p> <pre><code># docker-compose.yml\nversion: '3'\nservices:\n  onos:\n    image: onosproject/onos:latest\n    container_name: onos\n    ports:\n      - \"8181:8181\"   # REST API\n      - \"8101:8101\"   # SSH CLI\n      - \"6653:6653\"   # OpenFlow\n      - \"9876:9876\"   # gRPC\n    environment:\n      - ONOS_APPS=drivers,openflow,fwd,proxyarp\n</code></pre> <pre><code># \uc2e4\ud589\ndocker-compose up -d\n\n# Web UI \uc811\uc18d\n# http://localhost:8181/onos/ui\n# Username: onos\n# Password: rocks\n\n# CLI \uc811\uc18d\nssh -p 8101 onos@localhost\n# Password: rocks\n</code></pre> <p>ONOS CLI \uba85\ub839\uc5b4:</p> <pre><code># \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ud65c\uc131\ud654\nonos&gt; app activate org.onosproject.openflow\nonos&gt; app activate org.onosproject.fwd\n\n# \ub514\ubc14\uc774\uc2a4 \ud655\uc778\nonos&gt; devices\n\n# \ub9c1\ud06c \ud655\uc778\nonos&gt; links\n\n# Flow \ud655\uc778\nonos&gt; flows\n\n# \ud638\uc2a4\ud2b8 \ud655\uc778\nonos&gt; hosts\n\n# Intent \uc0dd\uc131 (\uc120\uc5b8\uc801 \ud2b8\ub798\ud53d \uc815\ucc45)\nonos&gt; add-host-intent &lt;host1&gt; &lt;host2&gt;\n\n# Topology \uc694\uc57d\nonos&gt; summary\n</code></pre> <p>ONOS REST API:</p> <pre><code># \ub514\ubc14\uc774\uc2a4 \ubaa9\ub85d\ncurl -u onos:rocks \\\n  http://localhost:8181/onos/v1/devices | jq\n\n# Flow \ucd94\uac00\ncurl -u onos:rocks \\\n  -H \"Content-Type: application/json\" \\\n  -X POST \\\n  http://localhost:8181/onos/v1/flows \\\n  -d '{\n    \"deviceId\": \"of:0000000000000001\",\n    \"treatment\": {\n      \"instructions\": [{\n        \"type\": \"OUTPUT\",\n        \"port\": \"2\"\n      }]\n    },\n    \"selector\": {\n      \"criteria\": [{\n        \"type\": \"ETH_DST\",\n        \"mac\": \"00:00:00:00:00:01\"\n      }]\n    },\n    \"priority\": 100\n  }'\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#part-3-service-function-chaining-sfc","title":"Part 3: Service Function Chaining (SFC)","text":""},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#3-1-sfc","title":"3-1. SFC \uac1c\uc694","text":"<p>Service Function Chaining\uc774\ub780?</p> <p>SFC\ub294 \uc5ec\ub7ec \ub124\ud2b8\uc6cc\ud06c \uae30\ub2a5(Firewall, IDS, NAT, Load Balancer \ub4f1)\uc744 \ub17c\ub9ac\uc801\uc778 \uccb4\uc778\uc73c\ub85c \uc5f0\uacb0\ud558\uc5ec \ud2b8\ub798\ud53d\uc744 \uc21c\ucc28\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uae30\uc220\uc785\ub2c8\ub2e4.</p> <p>\uc804\ud1b5\uc801\uc778 \ubc29\uc2dd vs SFC:</p> <pre><code>\uc804\ud1b5\uc801\uc778 \ubc29\uc2dd (\uace0\uc815 \uacbd\ub85c):\nClient \u2192 Router \u2192 Firewall \u2192 IDS \u2192 NAT \u2192 Load Balancer \u2192 Server\n\n\ubb38\uc81c\uc810:\n- \uace0\uc815\ub41c \uacbd\ub85c\n- \ubb3c\ub9ac\uc801 \ubc30\uc120 \ud544\uc694\n- \ubcc0\uacbd \uc5b4\ub824\uc6c0\n- \ud655\uc7a5\uc131 \uc81c\ud55c\n\n\nSFC (\ub3d9\uc801 \uccb4\uc778):\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502    SDN Controller          \u2502\n         \u2502  + NFV Orchestrator        \u2502\n         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502 (\ub3d9\uc801 \uccb4\uc778 \uc0dd\uc131)\n                   \u25bc\nClient \u2192 [Chain 1: FW \u2192 IDS \u2192 LB] \u2192 Server (HTTP)\nClient \u2192 [Chain 2: FW \u2192 NAT] \u2192 Internet (\uc77c\ubc18)\nClient \u2192 [Chain 3: FW \u2192 DPI \u2192 IPS \u2192 LB] \u2192 Server (\uc911\uc694)\n\n\uc7a5\uc810:\n\u2713 \ub3d9\uc801 \uccb4\uc778 \uc0dd\uc131/\uc218\uc815\n\u2713 \uc11c\ube44\uc2a4\ubcc4 \ub9de\ucda4 \uccb4\uc778\n\u2713 \ud2b8\ub798\ud53d \ubd84\ub958 \uae30\ubc18 \uc790\ub3d9 \ub77c\uc6b0\ud305\n\u2713 VNF \ubc30\uce58 \ucd5c\uc801\ud654\n</code></pre> <p>SFC \uc544\ud0a4\ud14d\ucc98 (IETF RFC 7665):</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           Service Function Chaining (SFC)               \u2502\n\u2502                                                         \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Classifier (\ud2b8\ub798\ud53d \ubd84\ub958\uae30)                       \u2502  \u2502\n\u2502  \u2502  - HTTP \u2192 Chain A                                \u2502  \u2502\n\u2502  \u2502  - HTTPS \u2192 Chain B                               \u2502  \u2502\n\u2502  \u2502  - SSH \u2192 Chain C                                 \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                   \u2502                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Service Function Path (SFP)                     \u2502  \u2502\n\u2502  \u2502                                                   \u2502  \u2502\n\u2502  \u2502  Chain A: SF1 (Firewall) \u2192 SF2 (IDS) \u2192 SF3 (LB) \u2502  \u2502\n\u2502  \u2502  Chain B: SF1 (Firewall) \u2192 SF4 (DPI) \u2192 SF3 (LB) \u2502  \u2502\n\u2502  \u2502  Chain C: SF1 (Firewall) \u2192 SF5 (NAT)            \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502                   \u2502                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Service Functions (SFs)                         \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2510        \u2502  \u2502\n\u2502  \u2502  \u2502 FW \u2502  \u2502IDS \u2502  \u2502 LB \u2502  \u2502DPI \u2502  \u2502NAT \u2502        \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2518        \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#3-2-sfc-openstack-tacker-networking-sfc","title":"3-2. SFC \uad6c\ud604 (OpenStack Tacker + Networking-SFC)","text":"<p>OpenStack Networking-SFC \uc124\uce58:</p> <pre><code># \ucee8\ud2b8\ub864\ub7ec \ub178\ub4dc\napt-get install python3-networking-sfc\n\n# Neutron \uc124\uc815 \uc5c5\ub370\uc774\ud2b8\ncat &gt;&gt; /etc/neutron/neutron.conf &lt;&lt;EOF\n[DEFAULT]\nservice_plugins = router,networking_sfc.services.sfc.plugin.SfcPlugin\nEOF\n\n# \ub370\uc774\ud130\ubca0\uc774\uc2a4 \ub9c8\uc774\uadf8\ub808\uc774\uc158\nneutron-db-manage \\\n  --subproject networking-sfc upgrade head\n\n# Neutron \uc7ac\uc2dc\uc791\nsystemctl restart neutron-server\n</code></pre> <p>SFC \uc0dd\uc131 (CLI):</p> <pre><code># 1. Port Pair \uc0dd\uc131 (VNF\uc758 ingress/egress \ud3ec\ud2b8)\nopenstack sfc port pair create \\\n  --ingress &lt;firewall-ingress-port&gt; \\\n  --egress &lt;firewall-egress-port&gt; \\\n  pp-firewall\n\nopenstack sfc port pair create \\\n  --ingress &lt;ids-ingress-port&gt; \\\n  --egress &lt;ids-egress-port&gt; \\\n  pp-ids\n\n# 2. Port Pair Group \uc0dd\uc131 (\ub3d9\uc77c \uae30\ub2a5\uc758 VNF \uadf8\ub8f9)\nopenstack sfc port pair group create \\\n  --port-pair pp-firewall \\\n  ppg-firewall\n\nopenstack sfc port pair group create \\\n  --port-pair pp-ids \\\n  ppg-ids\n\n# 3. Flow Classifier \uc0dd\uc131 (\ud2b8\ub798\ud53d \ub9e4\uce6d \uaddc\uce59)\nopenstack sfc flow classifier create \\\n  --description \"HTTP Traffic\" \\\n  --protocol tcp \\\n  --source-ip-prefix 10.0.1.0/24 \\\n  --destination-ip-prefix 192.168.1.0/24 \\\n  --source-port 1024:65535 \\\n  --destination-port 80:80 \\\n  fc-http\n\n# 4. Port Chain \uc0dd\uc131 (Service Function Path)\nopenstack sfc port chain create \\\n  --port-pair-group ppg-firewall \\\n  --port-pair-group ppg-ids \\\n  --flow-classifier fc-http \\\n  pc-web-traffic\n</code></pre> <p>SFC VNFD \uc608\uc81c (Tacker):</p> <pre><code># sfc-vnfd.yaml\ntosca_definitions_version: tosca_simple_profile_for_nfv_1_0_0\n\ndescription: SFC with Firewall and IDS\n\ntopology_template:\n  node_templates:\n    VNF_Firewall:\n      type: tosca.nodes.nfv.VNF\n      requirements:\n        - virtualLink1: VL1\n        - virtualLink2: VL2\n\n    VNF_IDS:\n      type: tosca.nodes.nfv.VNF\n      requirements:\n        - virtualLink1: VL2\n        - virtualLink2: VL3\n\n    VL1:\n      type: tosca.nodes.nfv.VL\n      properties:\n        network_name: net_mgmt\n        vendor: Tacker\n\n    VL2:\n      type: tosca.nodes.nfv.VL\n      properties:\n        network_name: net_chain\n        vendor: Tacker\n\n    VL3:\n      type: tosca.nodes.nfv.VL\n      properties:\n        network_name: net_out\n        vendor: Tacker\n\n    Forwarding_path1:\n      type: tosca.nodes.nfv.FP\n      description: HTTP traffic chain\n      properties:\n        id: 1\n        policy:\n          type: ACL\n          criteria:\n            - network_src_port_id: &lt;source-port&gt;\n            - destination_port_range: 80-80\n            - ip_proto: 6  # TCP\n        path:\n          - forwarder: VNF_Firewall\n            capability: CP1\n          - forwarder: VNF_IDS\n            capability: CP2\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#3-3-dynamic-sfc-ai","title":"3-3. Dynamic SFC (AI \uae30\ubc18 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158)","text":"<p>2025 \ud2b8\ub80c\ub4dc: \uac15\ud654 \ud559\uc2b5 \uae30\ubc18 \ub3d9\uc801 SFC:</p> <pre><code># dynamic_sfc_orchestrator.py (\uac1c\ub150 \ucf54\ub4dc)\nimport gym\nimport numpy as np\nfrom stable_baselines3 import PPO\n\nclass SFCEnvironment(gym.Env):\n    \"\"\"SFC \ubc30\uce58 \ucd5c\uc801\ud654\ub97c \uc704\ud55c RL \ud658\uacbd\"\"\"\n\n    def __init__(self, network_topology, vnf_catalog):\n        super(SFCEnvironment, self).__init__()\n        self.topology = network_topology\n        self.vnf_catalog = vnf_catalog\n\n        # Action: (VNF type, Node placement)\n        self.action_space = gym.spaces.MultiDiscrete([\n            len(vnf_catalog),  # VNF \uc120\ud0dd\n            len(network_topology.nodes)  # \ub178\ub4dc \uc120\ud0dd\n        ])\n\n        # State: Network \uc0c1\ud0dc (CPU, Mem, BW, Latency)\n        self.observation_space = gym.spaces.Box(\n            low=0, high=1, shape=(100,), dtype=np.float32\n        )\n\n    def step(self, action):\n        \"\"\"VNF \ubc30\uce58 \ubc0f \ubcf4\uc0c1 \uacc4\uc0b0\"\"\"\n        vnf_type, node_id = action\n\n        # VNF \ubc30\uce58\n        placement_cost = self._place_vnf(vnf_type, node_id)\n        latency = self._calculate_latency()\n        throughput = self._calculate_throughput()\n\n        # \ubcf4\uc0c1 \ud568\uc218\n        reward = (\n            -placement_cost * 0.3\n            -latency * 0.4\n            +throughput * 0.3\n        )\n\n        # \ub2e4\uc74c \uc0c1\ud0dc\n        next_state = self._get_state()\n        done = self._is_chain_complete()\n\n        return next_state, reward, done, {}\n\n    def _place_vnf(self, vnf_type, node_id):\n        \"\"\"VNF \ubc30\uce58 \ubc0f \ube44\uc6a9 \uacc4\uc0b0\"\"\"\n        vnf = self.vnf_catalog[vnf_type]\n        node = self.topology.nodes[node_id]\n\n        # \ub9ac\uc18c\uc2a4 \uccb4\ud06c\n        if node.available_cpu &lt; vnf.cpu_req:\n            return float('inf')  # \ubd88\uac00\ub2a5\ud55c \ubc30\uce58\n\n        # \ubc30\uce58 \uc218\ud589\n        node.available_cpu -= vnf.cpu_req\n        node.available_mem -= vnf.mem_req\n\n        return vnf.cpu_req + vnf.mem_req\n\n    def _calculate_latency(self):\n        \"\"\"\uccb4\uc778 \uc804\uccb4 \uc9c0\uc5f0\uc2dc\uac04 \uacc4\uc0b0\"\"\"\n        total_latency = 0\n        for i in range(len(self.chain) - 1):\n            src = self.chain[i].node_id\n            dst = self.chain[i+1].node_id\n            total_latency += self.topology.get_latency(src, dst)\n        return total_latency\n\n    def _calculate_throughput(self):\n        \"\"\"\uccb4\uc778 \ucc98\ub9ac\ub7c9 \uacc4\uc0b0\"\"\"\n        # \uac00\uc7a5 \ub290\ub9b0 VNF\uac00 \ubcd1\ubaa9\n        return min(vnf.throughput for vnf in self.chain)\n\n# \ud559\uc2b5\nenv = SFCEnvironment(network_topology, vnf_catalog)\nmodel = PPO(\"MlpPolicy\", env, verbose=1)\nmodel.learn(total_timesteps=100000)\n\n# \ucd94\ub860 (\ucd5c\uc801 SFC \uc0dd\uc131)\nobs = env.reset()\nfor _ in range(chain_length):\n    action, _states = model.predict(obs)\n    obs, reward, done, info = env.step(action)\n    if done:\n        break\n\nprint(f\"Optimized SFC: {env.chain}\")\nprint(f\"Total Latency: {env._calculate_latency()} ms\")\nprint(f\"Throughput: {env._calculate_throughput()} Mbps\")\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#1-openstack-tacker-vnf","title":"\uc2e4\uc2b5 1: OpenStack Tacker\ub85c VNF \ubc30\ud3ec","text":"<p>\ubaa9\ud45c: \uac04\ub2e8\ud55c vRouter VNF \ubc30\ud3ec</p> <p>\ud658\uacbd \uc900\ube44:</p> <pre><code># Tacker \uc124\uce58\napt-get install python3-tackerclient tacker\n\n# Tacker \uc11c\ube44\uc2a4 \uc2dc\uc791\nsystemctl start tacker\nsystemctl start tacker-conductor\n\n# VIM \ub4f1\ub85d (OpenStack)\ntacker vim-register \\\n  --config-file /etc/tacker/vim-config.yaml \\\n  --description \"OpenStack VIM\" \\\n  openstack-vim\n</code></pre> <p>VNFD \uc791\uc131 (vrouter-vnfd.yaml):</p> <pre><code>tosca_definitions_version: tosca_simple_profile_for_nfv_1_0_0\n\ndescription: Simple vRouter VNF\n\nmetadata:\n  template_name: vRouter\n\ntopology_template:\n  node_templates:\n    VDU1:\n      type: tosca.nodes.nfv.VDU.Tacker\n      properties:\n        image: ubuntu-20.04\n        flavor: m1.small\n        availability_zone: nova\n        config: |\n          #!/bin/bash\n          apt-get update\n          apt-get install -y quagga\n          systemctl enable zebra\n          systemctl start zebra\n\n      capabilities:\n        nfv_compute:\n          properties:\n            num_cpus: 2\n            mem_size: 2 GB\n            disk_size: 10 GB\n\n    CP1:\n      type: tosca.nodes.nfv.CP.Tacker\n      properties:\n        management: true\n        order: 0\n        anti_spoofing_protection: false\n      requirements:\n        - virtualLink:\n            node: VL1\n        - virtualBinding:\n            node: VDU1\n\n    CP2:\n      type: tosca.nodes.nfv.CP.Tacker\n      properties:\n        order: 1\n        anti_spoofing_protection: false\n      requirements:\n        - virtualLink:\n            node: VL2\n        - virtualBinding:\n            node: VDU1\n\n    VL1:\n      type: tosca.nodes.nfv.VL\n      properties:\n        network_name: net_mgmt\n        vendor: Tacker\n\n    VL2:\n      type: tosca.nodes.nfv.VL\n      properties:\n        network_name: net_data\n        vendor: Tacker\n</code></pre> <p>VNF \ubc30\ud3ec:</p> <pre><code># VNFD \ub4f1\ub85d\ntacker vnfd-create --vnfd-file vrouter-vnfd.yaml vrouter-vnfd\n\n# VNFD \ubaa9\ub85d \ud655\uc778\ntacker vnfd-list\n\n# VNF \uc778\uc2a4\ud134\uc2a4\ud654\ntacker vnf-create --vnfd-name vrouter-vnfd my-vrouter\n\n# VNF \uc0c1\ud0dc \ud655\uc778\ntacker vnf-show my-vrouter\n\n# VNF \ubaa9\ub85d\ntacker vnf-list\n\n# VNF \uc2a4\ucf00\uc77c \uc544\uc6c3 (VNFD\uc5d0 \uc2a4\ucf00\uc77c \uc815\uc758 \ud544\uc694)\ntacker vnf-scale --vnf-name my-vrouter \\\n  --scaling-policy-name SP1 \\\n  --scaling-type out\n\n# VNF \uc0ad\uc81c\ntacker vnf-delete my-vrouter\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#2-ryu-l2","title":"\uc2e4\uc2b5 2: Ryu\ub85c \uac04\ub2e8\ud55c L2 \ud559\uc2b5 \uc2a4\uc704\uce58 \uad6c\ud604","text":"<p>\ubaa9\ud45c: Ryu \ucee8\ud2b8\ub864\ub7ec\ub85c OpenFlow \uc2a4\uc704\uce58 \uc81c\uc5b4</p> <pre><code># l2_switch.py\nfrom ryu.base import app_manager\nfrom ryu.controller import ofp_event\nfrom ryu.controller.handler import CONFIG_DISPATCHER, MAIN_DISPATCHER\nfrom ryu.controller.handler import set_ev_cls\nfrom ryu.ofproto import ofproto_v1_3\nfrom ryu.lib.packet import packet, ethernet\n\nclass L2Switch(app_manager.RyuApp):\n    OFP_VERSIONS = [ofproto_v1_3.OFP_VERSION]\n\n    def __init__(self, *args, **kwargs):\n        super(L2Switch, self).__init__(*args, **kwargs)\n        self.mac_to_port = {}\n\n    @set_ev_cls(ofp_event.EventOFPSwitchFeatures, CONFIG_DISPATCHER)\n    def switch_features_handler(self, ev):\n        \"\"\"\uc2a4\uc704\uce58 \uc5f0\uacb0 \uc2dc Table-miss Flow \uc124\uce58\"\"\"\n        datapath = ev.msg.datapath\n        ofproto = datapath.ofproto\n        parser = datapath.ofproto_parser\n\n        match = parser.OFPMatch()\n        actions = [parser.OFPActionOutput(ofproto.OFPP_CONTROLLER,\n                                         ofproto.OFPCML_NO_BUFFER)]\n        self.add_flow(datapath, 0, match, actions)\n\n        self.logger.info(\"Switch %s connected\", datapath.id)\n\n    def add_flow(self, datapath, priority, match, actions):\n        \"\"\"Flow Entry \ucd94\uac00\"\"\"\n        ofproto = datapath.ofproto\n        parser = datapath.ofproto_parser\n\n        inst = [parser.OFPInstructionActions(ofproto.OFPIT_APPLY_ACTIONS,\n                                            actions)]\n        mod = parser.OFPFlowMod(datapath=datapath, priority=priority,\n                               match=match, instructions=inst,\n                               idle_timeout=30, hard_timeout=60)\n        datapath.send_msg(mod)\n\n    @set_ev_cls(ofp_event.EventOFPPacketIn, MAIN_DISPATCHER)\n    def packet_in_handler(self, ev):\n        \"\"\"Packet-In \ucc98\ub9ac (MAC \ud559\uc2b5 \ubc0f \ud3ec\uc6cc\ub529)\"\"\"\n        msg = ev.msg\n        datapath = msg.datapath\n        ofproto = datapath.ofproto\n        parser = datapath.ofproto_parser\n        in_port = msg.match['in_port']\n\n        pkt = packet.Packet(msg.data)\n        eth = pkt.get_protocols(ethernet.ethernet)[0]\n\n        dst = eth.dst\n        src = eth.src\n        dpid = datapath.id\n\n        # MAC \ud559\uc2b5\n        self.mac_to_port.setdefault(dpid, {})\n        self.logger.info(\"Packet in: dpid=%s src=%s dst=%s in_port=%s\",\n                        dpid, src, dst, in_port)\n\n        self.mac_to_port[dpid][src] = in_port\n\n        # \ucd9c\ub825 \ud3ec\ud2b8 \uacb0\uc815\n        if dst in self.mac_to_port[dpid]:\n            out_port = self.mac_to_port[dpid][dst]\n        else:\n            out_port = ofproto.OFPP_FLOOD\n\n        actions = [parser.OFPActionOutput(out_port)]\n\n        # Flow \uc124\uce58 (Flooding\uc774 \uc544\ub2cc \uacbd\uc6b0)\n        if out_port != ofproto.OFPP_FLOOD:\n            match = parser.OFPMatch(in_port=in_port, eth_dst=dst)\n            self.add_flow(datapath, 1, match, actions)\n\n        # Packet-Out\n        data = None\n        if msg.buffer_id == ofproto.OFP_NO_BUFFER:\n            data = msg.data\n\n        out = parser.OFPPacketOut(datapath=datapath, buffer_id=msg.buffer_id,\n                                 in_port=in_port, actions=actions, data=data)\n        datapath.send_msg(out)\n</code></pre> <p>\uc2e4\ud589:</p> <pre><code># Ryu \ucee8\ud2b8\ub864\ub7ec \uc2dc\uc791\nryu-manager l2_switch.py --verbose\n\n# \ubcc4\ub3c4 \ud130\ubbf8\ub110\uc5d0\uc11c Mininet \uc2e4\ud589\nsudo mn --controller=remote,ip=127.0.0.1 --mac --switch=ovsk,protocols=OpenFlow13\n\n# Mininet CLI\uc5d0\uc11c \ud14c\uc2a4\ud2b8\nmininet&gt; pingall\nmininet&gt; h1 ping h2\nmininet&gt; iperf h1 h2\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#3-service-function-chaining","title":"\uc2e4\uc2b5 3: Service Function Chaining \uad6c\ucd95","text":"<p>\ubaa9\ud45c: Firewall \u2192 IDS \u2192 Load Balancer \uccb4\uc778 \uad6c\uc131</p> <pre><code>#!/bin/bash\n# create-sfc.sh\n\nset -e\n\necho \"=== Creating Service Function Chain ===\"\n\n# 1. \ub124\ud2b8\uc6cc\ud06c \uc0dd\uc131\nNET_MGMT=$(openstack network create sfc-mgmt -f value -c id)\nNET_IN=$(openstack network create sfc-input -f value -c id)\nNET_CHAIN=$(openstack network create sfc-chain -f value -c id)\nNET_OUT=$(openstack network create sfc-output -f value -c id)\n\n# 2. \uc11c\ube0c\ub137 \uc0dd\uc131\nopenstack subnet create --network $NET_MGMT --subnet-range 192.168.1.0/24 sfc-mgmt-subnet\nopenstack subnet create --network $NET_IN --subnet-range 10.0.1.0/24 sfc-input-subnet\nopenstack subnet create --network $NET_CHAIN --subnet-range 10.0.2.0/24 sfc-chain-subnet\nopenstack subnet create --network $NET_OUT --subnet-range 10.0.3.0/24 sfc-output-subnet\n\n# 3. VNF \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\n# Firewall\nFW_PORT_IN=$(openstack port create --network $NET_IN fw-port-in -f value -c id)\nFW_PORT_OUT=$(openstack port create --network $NET_CHAIN fw-port-out -f value -c id)\n\nopenstack server create \\\n  --flavor m1.small \\\n  --image vnf-firewall \\\n  --port $FW_PORT_IN \\\n  --port $FW_PORT_OUT \\\n  vnf-firewall\n\n# IDS\nIDS_PORT_IN=$(openstack port create --network $NET_CHAIN ids-port-in -f value -c id)\nIDS_PORT_OUT=$(openstack port create --network $NET_CHAIN ids-port-out -f value -c id)\n\nopenstack server create \\\n  --flavor m1.small \\\n  --image vnf-ids \\\n  --port $IDS_PORT_IN \\\n  --port $IDS_PORT_OUT \\\n  vnf-ids\n\n# Load Balancer\nLB_PORT_IN=$(openstack port create --network $NET_CHAIN lb-port-in -f value -c id)\nLB_PORT_OUT=$(openstack port create --network $NET_OUT lb-port-out -f value -c id)\n\nopenstack server create \\\n  --flavor m1.small \\\n  --image vnf-lb \\\n  --port $LB_PORT_IN \\\n  --port $LB_PORT_OUT \\\n  vnf-lb\n\n# 4. Port Pair \uc0dd\uc131\nopenstack sfc port pair create --ingress $FW_PORT_IN --egress $FW_PORT_OUT pp-fw\nopenstack sfc port pair create --ingress $IDS_PORT_IN --egress $IDS_PORT_OUT pp-ids\nopenstack sfc port pair create --ingress $LB_PORT_IN --egress $LB_PORT_OUT pp-lb\n\n# 5. Port Pair Group \uc0dd\uc131\nopenstack sfc port pair group create --port-pair pp-fw ppg-fw\nopenstack sfc port pair group create --port-pair pp-ids ppg-ids\nopenstack sfc port pair group create --port-pair pp-lb ppg-lb\n\n# 6. Flow Classifier \uc0dd\uc131\nopenstack sfc flow classifier create \\\n  --description \"Web Traffic\" \\\n  --protocol tcp \\\n  --source-ip-prefix 0.0.0.0/0 \\\n  --destination-port 80:80 \\\n  fc-web\n\n# 7. Port Chain \uc0dd\uc131\nopenstack sfc port chain create \\\n  --port-pair-group ppg-fw \\\n  --port-pair-group ppg-ids \\\n  --port-pair-group ppg-lb \\\n  --flow-classifier fc-web \\\n  pc-web-service\n\necho \"=== SFC Created Successfully ===\"\necho \"Chain: Client \u2192 Firewall \u2192 IDS \u2192 Load Balancer \u2192 Server\"\n</code></pre>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_4","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":""},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_5","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<p>NFV:</p> <ul> <li>ETSI NFV Standards</li> <li>ETSI NFV Architecture</li> <li>OpenStack Tacker Documentation</li> </ul> <p>SDN Controllers:</p> <ul> <li>OpenDaylight Documentation</li> <li>ONOS Documentation</li> <li>Ryu SDN Framework</li> <li>SDN Controller Comparison 2025 (Aptira)</li> </ul> <p>Service Function Chaining:</p> <ul> <li>IETF RFC 7665 - SFC Architecture</li> <li>OpenStack Networking-SFC</li> <li>Service Function Chain Migration Survey (MDPI, 2025)</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_6","title":"\uc5f0\uad6c \ub17c\ubb38 \ubc0f \ubca4\uce58\ub9c8\ud06c","text":"<p>\uc131\ub2a5 \ube44\uad50:</p> <ul> <li>Performance Comparison Of SDN Controllers (Research Square, 2025)</li> <li>A Comparative Evaluation of ODL and ONOS (IEEE, 2025)</li> </ul> <p>\ubcf4\uc548:</p> <ul> <li>Security Analysis of ODL, ONOS, Ryu (IEEE)</li> </ul> <p>SFC \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158:</p> <ul> <li>Dynamic SFC Orchestration Using RL (ScienceDirect, 2025)</li> <li>BSec-NFVO: Blockchain Security for NFV (IEEE)</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_7","title":"\uc2e4\ubb34 \uac00\uc774\ub4dc","text":"<ul> <li>Red Hat NFV Product Guide</li> <li>Network Function Virtualization Explained (Medium, Nov 2025)</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_8","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#nfv","title":"NFV","text":"<ul> <li> NFV\uc640 \uae30\uc874 \ub124\ud2b8\uc6cc\ud06c \uc7a5\ube44 \ucc28\uc774\uc810 \uc774\ud574</li> <li> ETSI MANO \uc544\ud0a4\ud14d\ucc98 3\uacc4\uce35 (NFVO, VNFM, VIM) \ud30c\uc545</li> <li> VNFD \uc791\uc131 \ubc0f VNF \ubc30\ud3ec \uacbd\ud5d8</li> <li> VNF vs CNF \ube44\uad50 \ubc0f \ub9c8\uc774\uadf8\ub808\uc774\uc158 \uc804\ub7b5 \uc774\ud574</li> <li> 2025 NFV Release 5 \uc2e0\uae30\ub2a5 \ud30c\uc545</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#sdn","title":"SDN","text":"<ul> <li> NFV\uc640 SDN\uc758 \uad00\uacc4 \ubc0f \uc0c1\ud638 \ubcf4\uc644\uc131 \uc774\ud574</li> <li> OpenDaylight, ONOS, Ryu \uac01\uac01\uc758 \uc7a5\ub2e8\uc810 \ud30c\uc545</li> <li> SDN \ucee8\ud2b8\ub864\ub7ec \uc120\ud0dd \uae30\uc900 \uc774\ud574</li> <li> OpenFlow Flow \ucd94\uac00/\uc0ad\uc81c \uacbd\ud5d8</li> <li> REST API\ub97c \ud1b5\ud55c SDN \uc81c\uc5b4 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#service-function-chaining","title":"Service Function Chaining","text":"<ul> <li> SFC \uac1c\ub150 \ubc0f \ud544\uc694\uc131 \uc774\ud574</li> <li> IETF SFC \uc544\ud0a4\ud14d\ucc98 \ud30c\uc545</li> <li> OpenStack Networking-SFC \uc0ac\uc6a9 \uacbd\ud5d8</li> <li> Port Pair, Port Chain \uc0dd\uc131 \uacbd\ud5d8</li> <li> Dynamic SFC \ubc0f AI \uae30\ubc18 \ucd5c\uc801\ud654 \uac1c\ub150 \uc774\ud574</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_9","title":"\uc885\ud569 \uc5ed\ub7c9","text":"<ul> <li> NFV+SDN \ud1b5\ud569 \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4 \uac00\ub2a5</li> <li> VNF \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158 \ub3c4\uad6c \uc120\ud0dd \ubc0f \ubc30\ud3ec \uacbd\ud5d8</li> <li> \ud504\ub85c\ub355\uc158 SFC \uad6c\ucd95 \ubc0f \uc6b4\uc601 \uacbd\ud5d8</li> <li> \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ucd5c\uc801\ud654 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch4.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EA%B0%80%EC%83%81%ED%99%94/#_10","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch4. \ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654\ub97c \uc644\ub8cc\ud588\ub2e4\uba74, \ub2e4\uc74c \ud559\uc2b5 \uc8fc\uc81c\ub85c \uc9c4\ud589\ud558\uc138\uc694:</p> <p>Ch5. \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4</p> <ul> <li>Virtual Firewall (pfsense, OPNsense)</li> <li>Virtual Load Balancer (HAProxy, Nginx)</li> <li>Network Monitoring (Zabbix, Nagios)</li> <li>Traffic Shaping &amp; QoS</li> </ul> <p>\ub610\ub294 \uc2ec\ud654 \ud559\uc2b5:</p> <ul> <li>Kubernetes CNF: Helm Charts, Operators</li> <li>5G Core Network: UPF, SMF, AMF (NFV \uae30\ubc18)</li> <li>Edge Computing: Multi-Access Edge Computing (MEC)</li> <li>Network Slicing: 5G \ub124\ud2b8\uc6cc\ud06c \uc2ac\ub77c\uc774\uc2f1</li> </ul> <p>\uc2e4\ubb34 \ud504\ub85c\uc81d\ud2b8 \uc544\uc774\ub514\uc5b4:</p> <ol> <li>\uba40\ud2f0 VIM NFV \ud50c\ub7ab\ud3fc</li> <li>OpenStack + Kubernetes \ud1b5\ud569</li> <li>VNF\uc640 CNF \uacf5\uc874</li> <li> <p>\ud1b5\ud569 \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158</p> </li> <li> <p>AI \uae30\ubc18 SFC \ucd5c\uc801\ud654</p> </li> <li>\uac15\ud654\ud559\uc2b5 \uae30\ubc18 VNF \ubc30\uce58</li> <li>\uc2e4\uc2dc\uac04 \ud2b8\ub798\ud53d \ubd84\uc11d</li> <li> <p>\ub3d9\uc801 \uccb4\uc778 \uc7ac\uad6c\uc131</p> </li> <li> <p>Telco Cloud 5G Core</p> </li> <li>NFV \uae30\ubc18 5G \ub124\ud2b8\uc6cc\ud06c</li> <li>Network Slicing \uad6c\ud604</li> <li>E2E \uc624\ucf00\uc2a4\ud2b8\ub808\uc774\uc158</li> </ol> <p>\ub124\ud2b8\uc6cc\ud06c \uac00\uc0c1\ud654\ub294 \ubbf8\ub798 \ub124\ud2b8\uc6cc\ud06c\uc758 \ud575\uc2ec\uc785\ub2c8\ub2e4. \uacc4\uc18d\ud574\uc11c \ud559\uc2b5\ud558\uace0 \uc2e4\uc2b5\ud558\uba74\uc11c \ucc28\uc138\ub300 \ub124\ud2b8\uc6cc\ud06c\ub97c \uc124\uacc4\ud558\uace0 \uc6b4\uc601\ud558\ub294 \uc804\ubb38\uac00\ub85c \uc131\uc7a5\ud558\uc138\uc694!</p>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/","title":"Ch5. \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4","text":""},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>\ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4\ub294 \ubc29\ud654\ubcbd, \ub85c\ub4dc \ubc38\ub7f0\uc11c, VPN \uac8c\uc774\ud2b8\uc6e8\uc774 \ub4f1 \ub124\ud2b8\uc6cc\ud06c \uc778\ud504\ub77c\uc758 \ud575\uc2ec \uae30\ub2a5\uc744 \uc81c\uacf5\ud558\ub294 \ud2b9\uc218 \ubaa9\uc801 \uc2dc\uc2a4\ud15c\uc785\ub2c8\ub2e4. \uc804\ud1b5\uc801\uc73c\ub85c \uc804\uc6a9 \ud558\ub4dc\uc6e8\uc5b4\ub85c \uc81c\uacf5\ub418\uc5c8\uc9c0\ub9cc, \uac00\uc0c1\ud654 \uae30\uc220\uc758 \ubc1c\uc804\uc73c\ub85c \uac00\uc0c1 \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4(Virtual Appliance)\uac00 \uc8fc\ub958\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, pfSense\uc640 OPNsense\ub294 \uac00\uc7a5 \uc778\uae30 \uc788\ub294 \uc624\ud508\uc18c\uc2a4 \ubc29\ud654\ubcbd\uc774\uba70, HAProxy\uc640 Nginx\ub294 \uace0\uc131\ub2a5 \ub85c\ub4dc \ubc38\ub7f0\uc11c\uc758 \ud45c\uc900\uc785\ub2c8\ub2e4. Envoy\uc640 Traefik\uc740 \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \ud658\uacbd\uc5d0\uc11c Service Mesh\uc640 Ingress Controller\ub85c \ub110\ub9ac \uc0ac\uc6a9\ub418\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p> <p>\uc774 \ucc55\ud130\uc5d0\uc11c\ub294 \uc8fc\uc694 \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4\uc758 \uc124\uce58, \uad6c\uc131, \uc131\ub2a5 \ucd5c\uc801\ud654, \uadf8\ub9ac\uace0 \uc2e4\ubb34 \ud65c\uc6a9 \ubc29\ubc95\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>pfSense\uc640 OPNsense \ube44\uad50 \ubc0f \uc801\uc808\ud55c \uc120\ud0dd</li> <li>Virtual Firewall \uc124\uce58 \ubc0f \uace0\uae09 \uae30\ub2a5 \uc124\uc815</li> <li>HAProxy, Nginx, Envoy, Traefik \uc131\ub2a5 \ube44\uad50 \ubc0f \uc120\ud0dd</li> <li>\uace0\uac00\uc6a9\uc131(HA) \ub85c\ub4dc \ubc38\ub7f0\uc11c \uad6c\uc131</li> <li>SSL/TLS Termination \ubc0f HTTP/3 \uc124\uc815</li> <li>\ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc54c\uace0\ub9ac\uc998 \uc120\ud0dd \ubc0f \ucd5c\uc801\ud654</li> <li>\ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ud2b8\ub7ec\ube14\uc288\ud305</li> </ul>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#part-1-virtual-firewall","title":"Part 1: Virtual Firewall","text":""},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#1-1-pfsense-vs-opnsense-2025","title":"1-1. pfSense vs OPNsense (2025)","text":"<p>\uac1c\uc694:</p> <p>pfSense\uc640 OPNsense\ub294 \ubaa8\ub450 FreeBSD \uae30\ubc18\uc758 \uc624\ud508\uc18c\uc2a4 \ubc29\ud654\ubcbd/\ub77c\uc6b0\ud130 \ud50c\ub7ab\ud3fc\uc785\ub2c8\ub2e4. OPNsense\ub294 2015\ub144 pfSense\uc5d0\uc11c \ud3ec\ud06c\ub418\uc5b4 \ub098\uc654\uc73c\uba70, \uc9c4\uc815\ud55c \uc624\ud508\uc18c\uc2a4 \ucca0\ud559\uc744 \ucd94\uad6c\ud569\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 \ucc28\uc774\uc810 (2025):</p> \ud2b9\uc131 pfSense OPNsense UI/UX \uad6c\uc2dd, \ub35c \uc9c1\uad00\uc801 \ubaa8\ub358, \ud130\uce58\uc2a4\ud06c\ub9b0 \uc9c0\uc6d0 \uc5c5\ub370\uc774\ud2b8 \ubaa8\ub378 \uba54\uc774\uc800 \ub9b4\ub9ac\uc2a4 \ub864\ub9c1 \ub9b4\ub9ac\uc2a4 (\uc7a6\uc740 \uc5c5\ub370\uc774\ud2b8) \ub864\ubc31 \uae30\ub2a5 \uc81c\ud55c\uc801 \uc804\uccb4 \ub864\ubc31 \uc9c0\uc6d0 \u2b50 VPN IPsec, OpenVPN IPsec, OpenVPN, WireGuard \u2b50 2FA \ud50c\ub7ec\uadf8\uc778 \ud544\uc694 \ub0b4\uc7a5 \u2b50 \uac00\uc0c1\ud654 \uc9c0\uc6d0 \ubcf4\ud1b5 \uc6b0\uc218 (VM \ucd5c\uc801\ud654) \u2b50 \ud558\ub4dc\uc6e8\uc5b4 \uc911\uc2ec Netgate \uc7a5\ube44 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc911\uc2ec \uc624\ud508\uc18c\uc2a4 \ucca0\ud559 \uc81c\ud55c\uc801 \uc644\uc804 \uc624\ud508\uc18c\uc2a4 \u2b50 \ucee4\ubba4\ub2c8\ud2f0 \ud06c\uace0 \uc131\uc219 \uc131\uc7a5 \uc911 \uae30\uc5c5 \uc9c0\uc6d0 Netgate Deciso <p>\uc120\ud0dd \uac00\uc774\ub4dc:</p> <ul> <li>pfSense \uc120\ud0dd:</li> <li>Netgate \ud558\ub4dc\uc6e8\uc5b4 \uc0ac\uc6a9</li> <li>\uc548\uc815\uc131 \ucd5c\uc6b0\uc120</li> <li> <p>\ud070 \ucee4\ubba4\ub2c8\ud2f0 \ud544\uc694</p> </li> <li> <p>OPNsense \uc120\ud0dd: \u2b50 2025 \uad8c\uc7a5</p> </li> <li>\uac00\uc0c1 \ud658\uacbd (VM/Cloud)</li> <li>WireGuard VPN \ud544\uc694</li> <li>\uc790\uc8fc \uc5c5\ub370\uc774\ud2b8 \uc120\ud638</li> <li>\uc9c4\uc815\ud55c \uc624\ud508\uc18c\uc2a4 \uc6d0\ud568</li> <li>\ubaa8\ub358 UI \uc120\ud638</li> </ul>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#1-2-opnsense","title":"1-2. OPNsense \uc124\uce58 \ubc0f \uae30\ubcf8 \uc124\uc815","text":"<p>\uc2dc\uc2a4\ud15c \uc694\uad6c\uc0ac\ud56d (2025):</p> <pre><code>\ucd5c\uc18c:\n- CPU: 1 GHz (x86-64)\n- RAM: 1 GB\n- Disk: 8 GB\n- NIC: 2\uac1c (WAN, LAN)\n\n\uad8c\uc7a5 (\ud504\ub85c\ub355\uc158):\n- CPU: 4 cores\n- RAM: 4 GB\n- Disk: 40 GB SSD\n- NIC: 2-4\uac1c\n</code></pre> <p>\uac00\uc0c1 \ud658\uacbd \uc124\uce58 (KVM/QEMU):</p> <pre><code># OPNsense ISO \ub2e4\uc6b4\ub85c\ub4dc\nwget https://mirror.ams1.nl.leaseweb.net/opnsense/releases/25.1/OPNsense-25.1-dvd-amd64.iso.bz2\nbunzip2 OPNsense-25.1-dvd-amd64.iso.bz2\n\n# VM \uc0dd\uc131 (virt-install)\nvirt-install \\\n  --name opnsense \\\n  --ram 4096 \\\n  --vcpus 4 \\\n  --disk path=/var/lib/libvirt/images/opnsense.qcow2,size=40 \\\n  --network bridge=br-wan \\\n  --network bridge=br-lan \\\n  --cdrom /path/to/OPNsense-25.1-dvd-amd64.iso \\\n  --graphics vnc \\\n  --os-variant freebsd13.0\n\n# VNC\ub85c \uc811\uc18d\ud558\uc5ec \uc124\uce58 \uc9c4\ud589\n# root / opnsense (\uae30\ubcf8 \ube44\ubc00\ubc88\ud638)\n</code></pre> <p>\ucd08\uae30 \uc124\uc815 (\ucf58\uc194):</p> <pre><code>OPNsense \ucf58\uc194 \uba54\ub274:\n\n1) Assign interfaces\n2) Set interface IP address\n3) Reset webConfigurator password\n4) Reset to factory defaults\n5) Power off system\n6) Reboot system\n7) Ping host\n8) Shell\n9) pfTop\n10) Firewall log\n11) Reload all services\n12) Update from console\n13) Restore configuration\n14) Restart SSH\n\n\ucd08\uae30 \uc124\uc815:\n1. \uc778\ud130\ud398\uc774\uc2a4 \ud560\ub2f9 (WAN: em0, LAN: em1)\n2. LAN IP \uc124\uc815 (192.168.1.1/24)\n3. DHCP \uc11c\ubc84 \ud65c\uc131\ud654\n4. WebGUI \ube44\ubc00\ubc88\ud638 \ubcc0\uacbd\n</code></pre> <p>\uc6f9 \uc778\ud130\ud398\uc774\uc2a4 \uc811\uc18d:</p> <pre><code>URL: https://192.168.1.1\nUsername: root\nPassword: opnsense (\ubcc0\uacbd \ud544\uc694)\n\n\ucd08\uae30 \ub9c8\ubc95\uc0ac:\n1. General Information\n   - Hostname: firewall\n   - Domain: example.local\n   - Primary/Secondary DNS\n\n2. Time Server Information\n   - Timezone: Asia/Seoul\n   - NTP Server: pool.ntp.org\n\n3. WAN Interface Configuration\n   - Type: DHCP / Static / PPPoE\n   - IPv4 Address / Gateway\n\n4. LAN Interface Configuration\n   - IP: 192.168.1.1/24\n\n5. Root Password\n   - \uac15\ub825\ud55c \ube44\ubc00\ubc88\ud638 \uc124\uc815\n\n6. Reload configuration\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#1-3-opnsense","title":"1-3. OPNsense \uace0\uae09 \uae30\ub2a5","text":"<p>1. \ubc29\ud654\ubcbd \uaddc\uce59 (Firewall Rules):</p> <pre><code>Firewall \u2192 Rules \u2192 LAN\n\n\uaddc\uce59 \uc608\uc81c:\n\n# HTTP/HTTPS \ud5c8\uc6a9 (\uc778\ud130\ub137)\nAction: Pass\nInterface: LAN\nProtocol: TCP\nSource: LAN net\nDestination: any\nDestination Port: 80,443\nDescription: Allow web browsing\n\n# SSH \ud5c8\uc6a9 (\uad00\ub9ac\uc6a9, \ud2b9\uc815 IP\ub9cc)\nAction: Pass\nInterface: LAN\nProtocol: TCP\nSource: 192.168.1.100\nDestination: any\nDestination Port: 22\nDescription: Allow SSH from admin PC\n\n# \uae30\ubcf8 \ucc28\ub2e8 (Implicit Deny)\n\ubaa8\ub4e0 \uaddc\uce59 \uc544\ub798\uc5d0 \uc790\ub3d9\uc73c\ub85c \uc801\uc6a9\ub428\n</code></pre> <p>2. NAT (Network Address Translation):</p> <pre><code>Firewall \u2192 NAT \u2192 Port Forward\n\n\ud3ec\ud2b8 \ud3ec\uc6cc\ub529 \uc608\uc81c:\n\n# \uc6f9 \uc11c\ubc84 (80 \u2192 192.168.1.10:80)\nInterface: WAN\nProtocol: TCP\nDestination: WAN address\nDestination Port: 80\nRedirect target IP: 192.168.1.10\nRedirect target port: 80\nDescription: Web Server\n\n# SSH \uc11c\ubc84 (2222 \u2192 192.168.1.20:22)\nInterface: WAN\nProtocol: TCP\nDestination: WAN address\nDestination Port: 2222\nRedirect target IP: 192.168.1.20\nRedirect target port: 22\nDescription: SSH Server\n</code></pre> <p>3. WireGuard VPN (2025 \uad8c\uc7a5):</p> <pre><code>VPN \u2192 WireGuard\n\n# 1. Local \uc778\uc2a4\ud134\uc2a4 \uc0dd\uc131\nName: wg0\nListen Port: 51820\nTunnel Address: 10.10.10.1/24\nPrivate Key: (\uc790\ub3d9 \uc0dd\uc131)\n\n# 2. Endpoint (\ud53c\uc5b4) \ucd94\uac00\nName: mobile-client\nPublic Key: &lt;\ud074\ub77c\uc774\uc5b8\ud2b8 \uacf5\uac1c\ud0a4&gt;\nAllowed IPs: 10.10.10.2/32\nEndpoint Address: (\ube44\uc6cc\ub460 - \ud074\ub77c\uc774\uc5b8\ud2b8\uac00 \uc5f0\uacb0)\nEndpoint Port: (\ube44\uc6cc\ub460)\n\n# 3. \ud074\ub77c\uc774\uc5b8\ud2b8 \uc124\uc815 \ud30c\uc77c \uc0dd\uc131\n[Interface]\nPrivateKey = &lt;\ud074\ub77c\uc774\uc5b8\ud2b8 \uac1c\uc778\ud0a4&gt;\nAddress = 10.10.10.2/24\nDNS = 192.168.1.1\n\n[Peer]\nPublicKey = &lt;\uc11c\ubc84 \uacf5\uac1c\ud0a4&gt;\nEndpoint = &lt;\uc11c\ubc84 WAN IP&gt;:51820\nAllowedIPs = 0.0.0.0/0, ::/0\nPersistentKeepalive = 25\n\n# 4. \ubc29\ud654\ubcbd \uaddc\uce59 \ucd94\uac00\nInterface: WireGuard (wg0)\nAction: Pass\nProtocol: any\nSource: 10.10.10.0/24\nDestination: LAN net\n</code></pre> <p>4. IDS/IPS (Intrusion Detection/Prevention):</p> <pre><code>Services \u2192 Intrusion Detection\n\n\uc124\uc815:\n\u2611 Enabled\n\u2611 IPS mode (\ucc28\ub2e8 \ubaa8\ub4dc)\nInterfaces: WAN, LAN\nPattern matcher: Hyperscan (\uace0\uc131\ub2a5)\nRulesets:\n  \u2611 abuse.ch\n  \u2611 ET open/emerging-threats\n  \u2611 OPNsense specific rules\n\n\uaddc\uce59 \uc5c5\ub370\uc774\ud2b8:\n- \uc790\ub3d9 \uc5c5\ub370\uc774\ud2b8: \ub9e4\uc77c 03:00\n- \uc218\ub3d9 \uc5c5\ub370\uc774\ud2b8: Download &amp; Update Rules\n\n\ub85c\uadf8 \ud655\uc778:\nServices \u2192 Intrusion Detection \u2192 Alerts\n</code></pre> <p>5. \uace0\uac00\uc6a9\uc131 (HA) \uad6c\uc131:</p> <pre><code>System \u2192 High Availability \u2192 Settings\n\nCARP \uc124\uc815:\n\u2611 Enable CARP\nSynchronize Config to IP: &lt;\ubc31\uc5c5 \ubc29\ud654\ubcbd IP&gt;\nRemote System Username: root\nRemote System Password: &lt;\ube44\ubc00\ubc88\ud638&gt;\n\nSynchronize:\n\u2611 Synchronize rules\n\u2611 Synchronize NAT\n\u2611 Synchronize DHCP\n\u2611 Synchronize Virtual IPs\n\n\uac00\uc0c1 IP \uc124\uc815 (Firewall \u2192 Virtual IPs):\nType: CARP\nInterface: LAN\nAddress: 192.168.1.254/24\nVHID Group: 1\nAdvertising Frequency: Base 1 / Skew 0\nPassword: (\uac15\ub825\ud55c \ube44\ubc00\ubc88\ud638)\n\n\ubc31\uc5c5 \ubc29\ud654\ubcbd\uc5d0\uc11c:\n\ub3d9\uc77c\ud55c \uc124\uc815, \ub2e8 Skew\ub97c 100\uc73c\ub85c \uc124\uc815\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#part-2-load-balancer","title":"Part 2: Load Balancer","text":""},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#2-1-load-balancer-2025","title":"2-1. Load Balancer \ube44\uad50 (2025)","text":"<p>HAProxy:</p> <pre><code>\ud2b9\uc9d5:\n- \uc804\uc6a9 \ub85c\ub4dc \ubc38\ub7f0\uc11c (\ub2e8\uc77c \ubaa9\uc801)\n- \ucd5c\uace0 \uc131\ub2a5 (50,000+ req/s)\n- \ubcf5\uc7a1\ud55c \ub77c\uc6b0\ud305 \uaddc\uce59 \uc6b0\uc218\n- TCP/HTTP/HTTPS \uc9c0\uc6d0\n- \ub808\uac70\uc2dc \ubc30\ud3ec \ucd5c\uc801\n\n\uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         HAProxy Process          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Frontend (Listen)         \u2502  \u2502\n\u2502  \u2502  - bind :80, :443          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502               \u2502                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Backend (Servers)         \u2502  \u2502\n\u2502  \u2502  - server1 192.168.1.10:80 \u2502  \u2502\n\u2502  \u2502  - server2 192.168.1.11:80 \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc131\ub2a5:\n- \ucc98\ub9ac\ub7c9: \u2b50\u2b50\u2b50\u2b50\u2b50 (\ucd5c\uace0)\n- \uc9c0\uc5f0\uc2dc\uac04: &lt; 1ms\n- \ub3d9\uc2dc \uc5f0\uacb0: \uc218\uc2ed\ub9cc\n</code></pre> <p>Nginx:</p> <pre><code>\ud2b9\uc9d5:\n- \uc6f9 \uc11c\ubc84 + \ub85c\ub4dc \ubc38\ub7f0\uc11c (\ub2e4\ubaa9\uc801)\n- \uc815\uc801 \ucf58\ud150\uce20 \uc11c\ube59 \uc6b0\uc218\n- HTTP/2, HTTP/3 \uc9c0\uc6d0 \uc6b0\uc218\n- \ub9ce\uc740 \ub3d9\uc2dc \uc5f0\uacb0 \ucc98\ub9ac \uc6b0\uc218\n- \ubaa8\ub358 \uc6f9 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucd5c\uc801\n\n\uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       Nginx Master Process       \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Worker Processes (N)      \u2502  \u2502\n\u2502  \u2502  - Event-driven            \u2502  \u2502\n\u2502  \u2502  - Non-blocking I/O        \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Upstream Servers          \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc131\ub2a5:\n- \ucc98\ub9ac\ub7c9: \u2b50\u2b50\u2b50\u2b50\n- \uc9c0\uc5f0\uc2dc\uac04: &lt; 2ms\n- \ub3d9\uc2dc \uc5f0\uacb0: \uc218\uc2ed\ub9cc\n- \uc815\uc801 \ud30c\uc77c: \u2b50\u2b50\u2b50\u2b50\u2b50\n</code></pre> <p>Envoy:</p> <pre><code>\ud2b9\uc9d5:\n- Service Mesh \ud504\ub85d\uc2dc\n- xDS API (\ub3d9\uc801 \uc124\uc815)\n- \uace0\uae09 \uad00\ucc30\uc131 (Observability)\n- gRPC \ub124\uc774\ud2f0\ube0c \uc9c0\uc6d0\n- \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \ucd5c\uc801\n\n\uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Envoy Proxy              \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Listeners                 \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502  Filters (HTTP, TCP, ...)  \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502  Clusters (Upstreams)      \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502  xDS APIs (\ub3d9\uc801 \uc124\uc815)       \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc131\ub2a5:\n- \ucc98\ub9ac\ub7c9: \u2b50\u2b50\u2b50\u2b50\n- \uc9c0\uc5f0\uc2dc\uac04: &lt; 5ms\n- Service Mesh: \u2b50\u2b50\u2b50\u2b50\u2b50\n- \uad00\ucc30\uc131: \u2b50\u2b50\u2b50\u2b50\u2b50\n</code></pre> <p>Traefik:</p> <pre><code>\ud2b9\uc9d5:\n- \ud074\ub77c\uc6b0\ub4dc \ub124\uc774\ud2f0\ube0c \ud504\ub85d\uc2dc\n- Kubernetes/Docker \ub124\uc774\ud2f0\ube0c\n- \uc790\ub3d9 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac\n- Let's Encrypt \uc790\ub3d9 \uc778\uc99d\uc11c\n- \uac1c\ubc1c\uc790 \uce5c\ud654\uc801\n\n\uc544\ud0a4\ud14d\ucc98:\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Traefik Proxy            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Providers (K8s, Docker)   \u2502  \u2502\n\u2502  \u2502  - \uc790\ub3d9 \uc124\uc815 \uac10\uc9c0           \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502  Routers (\ub77c\uc6b0\ud305 \uaddc\uce59)      \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502  Services (\ubc31\uc5d4\ub4dc)          \u2502  \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \u2502\n\u2502  \u2502  Middlewares (\uc778\uc99d, CORS)  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc131\ub2a5:\n- \ucc98\ub9ac\ub7c9: \u2b50\u2b50\u2b50\n- \uc9c0\uc5f0\uc2dc\uac04: &lt; 10ms\n- \uc790\ub3d9\ud654: \u2b50\u2b50\u2b50\u2b50\u2b50\n- K8s \ud1b5\ud569: \u2b50\u2b50\u2b50\u2b50\u2b50\n</code></pre> <p>2025 \uc131\ub2a5 \ubca4\uce58\ub9c8\ud06c:</p> <pre><code>HTTP/1.1 (50,000 req/s \ubd80\ud558):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Proxy    \u2502 Latency   \u2502 CPU (%)  \u2502 Memory   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 HAProxy  \u2502  0.8 ms   \u2502   45%    \u2502  150 MB  \u2502\u2b50\n\u2502 Nginx    \u2502  1.2 ms   \u2502   52%    \u2502  180 MB  \u2502\n\u2502 Envoy    \u2502  2.5 ms   \u2502   68%    \u2502  320 MB  \u2502\n\u2502 Traefik  \u2502  4.1 ms   \u2502   75%    \u2502  280 MB  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nHTTP/2:\nNginx, Envoy \uc6b0\uc218 (\ub124\uc774\ud2f0\ube0c \uc9c0\uc6d0)\n\nHTTP/3 (QUIC):\nNginx &gt; Envoy &gt; HAProxy (\uc2e4\ud5d8\uc801)\n\ngRPC:\nEnvoy \u2b50\u2b50\u2b50\u2b50\u2b50\nTraefik \u2b50\u2b50\u2b50\u2b50\nNginx \u2b50\u2b50\u2b50\nHAProxy \u2b50\u2b50\n\nService Mesh:\nEnvoy \u2b50\u2b50\u2b50\u2b50\u2b50 (Istio \ubc31\ubcf8)\n</code></pre> <p>\uc120\ud0dd \uac00\uc774\ub4dc:</p> \uc2dc\ub098\ub9ac\uc624 \ucd94\ucc9c \ucd5c\uace0 \uc131\ub2a5 \ud544\uc694 HAProxy \uc815\uc801 \ucf58\ud150\uce20 + LB Nginx HTTP/3 \ud544\uc694 Nginx Microservices/gRPC Envoy Service Mesh Envoy (Istio) Kubernetes Traefik / Nginx Ingress \uc790\ub3d9 \uc124\uc815 Traefik"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#2-2-haproxy","title":"2-2. HAProxy \uc124\uce58 \ubc0f \uc124\uc815","text":"<p>\uc124\uce58:</p> <pre><code># Ubuntu/Debian\napt-get install haproxy\n\n# CentOS/RHEL\nyum install haproxy\n\n# \ucd5c\uc2e0 \ubc84\uc804 (PPA)\nadd-apt-repository ppa:vbernat/haproxy-2.9\napt-get update\napt-get install haproxy=2.9.\\*\n</code></pre> <p>\uae30\ubcf8 \uc124\uc815 (/etc/haproxy/haproxy.cfg):</p> <pre><code>global\n    log /dev/log local0\n    log /dev/log local1 notice\n    chroot /var/lib/haproxy\n    stats socket /run/haproxy/admin.sock mode 660 level admin\n    stats timeout 30s\n    user haproxy\n    group haproxy\n    daemon\n\n    # \uc131\ub2a5 \ud29c\ub2dd\n    maxconn 50000\n    nbthread 4\n    cpu-map auto:1/1-4 0-3\n\n    # SSL \uc124\uc815\n    ssl-default-bind-ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256\n    ssl-default-bind-ciphersuites TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384\n    ssl-default-bind-options ssl-min-ver TLSv1.2 no-tls-tickets\n\ndefaults\n    log     global\n    mode    http\n    option  httplog\n    option  dontlognull\n    timeout connect 5000\n    timeout client  50000\n    timeout server  50000\n    errorfile 400 /etc/haproxy/errors/400.http\n    errorfile 403 /etc/haproxy/errors/403.http\n    errorfile 408 /etc/haproxy/errors/408.http\n    errorfile 500 /etc/haproxy/errors/500.http\n    errorfile 502 /etc/haproxy/errors/502.http\n    errorfile 503 /etc/haproxy/errors/503.http\n    errorfile 504 /etc/haproxy/errors/504.http\n\n# \ud1b5\uacc4 \ud398\uc774\uc9c0\nlisten stats\n    bind *:8404\n    stats enable\n    stats uri /stats\n    stats refresh 30s\n    stats auth admin:password\n\n# HTTP Frontend\nfrontend http_front\n    bind *:80\n    mode http\n\n    # ACL (Access Control List)\n    acl is_api path_beg /api\n    acl is_admin path_beg /admin\n    acl is_static path_end .jpg .png .css .js\n\n    # \ub77c\uc6b0\ud305\n    use_backend api_backend if is_api\n    use_backend admin_backend if is_admin\n    use_backend static_backend if is_static\n    default_backend web_backend\n\n# HTTPS Frontend (SSL Termination)\nfrontend https_front\n    bind *:443 ssl crt /etc/haproxy/certs/example.com.pem\n    mode http\n\n    # HSTS\n    http-response set-header Strict-Transport-Security \"max-age=31536000\"\n\n    # HTTP/2\n    bind *:443 ssl crt /etc/haproxy/certs/example.com.pem alpn h2,http/1.1\n\n    default_backend web_backend\n\n# Web Backend (Round Robin)\nbackend web_backend\n    mode http\n    balance roundrobin\n    option httpchk GET /health\n\n    server web1 192.168.1.10:8080 check\n    server web2 192.168.1.11:8080 check\n    server web3 192.168.1.12:8080 check backup\n\n# API Backend (Least Connections)\nbackend api_backend\n    mode http\n    balance leastconn\n    option httpchk GET /api/health\n\n    server api1 192.168.1.20:3000 check maxconn 100\n    server api2 192.168.1.21:3000 check maxconn 100\n\n# Static Content Backend\nbackend static_backend\n    mode http\n    balance roundrobin\n\n    server cdn1 192.168.1.30:80 check\n    server cdn2 192.168.1.31:80 check\n</code></pre> <p>\uace0\uae09 \uae30\ub2a5:</p> <pre><code># Stick Tables (\uc138\uc158 \uc9c0\uc18d\uc131)\nbackend web_backend\n    stick-table type ip size 200k expire 30m\n    stick on src\n\n    server web1 192.168.1.10:8080 check\n    server web2 192.168.1.11:8080 check\n\n# Rate Limiting\nfrontend http_front\n    # \ud074\ub77c\uc774\uc5b8\ud2b8\ub2f9 10 req/s \uc81c\ud55c\n    stick-table type ip size 100k expire 30s store http_req_rate(10s)\n    http-request track-sc0 src\n    http-request deny if { sc_http_req_rate(0) gt 10 }\n\n# Circuit Breaker\nbackend api_backend\n    option httpchk GET /health\n\n    # 3\ubc88 \uc5f0\uc18d \uc2e4\ud328 \uc2dc 5\ucd08\uac04 \ube44\ud65c\uc131\ud654\n    server api1 192.168.1.20:3000 check inter 2s fall 3 rise 2 on-error mark-down\n    server api2 192.168.1.21:3000 check inter 2s fall 3 rise 2 on-error mark-down\n\n# Content Switching (\ud638\uc2a4\ud2b8 \uae30\ubc18)\nfrontend http_front\n    acl host_api hdr(host) -i api.example.com\n    acl host_www hdr(host) -i www.example.com\n\n    use_backend api_backend if host_api\n    use_backend web_backend if host_www\n</code></pre> <p>HAProxy \uc7ac\uc2dc\uc791:</p> <pre><code># \uc124\uc815 \uac80\uc99d\nhaproxy -c -f /etc/haproxy/haproxy.cfg\n\n# \ubb34\uc911\ub2e8 \uc7ac\uc2dc\uc791 (Graceful Reload)\nsystemctl reload haproxy\n\n# Stats \ud655\uc778\ncurl http://localhost:8404/stats\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#2-3-nginx","title":"2-3. Nginx \ub85c\ub4dc \ubc38\ub7f0\uc11c \uc124\uc815","text":"<p>\uc124\uce58:</p> <pre><code># Ubuntu/Debian\napt-get install nginx\n\n# \ucd5c\uc2e0 \ubc84\uc804 (\uacf5\uc2dd \uc800\uc7a5\uc18c)\ncurl -fsSL https://nginx.org/keys/nginx_signing.key | apt-key add -\nadd-apt-repository \"deb http://nginx.org/packages/ubuntu $(lsb_release -sc) nginx\"\napt-get update\napt-get install nginx\n</code></pre> <p>\uae30\ubcf8 \uc124\uc815 (/etc/nginx/nginx.conf):</p> <pre><code>user nginx;\nworker_processes auto;\nworker_rlimit_nofile 100000;\nerror_log /var/log/nginx/error.log warn;\npid /var/run/nginx.pid;\n\nevents {\n    worker_connections 10000;\n    use epoll;\n    multi_accept on;\n}\n\nhttp {\n    include /etc/nginx/mime.types;\n    default_type application/octet-stream;\n\n    # \ub85c\uadf8 \ud3ec\ub9f7\n    log_format main '$remote_addr - $remote_user [$time_local] \"$request\" '\n                    '$status $body_bytes_sent \"$http_referer\" '\n                    '\"$http_user_agent\" \"$http_x_forwarded_for\" '\n                    'rt=$request_time uct=\"$upstream_connect_time\" '\n                    'uht=\"$upstream_header_time\" urt=\"$upstream_response_time\"';\n\n    access_log /var/log/nginx/access.log main;\n\n    # \uc131\ub2a5 \ucd5c\uc801\ud654\n    sendfile on;\n    tcp_nopush on;\n    tcp_nodelay on;\n    keepalive_timeout 65;\n    keepalive_requests 100;\n    reset_timedout_connection on;\n    client_body_timeout 10;\n    send_timeout 2;\n\n    # Gzip \uc555\ucd95\n    gzip on;\n    gzip_vary on;\n    gzip_proxied any;\n    gzip_comp_level 6;\n    gzip_types text/plain text/css text/xml text/javascript\n               application/json application/javascript application/xml+rss;\n\n    # Upstream (\ubc31\uc5d4\ub4dc \uc11c\ubc84)\n    upstream web_backend {\n        least_conn;  # \ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc54c\uace0\ub9ac\uc998\n\n        server 192.168.1.10:8080 weight=3 max_fails=3 fail_timeout=30s;\n        server 192.168.1.11:8080 weight=2 max_fails=3 fail_timeout=30s;\n        server 192.168.1.12:8080 backup;\n\n        # Keepalive \uc5f0\uacb0\n        keepalive 32;\n    }\n\n    upstream api_backend {\n        # IP Hash (\uc138\uc158 \uc9c0\uc18d\uc131)\n        ip_hash;\n\n        server 192.168.1.20:3000;\n        server 192.168.1.21:3000;\n    }\n\n    # \ud5ec\uc2a4 \uccb4\ud06c (Nginx Plus \uc804\uc6a9, OSS\ub294 passive\ub9cc)\n    # upstream api_backend {\n    #     zone api_backend 64k;\n    #     server 192.168.1.20:3000;\n    #     server 192.168.1.21:3000;\n    # }\n    #\n    # match api_health {\n    #     status 200;\n    #     body ~ \"OK\";\n    # }\n\n    # HTTP Server (\ud3ec\ud2b8 80)\n    server {\n        listen 80 default_server;\n        listen [::]:80 default_server;\n        server_name example.com www.example.com;\n\n        # HTTP \u2192 HTTPS \ub9ac\ub2e4\uc774\ub809\ud2b8\n        return 301 https://$server_name$request_uri;\n    }\n\n    # HTTPS Server (\ud3ec\ud2b8 443)\n    server {\n        listen 443 ssl http2 default_server;\n        listen [::]:443 ssl http2 default_server;\n        server_name example.com www.example.com;\n\n        # SSL \uc778\uc99d\uc11c\n        ssl_certificate /etc/nginx/ssl/example.com.crt;\n        ssl_certificate_key /etc/nginx/ssl/example.com.key;\n\n        # SSL \uc124\uc815\n        ssl_protocols TLSv1.2 TLSv1.3;\n        ssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256';\n        ssl_prefer_server_ciphers off;\n        ssl_session_cache shared:SSL:10m;\n        ssl_session_timeout 10m;\n\n        # HSTS\n        add_header Strict-Transport-Security \"max-age=31536000\" always;\n\n        # \ub8e8\ud2b8 \uc704\uce58\n        location / {\n            proxy_pass http://web_backend;\n            proxy_http_version 1.1;\n\n            # \ud5e4\ub354 \uc804\ub2ec\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n\n            # Keepalive\n            proxy_set_header Connection \"\";\n\n            # \ud0c0\uc784\uc544\uc6c3\n            proxy_connect_timeout 5s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n\n        # API \uc5d4\ub4dc\ud3ec\uc778\ud2b8\n        location /api/ {\n            proxy_pass http://api_backend;\n            proxy_http_version 1.1;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header Connection \"\";\n        }\n\n        # \uc815\uc801 \ud30c\uc77c (Nginx\uac00 \uc9c1\uc811 \uc11c\ube59)\n        location /static/ {\n            alias /var/www/static/;\n            expires 30d;\n            add_header Cache-Control \"public, immutable\";\n        }\n\n        # Rate Limiting\n        location /login {\n            limit_req zone=login_limit burst=5 nodelay;\n            proxy_pass http://web_backend;\n        }\n\n        # Status \ud398\uc774\uc9c0\n        location /nginx_status {\n            stub_status on;\n            access_log off;\n            allow 127.0.0.1;\n            deny all;\n        }\n    }\n\n    # Rate Limit Zone\n    limit_req_zone $binary_remote_addr zone=login_limit:10m rate=1r/s;\n}\n</code></pre> <p>HTTP/3 (QUIC) \uc124\uc815 (Nginx 1.25+):</p> <pre><code>server {\n    listen 443 ssl http2;\n    listen 443 quic reuseport;  # HTTP/3\n\n    http3 on;\n\n    # Alt-Svc \ud5e4\ub354 (HTTP/3 \uc54c\ub9bc)\n    add_header Alt-Svc 'h3=\":443\"; ma=86400';\n\n    ssl_certificate /etc/nginx/ssl/example.com.crt;\n    ssl_certificate_key /etc/nginx/ssl/example.com.key;\n\n    # QUIC\ub294 TLS 1.3 \ud544\uc218\n    ssl_protocols TLSv1.3;\n}\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#2-4-traefik-kubernetes-ingress","title":"2-4. Traefik (Kubernetes Ingress)","text":"<p>Traefik \uc124\uce58 (Kubernetes Helm):</p> <pre><code># Traefik Helm Chart \ucd94\uac00\nhelm repo add traefik https://traefik.github.io/charts\nhelm repo update\n\n# Traefik \uc124\uce58\nhelm install traefik traefik/traefik \\\n  --namespace traefik \\\n  --create-namespace \\\n  --set ports.web.redirectTo.port=websecure \\\n  --set ports.websecure.tls.enabled=true \\\n  --set ingressRoute.dashboard.enabled=true\n</code></pre> <p>Ingress \uc608\uc81c (traefik-ingress.yaml):</p> <pre><code>apiVersion: traefik.io/v1alpha1\nkind: IngressRoute\nmetadata:\n  name: web-app-ingress\n  namespace: default\nspec:\n  entryPoints:\n    - websecure\n  routes:\n    - match: Host(`example.com`) &amp;&amp; PathPrefix(`/api`)\n      kind: Rule\n      services:\n        - name: api-service\n          port: 3000\n      middlewares:\n        - name: rate-limit\n    - match: Host(`example.com`)\n      kind: Rule\n      services:\n        - name: web-service\n          port: 8080\n  tls:\n    certResolver: letsencrypt\n\n---\napiVersion: traefik.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: rate-limit\nspec:\n  rateLimit:\n    average: 100\n    burst: 50\n\n---\napiVersion: traefik.io/v1alpha1\nkind: Middleware\nmetadata:\n  name: auth\nspec:\n  basicAuth:\n    secret: auth-secret\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#1-opnsense","title":"\uc2e4\uc2b5 1: OPNsense \ubc29\ud654\ubcbd \uad6c\ucd95","text":"<p>\ubaa9\ud45c: \uae30\uc5c5 \ub124\ud2b8\uc6cc\ud06c \ubc29\ud654\ubcbd \uad6c\uc131</p> <pre><code># VM \uc0dd\uc131 (\uc774\uc804 \uc139\uc158 \ucc38\uace0)\n# \uc6f9 GUI \uc811\uc18d \ud6c4 \uc124\uc815\n\n\ub124\ud2b8\uc6cc\ud06c \uad6c\uc131:\n- WAN: DHCP (\uc778\ud130\ub137)\n- LAN: 192.168.1.1/24\n- DMZ: 192.168.2.1/24 (\ucd94\uac00 \uc778\ud130\ud398\uc774\uc2a4)\n\n\ubc29\ud654\ubcbd \uaddc\uce59:\n1. LAN \u2192 WAN: \ubaa8\ub450 \ud5c8\uc6a9 (NAT)\n2. LAN \u2192 DMZ: \ud2b9\uc815 \ud3ec\ud2b8\ub9cc (80, 443, 22)\n3. DMZ \u2192 LAN: \ucc28\ub2e8\n4. WAN \u2192 DMZ: \ud3ec\ud2b8 \ud3ec\uc6cc\ub529 (80, 443\ub9cc)\n\nIDS/IPS:\n- Suricata \ud65c\uc131\ud654\n- ET Open \ub8f0\uc14b\n- \ubaa8\ub4e0 \uc778\ud130\ud398\uc774\uc2a4 \ubaa8\ub2c8\ud130\ub9c1\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#2-haproxy","title":"\uc2e4\uc2b5 2: HAProxy \uace0\uac00\uc6a9\uc131 \ub85c\ub4dc \ubc38\ub7f0\uc11c","text":"<p>\ubaa9\ud45c: Active-Standby HA \uad6c\uc131</p> <pre><code># \ub178\ub4dc 1 (Primary)\napt-get install haproxy keepalived\n\n# /etc/keepalived/keepalived.conf\nvrrp_instance VI_1 {\n    state MASTER\n    interface eth0\n    virtual_router_id 51\n    priority 101\n    advert_int 1\n\n    authentication {\n        auth_type PASS\n        auth_pass secretpass\n    }\n\n    virtual_ipaddress {\n        192.168.1.100/24\n    }\n\n    track_script {\n        chk_haproxy\n    }\n}\n\nvrrp_script chk_haproxy {\n    script \"killall -0 haproxy\"\n    interval 2\n    weight 2\n}\n\n# \ub178\ub4dc 2 (Backup)\n# \ub3d9\uc77c\ud55c \uc124\uc815, state=BACKUP, priority=100\n\n# \ud14c\uc2a4\ud2b8\n# VIP\ub85c \uc811\uc18d\ud558\uc5ec failover \ud655\uc778\ncurl http://192.168.1.100\n\n# Primary \uc911\uc9c0 \uc2dc Backup\uc73c\ub85c \uc790\ub3d9 \uc804\ud658\nsystemctl stop haproxy  # Node 1\uc5d0\uc11c\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#3-nginx-lets-encrypt-ssl","title":"\uc2e4\uc2b5 3: Nginx + Let's Encrypt \uc790\ub3d9 SSL","text":"<p>\ubaa9\ud45c: \uc790\ub3d9 SSL \uc778\uc99d\uc11c \uac31\uc2e0</p> <pre><code># Certbot \uc124\uce58\napt-get install certbot python3-certbot-nginx\n\n# SSL \uc778\uc99d\uc11c \ubc1c\uae09 (\uc790\ub3d9 Nginx \uc124\uc815)\ncertbot --nginx -d example.com -d www.example.com\n\n# \uc790\ub3d9 \uac31\uc2e0 \ud14c\uc2a4\ud2b8\ncertbot renew --dry-run\n\n# Cron\uc73c\ub85c \uc790\ub3d9 \uac31\uc2e0 (\ub9e4\uc77c 2\ud68c \uccb4\ud06c)\n0 0,12 * * * certbot renew --quiet\n\n# Nginx \uc124\uc815 \ud655\uc778 (/etc/nginx/sites-enabled/default)\n# Certbot\uc774 \uc790\ub3d9\uc73c\ub85c SSL \uc124\uc815 \ucd94\uac00\ud568\n\n# \uc7ac\uc2dc\uc791\nsystemctl reload nginx\n</code></pre>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#_4","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":"<p>Virtual Firewall:</p> <ul> <li>OPNsense vs pfSense Comparison 2025 (StationX)</li> <li>OPNsense Documentation</li> <li>pfSense Documentation</li> </ul> <p>Load Balancers:</p> <ul> <li>HAProxy vs Nginx Performance (Last9)</li> <li>HAProxy vs Nginx vs Envoy Benchmark 2025 (Onidel)</li> <li>Battle of Proxies: Envoy vs Traefik vs HAProxy (AWS Plain English, Oct 2025)</li> <li>HAProxy Documentation</li> <li>Nginx Documentation</li> <li>Envoy Documentation</li> <li>Traefik Documentation</li> </ul>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#_5","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":""},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#virtual-firewall","title":"Virtual Firewall","text":"<ul> <li> pfSense vs OPNsense \ucc28\uc774\uc810 \uc774\ud574</li> <li> OPNsense \uc124\uce58 \ubc0f \ucd08\uae30 \uc124\uc815 \uacbd\ud5d8</li> <li> \ubc29\ud654\ubcbd \uaddc\uce59 \uc791\uc131 \ubc0f NAT \uc124\uc815 \uacbd\ud5d8</li> <li> WireGuard VPN \uc124\uc815 \uacbd\ud5d8</li> <li> IDS/IPS (Suricata) \uc124\uc815 \uacbd\ud5d8</li> <li> HA (CARP) \uad6c\uc131 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#load-balancer","title":"Load Balancer","text":"<ul> <li> HAProxy, Nginx, Envoy, Traefik \ucc28\uc774\uc810 \uc774\ud574</li> <li> \ub85c\ub4dc \ubc38\ub7f0\uc2f1 \uc54c\uace0\ub9ac\uc998 \uc120\ud0dd \ub2a5\ub825</li> <li> HAProxy \uc124\uc815 \ubc0f \uc6b4\uc601 \uacbd\ud5d8</li> <li> Nginx \ub9ac\ubc84\uc2a4 \ud504\ub85d\uc2dc \ubc0f LB \uc124\uc815 \uacbd\ud5d8</li> <li> SSL/TLS Termination \uad6c\ud604 \uacbd\ud5d8</li> <li> HTTP/2, HTTP/3 \uc124\uc815 \uacbd\ud5d8</li> <li> Rate Limiting \ubc0f Circuit Breaker \uad6c\ud604 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#_6","title":"\uc885\ud569 \uc5ed\ub7c9","text":"<ul> <li> \uace0\uac00\uc6a9\uc131 \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4 \uc124\uacc4</li> <li> \uc131\ub2a5 \ubaa8\ub2c8\ud130\ub9c1 \ubc0f \ucd5c\uc801\ud654 \uacbd\ud5d8</li> <li> \ubcf4\uc548 Best Practices \uc801\uc6a9</li> <li> \ud504\ub85c\ub355\uc158 \ud658\uacbd \ud2b8\ub7ec\ube14\uc288\ud305 \uacbd\ud5d8</li> </ul>"},{"location":"networking-service/Ch5.%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%ED%94%8C%EB%9D%BC%EC%9D%B4%EC%96%B8%EC%8A%A4/#_7","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch5. \ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4\ub97c \uc644\ub8cc\ud588\ub2e4\uba74, \ub2e4\uc74c \ud559\uc2b5 \uc8fc\uc81c\ub85c \uc9c4\ud589\ud558\uc138\uc694:</p> <p>Ch6. Event-Driven Architecture</p> <ul> <li>Event Sourcing</li> <li>CQRS (Command Query Responsibility Segregation)</li> <li>Message Brokers (RabbitMQ, Kafka)</li> <li>Event Streaming</li> </ul> <p>\ub610\ub294 \uc2ec\ud654 \ud559\uc2b5:</p> <ul> <li>WAF (Web Application Firewall): ModSecurity, NAXSI</li> <li>DDoS Protection: Cloudflare, Fastly</li> <li>API Gateway: Kong, Tyk, AWS API Gateway</li> <li>CDN: Varnish, Cloudflare, Fastly</li> </ul> <p>\uc2e4\ubb34 \ud504\ub85c\uc81d\ud2b8 \uc544\uc774\ub514\uc5b4:</p> <ol> <li>Multi-Layer \ubcf4\uc548 \uc544\ud0a4\ud14d\ucc98</li> <li>Edge Firewall (OPNsense)</li> <li>WAF (ModSecurity)</li> <li> <p>Application LB (HAProxy/Nginx)</p> </li> <li> <p>\uae00\ub85c\ubc8c \ub85c\ub4dc \ubc38\ub7f0\uc2f1</p> </li> <li>GeoDNS</li> <li>Multi-Region LB</li> <li> <p>Failover \uc790\ub3d9\ud654</p> </li> <li> <p>Zero Trust \ub124\ud2b8\uc6cc\ud06c</p> </li> <li>Mutual TLS</li> <li>Identity-based Access</li> <li>Micro-segmentation</li> </ol> <p>\ub124\ud2b8\uc6cc\ud06c \uc5b4\ud50c\ub77c\uc774\uc5b8\uc2a4\ub294 \uc778\ud504\ub77c\uc758 \uccab \ubc88\uc9f8 \ubc29\uc5b4\uc120\uc774\uc790 \uc131\ub2a5\uc758 \ud575\uc2ec\uc785\ub2c8\ub2e4. \uacc4\uc18d\ud574\uc11c \ud559\uc2b5\ud558\uace0 \uc2e4\uc2b5\ud558\uba74\uc11c \uc548\uc804\ud558\uace0 \uace0\uc131\ub2a5\uc778 \ub124\ud2b8\uc6cc\ud06c\ub97c \uad6c\ucd95\ud558\ub294 \uc804\ubb38\uac00\ub85c \uc131\uc7a5\ud558\uc138\uc694!</p>"},{"location":"networking-service/Ch6.Event_Driven/","title":"Ch6. Event-Driven Architecture","text":""},{"location":"networking-service/Ch6.Event_Driven/#_1","title":"\ud83d\udccb \uac1c\uc694","text":"<p>Event-Driven Architecture (EDA)\ub294 \uc774\ubca4\ud2b8\uc758 \uc0dd\uc131, \uac10\uc9c0, \uc18c\ube44, \ubc18\uc751\uc744 \uc911\uc2ec\uc73c\ub85c \uc124\uacc4\ub41c \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc544\ud0a4\ud14d\ucc98 \ud328\ud134\uc785\ub2c8\ub2e4. \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \uc2dc\ub300\uc5d0 EDA\ub294 \ub290\uc2a8\ud55c \uacb0\ud569(Loose Coupling), \ud655\uc7a5\uc131(Scalability), \ud0c4\ub825\uc131(Resilience)\uc744 \uc81c\uacf5\ud558\ub294 \ud575\uc2ec \uc544\ud0a4\ud14d\ucc98\ub85c \uc790\ub9ac\uc7a1\uc558\uc2b5\ub2c8\ub2e4.</p> <p>2025\ub144 \ud604\uc7ac, Event Sourcing\uacfc CQRS\ub294 \uae08\uc735, \uc804\uc790\uc0c1\uac70\ub798, \ud5ec\uc2a4\ucf00\uc5b4 \ub4f1 \uac10\uc0ac \ucd94\uc801\uc774 \uc911\uc694\ud55c \ub3c4\uba54\uc778\uc5d0\uc11c \ud45c\uc900 \ud328\ud134\uc774 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. Kafka\ub294 100\ub9cc \uba54\uc2dc\uc9c0/\ucd08\uc758 \ucc98\ub9ac\ub7c9\uc73c\ub85c \ub300\uaddc\ubaa8 \uc2a4\ud2b8\ub9ac\ubc0d \ud50c\ub7ab\ud3fc\uc758 \ud45c\uc900\uc774\uba70, RabbitMQ\ub294 \ub0ae\uc740 \uc9c0\uc5f0\uc2dc\uac04\uacfc \ubcf5\uc7a1\ud55c \ub77c\uc6b0\ud305\uc774 \ud544\uc694\ud55c \ud658\uacbd\uc5d0\uc11c \uc5ec\uc804\ud788 \uc120\ud638\ub429\ub2c8\ub2e4.</p> <p>\uc774 \ucc55\ud130\uc5d0\uc11c\ub294 Event Sourcing, CQRS, Message Brokers, Event Streaming\uae4c\uc9c0 \uc774\ubca4\ud2b8 \uae30\ubc18 \uc544\ud0a4\ud14d\ucc98\uc758 \ubaa8\ub4e0 \uce21\uba74\uc744 \ub2e4\ub8f9\ub2c8\ub2e4.</p>"},{"location":"networking-service/Ch6.Event_Driven/#_2","title":"\ud83c\udfaf \ud559\uc2b5 \ubaa9\ud45c","text":"<p>\uc774 \ucc55\ud130\ub97c \uc644\ub8cc\ud558\uba74 \ub2e4\uc74c\uc744 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4:</p> <ul> <li>Event-Driven Architecture\uc758 \ud575\uc2ec \uac1c\ub150 \uc774\ud574</li> <li>Event Sourcing \ud328\ud134 \uc124\uacc4 \ubc0f \uad6c\ud604</li> <li>CQRS \ud328\ud134 \uc801\uc6a9 \uc2dc\uae30 \ubc0f \ubc29\ubc95 \ud30c\uc545</li> <li>RabbitMQ vs Kafka \uc120\ud0dd \uae30\uc900 \uc774\ud574</li> <li>Message Broker \uc124\uce58 \ubc0f \uc6b4\uc601</li> <li>Event Streaming \uc544\ud0a4\ud14d\ucc98 \uc124\uacc4</li> <li>Eventual Consistency \ucc98\ub9ac \uc804\ub7b5 \uc218\ub9bd</li> </ul>"},{"location":"networking-service/Ch6.Event_Driven/#part-1-event-driven-architecture","title":"Part 1: Event-Driven Architecture \uac1c\uc694","text":""},{"location":"networking-service/Ch6.Event_Driven/#1-1-eda","title":"1-1. EDA \ud575\uc2ec \uac1c\ub150","text":"<p>\uc804\ud1b5\uc801\uc778 \uc544\ud0a4\ud14d\ucc98 vs Event-Driven:</p> <pre><code>\uc804\ud1b5\uc801\uc778 \ub3d9\uae30 \uc544\ud0a4\ud14d\ucc98:\nClient \u2192 [API Gateway] \u2192 [Service A] \u2192 [Service B] \u2192 [Service C]\n         (\ub3d9\uae30 \ud638\ucd9c \uccb4\uc778)\n\n\ubb38\uc81c\uc810:\n- \uac15\ud55c \uacb0\ud569 (Tight Coupling)\n- \ub2e8\uc77c \uc2e4\ud328 \uc9c0\uc810 (Single Point of Failure)\n- \ud655\uc7a5\uc131 \uc81c\ud55c\n- \ub192\uc740 \uc9c0\uc5f0\uc2dc\uac04 (\ub204\uc801)\n\n\nEvent-Driven \uc544\ud0a4\ud14d\ucc98:\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192\u2502 Event Bus   \u2502\u2190\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n         \u2502          \u2502 (Kafka/MQ)  \u2502           \u2502\n         \u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n         \u2502                 \u2502                  \u2502\n    (Publish)          (Subscribe)       (Subscribe)\n         \u2502                 \u2502                  \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510       \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n    \u2502Service A\u2502      \u2502Service B\u2502       \u2502Service C\u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n\u2713 \ub290\uc2a8\ud55c \uacb0\ud569 (Loose Coupling)\n\u2713 \ub3c5\ub9bd\uc801 \ud655\uc7a5 (Independent Scaling)\n\u2713 \ud0c4\ub825\uc131 (Resilience)\n\u2713 \ube44\ub3d9\uae30 \ucc98\ub9ac (Async Processing)\n</code></pre> <p>\uc774\ubca4\ud2b8 \ud0c0\uc785:</p> <pre><code>1. Event Notification (\uc774\ubca4\ud2b8 \uc54c\ub9bc)\n   - \ub2e8\uc21c \uc54c\ub9bc\n   - \ucd5c\uc18c\ud55c\uc758 \ub370\uc774\ud130\n   - \uc608: \"\uc8fc\ubb38\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4\" (OrderID\ub9cc \ud3ec\ud568)\n\n2. Event-Carried State Transfer (\uc0c1\ud0dc \uc804\ub2ec \uc774\ubca4\ud2b8)\n   - \uc804\uccb4 \uc0c1\ud0dc \ud3ec\ud568\n   - \uc218\uc2e0\uc790\uac00 \uc790\uccb4 \uce90\uc2dc \uad6c\ucd95\n   - \uc608: \"\uc8fc\ubb38 \uc0dd\uc131\" (\uc804\uccb4 Order \uac1d\uccb4 \ud3ec\ud568)\n\n3. Event Sourcing (\uc774\ubca4\ud2b8 \uc18c\uc2f1)\n   - \uc0c1\ud0dc \ubcc0\uacbd\uc744 \uc774\ubca4\ud2b8\ub85c \uc800\uc7a5\n   - \uc774\ubca4\ud2b8 \uc7ac\uc0dd\uc73c\ub85c \uc0c1\ud0dc \uc7ac\uad6c\uc131\n   - \uc608: \"OrderCreated\" \u2192 \"OrderPaid\" \u2192 \"OrderShipped\"\n</code></pre>"},{"location":"networking-service/Ch6.Event_Driven/#1-2-event-sourcing","title":"1-2. Event Sourcing \ud328\ud134","text":"<p>Event Sourcing\uc774\ub780?</p> <p>\uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc758 \uc0c1\ud0dc\ub97c \ubcc0\uacbd\ud558\ub294 \ubaa8\ub4e0 \uc774\ubca4\ud2b8\ub97c \uc21c\uc11c\ub300\ub85c \uc800\uc7a5\ud558\uace0, \uc774\ubca4\ud2b8 \uc7ac\uc0dd(Replay)\uc744 \ud1b5\ud574 \ud604\uc7ac \uc0c1\ud0dc\ub97c \uc7ac\uad6c\uc131\ud558\ub294 \ud328\ud134\uc785\ub2c8\ub2e4.</p> <p>\uc804\ud1b5\uc801\uc778 CRUD vs Event Sourcing:</p> <pre><code>\uc804\ud1b5\uc801\uc778 CRUD (\uc0c1\ud0dc \uc800\uc7a5):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502        Orders Table              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 ID \u2502 Status   \u2502 Amount \u2502 Updated \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 1  \u2502 Shipped  \u2502 $100   \u2502 10:30   \u2502 \u2190 \ucd5c\uc885 \uc0c1\ud0dc\ub9cc \uc800\uc7a5\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ud788\uc2a4\ud1a0\ub9ac \uc190\uc2e4:\n- \uc5b8\uc81c \uc0dd\uc131?\n- \ub204\uac00 \uacb0\uc81c?\n- \uc5b8\uc81c \ubc30\uc1a1?\n\u2192 \ubcc4\ub3c4 \uac10\uc0ac \ub85c\uadf8 \ud544\uc694\n\n\nEvent Sourcing (\uc774\ubca4\ud2b8 \uc800\uc7a5):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             Event Store (Append-Only)               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 OrderCreated   \u2502 OrderID=1  \u2502 Amount=$100 \u2502 09:00  \u2502\n\u2502 OrderPaid      \u2502 OrderID=1  \u2502 Method=Card \u2502 09:05  \u2502\n\u2502 OrderShipped   \u2502 OrderID=1  \u2502 Carrier=DHL \u2502 10:30  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2193 (Replay/Project)\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Current State (Read Model)   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 ID \u2502 Status   \u2502 Amount \u2502         \u2502\n\u251c\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 1  \u2502 Shipped  \u2502 $100   \u2502         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n\u2713 \uc644\uc804\ud55c \uac10\uc0ac \ucd94\uc801 (Full Audit Trail)\n\u2713 \uc2dc\uc810 \ubcf5\uc6d0 (Point-in-Time Recovery)\n\u2713 \uc774\ubca4\ud2b8 \uc7ac\uc0dd (Replay)\n\u2713 \ub514\ubc84\uae45 \uc6a9\uc774\n</code></pre> <p>Event Sourcing \uad6c\ud604 (Python \uc608\uc81c):</p> <pre><code># event_sourcing.py\nfrom dataclasses import dataclass, field\nfrom datetime import datetime\nfrom typing import List, Dict, Any\nfrom enum import Enum\n\n# \uc774\ubca4\ud2b8 \ubca0\uc774\uc2a4 \ud074\ub798\uc2a4\n@dataclass\nclass Event:\n    event_id: str\n    aggregate_id: str\n    timestamp: datetime = field(default_factory=datetime.now)\n    version: int = 1\n\n# \ub3c4\uba54\uc778 \uc774\ubca4\ud2b8\n@dataclass\nclass OrderCreated(Event):\n    customer_id: str\n    items: List[Dict[str, Any]]\n    total_amount: float\n\n@dataclass\nclass OrderPaid(Event):\n    payment_method: str\n    transaction_id: str\n\n@dataclass\nclass OrderShipped(Event):\n    carrier: str\n    tracking_number: str\n\n# Aggregate (\uc8fc\ubb38)\nclass OrderStatus(Enum):\n    CREATED = \"created\"\n    PAID = \"paid\"\n    SHIPPED = \"shipped\"\n    DELIVERED = \"delivered\"\n\nclass Order:\n    def __init__(self, order_id: str):\n        self.order_id = order_id\n        self.customer_id = None\n        self.items = []\n        self.total_amount = 0.0\n        self.status = None\n        self.payment_method = None\n        self.tracking_number = None\n        self.version = 0\n        self.changes: List[Event] = []\n\n    def create_order(self, customer_id: str, items: List[Dict], total: float):\n        \"\"\"\uc8fc\ubb38 \uc0dd\uc131 \ucee4\ub9e8\ub4dc\"\"\"\n        event = OrderCreated(\n            event_id=f\"evt-{self.order_id}-1\",\n            aggregate_id=self.order_id,\n            customer_id=customer_id,\n            items=items,\n            total_amount=total,\n            version=self.version + 1\n        )\n        self._apply(event)\n        self.changes.append(event)\n\n    def pay_order(self, method: str, transaction_id: str):\n        \"\"\"\uacb0\uc81c \ucee4\ub9e8\ub4dc\"\"\"\n        if self.status != OrderStatus.CREATED:\n            raise ValueError(\"Order must be in CREATED status to pay\")\n\n        event = OrderPaid(\n            event_id=f\"evt-{self.order_id}-2\",\n            aggregate_id=self.order_id,\n            payment_method=method,\n            transaction_id=transaction_id,\n            version=self.version + 1\n        )\n        self._apply(event)\n        self.changes.append(event)\n\n    def ship_order(self, carrier: str, tracking: str):\n        \"\"\"\ubc30\uc1a1 \ucee4\ub9e8\ub4dc\"\"\"\n        if self.status != OrderStatus.PAID:\n            raise ValueError(\"Order must be PAID to ship\")\n\n        event = OrderShipped(\n            event_id=f\"evt-{self.order_id}-3\",\n            aggregate_id=self.order_id,\n            carrier=carrier,\n            tracking_number=tracking,\n            version=self.version + 1\n        )\n        self._apply(event)\n        self.changes.append(event)\n\n    def _apply(self, event: Event):\n        \"\"\"\uc774\ubca4\ud2b8 \uc801\uc6a9 (\uc0c1\ud0dc \ubcc0\uacbd)\"\"\"\n        if isinstance(event, OrderCreated):\n            self.customer_id = event.customer_id\n            self.items = event.items\n            self.total_amount = event.total_amount\n            self.status = OrderStatus.CREATED\n\n        elif isinstance(event, OrderPaid):\n            self.payment_method = event.payment_method\n            self.status = OrderStatus.PAID\n\n        elif isinstance(event, OrderShipped):\n            self.tracking_number = event.tracking_number\n            self.status = OrderStatus.SHIPPED\n\n        self.version = event.version\n\n    @classmethod\n    def from_events(cls, events: List[Event]) -&gt; 'Order':\n        \"\"\"\uc774\ubca4\ud2b8\ub85c\ubd80\ud130 Aggregate \uc7ac\uad6c\uc131\"\"\"\n        if not events:\n            raise ValueError(\"No events to replay\")\n\n        order = cls(events[0].aggregate_id)\n        for event in events:\n            order._apply(event)\n        return order\n\n# Event Store\nclass EventStore:\n    def __init__(self):\n        self.events: Dict[str, List[Event]] = {}\n\n    def save_events(self, aggregate_id: str, events: List[Event], expected_version: int):\n        \"\"\"\uc774\ubca4\ud2b8 \uc800\uc7a5 (Optimistic Concurrency)\"\"\"\n        if aggregate_id not in self.events:\n            self.events[aggregate_id] = []\n\n        current_version = len(self.events[aggregate_id])\n        if current_version != expected_version:\n            raise ValueError(f\"Concurrency conflict: expected {expected_version}, got {current_version}\")\n\n        self.events[aggregate_id].extend(events)\n\n    def get_events(self, aggregate_id: str) -&gt; List[Event]:\n        \"\"\"\uc774\ubca4\ud2b8 \uc870\ud68c\"\"\"\n        return self.events.get(aggregate_id, [])\n\n# \uc0ac\uc6a9 \uc608\uc81c\nif __name__ == \"__main__\":\n    store = EventStore()\n\n    # \uc8fc\ubb38 \uc0dd\uc131\n    order = Order(\"order-123\")\n    order.create_order(\n        customer_id=\"cust-456\",\n        items=[{\"product\": \"Laptop\", \"price\": 1000}],\n        total=1000.0\n    )\n\n    # \uacb0\uc81c\n    order.pay_order(method=\"CreditCard\", transaction_id=\"txn-789\")\n\n    # \ubc30\uc1a1\n    order.ship_order(carrier=\"DHL\", tracking=\"DHL-123456\")\n\n    # \uc774\ubca4\ud2b8 \uc800\uc7a5\n    store.save_events(order.order_id, order.changes, 0)\n\n    print(f\"Saved {len(order.changes)} events\")\n\n    # \uc774\ubca4\ud2b8 \uc7ac\uc0dd\uc73c\ub85c \uc8fc\ubb38 \ubcf5\uc6d0\n    events = store.get_events(\"order-123\")\n    restored_order = Order.from_events(events)\n\n    print(f\"Restored Order: {restored_order.order_id}\")\n    print(f\"Status: {restored_order.status}\")\n    print(f\"Amount: ${restored_order.total_amount}\")\n    print(f\"Tracking: {restored_order.tracking_number}\")\n</code></pre> <p>Event Store \uc120\ud0dd (2025):</p> <ul> <li>EventStoreDB: \uc804\uc6a9 Event Sourcing DB, \uace0\uc131\ub2a5, Projections \uc9c0\uc6d0</li> <li>PostgreSQL + JSON: \ubc94\uc6a9 DB, \ub2e8\uc21c\ud55c \uad6c\ud604</li> <li>Kafka: \uc2a4\ud2b8\ub9ac\ubc0d \ud50c\ub7ab\ud3fc, \ub300\uaddc\ubaa8 \uc774\ubca4\ud2b8</li> <li>DynamoDB: \uc11c\ubc84\ub9ac\uc2a4, AWS \ud658\uacbd</li> </ul>"},{"location":"networking-service/Ch6.Event_Driven/#1-3-cqrs","title":"1-3. CQRS \ud328\ud134","text":"<p>CQRS (Command Query Responsibility Segregation):</p> <p>\uc77d\uae30(Query)\uc640 \uc4f0\uae30(Command) \ubaa8\ub378\uc744 \ubd84\ub9ac\ud558\ub294 \ud328\ud134\uc785\ub2c8\ub2e4.</p> <p>\uc804\ud1b5\uc801\uc778 \ubaa8\ub378 vs CQRS:</p> <pre><code>\uc804\ud1b5\uc801\uc778 \ubaa8\ub378 (\ub2e8\uc77c \ubaa8\ub378):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Application             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502   Domain Model            \u2502  \u2502\n\u2502  \u2502  (Read &amp; Write)           \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n               \u2502\n        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n        \u2502  Database   \u2502\n        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ubb38\uc81c\uc810:\n- \uc77d\uae30/\uc4f0\uae30 \uc694\uad6c\uc0ac\ud56d \ucda9\ub3cc\n- \ubcf5\uc7a1\ud55c \uc870\uc778 \ucffc\ub9ac\n- \ud655\uc7a5\uc131 \uc81c\ud55c\n\n\nCQRS \ubaa8\ub378 (\ubd84\ub9ac):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Application                            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502 Command Model   \u2502      \u2502   Query Model       \u2502  \u2502\n\u2502  \u2502 (Write)         \u2502      \u2502   (Read)            \u2502  \u2502\n\u2502  \u2502 - Validates     \u2502      \u2502 - Denormalized      \u2502  \u2502\n\u2502  \u2502 - Business Rules\u2502      \u2502 - Optimized Views   \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502                         \u2502\n     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n     \u2502  Write DB  \u2502           \u2502   Read DB      \u2502\n     \u2502 (Postgres) \u2502 \u2500Events\u2500\u2192 \u2502 (MongoDB/ES)   \u2502\n     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc7a5\uc810:\n\u2713 \ub3c5\ub9bd\uc801 \ucd5c\uc801\ud654\n\u2713 \uc77d\uae30 \ud655\uc7a5\uc131 (Read Replicas)\n\u2713 \ub2e8\uc21c\ud55c \ucffc\ub9ac \ubaa8\ub378\n\u2713 Polyglot Persistence\n</code></pre> <p>CQRS \uad6c\ud604 \uc608\uc81c:</p> <pre><code># cqrs_example.py\nfrom abc import ABC, abstractmethod\nfrom dataclasses import dataclass\nfrom typing import List, Optional\nimport json\n\n# Commands (\uc4f0\uae30)\n@dataclass\nclass Command(ABC):\n    pass\n\n@dataclass\nclass CreateOrderCommand(Command):\n    order_id: str\n    customer_id: str\n    items: List[dict]\n    total: float\n\n@dataclass\nclass UpdateOrderStatusCommand(Command):\n    order_id: str\n    status: str\n\n# Events\n@dataclass\nclass OrderCreatedEvent:\n    order_id: str\n    customer_id: str\n    items: List[dict]\n    total: float\n\n# Command Handler (Write Model)\nclass OrderCommandHandler:\n    def __init__(self, write_repo, event_bus):\n        self.write_repo = write_repo\n        self.event_bus = event_bus\n\n    def handle_create_order(self, cmd: CreateOrderCommand):\n        \"\"\"\uc8fc\ubb38 \uc0dd\uc131 \ucc98\ub9ac\"\"\"\n        # \ube44\uc988\ub2c8\uc2a4 \uaddc\uce59 \uac80\uc99d\n        if cmd.total &lt;= 0:\n            raise ValueError(\"Total must be positive\")\n\n        # Write DB\uc5d0 \uc800\uc7a5 (\uc815\uaddc\ud654\ub41c \ud615\ud0dc)\n        order_data = {\n            \"order_id\": cmd.order_id,\n            \"customer_id\": cmd.customer_id,\n            \"items\": cmd.items,\n            \"total\": cmd.total,\n            \"status\": \"created\"\n        }\n        self.write_repo.save(order_data)\n\n        # \uc774\ubca4\ud2b8 \ubc1c\ud589\n        event = OrderCreatedEvent(\n            order_id=cmd.order_id,\n            customer_id=cmd.customer_id,\n            items=cmd.items,\n            total=cmd.total\n        )\n        self.event_bus.publish(event)\n\n# Query (\uc77d\uae30)\n@dataclass\nclass OrderSummaryQuery:\n    customer_id: str\n\n@dataclass\nclass OrderDetailsQuery:\n    order_id: str\n\n# Read Model (\ube44\uc815\uaddc\ud654)\n@dataclass\nclass OrderSummaryViewModel:\n    customer_id: str\n    total_orders: int\n    total_spent: float\n    recent_orders: List[dict]\n\n# Query Handler (Read Model)\nclass OrderQueryHandler:\n    def __init__(self, read_repo):\n        self.read_repo = read_repo  # MongoDB, Elasticsearch \ub4f1\n\n    def handle_order_summary(self, query: OrderSummaryQuery) -&gt; OrderSummaryViewModel:\n        \"\"\"\uace0\uac1d \uc8fc\ubb38 \uc694\uc57d \uc870\ud68c (\ube44\uc815\uaddc\ud654\ub41c \ubdf0)\"\"\"\n        summary = self.read_repo.get_customer_summary(query.customer_id)\n        return summary\n\n    def handle_order_details(self, query: OrderDetailsQuery) -&gt; dict:\n        \"\"\"\uc8fc\ubb38 \uc0c1\uc138 \uc870\ud68c\"\"\"\n        return self.read_repo.get_order_details(query.order_id)\n\n# Event Handler (Write \u2192 Read \ub3d9\uae30\ud654)\nclass OrderEventHandler:\n    def __init__(self, read_repo):\n        self.read_repo = read_repo\n\n    def on_order_created(self, event: OrderCreatedEvent):\n        \"\"\"OrderCreated \uc774\ubca4\ud2b8 \ucc98\ub9ac \u2192 Read Model \uc5c5\ub370\uc774\ud2b8\"\"\"\n        # Read DB\uc5d0 \ube44\uc815\uaddc\ud654\ub41c \ubdf0 \uc0dd\uc131\n        order_view = {\n            \"order_id\": event.order_id,\n            \"customer_id\": event.customer_id,\n            \"total\": event.total,\n            \"items_count\": len(event.items),\n            \"status\": \"created\"\n        }\n        self.read_repo.upsert_order_view(order_view)\n\n        # \uace0\uac1d \uc694\uc57d \uc5c5\ub370\uc774\ud2b8\n        self.read_repo.increment_customer_total(\n            customer_id=event.customer_id,\n            amount=event.total\n        )\n\n# Simple Event Bus (in-memory)\nclass InMemoryEventBus:\n    def __init__(self):\n        self.handlers = []\n\n    def subscribe(self, handler):\n        self.handlers.append(handler)\n\n    def publish(self, event):\n        for handler in self.handlers:\n            if isinstance(event, OrderCreatedEvent):\n                handler.on_order_created(event)\n</code></pre> <p>CQRS \uc0ac\uc6a9 \uc2dc\uae30 (2025 Best Practices):</p> <pre><code>\u2705 CQRS \uc0ac\uc6a9 \uad8c\uc7a5:\n- \uc77d\uae30/\uc4f0\uae30 \ube44\uc728 \ubd88\uade0\ud615 (Read-heavy)\n- \ubcf5\uc7a1\ud55c \ub3c4\uba54\uc778 \ub85c\uc9c1\n- \ub2e4\uc591\ud55c \ubdf0 \ud544\uc694 (\uc5ec\ub7ec UI)\n- \ub192\uc740 \ud655\uc7a5\uc131 \uc694\uad6c\n- Event Sourcing\uacfc \ud568\uaed8 \uc0ac\uc6a9\n\n\u274c CQRS \uc0ac\uc6a9 \ud53c\ud574\uc57c:\n- \ub2e8\uc21c\ud55c CRUD \uc560\ud50c\ub9ac\ucf00\uc774\uc158\n- \uc791\uc740 \uaddc\ubaa8 \ud504\ub85c\uc81d\ud2b8\n- Eventual Consistency \ud5c8\uc6a9 \ubd88\uac00\n- \ud300\uc758 \ub0ae\uc740 \uc219\ub828\ub3c4\n</code></pre>"},{"location":"networking-service/Ch6.Event_Driven/#part-2-message-brokers","title":"Part 2: Message Brokers","text":""},{"location":"networking-service/Ch6.Event_Driven/#2-1-rabbitmq-vs-kafka-2025","title":"2-1. RabbitMQ vs Kafka (2025)","text":"<p>\uc544\ud0a4\ud14d\ucc98 \ube44\uad50:</p> <pre><code>RabbitMQ (Smart Broker / Dumb Consumer):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         RabbitMQ Broker             \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Exchange (Topic/Direct/...)  \u2502  \u2502\n\u2502  \u2502  - Routing Logic              \u2502  \u2502\n\u2502  \u2502  - \uba54\uc2dc\uc9c0 \ud544\ud130\ub9c1               \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502               \u2502                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Queues (Per Consumer)        \u2502  \u2502\n\u2502  \u2502  - \uba54\uc2dc\uc9c0 \ubc84\ud37c\ub9c1               \u2502  \u2502\n\u2502  \u2502  - \uc6b0\uc120\uc21c\uc704                    \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502        \u2502        \u2502\n   Consumer1 Consumer2 Consumer3\n   (Pull)     (Pull)     (Pull)\n\n\ud2b9\uc9d5:\n- Push \ubaa8\ub378 (Broker \u2192 Consumer)\n- \ubcf5\uc7a1\ud55c \ub77c\uc6b0\ud305 (Exchange Types)\n- Per-Consumer \ud050\n- \uba54\uc2dc\uc9c0 ACK/NACK\n\n\nKafka (Dumb Broker / Smart Consumer):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Kafka Cluster               \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502  Topic: orders                \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502  \u2502\n\u2502  \u2502  \u2502Partition\u2502Partition\u2502Partn \u2502 \u2502  \u2502\n\u2502  \u2502  \u2502    0    \u2502    1    \u2502  2   \u2502 \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502        \u2502        \u2502\n   Consumer1 Consumer2 Consumer3\n   (Poll)     (Poll)     (Poll)\n  (Offset    (Offset    (Offset\n   \uad00\ub9ac)       \uad00\ub9ac)       \uad00\ub9ac)\n\n\ud2b9\uc9d5:\n- Pull \ubaa8\ub378 (Consumer \u2192 Broker)\n- \ub2e8\uc21c \ub77c\uc6b0\ud305 (Topic/Partition)\n- Shared Log (\ubaa8\ub4e0 Consumer\uac00 \ub3d9\uc77c \ub85c\uadf8)\n- Consumer\uac00 Offset \uad00\ub9ac\n</code></pre> <p>\uc131\ub2a5 \ube44\uad50 (2025 \ubca4\uce58\ub9c8\ud06c):</p> <pre><code>\ucc98\ub9ac\ub7c9 (Throughput):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Broker   \u2502 Messages/Second \u2502 Data Rate    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Kafka     \u2502  1,000,000+     \u2502  100 MB/s+   \u2502\u2b50\u2b50\u2b50\u2b50\u2b50\n\u2502 RabbitMQ  \u2502  4,000-10,000   \u2502  1-5 MB/s    \u2502\u2b50\u2b50\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\uc9c0\uc5f0\uc2dc\uac04 (Latency):\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Broker   \u2502 Small Scale  \u2502 Large Scale    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 RabbitMQ  \u2502  &lt; 5 ms      \u2502  \uc99d\uac00          \u2502\u2b50\u2b50\u2b50\u2b50\u2b50\n\u2502 Kafka     \u2502  &lt; 10 ms     \u2502  \uc77c\uc815 \uc720\uc9c0      \u2502\u2b50\u2b50\u2b50\u2b50\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\ud655\uc7a5\uc131:\nKafka \u2b50\u2b50\u2b50\u2b50\u2b50 (Horizontal Scaling)\nRabbitMQ \u2b50\u2b50\u2b50 (Clustering)\n\n\uba54\uc2dc\uc9c0 \ubcf4\uc7a5:\nKafka \u2b50\u2b50\u2b50\u2b50\u2b50 (At-least-once, Exactly-once)\nRabbitMQ \u2b50\u2b50\u2b50\u2b50 (At-least-once)\n\n\ubcf5\uc7a1\ud55c \ub77c\uc6b0\ud305:\nRabbitMQ \u2b50\u2b50\u2b50\u2b50\u2b50 (Exchange Types)\nKafka \u2b50\u2b50 (Topic\ub9cc)\n\n\uc6b4\uc601 \ubcf5\uc7a1\ub3c4:\nRabbitMQ \u2b50\u2b50\u2b50 (\uc0c1\ub300\uc801\uc73c\ub85c \ub2e8\uc21c)\nKafka \u2b50\u2b50\u2b50\u2b50\u2b50 (ZooKeeper/KRaft, \ubcf5\uc7a1)\n</code></pre> <p>\uc120\ud0dd \uac00\uc774\ub4dc:</p> \uc2dc\ub098\ub9ac\uc624 \ucd94\ucc9c \ub300\uc6a9\ub7c9 \uc2a4\ud2b8\ub9ac\ubc0d Kafka \u2b50 \uc2e4\uc2dc\uac04 \ubd84\uc11d Kafka \u2b50 Event Sourcing Kafka \u2b50 \ub0ae\uc740 \uc9c0\uc5f0\uc2dc\uac04 RabbitMQ \u2b50 \ubcf5\uc7a1\ud55c \ub77c\uc6b0\ud305 RabbitMQ \u2b50 \uc791\uc740 \uba54\uc2dc\uc9c0 RabbitMQ \u2b50 Task Queue RabbitMQ \u2b50 Microservices \ub458 \ub2e4 \uac00\ub2a5"},{"location":"networking-service/Ch6.Event_Driven/#2-2-rabbitmq","title":"2-2. RabbitMQ \uc124\uce58 \ubc0f \uc0ac\uc6a9","text":"<p>Docker\ub85c \uc124\uce58:</p> <pre><code>docker run -d \\\n  --name rabbitmq \\\n  -p 5672:5672 \\\n  -p 15672:15672 \\\n  -e RABBITMQ_DEFAULT_USER=admin \\\n  -e RABBITMQ_DEFAULT_PASS=secret \\\n  rabbitmq:3-management\n\n# Management UI: http://localhost:15672\n</code></pre> <p>Producer \uc608\uc81c (Python):</p> <pre><code># rabbitmq_producer.py\nimport pika\nimport json\n\n# \uc5f0\uacb0\nconnection = pika.BlockingConnection(\n    pika.ConnectionParameters('localhost')\n)\nchannel = connection.channel()\n\n# Exchange \uc120\uc5b8 (Topic)\nchannel.exchange_declare(\n    exchange='orders',\n    exchange_type='topic',\n    durable=True\n)\n\n# \uba54\uc2dc\uc9c0 \ubc1c\ud589\ndef publish_order_created(order_id, customer_id, total):\n    message = {\n        \"order_id\": order_id,\n        \"customer_id\": customer_id,\n        \"total\": total\n    }\n\n    channel.basic_publish(\n        exchange='orders',\n        routing_key='order.created',\n        body=json.dumps(message),\n        properties=pika.BasicProperties(\n            delivery_mode=2,  # Persistent\n            content_type='application/json'\n        )\n    )\n    print(f\"Published: order.created {order_id}\")\n\n# \ud14c\uc2a4\ud2b8\npublish_order_created(\"order-123\", \"cust-456\", 100.0)\n\nconnection.close()\n</code></pre> <p>Consumer \uc608\uc81c:</p> <pre><code># rabbitmq_consumer.py\nimport pika\nimport json\n\nconnection = pika.BlockingConnection(\n    pika.ConnectionParameters('localhost')\n)\nchannel = connection.channel()\n\n# Exchange \uc120\uc5b8\nchannel.exchange_declare(\n    exchange='orders',\n    exchange_type='topic',\n    durable=True\n)\n\n# Queue \uc120\uc5b8\nchannel.queue_declare(queue='email_notifications', durable=True)\n\n# Binding (Routing Key \ud328\ud134)\nchannel.queue_bind(\n    exchange='orders',\n    queue='email_notifications',\n    routing_key='order.*'  # order.created, order.paid \ub4f1 \ubaa8\ub450 \ub9e4\uce6d\n)\n\n# \uba54\uc2dc\uc9c0 \ucc98\ub9ac\ndef callback(ch, method, properties, body):\n    message = json.loads(body)\n    print(f\"Received: {method.routing_key} - {message}\")\n\n    # \uc774\uba54\uc77c \uc804\uc1a1 \ub85c\uc9c1\n    send_email(message)\n\n    # ACK\n    ch.basic_ack(delivery_tag=method.delivery_tag)\n\n# Consumer \uc2dc\uc791\nchannel.basic_qos(prefetch_count=1)  # Fair Dispatch\nchannel.basic_consume(\n    queue='email_notifications',\n    on_message_callback=callback\n)\n\nprint('Waiting for messages. To exit press CTRL+C')\nchannel.start_consuming()\n</code></pre>"},{"location":"networking-service/Ch6.Event_Driven/#2-3-kafka","title":"2-3. Kafka \uc124\uce58 \ubc0f \uc0ac\uc6a9","text":"<p>Docker Compose\ub85c \uc124\uce58 (KRaft \ubaa8\ub4dc, 2025 \uad8c\uc7a5):</p> <pre><code># docker-compose.yml\nversion: '3'\nservices:\n  kafka:\n    image: apache/kafka:latest\n    container_name: kafka\n    ports:\n      - \"9092:9092\"\n    environment:\n      KAFKA_NODE_ID: 1\n      KAFKA_PROCESS_ROLES: broker,controller\n      KAFKA_LISTENERS: PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093\n      KAFKA_ADVERTISED_LISTENERS: PLAINTEXT://localhost:9092\n      KAFKA_CONTROLLER_LISTENER_NAMES: CONTROLLER\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT\n      KAFKA_CONTROLLER_QUORUM_VOTERS: 1@localhost:9093\n      KAFKA_OFFSETS_TOPIC_REPLICATION_FACTOR: 1\n      KAFKA_TRANSACTION_STATE_LOG_REPLICATION_FACTOR: 1\n      KAFKA_TRANSACTION_STATE_LOG_MIN_ISR: 1\n      KAFKA_LOG_DIRS: /tmp/kraft-combined-logs\n      CLUSTER_ID: MkU3OEVBNTcwNTJENDM2Qk\n</code></pre> <pre><code>docker-compose up -d\n</code></pre> <p>Producer \uc608\uc81c (Python):</p> <pre><code># kafka_producer.py\nfrom kafka import KafkaProducer\nimport json\n\nproducer = KafkaProducer(\n    bootstrap_servers=['localhost:9092'],\n    value_serializer=lambda v: json.dumps(v).encode('utf-8'),\n    acks='all',  # \ubaa8\ub4e0 replica \ud655\uc778\n    retries=3\n)\n\n# \uba54\uc2dc\uc9c0 \uc804\uc1a1\ndef publish_order_created(order_id, customer_id, total):\n    message = {\n        \"order_id\": order_id,\n        \"customer_id\": customer_id,\n        \"total\": total\n    }\n\n    future = producer.send(\n        'orders',\n        key=order_id.encode('utf-8'),  # Partition Key\n        value=message\n    )\n\n    # \ub3d9\uae30 \ub300\uae30 (\uc120\ud0dd\uc801)\n    record_metadata = future.get(timeout=10)\n    print(f\"Published to partition {record_metadata.partition} offset {record_metadata.offset}\")\n\n# \ud14c\uc2a4\ud2b8\npublish_order_created(\"order-123\", \"cust-456\", 100.0)\n\nproducer.flush()\nproducer.close()\n</code></pre> <p>Consumer \uc608\uc81c:</p> <pre><code># kafka_consumer.py\nfrom kafka import KafkaConsumer\nimport json\n\nconsumer = KafkaConsumer(\n    'orders',\n    bootstrap_servers=['localhost:9092'],\n    group_id='email-service',\n    auto_offset_reset='earliest',\n    enable_auto_commit=False,  # \uc218\ub3d9 \ucee4\ubc0b\n    value_deserializer=lambda m: json.loads(m.decode('utf-8'))\n)\n\n# \uba54\uc2dc\uc9c0 \uc18c\ube44\nfor message in consumer:\n    order = message.value\n    print(f\"Received: partition={message.partition} offset={message.offset}\")\n    print(f\"Order: {order}\")\n\n    # \uc774\uba54\uc77c \uc804\uc1a1\n    send_email(order)\n\n    # \uc218\ub3d9 \ucee4\ubc0b\n    consumer.commit()\n</code></pre>"},{"location":"networking-service/Ch6.Event_Driven/#_3","title":"\ud83d\udee0\ufe0f \uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"networking-service/Ch6.Event_Driven/#event-sourcing-cqrs-kafka","title":"\uc2e4\uc2b5: Event Sourcing + CQRS + Kafka","text":"<p>\ubaa9\ud45c: \uc644\uc804\ud55c \uc774\ubca4\ud2b8 \uae30\ubc18 \uc2dc\uc2a4\ud15c \uad6c\ucd95</p> <pre><code># Kafka \uc2dc\uc791 (\uc704 Docker Compose \uc0ac\uc6a9)\ndocker-compose up -d\n\n# Topic \uc0dd\uc131\ndocker exec -it kafka kafka-topics.sh \\\n  --create \\\n  --topic order-events \\\n  --bootstrap-server localhost:9092 \\\n  --partitions 3 \\\n  --replication-factor 1\n</code></pre> <p>\uc804\uccb4 \uc2dc\uc2a4\ud15c \uad6c\ud604 (event_driven_system.py):</p> <pre><code># event_driven_system.py (\uc804\uccb4 \ud1b5\ud569 \uc608\uc81c\ub294 \ub108\ubb34 \uae38\uc5b4\uc11c \uac1c\ub150\ub9cc)\n\n# 1. Command Service (Write)\n#    - API\ub85c Command \uc218\uc2e0\n#    - Event \uc0dd\uc131 \ubc0f Kafka \ubc1c\ud589\n#    - Write DB \uc800\uc7a5\n\n# 2. Event Processor (Read Model Builder)\n#    - Kafka\uc5d0\uc11c Event \uad6c\ub3c5\n#    - Read Model \uc5c5\ub370\uc774\ud2b8 (MongoDB)\n#    - \ube44\uc815\uaddc\ud654\ub41c \ubdf0 \uc0dd\uc131\n\n# 3. Query Service (Read)\n#    - Read Model\uc5d0\uc11c \uc870\ud68c\n#    - \ube60\ub978 \ucffc\ub9ac \uc751\ub2f5\n\n# 4. Notification Service\n#    - Kafka\uc5d0\uc11c Event \uad6c\ub3c5\n#    - \uc774\uba54\uc77c/Push \uc54c\ub9bc \uc804\uc1a1\n</code></pre>"},{"location":"networking-service/Ch6.Event_Driven/#_4","title":"\ud83d\udcda \ucc38\uace0 \uc790\ub8cc","text":"<p>Event Sourcing &amp; CQRS:</p> <ul> <li>Event Sourcing Pattern (Microservices.io)</li> <li>CQRS Pattern (Microsoft Azure)</li> <li>CQRS and Event Sourcing - When to Use (Useful Functions, Nov 2025)</li> </ul> <p>Message Brokers:</p> <ul> <li>Kafka vs RabbitMQ Complete Guide 2025 (DevZery)</li> <li>Kafka vs RabbitMQ Comparison 2025 (ProjectPro)</li> <li>Apache Kafka Documentation</li> <li>RabbitMQ Documentation</li> </ul>"},{"location":"networking-service/Ch6.Event_Driven/#_5","title":"\u2705 \ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Event-Driven Architecture \uc774\ud574</li> <li> Event Sourcing \ud328\ud134 \uad6c\ud604 \uacbd\ud5d8</li> <li> CQRS \ud328\ud134 \uc801\uc6a9 \uc2dc\uae30 \ud310\ub2e8</li> <li> RabbitMQ vs Kafka \uc120\ud0dd \ub2a5\ub825</li> <li> Kafka Producer/Consumer \uad6c\ud604</li> <li> Eventual Consistency \ucc98\ub9ac</li> <li> \uc774\ubca4\ud2b8 \uae30\ubc18 \uc2dc\uc2a4\ud15c \uc124\uacc4 \ub2a5\ub825</li> </ul>"},{"location":"networking-service/Ch6.Event_Driven/#_6","title":"\ud83c\udf93 \ub2e4\uc74c \ub2e8\uacc4","text":"<p>Ch7. Cloud Native \ub124\ud2b8\uc6cc\ud0b9 - Kubernetes Services, Ingress, Network Policies</p> <p>Event-Driven Architecture\ub294 \ud604\ub300 \ubd84\uc0b0 \uc2dc\uc2a4\ud15c\uc758 \ud575\uc2ec\uc785\ub2c8\ub2e4. \uacc4\uc18d\ud574\uc11c \ud559\uc2b5\ud558\uace0 \uc2e4\uc2b5\ud558\uba74\uc11c \ud655\uc7a5 \uac00\ub2a5\ud558\uace0 \ud0c4\ub825\uc801\uc778 \uc2dc\uc2a4\ud15c\uc744 \uc124\uacc4\ud558\ub294 \uc804\ubb38\uac00\ub85c \uc131\uc7a5\ud558\uc138\uc694!</p>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/","title":"Ch7. Cloud Native \ub124\ud2b8\uc6cc\ud0b9","text":"<p>Kubernetes \ub124\ud2b8\uc6cc\ud0b9, Service Mesh, CNI \ud50c\ub7ec\uadf8\uc778 (2025)</p>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_1","title":"\ubaa9\ucc28","text":"<ul> <li>Kubernetes \ub124\ud2b8\uc6cc\ud0b9 \ubaa8\ub378</li> <li>Service \ud0c0\uc785</li> <li>Ingress Controllers</li> <li>Network Policies</li> <li>Service Mesh</li> <li>CNI \ud50c\ub7ec\uadf8\uc778</li> <li>\uc2e4\uc2b5 \uac00\uc774\ub4dc</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#kubernetes","title":"Kubernetes \ub124\ud2b8\uc6cc\ud0b9 \ubaa8\ub378","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_2","title":"\ub124\ud2b8\uc6cc\ud0b9 \uc6d0\uce59","text":"<p>Kubernetes\ub294 \ub2e4\uc74c 3\uac00\uc9c0 \ud575\uc2ec \ub124\ud2b8\uc6cc\ud0b9 \uc694\uad6c\uc0ac\ud56d\uc744 \uc815\uc758\ud569\ub2c8\ub2e4:</p> <ol> <li>Pod-to-Pod \ud1b5\uc2e0: \ubaa8\ub4e0 Pod\uc740 NAT \uc5c6\uc774 \uc11c\ub85c \ud1b5\uc2e0</li> <li>Node-to-Pod \ud1b5\uc2e0: \ubaa8\ub4e0 Node\ub294 NAT \uc5c6\uc774 \ubaa8\ub4e0 Pod\uacfc \ud1b5\uc2e0</li> <li>Pod IP \uc77c\uad00\uc131: Pod\uc774 \ubcf4\ub294 \uc790\uc2e0\uc758 IP\ub294 \ub2e4\ub978 Pod\uc774 \ubcf4\ub294 IP\uc640 \ub3d9\uc77c</li> </ol>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#cni-container-network-interface","title":"CNI (Container Network Interface)","text":"<p>CNI\ub294 \ucee8\ud14c\uc774\ub108 \ub124\ud2b8\uc6cc\ud06c \uad6c\uc131\uc744 \uc704\ud55c \ud45c\uc900 \uc778\ud130\ud398\uc774\uc2a4\uc785\ub2c8\ub2e4.</p> <p>\uc8fc\uc694 CNI \ud50c\ub7ec\uadf8\uc778 (2025)</p> CNI \ub124\ud2b8\uc6cc\ud0b9 \ubc29\uc2dd \uc131\ub2a5 \ubcf4\uc548 \uae30\ub2a5 \uc0ac\uc6a9 \uc0ac\ub840 Cilium eBPF 9.2 Gbps, 0.20ms L3-L7, mTLS \uace0\uc131\ub2a5, \uad00\ucc30\uc131 Calico BGP/VXLAN 8.5 Gbps, 0.25ms NetworkPolicy \uc5d4\ud130\ud504\ub77c\uc774\uc988, \uaddc\uc815\uc900\uc218 Flannel VXLAN 7.8 Gbps, 0.35ms \uae30\ubcf8 \uac04\ub2e8\ud55c \uc124\uc815 Weave Mesh 6.5 Gbps, 0.45ms \uc554\ud638\ud654 \uba40\ud2f0\ud074\ub77c\uc6b0\ub4dc"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#service","title":"Service \ud0c0\uc785","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#clusterip","title":"ClusterIP (\uae30\ubcf8)","text":"<p>\ud074\ub7ec\uc2a4\ud130 \ub0b4\ubd80\uc5d0\uc11c\ub9cc \uc811\uadfc \uac00\ub2a5\ud55c \uac00\uc0c1 IP\ub97c \ud560\ub2f9\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: backend-service\nspec:\n  type: ClusterIP\n  selector:\n    app: backend\n  ports:\n  - protocol: TCP\n    port: 8080        # Service \ud3ec\ud2b8\n    targetPort: 8080  # Pod \ud3ec\ud2b8\n</code></pre> <p>\ub3d9\uc791 \ubc29\uc2dd:</p> <pre><code>Client Pod \u2192 kube-proxy (iptables/ipvs) \u2192 ClusterIP \u2192 Backend Pods\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#nodeport","title":"NodePort","text":"<p>\uac01 Node\uc758 \ud2b9\uc815 \ud3ec\ud2b8\ub97c \ud1b5\ud574 \uc678\ubd80\uc5d0\uc11c \uc811\uadfc \uac00\ub2a5\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: web-service\nspec:\n  type: NodePort\n  selector:\n    app: web\n  ports:\n  - protocol: TCP\n    port: 80\n    targetPort: 8080\n    nodePort: 30080  # 30000-32767 \ubc94\uc704\n</code></pre> <p>\uc811\uadfc \ubc29\ubc95:</p> <pre><code>curl http://&lt;node-ip&gt;:30080\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#loadbalancer","title":"LoadBalancer","text":"<p>\ud074\ub77c\uc6b0\ub4dc \uc81c\uacf5\uc790\uc758 \uc678\ubd80 \ub85c\ub4dc\ubc38\ub7f0\uc11c\ub97c \ud504\ub85c\ube44\uc800\ub2dd\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: frontend-service\n  annotations:\n    service.beta.kubernetes.io/aws-load-balancer-type: \"nlb\"  # AWS NLB\nspec:\n  type: LoadBalancer\n  selector:\n    app: frontend\n  ports:\n  - protocol: TCP\n    port: 443\n    targetPort: 8443\n</code></pre> <p>\ud074\ub77c\uc6b0\ub4dc\ubcc4 \uad6c\ud604 (2025)</p> <ul> <li>AWS: Network Load Balancer (NLB) - 100\ub9cc+ \ub3d9\uc2dc\uc5f0\uacb0</li> <li>GCP: Global Load Balancer - 1\ucd08 \uc774\ub0b4 \uae00\ub85c\ubc8c \ud398\uc77c\uc624\ubc84</li> <li>Azure: Standard Load Balancer - \ucd08\ub2f9 25\ub9cc \uc5f0\uacb0</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#externalname","title":"ExternalName","text":"<p>\uc678\ubd80 DNS \uc774\ub984\uc73c\ub85c \ub9ac\ub514\ub809\uc158\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: v1\nkind: Service\nmetadata:\n  name: external-db\nspec:\n  type: ExternalName\n  externalName: db.example.com\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#ingress-controllers","title":"Ingress Controllers","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2025","title":"\u26a0\ufe0f 2025 \uc911\uc694 \uacf5\uc9c0","text":"<p>Ingress NGINX \ud504\ub85c\uc81d\ud2b8 \uc885\ub8cc \uc608\uc815</p> <ul> <li>\uc885\ub8cc \ub0a0\uc9dc: 2026\ub144 3\uc6d4</li> <li>\uc601\ud5a5: \ub9b4\ub9ac\uc2a4 \uc911\ub2e8, \ubcf4\uc548 \uc5c5\ub370\uc774\ud2b8 \uc5c6\uc74c</li> <li>\ub300\uc548: Traefik, F5 NGINX Ingress Controller, HAProxy</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#traefik","title":"Traefik (\uad8c\uc7a5)","text":"<p>\uc790\ub3d9 \uc11c\ube44\uc2a4 \ub514\uc2a4\ucee4\ubc84\ub9ac\uc640 Let's Encrypt \ud1b5\ud569\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <p>\uc124\uce58:</p> <pre><code># Helm\uc73c\ub85c \uc124\uce58\nhelm repo add traefik https://traefik.github.io/charts\nhelm install traefik traefik/traefik \\\n  --namespace traefik \\\n  --create-namespace \\\n  --set ports.web.redirectTo.port=websecure \\\n  --set certResolver.letsencrypt.email=admin@example.com\n</code></pre> <p>Ingress \ub9ac\uc18c\uc2a4:</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: web-ingress\n  annotations:\n    traefik.ingress.kubernetes.io/router.entrypoints: websecure\n    traefik.ingress.kubernetes.io/router.tls: \"true\"\n    cert-manager.io/cluster-issuer: letsencrypt-prod\nspec:\n  ingressClassName: traefik\n  tls:\n  - hosts:\n    - app.example.com\n    secretName: app-tls\n  rules:\n  - host: app.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: web-service\n            port:\n              number: 80\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#f5-nginx-ingress-controller","title":"F5 NGINX Ingress Controller","text":"<p>\uc5d4\ud130\ud504\ub77c\uc774\uc988\uae09 \uc131\ub2a5\uacfc \uc548\uc815\uc131\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: nginx-ingress\n  annotations:\n    nginx.org/rewrites: \"serviceName=web rewrite=/\"\n    nginx.org/rate-limit: \"10r/s\"\nspec:\n  ingressClassName: nginx\n  rules:\n  - host: api.example.com\n    http:\n      paths:\n      - path: /v1\n        pathType: Prefix\n        backend:\n          service:\n            name: api-v1\n            port:\n              number: 8080\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2025_1","title":"\uc131\ub2a5 \ube44\uad50 (2025)","text":"Controller \ucc98\ub9ac\ub7c9 \uc9c0\uc5f0\uc2dc\uac04 (p99) \uba54\ubaa8\ub9ac \ud2b9\uc9d5 Traefik 45k req/s 15ms 256MB \uc790\ub3d9\ud654, Let's Encrypt F5 NGINX 50k req/s 12ms 512MB \uc5d4\ud130\ud504\ub77c\uc774\uc988, \uc548\uc815\uc131 HAProxy 52k req/s 10ms 384MB \uace0\uc131\ub2a5, TCP/UDP Kong 40k req/s 18ms 768MB API \uac8c\uc774\ud2b8\uc6e8\uc774"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#network-policies","title":"Network Policies","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_3","title":"\uae30\ubcf8 \uac70\ubd80 \uc815\ucc45","text":"<p>\ubaa8\ub4e0 \ud2b8\ub798\ud53d\uc744 \ucc28\ub2e8\ud558\uace0 \uba85\uc2dc\uc801\uc73c\ub85c \ud5c8\uc6a9\ud569\ub2c8\ub2e4.</p> <pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny-all\n  namespace: production\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_4","title":"\ud2b9\uc815 \ud2b8\ub798\ud53d \ud5c8\uc6a9","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-frontend-to-backend\n  namespace: production\nspec:\n  podSelector:\n    matchLabels:\n      app: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          app: frontend\n    ports:\n    - protocol: TCP\n      port: 8080\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#egress","title":"Egress \uc81c\uc5b4","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-dns-and-api\nspec:\n  podSelector:\n    matchLabels:\n      app: web\n  policyTypes:\n  - Egress\n  egress:\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          name: kube-system\n    ports:\n    - protocol: UDP\n      port: 53  # DNS\n  - to:\n    - podSelector:\n        matchLabels:\n          app: api\n    ports:\n    - protocol: TCP\n      port: 443\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_5","title":"\ub124\uc784\uc2a4\ud398\uc774\uc2a4 \uaca9\ub9ac","text":"<pre><code>apiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: namespace-isolation\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector: {}  # \uac19\uc740 \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub9cc \ud5c8\uc6a9\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#service-mesh","title":"Service Mesh","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#linkerd-2025","title":"Linkerd (\uad8c\uc7a5 - 2025)","text":"<p>\ucd5c\uace0 \uc131\ub2a5: 17ms \uc911\uc559\uac12 \uc9c0\uc5f0\uc2dc\uac04, 200-300MB \uba54\ubaa8\ub9ac \uc0ac\uc6a9</p> <p>\uc124\uce58:</p> <pre><code># Linkerd CLI \uc124\uce58\ncurl -sL https://run.linkerd.io/install | sh\nexport PATH=$PATH:$HOME/.linkerd2/bin\n\n# \ud074\ub7ec\uc2a4\ud130 \uccb4\ud06c\nlinkerd check --pre\n\n# \uc124\uce58\nlinkerd install --crds | kubectl apply -f -\nlinkerd install | kubectl apply -f -\n\n# \uac80\uc99d\nlinkerd check\n</code></pre> <p>\uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uba54\uc2dc \ucd94\uac00:</p> <pre><code># \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \uc8fc\uc785 \ud65c\uc131\ud654\nkubectl annotate namespace production linkerd.io/inject=enabled\n\n# \uae30\uc874 Deployment \uc7ac\uc2dc\uc791\nkubectl rollout restart deployment -n production\n\n# mTLS \ud655\uc778\nlinkerd viz -n production tap deploy/web\n</code></pre> <p>\uc11c\ube44\uc2a4 \ud504\ub85c\ud30c\uc77c (\ud2b8\ub798\ud53d \ubd84\ud560):</p> <pre><code>apiVersion: split.smi-spec.io/v1alpha1\nkind: TrafficSplit\nmetadata:\n  name: api-rollout\n  namespace: production\nspec:\n  service: api-service\n  backends:\n  - service: api-v1\n    weight: 90\n  - service: api-v2\n    weight: 10  # Canary \ubc30\ud3ec\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#istio","title":"Istio","text":"<p>\ud48d\ubd80\ud55c \uae30\ub2a5: \uace0\uae09 \ud2b8\ub798\ud53d \uad00\ub9ac, \ub2e4\uc591\ud55c \uad00\ucc30\uc131 \ub3c4\uad6c</p> <p>\uc124\uce58:</p> <pre><code># istioctl \ub2e4\uc6b4\ub85c\ub4dc\ncurl -L https://istio.io/downloadIstio | sh -\ncd istio-*\nexport PATH=$PWD/bin:$PATH\n\n# \uc124\uce58 (Ambient \ubaa8\ub4dc - 2025 \uc2e0\uae30\ub2a5)\nistioctl install --set profile=ambient -y\n\n# \ub124\uc784\uc2a4\ud398\uc774\uc2a4 \ub808\uc774\ube14\nkubectl label namespace production istio.io/dataplane-mode=ambient\n</code></pre> <p>Gateway \uc124\uc815:</p> <pre><code>apiVersion: gateway.networking.k8s.io/v1beta1\nkind: Gateway\nmetadata:\n  name: istio-gateway\nspec:\n  gatewayClassName: istio\n  listeners:\n  - name: http\n    port: 80\n    protocol: HTTP\n    hostname: \"*.example.com\"\n---\napiVersion: gateway.networking.k8s.io/v1beta1\nkind: HTTPRoute\nmetadata:\n  name: web-route\nspec:\n  parentRefs:\n  - name: istio-gateway\n  hostnames:\n  - \"app.example.com\"\n  rules:\n  - backendRefs:\n    - name: web-service\n      port: 80\n</code></pre> <p>Virtual Service (\ud2b8\ub798\ud53d \ub77c\uc6b0\ud305):</p> <pre><code>apiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: api-vs\nspec:\n  hosts:\n  - api-service\n  http:\n  - match:\n    - headers:\n        user-type:\n          exact: premium\n    route:\n    - destination:\n        host: api-service\n        subset: v2\n  - route:\n    - destination:\n        host: api-service\n        subset: v1\n---\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: api-dr\nspec:\n  host: api-service\n  subsets:\n  - name: v1\n    labels:\n      version: v1\n  - name: v2\n    labels:\n      version: v2\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2025_2","title":"\uc131\ub2a5 \ube44\uad50 (2025 \ubca4\uce58\ub9c8\ud06c)","text":"<p>\uc9c0\uc5f0\uc2dc\uac04 (2000 RPS \uae30\uc900)</p> Service Mesh \uc911\uc559\uac12 (p50) p99 \ucd5c\ub300 \uba54\ubaa8\ub9ac Baseline 6ms 28ms 22ms - Linkerd 17ms (+11ms) 92ms 92ms 200-300MB Istio (Sidecar) 25ms (+19ms) 255ms 221ms 1-2GB Istio (Ambient) 28ms (+22ms) 103ms 150ms 800MB-1.2GB <p>\ucc98\ub9ac \uc131\ub2a5:</p> <ul> <li>Linkerd: 163ms \ub354 \ube60\ub984 (vs Istio Sidecar at p99)</li> <li>Linkerd: 11.2ms \ub354 \ube60\ub984 (vs Istio Ambient)</li> </ul> <p>\uc120\ud0dd \uae30\uc900 (2025)</p> <ul> <li>\uace0\uc131\ub2a5 \ud544\uc694: Linkerd (\uac00\uc7a5 \ub0ae\uc740 \uc9c0\uc5f0\uc2dc\uac04, \ucd5c\uc18c \ub9ac\uc18c\uc2a4)</li> <li>\ud48d\ubd80\ud55c \uae30\ub2a5: Istio (\uace0\uae09 \ud2b8\ub798\ud53d \uad00\ub9ac, \ub2e4\uc591\ud55c \ud504\ub85c\ud1a0\ucf5c)</li> <li>\ub9c8\uc774\uadf8\ub808\uc774\uc158: Istio Ambient (\uae30\uc874 Pod \uc218\uc815 \uc5c6\uc774 \uba54\uc2dc \ucd94\uac00)</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#cni","title":"CNI \ud50c\ub7ec\uadf8\uc778","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#cilium-ebpf-","title":"Cilium (eBPF \uae30\ubc18 - \uad8c\uc7a5)","text":"<p>\ucd5c\uace0 \uc131\ub2a5: 9.2 Gbps \ucc98\ub9ac\ub7c9, 0.20ms \uc9c0\uc5f0\uc2dc\uac04</p> <p>\ud2b9\uc9d5:</p> <ul> <li>eBPF\ub97c \ud1b5\ud55c \ucee4\ub110 \ub808\ubca8 \ud328\ud0b7 \ucc98\ub9ac (iptables \uc6b0\ud68c)</li> <li>L3-L7 \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45</li> <li>Hubble\uc744 \ud1b5\ud55c \uc2ec\uce35 \uad00\ucc30\uc131</li> <li>\ud22c\uba85\ud55c \uc554\ud638\ud654 (WireGuard/IPsec)</li> </ul> <p>\uc124\uce58:</p> <pre><code># Helm\uc73c\ub85c \uc124\uce58\nhelm repo add cilium https://helm.cilium.io/\nhelm install cilium cilium/cilium \\\n  --namespace kube-system \\\n  --set kubeProxyReplacement=strict \\\n  --set hubble.relay.enabled=true \\\n  --set hubble.ui.enabled=true\n</code></pre> <p>L7 Network Policy:</p> <pre><code>apiVersion: \"cilium.io/v2\"\nkind: CiliumNetworkPolicy\nmetadata:\n  name: api-l7-policy\nspec:\n  endpointSelector:\n    matchLabels:\n      app: api\n  ingress:\n  - fromEndpoints:\n    - matchLabels:\n        app: frontend\n    toPorts:\n    - ports:\n      - port: \"8080\"\n        protocol: TCP\n      rules:\n        http:\n        - method: \"GET\"\n          path: \"/api/v1/.*\"\n        - method: \"POST\"\n          path: \"/api/v1/orders\"\n</code></pre> <p>Hubble \uad00\ucc30\uc131:</p> <pre><code># Hubble CLI \uc124\uce58\nexport HUBBLE_VERSION=$(curl -s https://raw.githubusercontent.com/cilium/hubble/master/stable.txt)\ncurl -L --remote-name-all https://github.com/cilium/hubble/releases/download/$HUBBLE_VERSION/hubble-linux-amd64.tar.gz\ntar xzvf hubble-linux-amd64.tar.gz\nsudo mv hubble /usr/local/bin\n\n# \ud2b8\ub798\ud53d \uad00\ucc30\nhubble observe --namespace production\n\n# L7 \ud2b8\ub798\ud53d \ud655\uc778\nhubble observe --protocol http --verdict DROPPED\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#calico","title":"Calico (\uc5d4\ud130\ud504\ub77c\uc774\uc988)","text":"<p>\uc548\uc815\uc131\uacfc \uaddc\uc815\uc900\uc218: 8.5 Gbps \ucc98\ub9ac\ub7c9, 0.25ms \uc9c0\uc5f0\uc2dc\uac04</p> <p>\ud2b9\uc9d5:</p> <ul> <li>BGP \ub77c\uc6b0\ud305 \uc9c0\uc6d0</li> <li>\uc138\ubc00\ud55c NetworkPolicy</li> <li>Windows \ub178\ub4dc \uc9c0\uc6d0</li> <li>FIPS 140-2 \uaddc\uc815\uc900\uc218</li> </ul> <p>\uc124\uce58:</p> <pre><code># Operator \uc124\uce58\nkubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.28.0/manifests/tigera-operator.yaml\n\n# Calico \uc124\uce58\nkubectl create -f https://raw.githubusercontent.com/projectcalico/calico/v3.28.0/manifests/custom-resources.yaml\n</code></pre> <p>\uace0\uae09 Network Policy:</p> <pre><code>apiVersion: projectcalico.org/v3\nkind: GlobalNetworkPolicy\nmetadata:\n  name: deny-egress-to-external\nspec:\n  order: 100\n  selector: tier == \"production\"\n  types:\n  - Egress\n  egress:\n  # \ub0b4\ubd80 \ub124\ud2b8\uc6cc\ud06c \ud5c8\uc6a9\n  - action: Allow\n    destination:\n      nets:\n      - 10.0.0.0/8\n      - 172.16.0.0/12\n      - 192.168.0.0/16\n  # \uc678\ubd80 \ucc28\ub2e8\n  - action: Deny\n</code></pre> <p>BGP \uc124\uc815:</p> <pre><code>apiVersion: projectcalico.org/v3\nkind: BGPConfiguration\nmetadata:\n  name: default\nspec:\n  logSeverityScreen: Info\n  nodeToNodeMeshEnabled: true\n  asNumber: 65000\n  serviceClusterIPs:\n  - cidr: 10.96.0.0/12\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_6","title":"\uc120\ud0dd \uac00\uc774\ub4dc","text":"\uc2dc\ub098\ub9ac\uc624 \ucd94\ucc9c CNI \uc774\uc720 \uace0\uc131\ub2a5 \uc694\uad6c Cilium eBPF\ub85c \ucd5c\uc800 \uc9c0\uc5f0\uc2dc\uac04 \uc5d4\ud130\ud504\ub77c\uc774\uc988 Calico \uaddc\uc815\uc900\uc218, \uc548\uc815\uc131 \uba40\ud2f0\ud074\ub77c\uc6b0\ub4dc Calico BGP \ub77c\uc6b0\ud305 \uad00\ucc30\uc131 \uc911\uc694 Cilium Hubble \ud1b5\ud569 \uac04\ub2e8\ud55c \uc124\uc815 Flannel \ucd5c\uc18c \uad6c\uc131 Windows \ub178\ub4dc Calico Windows \uc9c0\uc6d0"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_7","title":"\uc2e4\uc2b5 \uac00\uc774\ub4dc","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#1-cilium-hubble","title":"\uc2e4\uc2b5 1: Cilium + Hubble\ub85c \ub124\ud2b8\uc6cc\ud06c \uad00\ucc30","text":"<pre><code># 1. Cilium \uc124\uce58 (kind \ud074\ub7ec\uc2a4\ud130)\nkind create cluster --config - &lt;&lt;EOF\nkind: Cluster\napiVersion: kind.x-k8s.io/v1alpha4\nnodes:\n- role: control-plane\n- role: worker\n- role: worker\nnetworking:\n  disableDefaultCNI: true\nEOF\n\n# 2. Cilium \uc124\uce58\ncilium install\n\n# 3. Hubble \ud65c\uc131\ud654\ncilium hubble enable --ui\n\n# 4. \ud3ec\ud2b8\ud3ec\uc6cc\ub529\ncilium hubble ui\n\n# 5. \ud14c\uc2a4\ud2b8 \uc571 \ubc30\ud3ec\nkubectl create deployment web --image=nginx --replicas=3\nkubectl expose deployment web --port=80\n\n# 6. \ud2b8\ub798\ud53d \uc0dd\uc131\nkubectl run -it --rm debug --image=curlimages/curl -- sh\ncurl http://web\n\n# 7. Hubble\ub85c \uad00\ucc30\nhubble observe --namespace default --verdict FORWARDED\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#2-linkerd-canary","title":"\uc2e4\uc2b5 2: Linkerd\ub85c Canary \ubc30\ud3ec","text":"<pre><code># 1. Linkerd \uc124\uce58\nlinkerd install --crds | kubectl apply -f -\nlinkerd install | kubectl apply -f -\n\n# 2. \uc571 \ubc30\ud3ec (v1)\nkubectl create deployment api-v1 --image=hashicorp/http-echo --replicas=3\nkubectl set env deployment/api-v1 ECHO_TEXT=\"API v1\"\nkubectl expose deployment api-v1 --port=5678 --name=api-service\n\n# 3. Linkerd \uc8fc\uc785\nkubectl get deployment api-v1 -o yaml | linkerd inject - | kubectl apply -f -\n\n# 4. v2 \ubc30\ud3ec\nkubectl create deployment api-v2 --image=hashicorp/http-echo --replicas=1\nkubectl set env deployment/api-v2 ECHO_TEXT=\"API v2 - New Feature\"\nkubectl get deployment api-v2 -o yaml | linkerd inject - | kubectl apply -f -\n\n# 5. \ud2b8\ub798\ud53d \ubd84\ud560 (10% canary)\ncat &lt;&lt;EOF | kubectl apply -f -\napiVersion: split.smi-spec.io/v1alpha1\nkind: TrafficSplit\nmetadata:\n  name: api-rollout\nspec:\n  service: api-service\n  backends:\n  - service: api-v1\n    weight: 90\n  - service: api-v2\n    weight: 10\nEOF\n\n# 6. \ud14c\uc2a4\ud2b8\nfor i in {1..20}; do\n  kubectl run -it --rm curl-$i --image=curlimages/curl --restart=Never -- \\\n    curl -s http://api-service:5678\ndone\n\n# 7. \uba54\ud2b8\ub9ad \ud655\uc778\nlinkerd viz stat trafficsplit\nlinkerd viz tap deployment/api-v2\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#3-network-policy","title":"\uc2e4\uc2b5 3: Network Policy\ub85c \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ubcf4\uc548","text":"<pre><code># 1. 3-tier \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec\nkubectl create namespace secure-app\n\n# Frontend\nkubectl create deployment frontend --image=nginx -n secure-app\nkubectl label deployment frontend app=frontend tier=frontend -n secure-app\nkubectl expose deployment frontend --port=80 -n secure-app\n\n# Backend\nkubectl create deployment backend --image=nginx -n secure-app\nkubectl label deployment backend app=backend tier=backend -n secure-app\nkubectl expose deployment backend --port=80 -n secure-app\n\n# Database\nkubectl create deployment database --image=postgres -n secure-app\nkubectl label deployment database app=database tier=database -n secure-app\nkubectl expose deployment database --port=5432 -n secure-app\n\n# 2. \uae30\ubcf8 \uac70\ubd80 \uc815\ucc45\nkubectl apply -f - &lt;&lt;EOF\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: default-deny\n  namespace: secure-app\nspec:\n  podSelector: {}\n  policyTypes:\n  - Ingress\n  - Egress\nEOF\n\n# 3. Frontend \u2192 Backend \ud5c8\uc6a9\nkubectl apply -f - &lt;&lt;EOF\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-frontend-to-backend\n  namespace: secure-app\nspec:\n  podSelector:\n    matchLabels:\n      tier: backend\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          tier: frontend\n    ports:\n    - protocol: TCP\n      port: 80\nEOF\n\n# 4. Backend \u2192 Database \ud5c8\uc6a9\nkubectl apply -f - &lt;&lt;EOF\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-backend-to-db\n  namespace: secure-app\nspec:\n  podSelector:\n    matchLabels:\n      tier: database\n  policyTypes:\n  - Ingress\n  ingress:\n  - from:\n    - podSelector:\n        matchLabels:\n          tier: backend\n    ports:\n    - protocol: TCP\n      port: 5432\nEOF\n\n# 5. DNS \ud5c8\uc6a9 (\ubaa8\ub4e0 Pod)\nkubectl apply -f - &lt;&lt;EOF\napiVersion: networking.k8s.io/v1\nkind: NetworkPolicy\nmetadata:\n  name: allow-dns\n  namespace: secure-app\nspec:\n  podSelector: {}\n  policyTypes:\n  - Egress\n  egress:\n  - to:\n    - namespaceSelector:\n        matchLabels:\n          kubernetes.io/metadata.name: kube-system\n    ports:\n    - protocol: UDP\n      port: 53\nEOF\n\n# 6. \ud14c\uc2a4\ud2b8\n# Frontend \u2192 Backend (\uc131\uacf5)\nkubectl exec -it -n secure-app deployment/frontend -- curl http://backend\n\n# Frontend \u2192 Database (\uc2e4\ud328 - \ucc28\ub2e8\ub428)\nkubectl exec -it -n secure-app deployment/frontend -- curl http://database:5432\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#4-traefik-ingress-lets-encrypt","title":"\uc2e4\uc2b5 4: Traefik Ingress + Let's Encrypt","text":"<pre><code># 1. Traefik \uc124\uce58\nhelm repo add traefik https://traefik.github.io/charts\nhelm install traefik traefik/traefik \\\n  --namespace traefik --create-namespace \\\n  --set ports.web.redirectTo.port=websecure\n\n# 2. Cert-Manager \uc124\uce58\nkubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.15.0/cert-manager.yaml\n\n# 3. Let's Encrypt Issuer\nkubectl apply -f - &lt;&lt;EOF\napiVersion: cert-manager.io/v1\nkind: ClusterIssuer\nmetadata:\n  name: letsencrypt-prod\nspec:\n  acme:\n    server: https://acme-v02.api.letsencrypt.org/directory\n    email: admin@example.com\n    privateKeySecretRef:\n      name: letsencrypt-prod\n    solvers:\n    - http01:\n        ingress:\n          class: traefik\nEOF\n\n# 4. \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ubc30\ud3ec\nkubectl create deployment web --image=nginxdemos/hello\nkubectl expose deployment web --port=80\n\n# 5. Ingress \uc0dd\uc131\nkubectl apply -f - &lt;&lt;EOF\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: web-ingress\n  annotations:\n    cert-manager.io/cluster-issuer: letsencrypt-prod\n    traefik.ingress.kubernetes.io/router.entrypoints: websecure\nspec:\n  ingressClassName: traefik\n  tls:\n  - hosts:\n    - myapp.example.com\n    secretName: web-tls\n  rules:\n  - host: myapp.example.com\n    http:\n      paths:\n      - path: /\n        pathType: Prefix\n        backend:\n          service:\n            name: web\n            port:\n              number: 80\nEOF\n\n# 6. \uc778\uc99d\uc11c \uc0c1\ud0dc \ud655\uc778\nkubectl get certificate\nkubectl describe certificate web-tls\n</code></pre>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_8","title":"\ucc38\uace0 \uc790\ub8cc","text":""},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#cni_1","title":"CNI \ud50c\ub7ec\uadf8\uc778","text":"<ul> <li>Cilium vs Calico 2025 Performance</li> <li>Kubernetes CNI Comparison Part 2</li> <li>Stop Using the Wrong CNI in 2025</li> <li>Calico vs Cilium: 9 Key Differences</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#service-mesh_1","title":"Service Mesh","text":"<ul> <li>Linkerd vs Ambient Mesh 2025 Benchmarks</li> <li>Service Meshes Decoded: Istio vs Linkerd</li> <li>Linkerd vs Istio Comparison</li> <li>Service Mesh with Istio and Linkerd</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#ingress-controllers_1","title":"Ingress Controllers","text":"<ul> <li>Kubernetes Ingress Controllers 2025 Edition</li> <li>Why Traefik is the Best Ingress NGINX Replacement</li> <li>Best Ingress Controllers for Kubernetes 2025</li> <li>Nginx Ingress vs Traefik</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_9","title":"\uacf5\uc2dd \ubb38\uc11c","text":"<ul> <li>Kubernetes Networking</li> <li>Cilium Documentation</li> <li>Calico Documentation</li> <li>Linkerd Documentation</li> <li>Istio Documentation</li> <li>Traefik Documentation</li> </ul>"},{"location":"networking-service/Ch7.Cloud_Native_%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%82%B9/#_10","title":"\ud559\uc2b5 \uccb4\ud06c\ub9ac\uc2a4\ud2b8","text":"<ul> <li> Kubernetes \ub124\ud2b8\uc6cc\ud0b9 3\uc6d0\uce59 \uc774\ud574</li> <li> Service \ud0c0\uc785\ubcc4 \ucc28\uc774\uc810 \ud30c\uc545 (ClusterIP, NodePort, LoadBalancer)</li> <li> Ingress Controller \uc120\ud0dd \uae30\uc900 \uc219\uc9c0 (Traefik vs F5 NGINX)</li> <li> Network Policy\ub85c \ub9c8\uc774\ud06c\ub85c\uc11c\ube44\uc2a4 \ubcf4\uc548 \uad6c\ud604</li> <li> Service Mesh \uc131\ub2a5 \ube44\uad50 (Linkerd vs Istio)</li> <li> CNI \ud50c\ub7ec\uadf8\uc778 \ud2b9\uc131 \ube44\uad50 (Cilium vs Calico)</li> <li> eBPF \uae30\ubc18 \ub124\ud2b8\uc6cc\ud0b9 \uc774\ud574</li> <li> L7 \ub124\ud2b8\uc6cc\ud06c \uc815\ucc45 \uc801\uc6a9</li> <li> Hubble\ub85c \ub124\ud2b8\uc6cc\ud06c \ud2b8\ub798\ud53d \uad00\ucc30</li> <li> Canary \ubc30\ud3ec \uad6c\ud604 (TrafficSplit)</li> <li> Let's Encrypt \uc790\ub3d9 \uc778\uc99d\uc11c \uc124\uc815</li> <li> 3-tier \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ub124\ud2b8\uc6cc\ud06c \ubcf4\uc548 \uad6c\uc131</li> </ul> <p>\ub2e4\uc74c \ub2e8\uacc4: \uc774\uc81c Networking Service \uc139\uc158\uc758 \ubaa8\ub4e0 7\uac1c \ucc55\ud130\uac00 \uc644\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac01 \ucc55\ud130\ub294 2025\ub144 \ucd5c\uc2e0 \uae30\uc220\uacfc \uc2e4\uc804 \uc608\uc81c\ub97c \ud3ec\ud568\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.</p>"}]}